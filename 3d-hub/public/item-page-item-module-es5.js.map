{"version":3,"sources":["webpack:///src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/mesh-activate-inputs/mesh-activate-inputs.component.ts","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/mesh-activate-inputs/mesh-activate-inputs.component.html","webpack:///src/app/_3D/libs/item-editor.ts","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/material-activate-inputs/material-activate-inputs.component.ts","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/material-activate-inputs/material-activate-inputs.component.html","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-checkbox/activate-checkbox.component.ts","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-checkbox/activate-checkbox.component.html","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/tab-meshes.component.ts","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/tab-meshes.component.html","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-color/activate-color.component.ts","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-color/activate-color.component.html","webpack:///src/app/item-page/workspace/sidebar/sidebar.component.ts","webpack:///src/app/item-page/workspace/sidebar/sidebar.component.html","webpack:///src/app/item-page/workspace/sidebar/tab-info/tab-info.component.ts","webpack:///src/app/item-page/workspace/sidebar/tab-info/tab-info.component.html","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-number/activate-number.component.ts","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-number/activate-number.component.html","webpack:///src/app/item-page/item-routing.module.ts","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-text/activate-text.component.ts","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-text/activate-text.component.html","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-texture/activate-texture.component.ts","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-texture/activate-texture.component.html","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/active-switch/active-switch.component.ts","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/active-switch/active-switch.component.html","webpack:///src/app/item-page/workspace/sidebar/tab-properties/tab-properties.component.ts","webpack:///src/app/item-page/workspace/sidebar/tab-properties/tab-properties.component.html","webpack:///src/app/item-page/_store/services.ts","webpack:///src/app/_3D/data/options/item.ts","webpack:///src/app/_shared/components/form-group/object-prop/object-prop.component.ts","webpack:///src/app/_shared/components/form-group/object-prop/object-prop.component.html","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-select/activate-select.component.ts","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-select/activate-select.component.html","webpack:///src/app/item-page/_store/event.service.ts","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/base-group/base-group.component.ts","webpack:///src/app/item-page/workspace/workspace.component.ts","webpack:///src/app/item-page/workspace/workspace.component.html","webpack:///src/app/_3D/engines/item.engine.ts","webpack:///src/app/item-page/_store/index.ts","webpack:///src/app/item-page/workspace/header/header.component.ts","webpack:///src/app/item-page/workspace/header/header.component.html","webpack:///src/app/item-page/_store/effects.ts","webpack:///src/app/item-page/item.module.ts","webpack:///src/app/item-page/_store/reducers.ts","webpack:///src/app/_3D/services/item-editor.service.ts","webpack:///src/app/item-page/_store/storage.service.ts","webpack:///src/app/item-page/workspace/sidebar/panel-mesh-settings/panel-mesh-settings.component.ts","webpack:///src/app/item-page/workspace/sidebar/panel-mesh-settings/panel-mesh-settings.component.html","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-range/activate-range.component.ts","webpack:///src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-range/activate-range.component.html"],"names":["MeshActivateInputsComponent","events","cd","index","onUpdate","onUpdateTitle","onUpdateEditable","event","mesh","data","material","name","value","emit","title","status","updateMeshTitle","updateMaterial","updateEditable","Editor__","uses","transformMode","hasSelectedObject","allowCustom","constructor","app","engine","setup","startup","scope","on","onPointerDown","onPointerUp","onPointerMove","onDblClick","rect","wrapper","getBoundingClientRect","onDownPosition","x","clientX","left","y","clientY","top","pointer","width","height","detectObj","selectMeshByPointer","ms","getMeshData","type","poiterDowsStatus","selected","isLight","currentTargetControl","control","object","selectObjectByPointer","preventDefault","enabled","setObjectMovable","mode","removeObjectMovable","onUpPosition","distanceTo","setCurrentObjectByPointer","checkDObjectMovablePosition","ready","addObject","objects","push","settings","item","m","meshes","length","meshSettings","__ref__","ItemEditor","MaterialActivateInputsComponent","itemEditor","isArray","inputs","types","splice","config","options","Object","prototype","hasOwnProperty","call","label","getPropData","setType","editable","_type","replace","String","toLowerCase","getMaterialInputs","update","indexOf","activeEditavle","i","deactiveEditavle","input","changeType","ActivateCheckboxComponent","valChange","onEditable","TabMeshesComponent","storage","itemService","settingOriginData","formGroups","isShow","modelDataSubcribe","modelData","updateAppData","modelSettingSubcribe","asyncSettings","setDefaultSettingData","subEvents","registerEventService","e","reload","subcribe","unsubcribe","setTimeout","detectChanges","appDataObject","props","updateSettings","ref","updateData","updateMeshMaterial","ActivateColorComponent","oldAttachValue","attach","old","TabIndex","SidebarComponent","prevTab","Meshes","currentTab","console","log","onChangeTab","TabInfoComponent","categoryService","asyncForm","categoryOptions","privacyStatusOptions","map","stt","updateItemData","categories","updateCategories","onChange","isInited","a","cat","id","d","updateInfo","ActivateNumberComponent","ENTRIES_COMPONENTS","COMPONENTS","routes","path","children","component","ItemRoutingModule","forChild","ActivateTextComponent","ActivateTextureComponent","ActiveSwitchComponent","onChangeState","TabPropertiesComponent","castShadow","receiveShadow","rotation","z","scale","doAfterViewInit","refresh","services","ItemOptions","renderer","autoStart","params","antialias","shadowMap","outputEncoding","composer","effect1","blendFunction","luminanceThreshold","luminanceSmoothing","resolutionScale","intensity","shadow","pcss","scene","background","type1","format","file","env0","camera","fov","near","far","position","autofit","autoUpdateScene","maxPolarAngle0","Math","PI","maxDistance","enableDamping","dampingFactor","constraint","smoothZoom","zoomDampingFactor","smoothZoomSpeed","lights","color","mapSize","right","bottom","darkness","bias","radius","ObjectPropComponent","eventService","emitPropChange","changes","emitUpdate","ActivateSelectComponent","onSelect","ItemEventService","BaseGroupComponent","vt","valueType","Number","Boolean","parseValue","WorkspaceComponent","activatedRoute","viewportService","editorToolbar","vectorControls","secret_id","isLoading","subEventService","wsKey","subEditorToolbar","subViewport","sub","workspaceKey","assign","modelSettings","getAll","s","subscribe","setState","onClickSave","setOptions","init","updateCanvasSize","activeEventServiceRegistered","snapshot","paramMap","get","editorMode","setItemData","show","saveThumbnail","deactiveEventServiceRegistered","removeModelItem","hide","isFocus","editor","unselect","showLoading","capture","image","thumbnail","updateThumbnail","rs","hideLoading","addModelItem","obj","p","ItemEngine","Mesh","Geometry","Material","Light","Composer","Shadows","inited","Loader","renew","reset","data_","resetObjects","resetLights","updateSceneSettings","setBackground","floor","updateSceneFloorSetting","size","updateShadowSettings","updateControlSettings","updateMainCameraSettings","setData","initScene","setMainCamera","createRenderer","updateProjectionMatrix","setMainControl","shadows","self","autoRenderStatus","render","addLights","models","addModels","addMeshes","addObjects","grids","addGrids","cameras","addCameras","addFloor","controls","addControls","HeaderComponent","service","clickSave","isVisible","percent","renderLoading","downloadUrl","downloadAvailable","unsubscribe","logo","link","download_source_url","save","effects","ItemModule","forFeature","reducers","selectContainerState","ItemEditorService","engineClass","editorClass","start","_editor","dispatchEvent","eventData","setEngine","EC","addControlEvent","getObjectSize","appData","secret_key","model","object3DModel","vectors","vprops","k","v","addMeshSettings","setting","settingDefaultData","sid","slug","objMesh","j","onSuccess","onError","onProgress","addSettingModelItem","parseItemData","b","mm","defineProperty","configurable","enumerable","writable","updateItemSize","updateFloor","sceneData","getSceneSize","tan","ds","dz","lookAt","w","error","c","removeObject","updateList","meshIndex","updateObjectSettings","ItemStorageService","PanelMeshSettingsComponent","showmeshpanel","showPanel","hidemeshpanel","hidePanel","asyncMeshSetting","inpName","ActivateRangeComponent"],"mappings":"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","file":"item-page-item-module-es5.js","sourcesContent":["import { ChangeDetectorRef, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { ItemEventService } from '@app/item-page/_store/event.service';\nimport { assignValue, isObject } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\n\n\n\n@Component({\n    selector: 'mesh-activate-inputs',\n    templateUrl: './mesh-activate-inputs.component.html',\n    styleUrls: ['./mesh-activate-inputs.component.scss']\n})\nexport class MeshActivateInputsComponent extends BaseComponent implements OnInit {\n    @Input() mesh: any;\n    @Input() index: number = 0;\n    @Output() onUpdate = new EventEmitter<{\n        material: any,\n        index: number,\n        name: string,\n        value: any\n    }>();\n    @Output() onUpdateTitle = new EventEmitter<any>();\n    @Output() onUpdateEditable = new EventEmitter<{\n        index: number,\n        name: string,\n        status: any\n    }>();\n\n    constructor(private events: ItemEventService, private cd: ChangeDetectorRef) {\n        super()\n    }\n\n    onChangeSubEvents() {\n        // this.registerEventService(this.subEvents, {\n        //     \"panel.update:material\": e => {\n        //         if (e.name == this.mesh.name) {\n        //             assignValue(this.mesh.data.material, e.data);\n        //             setTimeout(() => {\n        //                 this.cd.checkNoChanges();\n\n        //             }, 10);\n        //         }\n        //     },\n        //     \"panel.update:title\": e => {\n        //         if (e.name == this.mesh.name) {\n        //             this.mesh.data.title = e.title;\n        //             setTimeout(() => {\n        //                 this.cd.checkNoChanges();\n        //             }, 10);\n        //         }\n        //     },\n        //     \"panel.update:editable\": e => {\n        //         if (e.name == this.mesh.name) {\n        //             var index = this.mesh.editable.indexOf(e.name);\n        //             if (e.status && index == -1) {\n        //                 this.mesh.editable.push(e.name);\n        //             }\n        //             else if (!e.status && index != -1) {\n        //                 this.mesh.editable.splice(index, 1);\n        //             }\n        //             setTimeout(() => {\n        //                 this.cd.checkNoChanges();\n        //             }, 10);\n        //         }\n        //     }\n        // })\n\n\n    }\n\n    onInit(): void {\n    }\n\n    updateMaterialOfArray(event) {\n        if (typeof event.index != \"undefined\" && typeof this.mesh.data.material[event.index] != \"undefined\") {\n            this.mesh.data.material[event.index][event.name] = event.value;\n        }\n    }\n\n    updateMaterial(event) {\n        if(!isObject(this.mesh.data.material)) this.mesh.data.material = {};\n        this.mesh.data.material[event.name] = event.value;\n        this.onUpdate.emit({\n            material: this.mesh.data.material,\n            index: this.index,\n            name: event.name,\n            value: event.value\n        })\n    }\n\n    updateMeshTitle(event) {\n        // console.log(this.data.title);\n        // return;\n        this.mesh.data.title = event.value;\n        this.onUpdateTitle.emit({\n            index: this.index,\n            title: this.mesh.data.title\n        })\n    }\n\n    updateEditable(event) {\n        this.onUpdateEditable.emit({\n            index: this.index,\n            name: event.name,\n            status: event.status\n        })\n    }\n\n}\n","<inp-text-group name=\"title\" [(value)]=\"mesh.title\" label=\"Mesh Title\" (subcribe)=\"updateMeshTitle($event)\"></inp-text-group>\n<material-activate-inputs \n        index=\"-1\" \n        [material]=\"mesh.__ref__.material\" \n        [settings]=\"mesh.data.material\" \n        [editable]=\"mesh.editable\" \n        (onUpdate)=\"updateMaterial($event)\"\n        (updateEditable)=\"updateEditable($event)\"\n\n        [isArray]=\"false\">\n    </material-activate-inputs>","import { getTimeStamp } from '@app/_core/helpers/utils';\r\nimport * as THREE from '../threejs/three.module.js';\r\nimport { _class } from '@app/_core/helpers/es5.class';\r\nimport { EventDispatcher } from './event-dispatcher';\r\nimport { EditorClass, iEditor } from '../store/docs';\r\nimport ClientEditor from './client-editor';\r\nimport { ItemEditorService } from '../services/item-editor.service.js';\r\nimport { EngineClass, EngineInstance } from '../engines/engine.doc.js';\r\n\r\nexport interface ItemEditorInstance extends iEditor{\r\n    app: ItemEditorService\r\n}\r\n\r\nexport interface ItemEditor extends EditorClass{\r\n    new(app: ItemEditorService, engine: EngineInstance): ItemEditorInstance\r\n}\r\n\r\nconst Editor__: any = _class(\"ItemEditor\").extends(ClientEditor).uses(EventDispatcher)({\r\n    transformMode: \"basic\",\r\n    hasSelectedObject: false,\r\n    allowCustom: false,\r\n        \r\n    constructor: function constructor(app, engine: any) {\r\n        this.setup(app, engine);\r\n    },\r\n\r\n    startup: function () {\r\n        var scope: ItemEditorInstance = this;\r\n\r\n        this.on('pointerdown', onPointerDown);\r\n        this.on('pointerup', onPointerUp);\r\n        this.on('pointermove', onPointerMove);\r\n        this.on('dbclick', onDblClick);\r\n\r\n        function onDblClick(event) {\r\n            var rect = scope.engine.wrapper.getBoundingClientRect();\r\n            scope.onDownPosition.x = event.clientX - rect.left;\r\n            scope.onDownPosition.y = event.clientY - rect.top;\r\n            const pointer = new THREE.Vector2();\r\n            pointer.x = (scope.onDownPosition.x / rect.width) * 2 - 1;\r\n            pointer.y = - (scope.onDownPosition.y / rect.height) * 2 + 1;\r\n            const detectObj = scope.selectMeshByPointer(pointer);\r\n            if(detectObj){\r\n                const ms = scope.getMeshData(detectObj);\r\n                if(ms){\r\n                    scope.emit({\r\n                        type: \"attach:mesh\",\r\n                        mesh: ms\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        function onPointerDown(event) {\r\n            scope.poiterDowsStatus = true;\r\n            var rect = scope.engine.wrapper.getBoundingClientRect();\r\n\r\n            scope.onDownPosition.x = event.clientX - rect.left;\r\n            scope.onDownPosition.y = event.clientY - rect.top;\r\n\r\n            //\r\n            if (!scope.allowCustom) return;\r\n            \r\n            if (!scope.selected || scope.transformMode != \"basic\" || scope.selected.isLight || (scope.currentTargetControl && scope.currentTargetControl == scope.control.object)) return;\r\n\r\n            const pointer = new THREE.Vector2();\r\n            pointer.x = (scope.onDownPosition.x / rect.width) * 2 - 1;\r\n            pointer.y = - (scope.onDownPosition.y / rect.height) * 2 + 1;\r\n            const detectObj = scope.selectObjectByPointer(pointer);\r\n            if (detectObj && detectObj == scope.selected && !detectObj.isLight) {\r\n                event.preventDefault();\r\n                scope.engine.control.enabled = false;\r\n                scope.control.enabled = false;\r\n                scope.hasSelectedObject = true;\r\n                scope.setObjectMovable(scope.selected);\r\n\r\n            } else {\r\n                scope.engine.control.enabled = true;\r\n                scope.control.enabled = true;\r\n                scope.hasSelectedObject = false;\r\n\r\n            }\r\n\r\n        }\r\n\r\n        function onPointerUp(event) {\r\n            if (!scope.allowCustom) return;\r\n            // scope.poiterDowsStatus = false;\r\n            if (scope.poiterDowsStatus) {\r\n                if (scope.hasSelectedObject) {\r\n                    this.emit({\r\n                        type: \"object.changed\",\r\n                        data: scope.selected,\r\n                        mode: \"translate\"\r\n                    })\r\n                    scope.engine.control.enabled = true;\r\n                    scope.control.enabled = true;\r\n                    scope.hasSelectedObject = false;\r\n                    // do somehing\r\n                    scope.removeObjectMovable();\r\n                    return;\r\n                }\r\n\r\n                var rect = scope.engine.wrapper.getBoundingClientRect();\r\n                scope.onUpPosition.x = event.clientX - rect.left;\r\n                scope.onUpPosition.y = event.clientY - rect.top;\r\n                if (scope.onUpPosition.x < 0 || scope.onUpPosition.y < 0) return;\r\n\r\n                if (scope.onDownPosition.distanceTo(scope.onUpPosition) === 0) {\r\n                    scope.pointer.x = (scope.onUpPosition.x / rect.width) * 2 - 1;\r\n                    scope.pointer.y = - (scope.onUpPosition.y / rect.height) * 2 + 1;\r\n                    scope.setCurrentObjectByPointer(scope.pointer);\r\n\r\n\r\n                }\r\n            }\r\n            scope.poiterDowsStatus = false;\r\n\r\n        }\r\n\r\n        function onPointerMove(event) {\r\n            if (!scope.allowCustom) return;\r\n            if (scope.poiterDowsStatus) {\r\n                // scope.turnOffShadow();\r\n\r\n            }\r\n            if (scope.hasSelectedObject) {\r\n                // var rect = scope.engine.wrapper.getBoundingClientRect();\r\n                const pointer = new THREE.Vector2();\r\n                pointer.x = event.clientX;\r\n                pointer.y = event.clientY;\r\n\r\n                scope.checkDObjectMovablePosition(pointer);\r\n                return;\r\n            }\r\n        }\r\n\r\n\r\n\r\n        // scope.app.on(\"model.added\", function (e) {\r\n        //     scope.asyncMeshes();\r\n        // })\r\n        this.ready();\r\n        // this.setEngineData();\r\n        this.emit({\r\n            type: \"startup\",\r\n            data: getTimeStamp()\r\n        });\r\n\r\n    },\r\n    addObject: function (object: any) {\r\n        this.objects.push(object);\r\n        // this.setCurrentObject(object);\r\n    },\r\n    // asyncMeshes: function asyncMeshes() {\r\n    //     var scope: ItemEditorInstance = this;\r\n    //     this.meshes = [];\r\n    //     var settings = scope.app.data.item.settings;\r\n    //     settings.meshes.map(function(mesh){\r\n    //         scope.meshes.push(mesh.__ref__);\r\n    //     })\r\n        \r\n\r\n    // },\r\n\r\n    getMeshData: function (mesh) {\r\n        var settings = this.app.data.item.settings;\r\n        var m = null;\r\n        for (let index = 0; index < settings.meshes.length; index++) {\r\n            const meshSettings = settings.meshes[index];\r\n            if(meshSettings.__ref__ == mesh){\r\n                return meshSettings;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    \r\n});\r\n\r\n\r\n\r\nexport const ItemEditor = Editor__ as ItemEditor;\r\n\r\nexport default ItemEditor;","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { Materials } from '@app/_3D/libs/three.libs';\nimport { ItemEditorService } from '@app/_3D/services/item-editor.service';\nimport { assignValue, isEmpty, Str } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\n\n@Component({\n    selector: 'material-activate-inputs',\n    templateUrl: './material-activate-inputs.component.html',\n    styleUrls: ['./material-activate-inputs.component.scss']\n})\nexport class MaterialActivateInputsComponent extends BaseComponent implements OnInit {\n    @Input() material: any;\n    @Input() settings: any;\n    @Input() editable: any[];\n    @Input() index: number;\n    @Input() isArray: boolean = false;\n    @Output() onUpdate = new EventEmitter<{name:string, value:any, editable?:boolean, index?:number, isArray?:boolean}>();\n    @Output() updateEditable = new EventEmitter<{name:string, status:boolean, index?:number, isArray?:boolean}>();\n\n    data: any = {};\n\n    inputs: any[] = [];\n    types: any[] = [];\n    type: string = 'basic';\n    constructor(private itemEditor: ItemEditorService) {\n        super()\n        this.types.splice(0);\n        for (const value in Materials.config.options) {\n            if (Object.prototype.hasOwnProperty.call(Materials.config.options, value)) {\n                const label = Materials.config.options[value];\n                this.types.push({value, label});\n            }\n        }\n    }\n\n    onInit(): void {\n\n        \n        this.data = Materials.getPropData(this.material);\n\n        assignValue(this.data, this.settings);\n        this.setType(this.data.type || this.settings.type || this.material.type);\n        if(!this.settings || isEmpty(this.settings)) this.settings = {};\n    }\n\n    update(name:string, value:any, editable?:boolean, index?:number){\n        this.onUpdate.emit({\n            name,\n            value,\n            editable,\n            index,\n            isArray: this.isArray\n        })\n    }\n\n    setType(type:string){\n        var _type = Str.replace(String(type).toLowerCase(), ['mesh', 'material'], '');\n        if(typeof Materials.config.options[_type] != \"undefined\"){\n            this.type = _type;\n            this.inputs = Materials.getMaterialInputs(_type, this.material, this.data, this.editable);\n        }\n    }\n    changeType(event){\n        this.setType(event.value);\n        this.update('type', event.value);\n\n    }\n\n    toggleEditable(event){\n        if(event.status){\n            if(this.editable.indexOf(event.name) === -1){\n                this.editable.push(event.name);\n                this.activeEditavle(event.name);\n            }\n        }else{\n            var i = this.editable.indexOf(event.name);\n            if(i !== -1){\n                this.editable.splice(i, 1);\n                this.deactiveEditavle(event.name);\n            }\n        }\n\n        this.updateEditable.emit({\n            name:event.name,\n            status: event.status,\n            index: this.index,\n            isArray: this.isArray\n        })\n\n    }\n\n    activeEditavle(name:string){\n        for (let index = 0; index < this.inputs.length; index++) {\n            const input = this.inputs[index];\n            if(input.name == name) input.editable = true;\n            \n        }\n    }\n    deactiveEditavle(name:string){\n        for (let index = 0; index < this.inputs.length; index++) {\n            const input = this.inputs[index];\n            if(input.name == name) input.editable = false;\n            \n        }\n    }\n\n    onChangeHandle(event){\n        this.data[event.name] = event.value;\n        this.settings[event.name] = event.value;\n        this.update(event.name, event.value, event.editable);\n    }\n}\n","<div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\" class=\"input-group type-group\">\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"12\">\n        <div class=\"inner-box\">{{'Material Type' | translate}}</div>\n    </div>\n    \n    <div nz-col class=\"gutter-row\" [nzSpan]=\"12\">\n        <div class=\"inner-box\">\n            <inp-select name=\"type\" label=\"Material Type\" [options]=\"types\" [(value)]=\"type\" (subcribe)=\"changeType($event)\"></inp-select>\n        </div>\n    </div>\n</div>\n\n\n<div class=\"material-inputs\">\n    <div class=\"ig\" *ngFor=\"let inp of inputs; let i=index\">\n        <div class=\"input-item\" [ngSwitch]=\"inp.type\">\n            <div *ngSwitchCase=\"'checkbox'\">\n                <activate-checkbox [config]=\"inp\" (subcribe)=\"onChangeHandle($event)\" (editable)=\"toggleEditable($event)\"></activate-checkbox>\n            </div>\n            \n            <div *ngSwitchCase=\"'texture'\">\n                <activate-texture [config]=\"inp\" (subcribe)=\"onChangeHandle($event)\" (editable)=\"toggleEditable($event)\"></activate-texture>\n            </div>\n            <div *ngSwitchCase=\"'color'\">\n                <activate-color [config]=\"inp\" (subcribe)=\"onChangeHandle($event)\" (editable)=\"toggleEditable($event)\"></activate-color>\n            </div>\n            <div *ngSwitchCase=\"'select'\">\n                <activate-select [config]=\"inp\" (subcribe)=\"onChangeHandle($event)\" (editable)=\"toggleEditable($event)\"></activate-select>\n            </div>\n            <div *ngSwitchCase=\"'range'\">\n                <activate-range [config]=\"inp\" (subcribe)=\"onChangeHandle($event)\" (editable)=\"toggleEditable($event)\"></activate-range>\n            </div>\n            <div *ngSwitchCase=\"'number'\">\n                <activate-number [config]=\"inp\" (subcribe)=\"onChangeHandle($event)\" (editable)=\"toggleEditable($event)\"></activate-number>\n            </div>\n            \n            <div *ngSwitchDefault>\n                <activate-text [config]=\"inp\" (subcribe)=\"onChangeHandle($event)\" (editable)=\"toggleEditable($event)\"></activate-text>\n            </div>\n        </div>\n    </div>\n</div>\n\n","import { Component, OnInit } from '@angular/core';\nimport { BaseGroupComponent } from '../base-group/base-group.component';\n\n@Component({\n  selector: 'activate-checkbox',\n  templateUrl: './activate-checkbox.component.html',\n  styleUrls: ['./activate-checkbox.component.scss']\n})\nexport class ActivateCheckboxComponent extends BaseGroupComponent implements OnInit {\n\n  constructor() {\n    super();\n   }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\" class=\"input-group\">\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"14\">\n        <div class=\"inner-box\">{{config.name | translate}}</div>\n    </div>\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n        <div class=\"inner-box text-right\">\n            <label nz-checkbox [(ngModel)]=\"config.value\" (ngModelChange)=\"valChange($event)\"></label>                \n        </div>\n    </div>\n\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n        <div class=\"inner-box\">\n            <active-switch [name]=\"config.name\" [(value)]=\"config.editable\" (subcribe)=\"onEditable($event)\" ></active-switch>\n        </div>\n    </div>\n</div>","import { ChangeDetectorRef, Component, OnDestroy, OnInit } from '@angular/core';\nimport { ItemEventService } from '@app/item-page/_store/event.service';\nimport { ItemStorageService } from '@app/item-page/_store/storage.service';\nimport { ItemEditorService } from '@app/_3D/services/item-editor.service';\nimport { assignValue, assignWithout, copyWithout, isArray, isObject, Str } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { ItemModel, ItemService } from '@app/_store/item';\n\n@Component({\n    selector: 'app-tab-meshes',\n    templateUrl: './tab-meshes.component.html',\n    styleUrls: ['./tab-meshes.component.scss']\n})\nexport class TabMeshesComponent extends BaseComponent implements OnInit, OnDestroy {\n    // item: ItemModel; // chứa item hiện tại\n    // setting quan trong\n    settings: any = {};\n    settingOriginData: any = {};\n    formGroups: any[] = [];\n\n\n    isShow: boolean = true;\n    app: ItemEditorService;\n\n    modelDataSubcribe : (modelData) => any = modelData => this.updateAppData(modelData);\n    modelSettingSubcribe: (settings) => any = settings => this.asyncSettings(settings);\n    constructor(\n        private storage: ItemStorageService,\n        private itemService: ItemService,\n        private events: ItemEventService,\n        private cd : ChangeDetectorRef\n    ) {\n        super();\n        this.setDefaultSettingData();\n        \n    }\n\n\n    onChangeSubEvents(){\n        this.app = this.subEvents.app as any;\n        this.registerEventService(this.subEvents, {\n            \"panel.update:material\": e => {\n                this.reload(this.app.data.item.settings);\n            },\n            \"panel.update:title\": e => {\n                this.reload(this.app.data.item.settings);\n            },\n            \"panel.update:editable\": e => {\n                this.reload(this.app.data.item.settings);\n            }\n        })\n\n    }\n\n    initOnce(){\n        \n    }\n\n    onInit(): void {\n        this.storage.subcribe('modelData', this.modelDataSubcribe, true);\n        this.storage.subcribe(\"modelSettings\", this.modelSettingSubcribe, true);\n        \n        // this.state.onChange(\"item\", data => this.updateItemData(data as ItemModel), true);\n        \n    }\n\n    onDestroy() {\n        this.storage.unsubcribe('modelData', this.modelDataSubcribe);\n        this.storage.unsubcribe(\"modelSettings\", this.modelSettingSubcribe);\n        \n    }\n\n    reload(data){\n        this.isShow = false;\n        this.asyncSettings(data);\n        setTimeout(() => {\n            this.isShow = true;\n            this.cd.detectChanges();\n        }, 10);\n    }\n\n    setDefaultSettingData() {\n        this.settings.options = {};\n        this.settings.meshes = [];\n    }\n\n\n\n    // dong bo setting cua item voi tab\n    asyncSettings(settings: any) {\n        this.settingOriginData = settings;\n        this.settings = settings;\n        this.cd.detectChanges();\n    }\n\n    updateItemData(item: ItemModel) {\n    }\n\n    updateAppData(appDataObject: any): void {\n        \n    }\n\n    updateProps(props) {\n        assignValue(this.settings.props, props);\n        this.app.updateSettings(this.settings, { props: true });\n    }\n\n    updateMesh(event) {\n        if (isObject(event) && Object.prototype.hasOwnProperty.call(event, 'index')) {\n            for (let i = 0; i < this.settings.meshes.length; i++) {\n                const mesh = this.settings.meshes[i];\n                let ref = mesh.__ref__;\n                if (mesh.index == event.index) {\n                    if (!isArray(ref.material)) {\n                        if(!isObject(mesh.data.material)) mesh.data.material = {};\n                        mesh.data.material[event.name] = event.value;\n                    } else {\n                        mesh.data.material = event.material;\n                    }\n\n                    const updateData: any = {};\n                    updateData[event.name] = event.value;\n                    this.app.updateMeshMaterial(mesh.name, updateData);\n                }\n            }\n        }\n    }\n\n    updateEditable(event) {\n        if (isObject(event) && Object.prototype.hasOwnProperty.call(event, 'index')) {\n            for (let i = 0; i < this.settings.meshes.length; i++) {\n                const mesh = this.settings.meshes[i];\n                if (mesh.index == event.index) {\n                    this.app.updateEditable(mesh.name, event.name, event.status);\n                }\n            }\n        }\n    }\n\n    onUpdateTitle(event) {\n        if (isObject(event) && Object.prototype.hasOwnProperty.call(event, 'index')) {\n            if (typeof this.settings.meshes[event.index] != \"undefined\") {\n                this.settings.meshes[event.index].title = event.title;\n\n            }\n            for (let i = 0; i < this.settings.meshes.length; i++) {\n                const mesh = this.settings.meshes[i];\n                if (mesh.index == event.index) {\n                    this.app.updateMeshTitle(mesh.name, event.title);\n                }\n            }\n        }\n    }\n}\n","<div class=\"tab-inner\">\n    <h2>{{ 'Meshes' | translate }}</h2>\n    <div class=\"setting-form store\" *ngIf=\"isShow\">\n        <div class=\"gridlayout\">\n            <nz-collapse>\n                <nz-collapse-panel *ngFor=\"let mesh of settings.meshes\" [nzHeader]=\"mesh.title?mesh.title:mesh.name\" [nzActive]=\"mesh.active\" [nzDisabled]=\"mesh.disabled\">\n                    <mesh-activate-inputs \n                        [mesh]=\"mesh\" \n                        [index]=\"mesh.index\"\n                        (onUpdate)=\"updateMesh($event)\" \n                        (onUpdateTitle)=\"onUpdateTitle($event)\" \n                        (onUpdateEditable)=\"updateEditable($event)\"\n                       \n                    ></mesh-activate-inputs>\n                </nz-collapse-panel>\n            </nz-collapse>\n\n        </div>\n\n    </div>\n\n</div>","import { Component, OnInit } from '@angular/core';\nimport { BaseGroupComponent } from '../base-group/base-group.component';\n\n@Component({\n  selector: 'activate-color',\n  templateUrl: './activate-color.component.html',\n  styleUrls: ['./activate-color.component.scss']\n})\nexport class ActivateColorComponent extends BaseGroupComponent implements OnInit {\n\n  oldAttachValue: any = null;\n\n  constructor() {\n    super();\n  }\n\n  ngOnInit(): void {\n    if(this.config.attach){\n      this.oldAttachValue = this.config.attach.value;\n    }\n  }\n  \n  onAttachChange(event){\n    if(this.oldAttachValue != event.value){\n      this.subcribe.emit({\n        name: this.config.attach.name,\n        value: event.value,\n        old: this.oldAttachValue\n      });\n      this.oldAttachValue = event.value\n    }\n    \n  }\n}\n","<div class=\"input-group\">\n    <div class=\"inner-box\">{{config.name | translate}}</div>\n    <div *ngIf=\"config.attach; then attachBlock else simpleBlock\"></div>\n    <ng-template #attachBlock>\n        <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\">\n            <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n                <div class=\"inner-box\"> \n                    <inp-color [name]=\"config.name\" [(value)]=\"config.value\" (subcribe)=\"onChange($event)\"></inp-color>\n                </div>\n            </div>\n            <div nz-col class=\"gutter-row\" [nzSpan]=\"14\">\n                <inp-range [name]=\"config.attach.name\" [min]=\"config.attach.min\" [max]=\"config.attach.max\" [step]=\"config.attach.step\" [(value)]=\"config.attach.value\" (subcribe)=\"onAttachChange($event)\"></inp-range>\n            </div>\n    \n            <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n                <div class=\"inner-box\">\n                    <active-switch [name]=\"config.name\" [(value)]=\"config.editable\" (subcribe)=\"onEditable($event)\"></active-switch>\n                </div>\n            </div>\n        </div>\n        \n    </ng-template>\n    <ng-template #simpleBlock>\n        <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\">\n            <div nz-col class=\"gutter-row\" [nzSpan]=\"19\">\n                <div class=\"inner-box\">\n                    <inp-color [name]=\"config.name\" [(value)]=\"config.value\" (subcribe)=\"onChange($event)\"></inp-color>\n                </div>\n            </div>\n            <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n                <div class=\"inner-box\">\n                    <active-switch [name]=\"config.name\" [(value)]=\"config.editable\" (subcribe)=\"onEditable($event)\"></active-switch>\n                </div>\n            </div>\n        </div>\n        \n    </ng-template>\n    \n</div>\n\n","import { Component, Output, EventEmitter, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\r\n// import { FontModel } from '@app/item-page/_store/font';\r\n// import { EventService } from '@app/item-page/_store/template';\r\n\r\nenum TabIndex {\r\n    Meshes = 0,\r\n    Props = 1,\r\n\r\n}\r\n\r\n@Component({\r\n    selector: 'app-sidebar',\r\n    templateUrl: './sidebar.component.html',\r\n    styleUrls: ['./sidebar.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class SidebarComponent extends BaseComponent implements OnInit {\r\n    \r\n    prevTab: number = TabIndex.Meshes;\r\n    currentTab: number = TabIndex.Meshes;\r\n\r\n\r\n    constructor(private cd: ChangeDetectorRef) {\r\n        super();\r\n    }\r\n\r\n    onInit() {\r\n\r\n\r\n    }\r\n\r\n    onChangeTab(e) {\r\n        this.currentTab = e.index;\r\n        this.cd.detectChanges();\r\n    }\r\n\r\n    onClickSearch(event) {\r\n        console.log(event);\r\n    }\r\n\r\n    \r\n}\r\n","<nz-tabset [nzSelectedIndex]=\"currentTab\" nzTabPosition=\"top\" nzType=\"line\" class=\"main-tab\" (nzSelectChange)=\"onChangeTab($event)\">\r\n  <!-- <nz-tab [nzTitle]=\"iconInfo\"> -->\r\n    <!-- <ng-template #iconInfo>\r\n      <img src=\"/assets/icons/new-design/tab-top/info.svg\" alt=\"info\" />\r\n    </ng-template>\r\n    <app-tab-info></app-tab-info>\r\n  </nz-tab> -->\r\n\r\n  <nz-tab [nzTitle]=\"iconMeshes\">\r\n    <ng-template #iconMeshes>\r\n      <img src=\"/assets/icons/new-design/tab-sub/model.svg\" alt=\"Meshes\" />\r\n    </ng-template>\r\n    <app-tab-meshes></app-tab-meshes>\r\n  </nz-tab>\r\n\r\n  <nz-tab [nzTitle]=\"iconProps\">\r\n    <ng-template #iconProps>\r\n      <img src=\"/assets/icons/new-design/tab-top/setting.svg\" alt=\"Props\" />\r\n    </ng-template>\r\n    <app-tab-properties></app-tab-properties>\r\n  </nz-tab>\r\n\r\n  \r\n\r\n</nz-tabset>\r\n","import { Component, Output, EventEmitter, OnDestroy, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { PriVacyStatusOptions } from '@app/_store/form';\r\n\r\n\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { ItemStorageService } from '@app/item-page/_store/storage.service';\r\nimport { ItemEditorService } from '@app/_3D/services/item-editor.service';\r\nimport { ItemModel, ItemService } from '@app/_store/item';\r\nimport { CategoryModel, CategoryService } from '@app/_store/category';\r\nimport { copyByList } from '@app/_core/helpers/utils';\r\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\r\n\r\n@Component({\r\n    selector: 'app-tab-info',\r\n    templateUrl: './tab-info.component.html',\r\n    styleUrls: ['./tab-info.component.scss'],\r\n})\r\nexport class TabInfoComponent extends BaseComponent implements OnInit, OnDestroy {\r\n    item: ItemModel; // chứa item hiện tại\r\n    categories: CategoryModel[];\r\n    asyncForm: boolean = true;\r\n    mode: string = 'create';\r\n    categoryOptions: Array<{label:string, value: any}> = [];\r\n\r\n    privacyStatusOptions: any = PriVacyStatusOptions.map(stt => ({label:stt.label, value:stt.value}))\r\n    constructor(\r\n        private storage: ItemStorageService,\r\n        private itemService: ItemService,\r\n        private categoryService: CategoryService,\r\n        private itemEditor: ItemEditorService,\r\n        private cd: ChangeDetectorRef\r\n    ) {\r\n        super();\r\n        \r\n    }\r\n\r\n    initFirst(){\r\n        this.storage.subcribe(\"item\", data => {\r\n            this.updateItemData(data as ItemModel);\r\n            this.cd.detectChanges();\r\n        }, true);\r\n\r\n        this.storage.subcribe('categories', categories => {\r\n            this.updateCategories(categories);\r\n            this.cd.detectChanges();\r\n        }, true);\r\n\r\n        this.storage.onChange('editorMode', mode => {\r\n            this.mode = mode;\r\n            this.cd.detectChanges();\r\n        }, true);\r\n        this.isInited = true;\r\n        return true;\r\n    }\r\n\r\n    onDestroy(){\r\n\r\n    }\r\n\r\n\r\n    \r\n    \r\n    \r\n    updateCategories(categories: CategoryModel[] = []) {\r\n        this.categories = categories;\r\n        let a : any[] = []\r\n        for (let index = 0; index < categories.length; index++) {\r\n            const cat = categories[index];\r\n            a.push({label: cat.name, value: cat.id})\r\n        }\r\n        this.categoryOptions = a;\r\n\r\n    }\r\n\r\n    updateItemData(item: ItemModel) {\r\n        this.item = item;\r\n        this.asyncForm = true;\r\n    }\r\n\r\n    onInpChange(event){\r\n        let update : any = {};\r\n        update[event.name] = event.value;\r\n        let d = copyByList(this.item, )\r\n        this.itemEditor.updateInfo(update);\r\n    }\r\n\r\n\r\n}\r\n","<div class=\"tab-inner\">\r\n    <h2>{{ 'Info' | translate }}</h2>\r\n    <div class=\"info-form store\">\r\n        <ng-container *ngIf=\"asyncForm; then formTemplate; else waitTemplate\"></ng-container>\r\n        <ng-template #formTemplate>\r\n            <div class=\"inputs\">\r\n                <inp-text-group name=\"name\" label=\"Item Name\" [(value)]=\"item.name\" placeholder=\"Enter Item Name\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item-first\"></inp-text-group>\r\n                <inp-select-group name=\"category_id\" [(value)]=\"item.category_id\" [options]=\"categoryOptions\" label=\"Category\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item\"></inp-select-group>\r\n                <inp-radio-group name=\"status\" [(value)]=\"item.status\" [options]=\"privacyStatusOptions\" label=\"Status\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item\"></inp-radio-group>\r\n                <inp-textarea-group name=\"description\" [(value)]=\"item.description\" label=\"Description\" placeholder=\"Enter Item Description\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item\"></inp-textarea-group>\r\n            </div>\r\n        </ng-template>\r\n        <ng-template #waitTemplate>\r\n            <div class=\"sys-alert\">\r\n                <h2>Vui lòng chờ...</h2>\r\n            </div>\r\n        </ng-template>\r\n        \r\n        \r\n\r\n    </div>\r\n\r\n</div>","import { Component, OnInit } from '@angular/core';\nimport { BaseGroupComponent } from '../base-group/base-group.component';\n\n@Component({\n  selector: 'activate-number',\n  templateUrl: './activate-number.component.html',\n  styleUrls: ['./activate-number.component.scss']\n})\nexport class ActivateNumberComponent extends BaseGroupComponent implements OnInit {\n\n  constructor() {\n    super()\n  }\n\n  ngOnInit(): void {\n  }\n\n\n}","<div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\" class=\"input-group\">\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"12\">\n        <div class=\"inner-box\">{{config.name | translate}}</div>\n    </div>\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"7\">\n        <div class=\"inner-box text-right\">\n            <nz-input-number [name]=\"config.name\" [nzMin]=\"config.min\" [nzMax]=\"config.max\" [nzStep]=\"config.step\" [(ngModel)]=\"config.value\" (ngModelChange)=\"valChange($event)\"></nz-input-number>\n        </div>\n    </div>\n\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n        <div class=\"inner-box\">\n            <active-switch [name]=\"config.name\" [(value)]=\"config.editable\" (subcribe)=\"onEditable($event)\" ></active-switch>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { NzCollapseModule } from 'ng-zorro-antd/collapse';\n\nimport { WorkspaceComponent } from './workspace/workspace.component';\n\nimport { HeaderComponent } from './workspace/header/header.component';\nimport { SidebarComponent } from './workspace/sidebar/sidebar.component';\n\nimport { TabInfoComponent } from './workspace/sidebar/tab-info/tab-info.component';\nimport { ObjectPropComponent } from '@app/_shared/components/form-group/object-prop/object-prop.component';\nimport { ActiveSwitchComponent } from './workspace/sidebar/tab-meshes/activate-inputs/active-switch/active-switch.component';\nimport { ActivateCheckboxComponent } from './workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-checkbox/activate-checkbox.component';\nimport { MeshActivateInputsComponent } from './workspace/sidebar/tab-meshes/activate-inputs/mesh-activate-inputs/mesh-activate-inputs.component';\nimport { MaterialActivateInputsComponent } from './workspace/sidebar/tab-meshes/activate-inputs/material-activate-inputs/material-activate-inputs.component';\nimport { ActivateTextComponent } from './workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-text/activate-text.component';\nimport { ActivateRangeComponent } from './workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-range/activate-range.component';\nimport { ActivateColorComponent } from './workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-color/activate-color.component';\nimport { ActivateSelectComponent } from './workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-select/activate-select.component';\nimport { ActivateNumberComponent } from './workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-number/activate-number.component';\nimport { ActivateTextureComponent } from './workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-texture/activate-texture.component';\nimport { TabMeshesComponent } from './workspace/sidebar/tab-meshes/tab-meshes.component';\nimport { TabPropertiesComponent } from './workspace/sidebar/tab-properties/tab-properties.component';\nimport { PanelMeshSettingsComponent } from './workspace/sidebar/panel-mesh-settings/panel-mesh-settings.component';\n// import { InpSwitchComponent } from '@app/_shared/components/inputs/inp-switch/inp-switch.component';\nexport const ENTRIES_COMPONENTS = [];\n\n\nexport const COMPONENTS = [\n  WorkspaceComponent,\n  HeaderComponent,\n  SidebarComponent,\n  TabInfoComponent,\n  ObjectPropComponent,\n  ActiveSwitchComponent,\n  ActivateCheckboxComponent,\n  MeshActivateInputsComponent,\n  MaterialActivateInputsComponent,\n  ActivateTextComponent,\n  ActivateRangeComponent,\n  ActivateColorComponent,\n  ActivateTextureComponent,\n  ActivateSelectComponent,\n  ActivateNumberComponent,\n  TabMeshesComponent,\n  TabPropertiesComponent,\n  PanelMeshSettingsComponent\n];\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      {\n        path: ':secret_id/edit',\n        component: WorkspaceComponent,\n      },\n      // {\n      //   path: ':id/use',\n      //   component: WorkspaceComponent,\n      // },\n      // {\n      //   path: 'create',\n      //   component: WorkspaceComponent,\n      // },\n      // {\n      //   path: '**',\n      //   redirectTo: 'create',\n      // },\n    ],\n  },\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [RouterModule],\n})\nexport class ItemRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { BaseGroupComponent } from '../base-group/base-group.component';\n\n@Component({\n  selector: 'activate-text',\n  templateUrl: './activate-text.component.html',\n  styleUrls: ['./activate-text.component.scss']\n})\nexport class ActivateTextComponent extends BaseGroupComponent implements OnInit {\n\n  constructor() {\n    super()\n  }\n\n  ngOnInit(): void {\n  }\n\n\n}\n","<div class=\"input-group text-group\">\n    <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\">\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"19\">\n            <div class=\"inner-box\">{{config.name | translate}}</div>\n        </div>\n\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n            <div class=\"inner-box\">\n                <active-switch [name]=\"config.name\" [(value)]=\"config.editable\" (subcribe)=\"onEditable($event)\"></active-switch>\n            </div>\n        </div>\n    </div>\n    <div class=\"input-wrapper\">\n        <input nz-input [name]=\"config.name\" placeholder=\"{{'Enter ' + config.name | translate}}\" [(ngModel)]=\"config.value\" (ngModelChange)=\"valChange($event)\" />\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { BaseGroupComponent } from '../base-group/base-group.component';\n\n@Component({\n  selector: 'activate-texture',\n  templateUrl: './activate-texture.component.html',\n  styleUrls: ['./activate-texture.component.scss']\n})\nexport class ActivateTextureComponent extends BaseGroupComponent implements OnInit {\n\n  oldAttachValue: any = null;\n\n  constructor() {\n    super();\n  }\n\n  ngOnInit(): void {\n    if(this.config.attach){\n      this.oldAttachValue = this.config.attach.value;\n    }\n  }\n  \n  onAttachChange(event){\n    if(this.oldAttachValue != event.value){\n      \n      this.config.attach.value = event.value;\n      this.subcribe.emit({\n        name: this.config.attach.name,\n        value: event.value,\n        old: this.oldAttachValue\n      });\n      this.oldAttachValue = event.value\n    }\n    \n  }\n}\n","<div class=\"input-group\">\n    <div class=\"inner-box\">{{config.name | translate}}</div>\n    <div *ngIf=\"config.attach; then attachBlock else simpleBlock\"></div>\n    <ng-template #attachBlock>\n        <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\">\n            <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n                <div class=\"inner-box\">\n                    <inp-texture [name]=\"config.name\" [(value)]=\"config.value\" (subcribe)=\"onChange($event)\"></inp-texture>\n                </div>\n            </div>\n            <div nz-col class=\"gutter-row\" [nzSpan]=\"14\">\n                <inp-range  [name]=\"config.attach.name\" [min]=\"config.attach.min\" [max]=\"config.attach.max\" [step]=\"config.attach.step\" [(value)]=\"config.attach.value\" (subcribe)=\"onAttachChange($event)\"></inp-range>\n            </div>\n    \n            <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n                <div class=\"inner-box\">\n                    <active-switch [name]=\"config.name\" [(value)]=\"config.editable\" (subcribe)=\"onEditable($event)\"></active-switch>\n                </div>\n            </div>\n        </div>\n        \n    </ng-template>\n    <ng-template #simpleBlock>\n        <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\">\n            <div nz-col class=\"gutter-row\" [nzSpan]=\"19\">\n                <div class=\"inner-box\">\n                    <inp-texture [name]=\"config.name\" [(value)]=\"config.value\" (subcribe)=\"onChange($event)\"></inp-texture>\n                </div>\n            </div>\n            <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n                <div class=\"inner-box\">\n                    <active-switch [name]=\"config.name\" [(value)]=\"config.editable\" (subcribe)=\"onEditable($event)\"></active-switch>\n                </div>\n            </div>\n        </div>\n        \n    </ng-template>\n    \n</div>\n\n","import { Component, OnInit } from '@angular/core';\nimport { BaseInputComponent } from '@app/_shared/components/inputs/base-input/base-input.component';\n\n@Component({\n  selector: 'active-switch',\n  templateUrl: './active-switch.component.html',\n  styleUrls: ['./active-switch.component.scss']\n})\nexport class ActiveSwitchComponent extends BaseInputComponent implements OnInit {\n\n  constructor() {\n    super();\n  }\n\n  ngOnInit(): void {\n  }\n\n  \n  onChangeState(event){\n    this.emit();\n  }\n\n}\n","<nz-switch [(ngModel)]=\"value\" [nzCheckedChildren]=\"checkedTemplate\" [nzUnCheckedChildren]=\"unCheckedTemplate\" (ngModelChange)=\"onChangeState($event)\"></nz-switch>\n<ng-template #checkedTemplate><i nz-icon nzType=\"check\"></i></ng-template>\n<ng-template #unCheckedTemplate><i nz-icon nzType=\"close\"></i></ng-template>\n","import { AfterViewInit, ChangeDetectorRef, Component, OnDestroy, OnInit } from '@angular/core';\nimport { ItemStorageService } from '@app/item-page/_store/storage.service';\nimport { ItemEditorService } from '@app/_3D/services/item-editor.service';\nimport { assignValue, assignWithout } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { ItemService } from '@app/_store/item';\nimport {EventManagerService} from '@app/_core/services/event-manager.service';\n@Component({\n    selector: 'app-tab-properties',\n    templateUrl: './tab-properties.component.html',\n    styleUrls: ['./tab-properties.component.scss']\n})\nexport class TabPropertiesComponent extends BaseComponent implements OnInit, OnDestroy {\n    // item: ItemModel; // chứa item hiện tại\n    // setting quan trong\n    settings: any = {};\n    settingOriginData: any = {};\n\n    index: number = 0;\n\n    constructor(\n        private storage: ItemStorageService,\n        private app: ItemEditorService,\n        private itemService: ItemService,\n        private cd: ChangeDetectorRef,\n        private events: EventManagerService\n    ) {\n        super();\n        this.setDefaultSettingData();\n        // this.state.onChange(\"item\", data => this.updateItemData(data as ItemModel), true);\n        this.storage.subcribe(\"modelSettings\", settings => this.asyncSettings(settings), true);\n        \n    }\n\n    onInit(): void {\n\n    }\n\n    onDestroy() {\n\n    }\n\n    // afterViewInit(){\n    //     this.viewInited = true;\n    // }\n\n    \n\n    setDefaultSettingData() {\n        this.settings.props = {\n            castShadow: false,\n            receiveShadow: false,\n            rotation: { x: 0, y: 0, z: 0 },\n            scale: { x: 1, y: 1, z: 1 },\n        };\n    }\n\n\n\n    // dong bo setting cua item voi tab\n    asyncSettings(settings: any) {\n        this.settingOriginData = settings;\n        assignWithout(this.settings, settings, ['meshes']);\n        this.doAfterViewInit(()=>{\n            this.events.emit({\n                type: \"object.props.change\",\n                props: this.settings.props\n            })\n            this.cd.detectChanges();\n            this.refresh(200);\n        }, 50);\n    }\n\n    updateProps(props) {\n        assignValue(this.settings.props, props);\n        this.app.updateSettings(this.settings, { props: true });\n\n    }\n\n}\n","<div class=\"tab-inner\">\n    <h2>{{ 'Properties' | translate }}</h2>\n    <div class=\"setting-form store\" *ngIf=\"__show__\">\n        <object-prop [props]=\"settings.props\" [index]=\"index\" (onUpdate)=\"updateProps($event)\">\n        </object-prop>\n\n    </div>\n\n</div>","\r\nimport { ItemEditorService } from '@app/_3D/services/item-editor.service';\r\nimport { CategoryService } from '@app/_store/category';\r\nimport { ItemService, ItemTableService } from '@app/_store/item';\r\nimport { ItemEventService } from './event.service';\r\nimport { ItemStorageService } from './storage.service';\r\n\r\nexport const services = [\r\n  ItemService,\r\n  CategoryService,\r\n  ItemEditorService,\r\n  ItemStorageService,\r\n  ItemTableService,\r\n  ItemEventService\r\n];\r\n","export const ItemOptions = {\r\n    renderer: {\r\n        autoStart: false,\r\n    \r\n        params: {\r\n            antialias: true\r\n        },\r\n        shadowMap: {\r\n            enabled: true\r\n        },\r\n        outputEncoding: \"{THREE.sRGBEncoding}\"\r\n    },\r\n    composer: {\r\n        effect1: \"bloom\",\r\n        params: {\r\n            options: {\r\n                blendFunction: 16,\r\n                luminanceThreshold: 0.9,\r\n                luminanceSmoothing: 0.025,\r\n                resolutionScale: 0.5,\r\n                intensity: 1\r\n            }\r\n        }\r\n    },\r\n    shadow: {\r\n        pcss: false\r\n    },\r\n    scene: {\r\n        background: {\r\n            type1: \"file\",\r\n            format: \"hdr\",\r\n            path: \"/textures/equirectangular/\",\r\n            file: \"royal_esplanade_1k.hdr\"\r\n\r\n        },\r\n        env0: {\r\n            type: \"room\"\r\n        }\r\n    },\r\n    camera: {\r\n        fov: 45,\r\n        near: 0.001,\r\n        far: 100000,\r\n        position: {\r\n            x: 0,\r\n            y: 0.3,\r\n            z: 1\r\n        },\r\n        \"@lookAt\": [\r\n            0,\r\n            3,\r\n            0\r\n        ],\r\n        autofit: true\r\n    },\r\n    control: {\r\n        type: \"orbit\",\r\n        autoUpdateScene: true,\r\n        maxPolarAngle0: Math.PI * 0.52,\r\n        maxDistance: 120000,\r\n        enableDamping: true,\r\n        dampingFactor: 0.08,\r\n        constraint: {\r\n            smoothZoom: true,\r\n            zoomDampingFactor: 0.2,\r\n            smoothZoomSpeed: 5.0\r\n        }\r\n    },\r\n    lights: [\r\n        {\r\n            type: \"ambient\",\r\n            params: [\r\n                \"#ffffff\",\r\n                0.5\r\n            ]\r\n        },\r\n        {\r\n            type: \"point\",\r\n            params: [\r\n                \"#4444cc\",\r\n                0.3\r\n            ],\r\n            props: {\r\n                position: {\r\n                    x: 0,\r\n                    y: -10\r\n                }\r\n            }\r\n        },\r\n        {\r\n            type: \"Directionallight\",\r\n            params: {\r\n                color: \"#FFE0B5\",\r\n                intensity: 0.4\r\n            },\r\n            props: {\r\n                position: {\r\n                    x: 40,\r\n                    y: 40,\r\n                    z: 30\r\n                },\r\n                castShadow: true,\r\n                shadow: {\r\n                    mapSize: {\r\n                        width: 4096,\r\n                        height: 4096\r\n                    },\r\n                    camera: {\r\n                        near: 0.1,\r\n                        far: 100,\r\n                        left: 10,\r\n                        right: -10,\r\n                        top: 10,\r\n                        bottom: -10\r\n                    },\r\n                    darkness: 0.1,\r\n                    bias: -0.0002,\r\n                    radius: 5\r\n                }\r\n            }\r\n        },\r\n        {\r\n            type: \"Directionallight\",\r\n            params: {\r\n                color: \"#FFE0B5\",\r\n                intensity: 0.4\r\n            },\r\n            props: {\r\n                position: {\r\n                    x: 60,\r\n                    y: 30,\r\n                    z: 30\r\n                }\r\n            }\r\n        }\r\n    ],\r\n    objects: [\r\n\r\n    ]\r\n}\r\n","import { Component, Input, OnInit, Output, EventEmitter, ChangeDetectorRef, OnChanges, SimpleChanges } from '@angular/core';\nimport { assignValue, isObject } from '@app/_core/helpers/utils';\nimport { EventManagerService } from '@app/_core/services/event-manager.service';\n\n@Component({\n    selector: 'object-prop',\n    templateUrl: './object-prop.component.html',\n    styleUrls: ['./object-prop.component.scss']\n})\nexport class ObjectPropComponent implements OnInit, OnChanges {\n    @Input() props: any = {};\n    @Input() index: number = 0;\n    @Output() onUpdate = new EventEmitter<any>();\n    events: EventManagerService = null;\n    constructor(private cd: ChangeDetectorRef, private eventService: EventManagerService) {\n        this.events = this.eventService;\n    }\n\n    emitPropChange(){\n        this.eventService.emit({\n            type: \"props.rotation.change\",\n            value: this.props.rotation\n        });\n        this.eventService.emit({\n            type: \"props.vector.change\",\n            value: this.props.scale\n        });\n        \n    }\n\n    ngOnInit(): void {\n\n        this.events.on(\"object.props.change\", e => {\n            assignValue(this.props, e.props);\n            this.emitPropChange();\n            this.cd.detectChanges();\n        })\n        \n        setTimeout(() => {\n            this.emitPropChange();\n            this.cd.detectChanges();\n        }, 10);\n        \n        this.cd.detectChanges();\n    }\n\n    \n    ngOnChanges(changes: SimpleChanges): void {\n        this.emitPropChange();\n        this.cd.detectChanges();\n\n    }\n\n\n    onInputChange(event){\n        if(event && isObject(event) && event.name) {\n            if(isObject(this.props[event.name]) && isObject(event.value)){\n                assignValue(this.props[event.name], event.value);\n            }\n            else{\n                this.props[event.name] = event.value;\n            }\n            this.emitUpdate();\n        }\n    }\n\n    emitUpdate(){\n        this.onUpdate.emit(this.props);\n    }\n}\n","<div *ngIf=\"props\">\n    \n    <inp-switch-group     name=\"castShadow\"           [(value)]=\"props.castShadow\"      label=\"Cast Shadow\"      (subcribe)=\"onInputChange($event)\"></inp-switch-group>\n\n    <inp-switch-group     name=\"receiveShadow\"        [(value)]=\"props.receiveShadow\"   label=\"Receive Shadow\"   (subcribe)=\"onInputChange($event)\"></inp-switch-group>\n\n    <inp-vector3-group    name=\"scale\"                [(value)]=\"props.scale\"           label=\"Scale\"            (subcribe)=\"onInputChange($event)\" [events]=\"events\"></inp-vector3-group>\n    \n    <inp-rotation-group   name=\"rotation\"             [(value)]=\"props.rotation\"        label=\"Rotation\"         (subcribe)=\"onInputChange($event)\" [events]=\"events\"></inp-rotation-group>\n    \n</div>","import { Component, OnInit } from '@angular/core';\nimport { BaseGroupComponent } from '../base-group/base-group.component';\n\n@Component({\n  selector: 'activate-select',\n  templateUrl: './activate-select.component.html',\n  styleUrls: ['./activate-select.component.scss']\n})\nexport class ActivateSelectComponent extends BaseGroupComponent implements OnInit {\n\n  constructor() {\n    super()\n  }\n\n  ngOnInit(): void {\n  }\n\n  onSelect(event){\n    this.config.value = event.value;\n    this.onChange(event);\n  }\n\n}","<div class=\"input-group text-group\">\n    <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\">\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"19\">\n            <div class=\"inner-box\">{{config.name | translate}}</div>\n        </div>\n\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n            <div class=\"inner-box\">\n                <active-switch [name]=\"config.name\" [(value)]=\"config.editable\" (subcribe)=\"onEditable($event)\"></active-switch>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"input-wrapper\">\n        <inp-select [name]=\"config.name\" [(value)]=\"config.value\" [options]=\"config.options\" (subcribe)=\"onSelect($event)\"></inp-select>\n    </div>\n</div>","/**\n * Stateservice sử dụng cho angular hoặc bất kỳ một core nào khác\n * @author DoanLN\n */\nimport { Injectable } from '@angular/core';\nimport { ItemEditorService } from '@app/_3D/services/item-editor.service';\nimport { EventManagerService } from '@app/_core/services/event-manager.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ItemEventService extends EventManagerService {\n    app: ItemEditorService = null;\n    constructor(){\n        super();\n    }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { isBoolean, isObject, objectHasKey } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\n\n@Component({\n    template: ''\n})\nexport abstract class BaseGroupComponent extends BaseComponent {\n\n    @Input() config: any = null;\n\n    @Output() subcribe = new EventEmitter<{ name?: string, value?: any, [x: string]: any }>();\n    @Output() editable = new EventEmitter<{ name: string, status: boolean }>();\n\n    parseValue(value) {\n        if (objectHasKey(this.config, \"valueType\")) {\n            var vt = this.config.valueType;\n            switch (vt) {\n                case \"number\":\n                    return Number(value);\n                    break;\n\n                case 'boolean':\n                    return isBoolean(value) ? value : Boolean(value);\n                    break;\n                default:\n                    break;\n            }\n        }\n\n        return value;\n    }\n\n    onChange(event) {\n        if (isObject(event) && Object.prototype.hasOwnProperty.call(event, 'value')) {\n            this.config.value = event.value;\n        }\n\n        this.subcribe.emit({\n            value: this.parseValue(this.config.value),\n            name: this.config.name,\n            editable: this.config.editable\n        });\n    }\n\n    onEditable(event) {\n        this.config.editable = !!event.value;\n        this.editable.emit({\n            name: this.config.name,\n            status: this.config.editable\n        })\n    }\n\n    valChange(value) {\n        this.onChange({ value });\n    }\n\n\n}\n","import { Component, NgZone, OnInit, ChangeDetectorRef, ViewEncapsulation, AfterViewInit, OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport createClass, { _class } from '@app/_core/helpers/es5.class';\r\n\r\nimport { ItemEditorService } from '@app/_3D/services/item-editor.service';\r\nimport { ItemOptions } from '@app/_3D/data/options/item';\r\nimport { ItemStorageService } from '../_store/storage.service';\r\nimport { ItemDefaultData, ItemModel, ItemService, ItemTableService } from '@app/_store/item';\r\nimport { CategoryService } from '@app/_store/category';\r\nimport { ViewportService } from '@app/_shared/components/viewport/viewport.service';\r\nimport { assignValue, assignWithout, isEmpty, isString, Str } from '@app/_core/helpers/utils';\r\nimport { EditorToolbarService } from '@app/_shared/components/viewport/editor-toolbar/editor-toolbar.service';\r\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\r\nimport { ItemEventService } from '../_store/event.service';\r\nimport { VectorControlsService } from '@app/_shared/components/viewport/vector-controls/vector-controls.service';\r\nimport { getConfig } from '@app/_core/config';\r\nimport { getTaskManager, runTask } from '@app/_core/tasks';\r\n// import { ItemStateService } from '../_store/state.service';\r\n\r\n@Component({\r\n    selector: 'app-workspace',\r\n    templateUrl: './workspace.component.html',\r\n    styleUrls: ['../../../styles/design/_index.scss', '../../../styles/item/_index.scss', './workspace.component.scss'],\r\n    encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class WorkspaceComponent extends BaseComponent implements OnInit, AfterViewInit, OnDestroy {\r\n    id: number = 0;\r\n    secret_id: string = \"\";\r\n    mode: string = 'create';\r\n    isLoading: boolean = true;\r\n\r\n    app: ItemEditorService = null;\r\n    subEventService: ItemEventService = null;\r\n    wsKey: string = \"itemWorkspace\";\r\n    subEditorToolbar: EditorToolbarService = null;\r\n    subViewport: ViewportService = null;\r\n    \r\n    constructor(\r\n        private activatedRoute: ActivatedRoute,\r\n        private itemService: ItemService,\r\n        // private table: ItemTableService,\r\n        private itemEditor: ItemEditorService,\r\n        private categoryService: CategoryService,\r\n        private storage: ItemStorageService,\r\n        private viewportService: ViewportService,\r\n        private editorToolbar: EditorToolbarService,\r\n        private events: ItemEventService,\r\n        private vectorControls: VectorControlsService\r\n    ) {\r\n        super();\r\n        this.subEventService = events.sub(this.wsKey);\r\n        // this.moduleKey = Str.rand();\r\n        this.subEditorToolbar = editorToolbar.sub(this.wsKey);\r\n        this.subViewport = viewportService.sub(this.wsKey);\r\n        \r\n        this.vectorControls = vectorControls.sub(this.workspaceKey);\r\n        this.app = itemEditor;\r\n        this.subEventService.app = itemEditor;\r\n        this.storage.assign({\r\n            item: {},\r\n            modelData: null,\r\n            modelSettings: {},\r\n\r\n        });\r\n        this.storage.assign('editorMode', this.mode, mode => this.mode = mode);\r\n\r\n        this.categoryService.getAll({ s: \"\" }).subscribe(data => {\r\n            this.storage.setState(\"categories\", data.data);\r\n        });\r\n\r\n        this.registerEventService(itemEditor, {\r\n            \"model.added\": () => {\r\n                this.storage.modelSettings = itemEditor.data.item.settings;\r\n            },\r\n            \"save.clicked\": e => this.onClickSave(e),\r\n            \"editor.attach:mesh\": e => this.subEventService.emit({type: \"showmeshpanel\", mesh: e.mesh})\r\n        });\r\n\r\n        \r\n        this.subViewport.emit({\r\n            type: 'app.set',\r\n            app: this.itemEditor\r\n        }, true);\r\n\r\n        \r\n        this.itemEditor.setOptions(ItemOptions);\r\n        this.itemEditor.init();\r\n\r\n\r\n\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        this.app.updateCanvasSize();\r\n    }\r\n\r\n    onInit() {\r\n        \r\n        this.activeEventServiceRegistered(this.itemEditor);\r\n        this.secret_id = this.activatedRoute.snapshot.paramMap.get(\"secret_id\");\r\n        if (this.secret_id) {\r\n            if (this.secret_id == getConfig('data.item.secret_id')) {\r\n                var data = getConfig('data.item');\r\n                this.storage.editorMode = 'update';\r\n                this.id = data.id;\r\n                this.storage.item = data;\r\n                this.isLoading = false;\r\n                this.setItemData(data);\r\n                this.vectorControls.emit({\r\n                    type: \"show\",\r\n                    value: true\r\n                }, null, true);\r\n            }else{\r\n                this.storage.editorMode = 'notfound';\r\n            }\r\n\r\n\r\n        } else {\r\n            this.storage.editorMode = 'notfound';\r\n            this.isLoading = false;\r\n        }\r\n\r\n\r\n        this.editorToolbar.show({\r\n            saveThumbnail: e => this.saveThumbnail()\r\n        });\r\n\r\n    }\r\n    onDestroy() {\r\n        this.deactiveEventServiceRegistered(this.itemEditor);\r\n        this.itemEditor.removeModelItem();\r\n        this.editorToolbar.hide();\r\n        this.vectorControls.emit({\r\n            type: \"show\",\r\n            value: false\r\n        }, null, true);\r\n\r\n\r\n    }\r\n\r\n\r\n    showLoading() {\r\n        if (!this.isFocus) return false;\r\n        this.viewportService.emit(\"show:loading\", null, true);\r\n        this.events.emit(\"show:sidebar-lock\");\r\n    }\r\n    hideLoading() {\r\n        if (!this.isFocus) return false;\r\n        this.viewportService.emit(\"hide:loading\", true, true);\r\n        this.events.emit(\"hide:sidebar-lock\");\r\n    }\r\n    onClickSave(event) {\r\n        if (!this.isFocus) return;\r\n        let data = this.itemEditor.data.item;\r\n        if (this.mode == \"update\") {\r\n            let id = data.id;\r\n            // var s = this.table.update(data, { id: id });\r\n            this.itemService.update(data).subscribe(d => console.log(d));\r\n        }\r\n    }\r\n    saveThumbnail() {\r\n        if (!this.isFocus) return false;\r\n        this.app.editor.unselect();\r\n        this.showLoading();\r\n        setTimeout(() => {\r\n            this.app.capture(image => {\r\n                this.app.data.item.thumbnail = image;\r\n                this.itemService.updateThumbnail(this.app.data.item).subscribe(rs => {\r\n                    // console.log(\"Update Thành công\")\r\n                });\r\n                this.hideLoading();\r\n            }, () => this.hideLoading());\r\n        }, 1000);\r\n    }\r\n    setItemData(data: ItemModel) {\r\n        if (!this.isFocus) return;\r\n        this.itemEditor.addModelItem(data, obj => {\r\n            this.storage.modelData = obj;\r\n            runTask(\"model-item.complete\", [obj]);\r\n        }, () => {\r\n            runTask(\"model-item.error\", []);\r\n        }, (p) => {\r\n            runTask(\"model-item.progress\", [p]);\r\n        });\r\n    }\r\n\r\n}\r\n","<nz-layout>\r\n    <nz-header>\r\n        <app-header></app-header>\r\n    </nz-header>\r\n    <nz-content>\r\n        <ng-container *ngIf=\"isLoading; then loadingTemplate; else editorTemplate\"></ng-container>\r\n        <ng-template #loadingTemplate>\r\n            <h3>Vui lòng chờ giây lát</h3>\r\n        </ng-template>\r\n        <ng-template #editorTemplate>\r\n            <ng-container *ngIf=\"mode=='notfound'; then notFoundTemplate; else editorTemplate\"></ng-container>\r\n            <ng-template #notFoundTemplate>\r\n                <div class=\"not-found\">\r\n                    Item Not Found\r\n                </div>\r\n            </ng-template>\r\n            <ng-template #editorTemplate>\r\n\r\n                <nz-layout class=\"inner-layout\">\r\n                    <nz-sider nzWidth=\"380px\" nzTheme=\"dark\">\r\n                        <app-sidebar></app-sidebar>\r\n                    </nz-sider>\r\n                    <nz-content>\r\n                        <section id=\"content\">\r\n                            <app-viewport></app-viewport>\r\n                        </section>\r\n                    </nz-content>\r\n                </nz-layout>\r\n            </ng-template>\r\n\r\n        </ng-template>\r\n\r\n\r\n    </nz-content>\r\n</nz-layout>\r\n<modal-image-library></modal-image-library>\r\n<app-panel-mesh-settings></app-panel-mesh-settings>","import createClass, { _class } from '@app/_core/helpers/es5.class';\r\nimport { assignValue, isArray, isEmail, isEmpty, isNumber, isObject, isString } from '@app/_core/helpers/utils';\r\n\r\n\r\nimport Scene from '../traits/scene';\r\nimport Camera from '../traits/camera';\r\nimport Renderer from '../traits/renderer';\r\nimport Controls from '../traits/controls';\r\nimport GridHelper from '../traits/grid-helper';\r\nimport Lights from '../traits/lights';\r\nimport ObjectManager from '../traits/object-manager';\r\nimport { EventDispatcher } from '../libs/event-dispatcher';\r\n\r\n\r\nimport { Geometries, LightLib, LoaderLib, Materials, Meshes } from '../libs/three.libs';\r\n\r\nimport Loader from '../modules/loader';\r\nimport Composer from '../modules/composer';\r\nimport DynamicShadows from '../modules/dynamic-shadows'\r\nimport Models from '../libs/models';\r\nimport { EngineClass } from './engine.doc';\r\nimport { Floor } from '../traits/floor';\r\n\r\n\r\nconst ItemEngine = _class(\"ItemEngine\")\r\n    .uses(\r\n        Scene,\r\n        Camera,\r\n        Renderer,\r\n        Controls,\r\n        Models,\r\n        Lights,\r\n        Floor,\r\n        ObjectManager,\r\n        EventDispatcher,\r\n        GridHelper\r\n    )({\r\n        data: {},\r\n        options: {},\r\n        Mesh: {},\r\n        Geometry: {},\r\n        Material: {},\r\n        Light: {},\r\n        Composer: {},\r\n        Shadows: {},\r\n        inited: false,\r\n        /**\r\n         * Hàm khởi tạo\r\n         * @param {Dom.Query} viewport \r\n         * @param {*} data \r\n         */\r\n        constructor: function (config?: any) {\r\n            var data = isObject(config) ? config.data || config : {};\r\n            if (data && isObject(data)) {\r\n                this.data = data;\r\n            }\r\n            this.Geometry = Geometries;\r\n            this.Material = Materials;\r\n            this.Mesh = Meshes;\r\n            this.Light = LightLib;\r\n            this.Loader = new Loader(this);\r\n        },\r\n\r\n\r\n\r\n        renew: function (data) {\r\n            this.data = assignValue({}, data);\r\n            // this.inited = false;\r\n\r\n        },\r\n\r\n\r\n        reset: function (data_) {\r\n            if (isObject(data_)) this.data = assignValue({}, data_);\r\n            this.resetObjects();\r\n            this.resetLights();\r\n\r\n            if (this.data) {\r\n                var data = this.data;\r\n                if (isObject(data.scene)) {\r\n                    var scene = data.scene;\r\n                    this.updateSceneSettings(scene);\r\n                    if (isObject(scene.background) && !isEmpty(scene.background))\r\n                        this.setBackground(scene.floor);\r\n                    if (isObject(scene.floor) && !isEmpty(scene.floor))\r\n                        this.updateSceneFloorSetting(scene.floor);\r\n                    if (isObject(scene.size) && !isEmpty(scene.size))\r\n                        this.updateSceneSettings(scene.size);\r\n                }\r\n                if(isObject(data.shadow))\r\n                    this.updateShadowSettings(data.shadow);\r\n                if(isObject(data.control))\r\n                    this.updateControlSettings(data.control);\r\n                if(isObject(data.camera))\r\n                    this.updateMainCameraSettings(data.camera, true);\r\n            }\r\n            \r\n            this.setData(this.data);\r\n        },\r\n\r\n        startup: function startup(data?: any) {\r\n            if (this.inited) return this;\r\n\r\n\r\n            if (data && isObject(data)) {\r\n                this.data = data;\r\n            }\r\n\r\n            this.emit('startup', this.data);\r\n\r\n            this.initScene(this.data.scene || {});\r\n            this.setMainCamera(this.data.camera || {});\r\n            this.createRenderer(this.data.renderer || {});\r\n\r\n            this.camera.updateProjectionMatrix();\r\n            this.setMainControl(this.data.control || {});\r\n            if (this.data.composer && !isEmail(this.data.composer)) {\r\n                this.composer = new Composer(this, this.data.composer);\r\n            }\r\n            this.Shadows = new DynamicShadows(this, this.data.shadow || this.data.shadows || {});\r\n\r\n\r\n            var self = this;\r\n            this.setData(this.data);\r\n\r\n            this.inited = true;\r\n            // this.Shadows.init();\r\n            self.ready();\r\n            if (!this.autoRenderStatus) {\r\n                setTimeout(function () {\r\n                    self.render();\r\n                }, 500);\r\n            }\r\n\r\n            return this;\r\n\r\n        },\r\n\r\n        setData: function (data?: any) {\r\n            if (data.lights && isArray(data.lights)) {\r\n                this.addLights(data.lights);\r\n            }\r\n            if (data.models && isArray(data.models)) {\r\n                this.addModels(data.models);\r\n            }\r\n            if (data.meshes && isArray(data.meshes)) {\r\n                this.addMeshes(data.meshes);\r\n            }\r\n            if (data.objects && (isArray(data.objects) || isObject(data.objects))) {\r\n                this.addObjects(data.objects);\r\n            }\r\n            if (data.grids && isArray(data.grids)) {\r\n                this.addGrids(data.grids);\r\n            }\r\n            if (data.cameras && isArray(data.cameras)) {\r\n                this.addCameras(data.cameras);\r\n            }\r\n            if (data.floor && isArray(data.floor)) {\r\n                this.addFloor(data.floor);\r\n            }\r\n            if (data.controls && isArray(data.controls)) {\r\n                this.addControls(data.controls);\r\n            }\r\n            this.emit('setdata', data);\r\n\r\n        }\r\n    }) as EngineClass;\r\n\r\n\r\nexport default ItemEngine;\r\nexport { ItemEngine }","export * from './reducers';\r\n// export * from './actions';\r\nexport * from './effects';\r\n// export * from './selectors';\r\nexport * from './services';\r\n// export * from './item';\r\n// export * from './category';\r\n","import { Component, ChangeDetectorRef, ElementRef, ViewChild, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { ItemStorageService } from '@app/item-page/_store/storage.service';\r\nimport { ItemEditorService } from '@app/_3D/services/item-editor.service';\r\nimport { getConfig } from '@app/_core/config';\r\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\r\nimport { ItemService } from '@app/_store/item';\r\nimport { Subject, Observable } from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'app-header',\r\n    templateUrl: './header.component.html',\r\n    styleUrls: ['./header.component.scss'],\r\n})\r\nexport class HeaderComponent extends BaseComponent implements OnInit {\r\n    @ViewChild('inputElement', { static: false }) inputElement?: ElementRef;\r\n\r\n    @Output() clickSave = new EventEmitter<any>();\r\n\r\n    renderData$: Observable<Blob>;\r\n    renderLoading$: Observable<boolean>;\r\n\r\n    isVisible = false;\r\n    data: any;\r\n    percent = 0;\r\n    renderLoading = true;\r\n\r\n    downloadUrl: string = 'javascript:void(0);';\r\n    downloadAvailable: boolean = false;\r\n\r\n    private unsubscribe: Subject<void> = new Subject();\r\n\r\n\r\n\r\n    logo = getConfig('urls.logo_url');\r\n    link = getConfig('urls.logo_link');\r\n    \r\n    constructor(private storage: ItemStorageService, private service: ItemService, private editor: ItemEditorService) {\r\n        super();\r\n        this.storage.subcribe('item', (data) => {\r\n            if (data && data.download_source_url) {\r\n                this.downloadAvailable = true;\r\n                this.downloadUrl = data.download_source_url;\r\n            }\r\n        }, true);\r\n    }\r\n\r\n    onInit() {\r\n\r\n    }\r\n\r\n    download(event: Event) {\r\n        if (!this.downloadAvailable) {\r\n            event.preventDefault();\r\n            return false;\r\n        }\r\n    }\r\n\r\n    save(event) {\r\n        this.editor.emit(\"save.clicked\");\r\n    }\r\n\r\n    handleOk(): void {\r\n        this.isVisible = false;\r\n    }\r\n\r\n    handleCancel(): void {\r\n        this.isVisible = false;\r\n    }\r\n\r\n    onClickUndo() {\r\n        // this.editor.historyManager.undo();\r\n    }\r\n    onClickRedo() {\r\n        // this.editor.historyManager.redo();\r\n    }\r\n}\r\n","<div class=\"group-first\">\r\n\t<!-- <a [routerLink]=\"['/']\">\r\n\t\t<img class=\"logo\" src=\"/assets/images/logo-header.svg\" alt=\"Cretip logo\" />\r\n\t</a> -->\r\n\r\n\t<a href=\"{link}\" target=\"_blank\">\r\n\t\t<img class=\"logo\" src=\"{{logo}}\" alt=\"Cretip logo\" />\r\n\t</a>\r\n\t<div class=\"group-center\">\r\n\t\t<!-- <button class=\"btn btn-ghost btn-icon\" nz-button nzType=\"text\" (click)=\"onClickUndo()\">\r\n\t\t\t<img src=\"/assets/icons/new-design/header/undo.svg\" />\r\n\t\t</button>\r\n\t\t<button class=\"btn btn-ghost btn-icon\" nz-button nzType=\"text\" (click)=\"onClickRedo()\">\r\n\t\t\t<img src=\"/assets/icons/new-design/header/redo.svg\" />\r\n\t\t</button> -->\r\n\r\n\t\t\r\n\t</div>\r\n</div>\r\n\r\n<div class=\"group-last\">\r\n\t<!-- <a class=\"btn btn-ghost btn-icon\" nz-button nzType=\"text\" style=\"margin-right: 32px\" href=\"{{downloadUrl}}\" (click)=\"download($event)\">\r\n\t\t<img src=\"/assets/icons/new-design/header/download.svg\" />\r\n\t\t<span>Download</span>\r\n\t\t\r\n\t</a> -->\r\n\t<button class=\"btn btn-primary btn-icon\" nz-button nzType=\"text\" (click)=\"save($event)\">\r\n\t\t<img src=\"/assets/icons/new-design/header/save.svg\" />\r\n\t\t<span>Save</span>\r\n\t</button>\r\n\t<!-- <nz-avatar nzText=\"U\" [nzSize]=\"28\" style=\"color: #4ef; background-color: #fde3cf\"></nz-avatar> -->\r\n</div>","// import { CollectionEffects } from './collection/effects';\r\n\r\nexport const effects: any[] = [\r\n  // CollectionEffects,\r\n  \r\n];\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { EffectsModule } from '@ngrx/effects';\nimport { StoreModule } from '@ngrx/store';\n\nimport { SharedModule } from '../_shared/shared.module';\nimport { AppUIModule } from '../app-ui.module';\nimport { AuthModule } from '../auth/auth.module';\n\nimport { ItemRoutingModule, COMPONENTS, ENTRIES_COMPONENTS } from './item-routing.module';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport { reducers, effects, services } from './_store';\nimport { NzCollapseModule } from 'ng-zorro-antd/collapse';\n\n@NgModule({\n  declarations: [...COMPONENTS, ...ENTRIES_COMPONENTS],\n  imports: [\n    DragDropModule,\n    AuthModule,\n    CommonModule,\n    AppUIModule,\n    SharedModule,\n    ItemRoutingModule,\n    StoreModule.forFeature('itemStore', reducers),\n    EffectsModule.forFeature(effects),\n    NzCollapseModule,\n  ],\n  entryComponents: ENTRIES_COMPONENTS,\n  providers: [...services],\n})\nexport class ItemModule {}\n","import { ActionReducerMap, createFeatureSelector } from '@ngrx/store';\r\nexport interface ItemState {\r\n}\r\n\r\nexport const reducers: ActionReducerMap<ItemState> = {\r\n};\r\n\r\nexport const selectContainerState = createFeatureSelector<ItemState>('itemStore');\r\n","import { Injectable } from '@angular/core';\nimport { assignValue, assignWithout, degreeToRadians, isArray, isBoolean, isNumber, isObject, isString, Str } from '@app/_core/helpers/utils';\nimport { FG_ITEM } from '@app/_shared/shared.type';\nimport Viewport from '../components/viewport';\nimport ItemEngine from '../engines/item.engine';\nimport ItemEditor from '../libs/item-editor';\nimport { LoaderLib } from '../libs/three.libs';\nimport { iEditor } from '../store/docs';\nimport { App3DService } from './app-3d.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ItemEditorService extends App3DService {\n\n\n    engineClass = ItemEngine;\n    editorClass = ItemEditor;\n    _editor: iEditor;\n    \n\n    set editor(editor: iEditor) {\n        this._editor = editor;\n        this.dispatchEvent({\n            type: \"seteditor\",\n            eventData: editor\n        });\n\n\n    }\n    get editor() {\n        return this._editor;\n    }\n\n    constructor() {\n        super();\n\n        \n        this.start();\n    }\n\n    \n    start() {\n        var self = this;\n        \n        this.on('init', () => this.addControls(this.engine.control));\n        this.on('engine.set', () => {\n\n            LoaderLib.setEngine(this.engine);\n            const EC = this.editorClass;\n            const editor = new EC(this, this.engine);\n\n            this.editor = editor;\n            this.controls = [];\n\n            function addControlEvent() {\n\n                if (!self.engine.control || !self.editor.control) {\n                    return setTimeout(addControlEvent, 10);\n                }\n\n                self.addControls(self.engine.control);\n                self.addControls(self.editor.control);\n\n            }\n            this.editor.on(\"startup\", () => addControlEvent(), true);\n            this.editor.on(\"attach:mesh\", e => this.emit({\n                type: \"editor.attach:mesh\",\n                mesh: e.mesh\n            }));\n\n            \n        });\n\n\n\n        this.on(\"event.transfer\", e => {\n            // e.event.tyoe==\"dbclick\" && console.log(e);\n            if (this.editor) {\n                this.editor.emit(e.event);\n            }\n        });\n\n        \n\n    }\n\n\n\n    getForegrounds(): FG_ITEM[] {\n        return [];\n    }\n\n    updateItemSize() {\n        let size = this.engine.getObjectSize(this.data.appData.secret_key);\n        if (size != null) {\n            if(!isObject(this.data.item.size)) this.data.item.size = this.data.item.size = {};\n            assignValue(this.data.item.size, size);\n        }\n\n    }\n\n    captureScene(){\n        return this.engine.capture();\n    }\n\n\n    parseItemData(model: any, object3DModel: any) {\n        var settings: any = {\n            options: {},\n            props: {},\n            meshes: []\n        };\n        var vectors = [\"rotation\", \"scale\"],\n            vprops = [\"x\", \"y\", \"z\"],\n            shadows = [\"castShadow\", \"receiveShadow\"];\n        var obj = object3DModel.object;\n        var modelSettings: any = model.settings || {};\n        shadows.map(k => {\n            settings.props[k] = (typeof modelSettings.props == \"object\" && typeof modelSettings.props[k] != \"undefined\") ? modelSettings.props[k] : obj[k];\n        });\n        vectors.map(k => {\n            settings.props[k] = {};\n            if (typeof modelSettings.props == \"object\" && typeof modelSettings.props[k] == \"object\") {\n                vprops.map(v => {\n                    if (typeof modelSettings.props[k][v] != \"undefined\") {\n                        settings.props[k][v] = modelSettings.props[k][v];\n                    } else {\n                        settings.props[k][v] = obj[k][v];\n                    }\n                })\n            }\n            else {\n                vprops.map(v => {\n                    settings.props[k][v] = obj[k][v];\n                })\n            }\n        });\n        if (modelSettings.options) {\n            assignValue(settings.options, modelSettings.options);\n        }\n\n        const addMeshSettings = (index: number, mesh: any, setting: any) => {\n            var settingDefaultData = {\n                ref: mesh,\n                name: mesh.name,\n                sid: Str.slug(mesh.name + \" \" + index, '_'),\n                index: index,\n                title: mesh.name,\n                data: {\n\n                },\n                editable: []\n            }\n\n            if (isObject(setting)) {\n                assignWithout(settingDefaultData, setting, ['sid']);\n            }\n            settings.meshes[index] = settingDefaultData;\n            if (!isArray(settings.meshes[index].editable)) {\n                settings.meshes[index].editable = [];\n            }\n\n            // let materialData = Materials.getPropData(mesh.material);\n\n\n        }\n\n\n        if (modelSettings.meshes && modelSettings.meshes.length) {\n            for (let i = 0; i < object3DModel.meshes.length; i++) {\n                const objMesh = object3DModel.meshes[i];\n                let setting = null;\n                for (let j = 0; j < modelSettings.meshes.length; j++) {\n                    const mesh = modelSettings.meshes[j];\n                    if (objMesh.name == mesh.name) {\n                        setting = mesh;\n                        j == modelSettings.meshes.length;\n                    }\n\n                }\n                addMeshSettings(i, objMesh, setting);\n            }\n        } else {\n            for (let i = 0; i < object3DModel.meshes.length; i++) {\n                const objMesh = object3DModel.meshes[i];\n                addMeshSettings(i, objMesh, null);\n            }\n        }\n\n\n        return settings;\n    }\n\n\n    addModelItem(data: any, onSuccess?: (objectData: any, ...args: any[]) => any, onError?: (...args: any[]) => any, onProgress?: (...args: any[]) => any) {\n        var self = this;\n        try {\n            // self.dom.showLoading();\n            // lấy dử liệu sau khi dc load\n            this.engine.addSettingModelItem(data, function (object) {\n                self.data.appData = object;\n                self.data.item = data;\n        \n                var a = assignValue({}, self.data.item.settings);\n                assignValue(a, self.parseItemData(self.data.item, object));\n                let b: any = assignWithout({}, a, ['meshes']);\n                b.meshes = []\n                if (a.meshes && a.meshes.length) {\n                    for (let index = 0; index < a.meshes.length; index++) {\n                        const m = a.meshes[index];\n                        const mm = assignWithout({}, m, ['ref']);\n                        Object.defineProperty(mm, '__ref__', {\n                            value: m.ref,\n                            configurable: false,\n                            enumerable: false,\n                            writable: false\n                        })\n                        b.meshes.push(mm);\n                    }\n                }\n\n                self.data.item.settings = b;\n\n                self.updateItemSize();\n                self.engine.updateFloor();\n                // truyền data cho panel\n                // self.dom.setModelItem(self.data);\n                // var settings = self.getModelSettingData(\n                //     self.data.item,\n                //     self.data.appData\n                // );\n\n                // self.data.settings = settings;\n                var sceneData = self.engine.getSceneSize();\n                var x = sceneData.size.x;\n                var y = sceneData.size.y;\n                var z = sceneData.size.z;\n                var fov = self.engine.camera.fov;\n                var tan = Math.tan(degreeToRadians(fov / 2));\n                var ds = (z / 2) + ((x > y ? x : y) / 2) / tan;\n                var dz = ds * 1.5;\n                self.engine.camera['position'].z = dz;\n                self.engine.camera['position'].y = y/2;\n\n                if(dz*5 >= self.engine.camera.far){\n                    self.engine.camera.far = dz*5;\n                }\n                if(z >= 50){\n                    self.engine.camera.near = 1;\n                }\n                else if(z >= 20){\n                    self.engine.camera.near = 0.5;\n                }\n                else if(z >= 5){\n                    self.engine.camera.near = 0.1;\n                }\n\n                self.engine.camera.lookAt(0, 0, 0);\n\n                self.engine.camera.updateProjectionMatrix();\n                self.engine.refresh();\n                if (typeof onSuccess == \"function\") {\n                    onSuccess(object);\n                }\n\n                self.dispatchEvent('model.added', object);\n\n            }, function (w) {\n                let a = onError && typeof onError == \"function\" ? onError() : 0;\n            }, function (p) {\n                // self.dom.updateLoadingPercentage(p);\n                let b =onProgress && typeof onProgress == \"function\"? onProgress(p) : 0\n            });\n\n        } catch (error) {\n            console.log(error);\n            let c = onError && typeof onError == \"function\" ? onError() : 0;\n        }\n    }\n\n    removeModelItem(){\n        if(this.data && this.data.appData){\n            this.engine.removeObject(this.data.appData.secret_key);\n            this.emit(\"model.removed\");\n        }\n    }\n\n    updateInfo(data) {\n        assignValue(this.data.item, data);\n    }\n\n    updateSettings(data: any, refresh?: any, updateList?: any, meshIndex?: any) {\n\n        assignValue(this.data.item.settings, data);\n        // console.log(data);\n        var updateData: any = {};\n        if (isObject(refresh)) {\n            if (refresh.props) {\n                updateData.props = this.data.item.settings.props;\n            }\n            if (refresh.meshes) {\n                updateData.meshes = this.data.item.settings.meshes;\n            }\n\n        } else if (isBoolean(refresh) && refresh) {\n            updateData = this.data.item.settings;\n        }\n        if (refresh) {\n            this.engine.updateObjectSettings(this.data.appData.secret_key, updateData, updateList, meshIndex);\n            this.engine.updateFloor();\n        }\n        this.updateItemSize();\n        \n\n    }\n\n    updateMeshMaterial(meshIndex: any, material?: { [x: string]: any }) {\n        if (isNumber(meshIndex)) {\n            for (let index = 0; index < this.data.item.settings.meshes.length; index++) {\n                const mesh = this.data.item.settings.meshes[index];\n                if (index == meshIndex) {\n                    assignValue(mesh.data.material, material);\n                    if(!isObject(mesh.data)) mesh.data = {};\n                    if(!isObject(mesh.data.material)) mesh.data.material = {};\n                    \n                    this.engine.updateMeshMaterial(this.data.appData.secret_key, mesh.name, material.type ? mesh.data.material : material);\n                }\n            }\n        }\n        else if (isString(meshIndex)) {\n            for (let index = 0; index < this.data.item.settings.meshes.length; index++) {\n                const mesh = this.data.item.settings.meshes[index];\n                if (mesh.name == meshIndex) {\n                    if(!isObject(mesh.data)) mesh.data = {};\n                    if(!isObject(mesh.data.material)) mesh.data.material = {};\n                    \n                    assignValue(mesh.data.material, material);\n                    this.engine.updateMeshMaterial(this.data.appData.secret_key, mesh.name, material.type ? mesh.data.material : material);\n                }\n            }\n        }\n\n    }\n\n    updateEditable(meshIndex: any, name?: string, status?: boolean) {\n        if (isNumber(meshIndex)) {\n            for (let index = 0; index < this.data.item.settings.meshes.length; index++) {\n                const mesh = this.data.item.settings.meshes[index];\n                if (index == meshIndex) {\n                    if (!isArray(mesh.editable)) mesh.editable = [];\n                    var id = mesh.editable.indexOf(name);\n                    if (id != -1 && status == false) {\n                        mesh.editable.splice(id, 1);\n                    } else if (id == -1 && status) {\n                        mesh.editable.push(name);\n                    }\n                }\n            }\n        }\n        else if (isString(meshIndex)) {\n            for (let index = 0; index < this.data.item.settings.meshes.length; index++) {\n                const mesh = this.data.item.settings.meshes[index];\n                if (mesh.name == meshIndex) {\n                    if (!isArray(mesh.editable)) mesh.editable = [];\n                    var id = mesh.editable.indexOf(name);\n                    if (id != -1 && status == false) {\n                        mesh.editable.splice(id, 1);\n                    } else if (id == -1 && status) {\n                        mesh.editable.push(name);\n                    }\n                }\n            }\n        }\n\n    }\n\n    updateMeshTitle(meshIndex: any, title:string) {\n        if (isNumber(meshIndex)) {\n            for (let index = 0; index < this.data.item.settings.meshes.length; index++) {\n                const mesh = this.data.item.settings.meshes[index];\n                if (index == meshIndex) {\n                    mesh.title = title;\n                }\n            }\n        }\n        else if (isString(meshIndex)) {\n            for (let index = 0; index < this.data.item.settings.meshes.length; index++) {\n                const mesh = this.data.item.settings.meshes[index];\n                if (mesh.name == meshIndex) {\n                    mesh.title = title;\n                }\n            }\n        }\n\n    }\n\n}\n","/**\n * Stateservice sử dụng cho angular hoặc bất kỳ một core nào khác\n * @author DoanLN\n */\nimport { Injectable } from '@angular/core';\nimport { StorageService } from '@app/_core/services/storage.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ItemStorageService extends StorageService {\n    constructor(){\n        super();\n    }\n}\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { ItemEventService } from '@app/item-page/_store/event.service';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\n\n@Component({\n    selector: 'app-panel-mesh-settings',\n    templateUrl: './panel-mesh-settings.component.html',\n    styleUrls: ['./panel-mesh-settings.component.scss']\n})\nexport class PanelMeshSettingsComponent extends BaseComponent implements OnInit {\n    title: string = \"Mesh\";\n    mesh: any = null;\n\n    isShow: boolean = false;\n\n\n\n    constructor(private events: ItemEventService, private cd: ChangeDetectorRef) {\n        super();\n    }\n\n    onChangeSubEvents() {\n        this.registerEventService(this.subEvents, {\n            showmeshpanel: e => this.showPanel(e.mesh),\n            hidemeshpanel: e => this.hidePanel()\n        });\n    }\n\n\n\n    onInit(): void {\n\n    }\n\n    showPanel(mesh) {\n        console.log(mesh)\n        if(this.isShow){\n            this.isShow = false;\n            this.mesh = null;\n            setTimeout(() => {\n                this.asyncMeshSetting(mesh);\n                this.isShow = true;\n            }, 10);\n        }else{\n            this.asyncMeshSetting(mesh);\n            this.isShow = true;\n        }\n        \n    }\n    hidePanel() {\n\n    }\n    asyncMeshSetting(mesh) {\n        this.mesh = mesh;\n        this.title = mesh.title || mesh.name || \"Mesh\"\n        this.cd.detectChanges();\n    }\n\n    updateMaterial(event) {\n        if(!this.mesh.data) this.mesh.data = {};\n        if(!this.mesh.data.material) this.mesh.data.material = {};\n        \n        this.mesh.data.material[event.name] = event.value;\n\n        var app = this.subEvents.app;\n        var update:any = {};\n        update[event.name] = event.value\n        app.updateMeshMaterial(this.mesh.name, update);\n        \n        this.subEvents.emit({\n            type: \"panel.update:material\",\n            name: this.mesh.name,\n            data: update\n        })\n        \n\n    }\n\n    updateEditable(event) {\n        var app = this.subEvents.app;\n        \n        app.updateEditable(this.mesh.name, event.name, event.status);\n\n        var index = this.mesh.editable.indexOf(event.name);\n        if(event.status && index == -1){\n            this.mesh.editable.push(event.name);\n        }\n        else if(!event.status && index != -1){\n            this.mesh.editable.splice(index, 1);\n        }\n\n\n        \n        this.subEvents.emit({\n            type: \"panel.update:editable\",\n            name: this.mesh.name,\n            inpName: event.name,\n            status: event.status\n            \n        })\n        \n        \n    }\n    updateMeshTitle(event) {\n        this.title = this.mesh.title = event.value;\n        var app = this.subEvents.app;\n        app.updateMeshTitle(this.mesh.name, event.value);\n        this.subEvents.emit({\n            type: \"panel.update:title\",\n            name: this.mesh.name,\n            title: event.value\n        })\n\n    }\n    close(){\n        this.isShow = false;\n    }\n    onDone() {\n        this.isShow = false;\n\n    }\n}\n","<div class=\"panel inner-layout\" *ngIf=\"isShow\">\n    <div class=\"panel-header\">\n        <h3>{{title}}</h3>\n        <div class=\"btn-close\" (click)=\"close()\">\n            <i nz-icon nzType=\"close-circle\" nzTheme=\"outline\"></i>\n        </div>\n    </div>\n    <div class=\"panel-body\">\n        <div class=\"store\">\n            <inp-text-group name=\"title\" [(value)]=\"mesh.title\" label=\"Mesh Title\" (subcribe)=\"updateMeshTitle($event)\"></inp-text-group>\n            <material-activate-inputs \n                index=\"-1\" \n                [material]=\"mesh.__ref__.material\" \n                [settings]=\"mesh.data\" \n                [editable]=\"mesh.editable\" \n                (onUpdate)=\"updateMaterial($event)\" \n                (updateEditable)=\"updateEditable($event)\" \n                [isArray]=\"false\">\n            </material-activate-inputs>\n        </div>\n    </div>\n\n\n\n    <div class=\"panel-footer\">\n        <h3>{{\"Actions\" | translate}}</h3>\n        <div class=\"buttons\">\n            <button nz-button nzType=\"primary\" (click)=\"onDone()\">{{\"Done\"|translate}}</button>\n\n\n        </div>\n    </div>\n\n</div>","import { Component, OnInit } from '@angular/core';\nimport { BaseGroupComponent } from '../base-group/base-group.component';\n\n@Component({\n  selector: 'activate-range',\n  templateUrl: './activate-range.component.html',\n  styleUrls: ['./activate-range.component.scss']\n})\nexport class ActivateRangeComponent extends BaseGroupComponent implements OnInit {\n\n  constructor() {\n    super();\n   }\n\n  ngOnInit(): void {\n  }\n\n  valChange(value){\n    this.onChange({value: value});\n  }\n\n}\n","<div class=\"input-group text-group\">\n    <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\">\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"19\">\n            <div class=\"inner-box\">{{config.name | translate}}</div>\n        </div>\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n            <div class=\"inner-box\">\n                <active-switch [name]=\"config.name\" [(value)]=\"config.editable\" (subcribe)=\"onEditable($event)\"></active-switch>\n            </div>\n        </div>\n    </div>\n    <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\" class=\"input-wrapper\">\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"16\">\n            <nz-slider [name]=\"config.name\" [nzMin]=\"config.min\" [nzMax]=\"config.max\" [nzStep]=\"config.step\" [(ngModel)]=\"config.value\" (ngModelChange)=\"valChange($event)\"></nz-slider>\n        </div>\n\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"8\">\n            <div class=\"inner-box\">\n                <nz-input-number [name]=\"config.name\" [nzMin]=\"config.min\" [nzMax]=\"config.max\" [nzStep]=\"config.step\" [(ngModel)]=\"config.value\" (ngModelChange)=\"valChange($event)\" [ngStyle]=\"{ marginLeft: '0px' }\"></nz-input-number>\n            </div>\n        </div>\n    </div>\n</div>"]}
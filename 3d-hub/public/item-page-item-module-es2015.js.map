{"version":3,"sources":["./src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/mesh-activate-inputs/mesh-activate-inputs.component.ts","./src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/mesh-activate-inputs/mesh-activate-inputs.component.html","./src/app/_3D/libs/item-editor.ts","./src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/material-activate-inputs/material-activate-inputs.component.ts","./src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/material-activate-inputs/material-activate-inputs.component.html","./src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-checkbox/activate-checkbox.component.ts","./src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-checkbox/activate-checkbox.component.html","./src/app/item-page/workspace/sidebar/tab-meshes/tab-meshes.component.ts","./src/app/item-page/workspace/sidebar/tab-meshes/tab-meshes.component.html","./src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-color/activate-color.component.ts","./src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-color/activate-color.component.html","./src/app/item-page/workspace/sidebar/sidebar.component.ts","./src/app/item-page/workspace/sidebar/sidebar.component.html","./src/app/item-page/workspace/sidebar/tab-info/tab-info.component.ts","./src/app/item-page/workspace/sidebar/tab-info/tab-info.component.html","./src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-number/activate-number.component.ts","./src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-number/activate-number.component.html","./src/app/item-page/item-routing.module.ts","./src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-text/activate-text.component.ts","./src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-text/activate-text.component.html","./src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-texture/activate-texture.component.ts","./src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-texture/activate-texture.component.html","./src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/active-switch/active-switch.component.ts","./src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/active-switch/active-switch.component.html","./src/app/item-page/workspace/sidebar/tab-properties/tab-properties.component.ts","./src/app/item-page/workspace/sidebar/tab-properties/tab-properties.component.html","./src/app/item-page/_store/services.ts","./src/app/_3D/data/options/item.ts","./src/app/_shared/components/form-group/object-prop/object-prop.component.ts","./src/app/_shared/components/form-group/object-prop/object-prop.component.html","./src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-select/activate-select.component.ts","./src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-select/activate-select.component.html","./src/app/item-page/_store/event.service.ts","./src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/base-group/base-group.component.ts","./src/app/item-page/workspace/workspace.component.ts","./src/app/item-page/workspace/workspace.component.html","./src/app/_3D/engines/item.engine.ts","./src/app/item-page/_store/index.ts","./src/app/item-page/workspace/header/header.component.ts","./src/app/item-page/workspace/header/header.component.html","./src/app/item-page/_store/effects.ts","./src/app/item-page/item.module.ts","./src/app/item-page/_store/reducers.ts","./src/app/_3D/services/item-editor.service.ts","./src/app/item-page/_store/storage.service.ts","./src/app/item-page/workspace/sidebar/panel-mesh-settings/panel-mesh-settings.component.ts","./src/app/item-page/workspace/sidebar/panel-mesh-settings/panel-mesh-settings.component.html","./src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-range/activate-range.component.ts","./src/app/item-page/workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-range/activate-range.component.html"],"names":[],"mappings":"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","file":"item-page-item-module-es2015.js","sourcesContent":["import { ChangeDetectorRef, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { ItemEventService } from '@app/item-page/_store/event.service';\nimport { assignValue, isObject } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\n\n\n\n@Component({\n    selector: 'mesh-activate-inputs',\n    templateUrl: './mesh-activate-inputs.component.html',\n    styleUrls: ['./mesh-activate-inputs.component.scss']\n})\nexport class MeshActivateInputsComponent extends BaseComponent implements OnInit {\n    @Input() mesh: any;\n    @Input() index: number = 0;\n    @Output() onUpdate = new EventEmitter<{\n        material: any,\n        index: number,\n        name: string,\n        value: any\n    }>();\n    @Output() onUpdateTitle = new EventEmitter<any>();\n    @Output() onUpdateEditable = new EventEmitter<{\n        index: number,\n        name: string,\n        status: any\n    }>();\n\n    constructor(private events: ItemEventService, private cd: ChangeDetectorRef) {\n        super()\n    }\n\n    onChangeSubEvents() {\n        // this.registerEventService(this.subEvents, {\n        //     \"panel.update:material\": e => {\n        //         if (e.name == this.mesh.name) {\n        //             assignValue(this.mesh.data.material, e.data);\n        //             setTimeout(() => {\n        //                 this.cd.checkNoChanges();\n\n        //             }, 10);\n        //         }\n        //     },\n        //     \"panel.update:title\": e => {\n        //         if (e.name == this.mesh.name) {\n        //             this.mesh.data.title = e.title;\n        //             setTimeout(() => {\n        //                 this.cd.checkNoChanges();\n        //             }, 10);\n        //         }\n        //     },\n        //     \"panel.update:editable\": e => {\n        //         if (e.name == this.mesh.name) {\n        //             var index = this.mesh.editable.indexOf(e.name);\n        //             if (e.status && index == -1) {\n        //                 this.mesh.editable.push(e.name);\n        //             }\n        //             else if (!e.status && index != -1) {\n        //                 this.mesh.editable.splice(index, 1);\n        //             }\n        //             setTimeout(() => {\n        //                 this.cd.checkNoChanges();\n        //             }, 10);\n        //         }\n        //     }\n        // })\n\n\n    }\n\n    onInit(): void {\n    }\n\n    updateMaterialOfArray(event) {\n        if (typeof event.index != \"undefined\" && typeof this.mesh.data.material[event.index] != \"undefined\") {\n            this.mesh.data.material[event.index][event.name] = event.value;\n        }\n    }\n\n    updateMaterial(event) {\n        if(!isObject(this.mesh.data.material)) this.mesh.data.material = {};\n        this.mesh.data.material[event.name] = event.value;\n        this.onUpdate.emit({\n            material: this.mesh.data.material,\n            index: this.index,\n            name: event.name,\n            value: event.value\n        })\n    }\n\n    updateMeshTitle(event) {\n        // console.log(this.data.title);\n        // return;\n        this.mesh.data.title = event.value;\n        this.onUpdateTitle.emit({\n            index: this.index,\n            title: this.mesh.data.title\n        })\n    }\n\n    updateEditable(event) {\n        this.onUpdateEditable.emit({\n            index: this.index,\n            name: event.name,\n            status: event.status\n        })\n    }\n\n}\n","<inp-text-group name=\"title\" [(value)]=\"mesh.title\" label=\"Mesh Title\" (subcribe)=\"updateMeshTitle($event)\"></inp-text-group>\n<material-activate-inputs \n        index=\"-1\" \n        [material]=\"mesh.__ref__.material\" \n        [settings]=\"mesh.data.material\" \n        [editable]=\"mesh.editable\" \n        (onUpdate)=\"updateMaterial($event)\"\n        (updateEditable)=\"updateEditable($event)\"\n\n        [isArray]=\"false\">\n    </material-activate-inputs>","import { getTimeStamp } from '@app/_core/helpers/utils';\r\nimport * as THREE from '../threejs/three.module.js';\r\nimport { _class } from '@app/_core/helpers/es5.class';\r\nimport { EventDispatcher } from './event-dispatcher';\r\nimport { EditorClass, iEditor } from '../store/docs';\r\nimport ClientEditor from './client-editor';\r\nimport { ItemEditorService } from '../services/item-editor.service.js';\r\nimport { EngineClass, EngineInstance } from '../engines/engine.doc.js';\r\n\r\nexport interface ItemEditorInstance extends iEditor{\r\n    app: ItemEditorService\r\n}\r\n\r\nexport interface ItemEditor extends EditorClass{\r\n    new(app: ItemEditorService, engine: EngineInstance): ItemEditorInstance\r\n}\r\n\r\nconst Editor__: any = _class(\"ItemEditor\").extends(ClientEditor).uses(EventDispatcher)({\r\n    transformMode: \"basic\",\r\n    hasSelectedObject: false,\r\n    allowCustom: false,\r\n        \r\n    constructor: function constructor(app, engine: any) {\r\n        this.setup(app, engine);\r\n    },\r\n\r\n    startup: function () {\r\n        var scope: ItemEditorInstance = this;\r\n\r\n        this.on('pointerdown', onPointerDown);\r\n        this.on('pointerup', onPointerUp);\r\n        this.on('pointermove', onPointerMove);\r\n        this.on('dbclick', onDblClick);\r\n\r\n        function onDblClick(event) {\r\n            var rect = scope.engine.wrapper.getBoundingClientRect();\r\n            scope.onDownPosition.x = event.clientX - rect.left;\r\n            scope.onDownPosition.y = event.clientY - rect.top;\r\n            const pointer = new THREE.Vector2();\r\n            pointer.x = (scope.onDownPosition.x / rect.width) * 2 - 1;\r\n            pointer.y = - (scope.onDownPosition.y / rect.height) * 2 + 1;\r\n            const detectObj = scope.selectMeshByPointer(pointer);\r\n            if(detectObj){\r\n                const ms = scope.getMeshData(detectObj);\r\n                if(ms){\r\n                    scope.emit({\r\n                        type: \"attach:mesh\",\r\n                        mesh: ms\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        function onPointerDown(event) {\r\n            scope.poiterDowsStatus = true;\r\n            var rect = scope.engine.wrapper.getBoundingClientRect();\r\n\r\n            scope.onDownPosition.x = event.clientX - rect.left;\r\n            scope.onDownPosition.y = event.clientY - rect.top;\r\n\r\n            //\r\n            if (!scope.allowCustom) return;\r\n            \r\n            if (!scope.selected || scope.transformMode != \"basic\" || scope.selected.isLight || (scope.currentTargetControl && scope.currentTargetControl == scope.control.object)) return;\r\n\r\n            const pointer = new THREE.Vector2();\r\n            pointer.x = (scope.onDownPosition.x / rect.width) * 2 - 1;\r\n            pointer.y = - (scope.onDownPosition.y / rect.height) * 2 + 1;\r\n            const detectObj = scope.selectObjectByPointer(pointer);\r\n            if (detectObj && detectObj == scope.selected && !detectObj.isLight) {\r\n                event.preventDefault();\r\n                scope.engine.control.enabled = false;\r\n                scope.control.enabled = false;\r\n                scope.hasSelectedObject = true;\r\n                scope.setObjectMovable(scope.selected);\r\n\r\n            } else {\r\n                scope.engine.control.enabled = true;\r\n                scope.control.enabled = true;\r\n                scope.hasSelectedObject = false;\r\n\r\n            }\r\n\r\n        }\r\n\r\n        function onPointerUp(event) {\r\n            if (!scope.allowCustom) return;\r\n            // scope.poiterDowsStatus = false;\r\n            if (scope.poiterDowsStatus) {\r\n                if (scope.hasSelectedObject) {\r\n                    this.emit({\r\n                        type: \"object.changed\",\r\n                        data: scope.selected,\r\n                        mode: \"translate\"\r\n                    })\r\n                    scope.engine.control.enabled = true;\r\n                    scope.control.enabled = true;\r\n                    scope.hasSelectedObject = false;\r\n                    // do somehing\r\n                    scope.removeObjectMovable();\r\n                    return;\r\n                }\r\n\r\n                var rect = scope.engine.wrapper.getBoundingClientRect();\r\n                scope.onUpPosition.x = event.clientX - rect.left;\r\n                scope.onUpPosition.y = event.clientY - rect.top;\r\n                if (scope.onUpPosition.x < 0 || scope.onUpPosition.y < 0) return;\r\n\r\n                if (scope.onDownPosition.distanceTo(scope.onUpPosition) === 0) {\r\n                    scope.pointer.x = (scope.onUpPosition.x / rect.width) * 2 - 1;\r\n                    scope.pointer.y = - (scope.onUpPosition.y / rect.height) * 2 + 1;\r\n                    scope.setCurrentObjectByPointer(scope.pointer);\r\n\r\n\r\n                }\r\n            }\r\n            scope.poiterDowsStatus = false;\r\n\r\n        }\r\n\r\n        function onPointerMove(event) {\r\n            if (!scope.allowCustom) return;\r\n            if (scope.poiterDowsStatus) {\r\n                // scope.turnOffShadow();\r\n\r\n            }\r\n            if (scope.hasSelectedObject) {\r\n                // var rect = scope.engine.wrapper.getBoundingClientRect();\r\n                const pointer = new THREE.Vector2();\r\n                pointer.x = event.clientX;\r\n                pointer.y = event.clientY;\r\n\r\n                scope.checkDObjectMovablePosition(pointer);\r\n                return;\r\n            }\r\n        }\r\n\r\n\r\n\r\n        // scope.app.on(\"model.added\", function (e) {\r\n        //     scope.asyncMeshes();\r\n        // })\r\n        this.ready();\r\n        // this.setEngineData();\r\n        this.emit({\r\n            type: \"startup\",\r\n            data: getTimeStamp()\r\n        });\r\n\r\n    },\r\n    addObject: function (object: any) {\r\n        this.objects.push(object);\r\n        // this.setCurrentObject(object);\r\n    },\r\n    // asyncMeshes: function asyncMeshes() {\r\n    //     var scope: ItemEditorInstance = this;\r\n    //     this.meshes = [];\r\n    //     var settings = scope.app.data.item.settings;\r\n    //     settings.meshes.map(function(mesh){\r\n    //         scope.meshes.push(mesh.__ref__);\r\n    //     })\r\n        \r\n\r\n    // },\r\n\r\n    getMeshData: function (mesh) {\r\n        var settings = this.app.data.item.settings;\r\n        var m = null;\r\n        for (let index = 0; index < settings.meshes.length; index++) {\r\n            const meshSettings = settings.meshes[index];\r\n            if(meshSettings.__ref__ == mesh){\r\n                return meshSettings;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    \r\n});\r\n\r\n\r\n\r\nexport const ItemEditor = Editor__ as ItemEditor;\r\n\r\nexport default ItemEditor;","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { Materials } from '@app/_3D/libs/three.libs';\nimport { ItemEditorService } from '@app/_3D/services/item-editor.service';\nimport { assignValue, isEmpty, Str } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\n\n@Component({\n    selector: 'material-activate-inputs',\n    templateUrl: './material-activate-inputs.component.html',\n    styleUrls: ['./material-activate-inputs.component.scss']\n})\nexport class MaterialActivateInputsComponent extends BaseComponent implements OnInit {\n    @Input() material: any;\n    @Input() settings: any;\n    @Input() editable: any[];\n    @Input() index: number;\n    @Input() isArray: boolean = false;\n    @Output() onUpdate = new EventEmitter<{name:string, value:any, editable?:boolean, index?:number, isArray?:boolean}>();\n    @Output() updateEditable = new EventEmitter<{name:string, status:boolean, index?:number, isArray?:boolean}>();\n\n    data: any = {};\n\n    inputs: any[] = [];\n    types: any[] = [];\n    type: string = 'basic';\n    constructor(private itemEditor: ItemEditorService) {\n        super()\n        this.types.splice(0);\n        for (const value in Materials.config.options) {\n            if (Object.prototype.hasOwnProperty.call(Materials.config.options, value)) {\n                const label = Materials.config.options[value];\n                this.types.push({value, label});\n            }\n        }\n    }\n\n    onInit(): void {\n\n        \n        this.data = Materials.getPropData(this.material);\n\n        assignValue(this.data, this.settings);\n        this.setType(this.data.type || this.settings.type || this.material.type);\n        if(!this.settings || isEmpty(this.settings)) this.settings = {};\n    }\n\n    update(name:string, value:any, editable?:boolean, index?:number){\n        this.onUpdate.emit({\n            name,\n            value,\n            editable,\n            index,\n            isArray: this.isArray\n        })\n    }\n\n    setType(type:string){\n        var _type = Str.replace(String(type).toLowerCase(), ['mesh', 'material'], '');\n        if(typeof Materials.config.options[_type] != \"undefined\"){\n            this.type = _type;\n            this.inputs = Materials.getMaterialInputs(_type, this.material, this.data, this.editable);\n        }\n    }\n    changeType(event){\n        this.setType(event.value);\n        this.update('type', event.value);\n\n    }\n\n    toggleEditable(event){\n        if(event.status){\n            if(this.editable.indexOf(event.name) === -1){\n                this.editable.push(event.name);\n                this.activeEditavle(event.name);\n            }\n        }else{\n            var i = this.editable.indexOf(event.name);\n            if(i !== -1){\n                this.editable.splice(i, 1);\n                this.deactiveEditavle(event.name);\n            }\n        }\n\n        this.updateEditable.emit({\n            name:event.name,\n            status: event.status,\n            index: this.index,\n            isArray: this.isArray\n        })\n\n    }\n\n    activeEditavle(name:string){\n        for (let index = 0; index < this.inputs.length; index++) {\n            const input = this.inputs[index];\n            if(input.name == name) input.editable = true;\n            \n        }\n    }\n    deactiveEditavle(name:string){\n        for (let index = 0; index < this.inputs.length; index++) {\n            const input = this.inputs[index];\n            if(input.name == name) input.editable = false;\n            \n        }\n    }\n\n    onChangeHandle(event){\n        this.data[event.name] = event.value;\n        this.settings[event.name] = event.value;\n        this.update(event.name, event.value, event.editable);\n    }\n}\n","<div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\" class=\"input-group type-group\">\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"12\">\n        <div class=\"inner-box\">{{'Material Type' | translate}}</div>\n    </div>\n    \n    <div nz-col class=\"gutter-row\" [nzSpan]=\"12\">\n        <div class=\"inner-box\">\n            <inp-select name=\"type\" label=\"Material Type\" [options]=\"types\" [(value)]=\"type\" (subcribe)=\"changeType($event)\"></inp-select>\n        </div>\n    </div>\n</div>\n\n\n<div class=\"material-inputs\">\n    <div class=\"ig\" *ngFor=\"let inp of inputs; let i=index\">\n        <div class=\"input-item\" [ngSwitch]=\"inp.type\">\n            <div *ngSwitchCase=\"'checkbox'\">\n                <activate-checkbox [config]=\"inp\" (subcribe)=\"onChangeHandle($event)\" (editable)=\"toggleEditable($event)\"></activate-checkbox>\n            </div>\n            \n            <div *ngSwitchCase=\"'texture'\">\n                <activate-texture [config]=\"inp\" (subcribe)=\"onChangeHandle($event)\" (editable)=\"toggleEditable($event)\"></activate-texture>\n            </div>\n            <div *ngSwitchCase=\"'color'\">\n                <activate-color [config]=\"inp\" (subcribe)=\"onChangeHandle($event)\" (editable)=\"toggleEditable($event)\"></activate-color>\n            </div>\n            <div *ngSwitchCase=\"'select'\">\n                <activate-select [config]=\"inp\" (subcribe)=\"onChangeHandle($event)\" (editable)=\"toggleEditable($event)\"></activate-select>\n            </div>\n            <div *ngSwitchCase=\"'range'\">\n                <activate-range [config]=\"inp\" (subcribe)=\"onChangeHandle($event)\" (editable)=\"toggleEditable($event)\"></activate-range>\n            </div>\n            <div *ngSwitchCase=\"'number'\">\n                <activate-number [config]=\"inp\" (subcribe)=\"onChangeHandle($event)\" (editable)=\"toggleEditable($event)\"></activate-number>\n            </div>\n            \n            <div *ngSwitchDefault>\n                <activate-text [config]=\"inp\" (subcribe)=\"onChangeHandle($event)\" (editable)=\"toggleEditable($event)\"></activate-text>\n            </div>\n        </div>\n    </div>\n</div>\n\n","import { Component, OnInit } from '@angular/core';\nimport { BaseGroupComponent } from '../base-group/base-group.component';\n\n@Component({\n  selector: 'activate-checkbox',\n  templateUrl: './activate-checkbox.component.html',\n  styleUrls: ['./activate-checkbox.component.scss']\n})\nexport class ActivateCheckboxComponent extends BaseGroupComponent implements OnInit {\n\n  constructor() {\n    super();\n   }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\" class=\"input-group\">\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"14\">\n        <div class=\"inner-box\">{{config.name | translate}}</div>\n    </div>\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n        <div class=\"inner-box text-right\">\n            <label nz-checkbox [(ngModel)]=\"config.value\" (ngModelChange)=\"valChange($event)\"></label>                \n        </div>\n    </div>\n\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n        <div class=\"inner-box\">\n            <active-switch [name]=\"config.name\" [(value)]=\"config.editable\" (subcribe)=\"onEditable($event)\" ></active-switch>\n        </div>\n    </div>\n</div>","import { ChangeDetectorRef, Component, OnDestroy, OnInit } from '@angular/core';\nimport { ItemEventService } from '@app/item-page/_store/event.service';\nimport { ItemStorageService } from '@app/item-page/_store/storage.service';\nimport { ItemEditorService } from '@app/_3D/services/item-editor.service';\nimport { assignValue, assignWithout, copyWithout, isArray, isObject, Str } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { ItemModel, ItemService } from '@app/_store/item';\n\n@Component({\n    selector: 'app-tab-meshes',\n    templateUrl: './tab-meshes.component.html',\n    styleUrls: ['./tab-meshes.component.scss']\n})\nexport class TabMeshesComponent extends BaseComponent implements OnInit, OnDestroy {\n    // item: ItemModel; // chứa item hiện tại\n    // setting quan trong\n    settings: any = {};\n    settingOriginData: any = {};\n    formGroups: any[] = [];\n\n\n    isShow: boolean = true;\n    app: ItemEditorService;\n\n    modelDataSubcribe : (modelData) => any = modelData => this.updateAppData(modelData);\n    modelSettingSubcribe: (settings) => any = settings => this.asyncSettings(settings);\n    constructor(\n        private storage: ItemStorageService,\n        private itemService: ItemService,\n        private events: ItemEventService,\n        private cd : ChangeDetectorRef\n    ) {\n        super();\n        this.setDefaultSettingData();\n        \n    }\n\n\n    onChangeSubEvents(){\n        this.app = this.subEvents.app as any;\n        this.registerEventService(this.subEvents, {\n            \"panel.update:material\": e => {\n                this.reload(this.app.data.item.settings);\n            },\n            \"panel.update:title\": e => {\n                this.reload(this.app.data.item.settings);\n            },\n            \"panel.update:editable\": e => {\n                this.reload(this.app.data.item.settings);\n            }\n        })\n\n    }\n\n    initOnce(){\n        \n    }\n\n    onInit(): void {\n        this.storage.subcribe('modelData', this.modelDataSubcribe, true);\n        this.storage.subcribe(\"modelSettings\", this.modelSettingSubcribe, true);\n        \n        // this.state.onChange(\"item\", data => this.updateItemData(data as ItemModel), true);\n        \n    }\n\n    onDestroy() {\n        this.storage.unsubcribe('modelData', this.modelDataSubcribe);\n        this.storage.unsubcribe(\"modelSettings\", this.modelSettingSubcribe);\n        \n    }\n\n    reload(data){\n        this.isShow = false;\n        this.asyncSettings(data);\n        setTimeout(() => {\n            this.isShow = true;\n            this.cd.detectChanges();\n        }, 10);\n    }\n\n    setDefaultSettingData() {\n        this.settings.options = {};\n        this.settings.meshes = [];\n    }\n\n\n\n    // dong bo setting cua item voi tab\n    asyncSettings(settings: any) {\n        this.settingOriginData = settings;\n        this.settings = settings;\n        this.cd.detectChanges();\n    }\n\n    updateItemData(item: ItemModel) {\n    }\n\n    updateAppData(appDataObject: any): void {\n        \n    }\n\n    updateProps(props) {\n        assignValue(this.settings.props, props);\n        this.app.updateSettings(this.settings, { props: true });\n    }\n\n    updateMesh(event) {\n        if (isObject(event) && Object.prototype.hasOwnProperty.call(event, 'index')) {\n            for (let i = 0; i < this.settings.meshes.length; i++) {\n                const mesh = this.settings.meshes[i];\n                let ref = mesh.__ref__;\n                if (mesh.index == event.index) {\n                    if (!isArray(ref.material)) {\n                        if(!isObject(mesh.data.material)) mesh.data.material = {};\n                        mesh.data.material[event.name] = event.value;\n                    } else {\n                        mesh.data.material = event.material;\n                    }\n\n                    const updateData: any = {};\n                    updateData[event.name] = event.value;\n                    this.app.updateMeshMaterial(mesh.name, updateData);\n                }\n            }\n        }\n    }\n\n    updateEditable(event) {\n        if (isObject(event) && Object.prototype.hasOwnProperty.call(event, 'index')) {\n            for (let i = 0; i < this.settings.meshes.length; i++) {\n                const mesh = this.settings.meshes[i];\n                if (mesh.index == event.index) {\n                    this.app.updateEditable(mesh.name, event.name, event.status);\n                }\n            }\n        }\n    }\n\n    onUpdateTitle(event) {\n        if (isObject(event) && Object.prototype.hasOwnProperty.call(event, 'index')) {\n            if (typeof this.settings.meshes[event.index] != \"undefined\") {\n                this.settings.meshes[event.index].title = event.title;\n\n            }\n            for (let i = 0; i < this.settings.meshes.length; i++) {\n                const mesh = this.settings.meshes[i];\n                if (mesh.index == event.index) {\n                    this.app.updateMeshTitle(mesh.name, event.title);\n                }\n            }\n        }\n    }\n}\n","<div class=\"tab-inner\">\n    <h2>{{ 'Meshes' | translate }}</h2>\n    <div class=\"setting-form store\" *ngIf=\"isShow\">\n        <div class=\"gridlayout\">\n            <nz-collapse>\n                <nz-collapse-panel *ngFor=\"let mesh of settings.meshes\" [nzHeader]=\"mesh.title?mesh.title:mesh.name\" [nzActive]=\"mesh.active\" [nzDisabled]=\"mesh.disabled\">\n                    <mesh-activate-inputs \n                        [mesh]=\"mesh\" \n                        [index]=\"mesh.index\"\n                        (onUpdate)=\"updateMesh($event)\" \n                        (onUpdateTitle)=\"onUpdateTitle($event)\" \n                        (onUpdateEditable)=\"updateEditable($event)\"\n                       \n                    ></mesh-activate-inputs>\n                </nz-collapse-panel>\n            </nz-collapse>\n\n        </div>\n\n    </div>\n\n</div>","import { Component, OnInit } from '@angular/core';\nimport { BaseGroupComponent } from '../base-group/base-group.component';\n\n@Component({\n  selector: 'activate-color',\n  templateUrl: './activate-color.component.html',\n  styleUrls: ['./activate-color.component.scss']\n})\nexport class ActivateColorComponent extends BaseGroupComponent implements OnInit {\n\n  oldAttachValue: any = null;\n\n  constructor() {\n    super();\n  }\n\n  ngOnInit(): void {\n    if(this.config.attach){\n      this.oldAttachValue = this.config.attach.value;\n    }\n  }\n  \n  onAttachChange(event){\n    if(this.oldAttachValue != event.value){\n      this.subcribe.emit({\n        name: this.config.attach.name,\n        value: event.value,\n        old: this.oldAttachValue\n      });\n      this.oldAttachValue = event.value\n    }\n    \n  }\n}\n","<div class=\"input-group\">\n    <div class=\"inner-box\">{{config.name | translate}}</div>\n    <div *ngIf=\"config.attach; then attachBlock else simpleBlock\"></div>\n    <ng-template #attachBlock>\n        <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\">\n            <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n                <div class=\"inner-box\"> \n                    <inp-color [name]=\"config.name\" [(value)]=\"config.value\" (subcribe)=\"onChange($event)\"></inp-color>\n                </div>\n            </div>\n            <div nz-col class=\"gutter-row\" [nzSpan]=\"14\">\n                <inp-range [name]=\"config.attach.name\" [min]=\"config.attach.min\" [max]=\"config.attach.max\" [step]=\"config.attach.step\" [(value)]=\"config.attach.value\" (subcribe)=\"onAttachChange($event)\"></inp-range>\n            </div>\n    \n            <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n                <div class=\"inner-box\">\n                    <active-switch [name]=\"config.name\" [(value)]=\"config.editable\" (subcribe)=\"onEditable($event)\"></active-switch>\n                </div>\n            </div>\n        </div>\n        \n    </ng-template>\n    <ng-template #simpleBlock>\n        <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\">\n            <div nz-col class=\"gutter-row\" [nzSpan]=\"19\">\n                <div class=\"inner-box\">\n                    <inp-color [name]=\"config.name\" [(value)]=\"config.value\" (subcribe)=\"onChange($event)\"></inp-color>\n                </div>\n            </div>\n            <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n                <div class=\"inner-box\">\n                    <active-switch [name]=\"config.name\" [(value)]=\"config.editable\" (subcribe)=\"onEditable($event)\"></active-switch>\n                </div>\n            </div>\n        </div>\n        \n    </ng-template>\n    \n</div>\n\n","import { Component, Output, EventEmitter, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\r\n// import { FontModel } from '@app/item-page/_store/font';\r\n// import { EventService } from '@app/item-page/_store/template';\r\n\r\nenum TabIndex {\r\n    Meshes = 0,\r\n    Props = 1,\r\n\r\n}\r\n\r\n@Component({\r\n    selector: 'app-sidebar',\r\n    templateUrl: './sidebar.component.html',\r\n    styleUrls: ['./sidebar.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class SidebarComponent extends BaseComponent implements OnInit {\r\n    \r\n    prevTab: number = TabIndex.Meshes;\r\n    currentTab: number = TabIndex.Meshes;\r\n\r\n\r\n    constructor(private cd: ChangeDetectorRef) {\r\n        super();\r\n    }\r\n\r\n    onInit() {\r\n\r\n\r\n    }\r\n\r\n    onChangeTab(e) {\r\n        this.currentTab = e.index;\r\n        this.cd.detectChanges();\r\n    }\r\n\r\n    onClickSearch(event) {\r\n        console.log(event);\r\n    }\r\n\r\n    \r\n}\r\n","<nz-tabset [nzSelectedIndex]=\"currentTab\" nzTabPosition=\"top\" nzType=\"line\" class=\"main-tab\" (nzSelectChange)=\"onChangeTab($event)\">\r\n  <!-- <nz-tab [nzTitle]=\"iconInfo\"> -->\r\n    <!-- <ng-template #iconInfo>\r\n      <img src=\"/assets/icons/new-design/tab-top/info.svg\" alt=\"info\" />\r\n    </ng-template>\r\n    <app-tab-info></app-tab-info>\r\n  </nz-tab> -->\r\n\r\n  <nz-tab [nzTitle]=\"iconMeshes\">\r\n    <ng-template #iconMeshes>\r\n      <img src=\"/assets/icons/new-design/tab-sub/model.svg\" alt=\"Meshes\" />\r\n    </ng-template>\r\n    <app-tab-meshes></app-tab-meshes>\r\n  </nz-tab>\r\n\r\n  <nz-tab [nzTitle]=\"iconProps\">\r\n    <ng-template #iconProps>\r\n      <img src=\"/assets/icons/new-design/tab-top/setting.svg\" alt=\"Props\" />\r\n    </ng-template>\r\n    <app-tab-properties></app-tab-properties>\r\n  </nz-tab>\r\n\r\n  \r\n\r\n</nz-tabset>\r\n","import { Component, Output, EventEmitter, OnDestroy, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { PriVacyStatusOptions } from '@app/_store/form';\r\n\r\n\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { ItemStorageService } from '@app/item-page/_store/storage.service';\r\nimport { ItemEditorService } from '@app/_3D/services/item-editor.service';\r\nimport { ItemModel, ItemService } from '@app/_store/item';\r\nimport { CategoryModel, CategoryService } from '@app/_store/category';\r\nimport { copyByList } from '@app/_core/helpers/utils';\r\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\r\n\r\n@Component({\r\n    selector: 'app-tab-info',\r\n    templateUrl: './tab-info.component.html',\r\n    styleUrls: ['./tab-info.component.scss'],\r\n})\r\nexport class TabInfoComponent extends BaseComponent implements OnInit, OnDestroy {\r\n    item: ItemModel; // chứa item hiện tại\r\n    categories: CategoryModel[];\r\n    asyncForm: boolean = true;\r\n    mode: string = 'create';\r\n    categoryOptions: Array<{label:string, value: any}> = [];\r\n\r\n    privacyStatusOptions: any = PriVacyStatusOptions.map(stt => ({label:stt.label, value:stt.value}))\r\n    constructor(\r\n        private storage: ItemStorageService,\r\n        private itemService: ItemService,\r\n        private categoryService: CategoryService,\r\n        private itemEditor: ItemEditorService,\r\n        private cd: ChangeDetectorRef\r\n    ) {\r\n        super();\r\n        \r\n    }\r\n\r\n    initFirst(){\r\n        this.storage.subcribe(\"item\", data => {\r\n            this.updateItemData(data as ItemModel);\r\n            this.cd.detectChanges();\r\n        }, true);\r\n\r\n        this.storage.subcribe('categories', categories => {\r\n            this.updateCategories(categories);\r\n            this.cd.detectChanges();\r\n        }, true);\r\n\r\n        this.storage.onChange('editorMode', mode => {\r\n            this.mode = mode;\r\n            this.cd.detectChanges();\r\n        }, true);\r\n        this.isInited = true;\r\n        return true;\r\n    }\r\n\r\n    onDestroy(){\r\n\r\n    }\r\n\r\n\r\n    \r\n    \r\n    \r\n    updateCategories(categories: CategoryModel[] = []) {\r\n        this.categories = categories;\r\n        let a : any[] = []\r\n        for (let index = 0; index < categories.length; index++) {\r\n            const cat = categories[index];\r\n            a.push({label: cat.name, value: cat.id})\r\n        }\r\n        this.categoryOptions = a;\r\n\r\n    }\r\n\r\n    updateItemData(item: ItemModel) {\r\n        this.item = item;\r\n        this.asyncForm = true;\r\n    }\r\n\r\n    onInpChange(event){\r\n        let update : any = {};\r\n        update[event.name] = event.value;\r\n        let d = copyByList(this.item, )\r\n        this.itemEditor.updateInfo(update);\r\n    }\r\n\r\n\r\n}\r\n","<div class=\"tab-inner\">\r\n    <h2>{{ 'Info' | translate }}</h2>\r\n    <div class=\"info-form store\">\r\n        <ng-container *ngIf=\"asyncForm; then formTemplate; else waitTemplate\"></ng-container>\r\n        <ng-template #formTemplate>\r\n            <div class=\"inputs\">\r\n                <inp-text-group name=\"name\" label=\"Item Name\" [(value)]=\"item.name\" placeholder=\"Enter Item Name\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item-first\"></inp-text-group>\r\n                <inp-select-group name=\"category_id\" [(value)]=\"item.category_id\" [options]=\"categoryOptions\" label=\"Category\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item\"></inp-select-group>\r\n                <inp-radio-group name=\"status\" [(value)]=\"item.status\" [options]=\"privacyStatusOptions\" label=\"Status\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item\"></inp-radio-group>\r\n                <inp-textarea-group name=\"description\" [(value)]=\"item.description\" label=\"Description\" placeholder=\"Enter Item Description\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item\"></inp-textarea-group>\r\n            </div>\r\n        </ng-template>\r\n        <ng-template #waitTemplate>\r\n            <div class=\"sys-alert\">\r\n                <h2>Vui lòng chờ...</h2>\r\n            </div>\r\n        </ng-template>\r\n        \r\n        \r\n\r\n    </div>\r\n\r\n</div>","import { Component, OnInit } from '@angular/core';\nimport { BaseGroupComponent } from '../base-group/base-group.component';\n\n@Component({\n  selector: 'activate-number',\n  templateUrl: './activate-number.component.html',\n  styleUrls: ['./activate-number.component.scss']\n})\nexport class ActivateNumberComponent extends BaseGroupComponent implements OnInit {\n\n  constructor() {\n    super()\n  }\n\n  ngOnInit(): void {\n  }\n\n\n}","<div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\" class=\"input-group\">\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"12\">\n        <div class=\"inner-box\">{{config.name | translate}}</div>\n    </div>\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"7\">\n        <div class=\"inner-box text-right\">\n            <nz-input-number [name]=\"config.name\" [nzMin]=\"config.min\" [nzMax]=\"config.max\" [nzStep]=\"config.step\" [(ngModel)]=\"config.value\" (ngModelChange)=\"valChange($event)\"></nz-input-number>\n        </div>\n    </div>\n\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n        <div class=\"inner-box\">\n            <active-switch [name]=\"config.name\" [(value)]=\"config.editable\" (subcribe)=\"onEditable($event)\" ></active-switch>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { NzCollapseModule } from 'ng-zorro-antd/collapse';\n\nimport { WorkspaceComponent } from './workspace/workspace.component';\n\nimport { HeaderComponent } from './workspace/header/header.component';\nimport { SidebarComponent } from './workspace/sidebar/sidebar.component';\n\nimport { TabInfoComponent } from './workspace/sidebar/tab-info/tab-info.component';\nimport { ObjectPropComponent } from '@app/_shared/components/form-group/object-prop/object-prop.component';\nimport { ActiveSwitchComponent } from './workspace/sidebar/tab-meshes/activate-inputs/active-switch/active-switch.component';\nimport { ActivateCheckboxComponent } from './workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-checkbox/activate-checkbox.component';\nimport { MeshActivateInputsComponent } from './workspace/sidebar/tab-meshes/activate-inputs/mesh-activate-inputs/mesh-activate-inputs.component';\nimport { MaterialActivateInputsComponent } from './workspace/sidebar/tab-meshes/activate-inputs/material-activate-inputs/material-activate-inputs.component';\nimport { ActivateTextComponent } from './workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-text/activate-text.component';\nimport { ActivateRangeComponent } from './workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-range/activate-range.component';\nimport { ActivateColorComponent } from './workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-color/activate-color.component';\nimport { ActivateSelectComponent } from './workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-select/activate-select.component';\nimport { ActivateNumberComponent } from './workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-number/activate-number.component';\nimport { ActivateTextureComponent } from './workspace/sidebar/tab-meshes/activate-inputs/input-group/activate-texture/activate-texture.component';\nimport { TabMeshesComponent } from './workspace/sidebar/tab-meshes/tab-meshes.component';\nimport { TabPropertiesComponent } from './workspace/sidebar/tab-properties/tab-properties.component';\nimport { PanelMeshSettingsComponent } from './workspace/sidebar/panel-mesh-settings/panel-mesh-settings.component';\n// import { InpSwitchComponent } from '@app/_shared/components/inputs/inp-switch/inp-switch.component';\nexport const ENTRIES_COMPONENTS = [];\n\n\nexport const COMPONENTS = [\n  WorkspaceComponent,\n  HeaderComponent,\n  SidebarComponent,\n  TabInfoComponent,\n  ObjectPropComponent,\n  ActiveSwitchComponent,\n  ActivateCheckboxComponent,\n  MeshActivateInputsComponent,\n  MaterialActivateInputsComponent,\n  ActivateTextComponent,\n  ActivateRangeComponent,\n  ActivateColorComponent,\n  ActivateTextureComponent,\n  ActivateSelectComponent,\n  ActivateNumberComponent,\n  TabMeshesComponent,\n  TabPropertiesComponent,\n  PanelMeshSettingsComponent\n];\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      {\n        path: ':secret_id/edit',\n        component: WorkspaceComponent,\n      },\n      // {\n      //   path: ':id/use',\n      //   component: WorkspaceComponent,\n      // },\n      // {\n      //   path: 'create',\n      //   component: WorkspaceComponent,\n      // },\n      // {\n      //   path: '**',\n      //   redirectTo: 'create',\n      // },\n    ],\n  },\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [RouterModule],\n})\nexport class ItemRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { BaseGroupComponent } from '../base-group/base-group.component';\n\n@Component({\n  selector: 'activate-text',\n  templateUrl: './activate-text.component.html',\n  styleUrls: ['./activate-text.component.scss']\n})\nexport class ActivateTextComponent extends BaseGroupComponent implements OnInit {\n\n  constructor() {\n    super()\n  }\n\n  ngOnInit(): void {\n  }\n\n\n}\n","<div class=\"input-group text-group\">\n    <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\">\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"19\">\n            <div class=\"inner-box\">{{config.name | translate}}</div>\n        </div>\n\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n            <div class=\"inner-box\">\n                <active-switch [name]=\"config.name\" [(value)]=\"config.editable\" (subcribe)=\"onEditable($event)\"></active-switch>\n            </div>\n        </div>\n    </div>\n    <div class=\"input-wrapper\">\n        <input nz-input [name]=\"config.name\" placeholder=\"{{'Enter ' + config.name | translate}}\" [(ngModel)]=\"config.value\" (ngModelChange)=\"valChange($event)\" />\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { BaseGroupComponent } from '../base-group/base-group.component';\n\n@Component({\n  selector: 'activate-texture',\n  templateUrl: './activate-texture.component.html',\n  styleUrls: ['./activate-texture.component.scss']\n})\nexport class ActivateTextureComponent extends BaseGroupComponent implements OnInit {\n\n  oldAttachValue: any = null;\n\n  constructor() {\n    super();\n  }\n\n  ngOnInit(): void {\n    if(this.config.attach){\n      this.oldAttachValue = this.config.attach.value;\n    }\n  }\n  \n  onAttachChange(event){\n    if(this.oldAttachValue != event.value){\n      \n      this.config.attach.value = event.value;\n      this.subcribe.emit({\n        name: this.config.attach.name,\n        value: event.value,\n        old: this.oldAttachValue\n      });\n      this.oldAttachValue = event.value\n    }\n    \n  }\n}\n","<div class=\"input-group\">\n    <div class=\"inner-box\">{{config.name | translate}}</div>\n    <div *ngIf=\"config.attach; then attachBlock else simpleBlock\"></div>\n    <ng-template #attachBlock>\n        <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\">\n            <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n                <div class=\"inner-box\">\n                    <inp-texture [name]=\"config.name\" [(value)]=\"config.value\" (subcribe)=\"onChange($event)\"></inp-texture>\n                </div>\n            </div>\n            <div nz-col class=\"gutter-row\" [nzSpan]=\"14\">\n                <inp-range  [name]=\"config.attach.name\" [min]=\"config.attach.min\" [max]=\"config.attach.max\" [step]=\"config.attach.step\" [(value)]=\"config.attach.value\" (subcribe)=\"onAttachChange($event)\"></inp-range>\n            </div>\n    \n            <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n                <div class=\"inner-box\">\n                    <active-switch [name]=\"config.name\" [(value)]=\"config.editable\" (subcribe)=\"onEditable($event)\"></active-switch>\n                </div>\n            </div>\n        </div>\n        \n    </ng-template>\n    <ng-template #simpleBlock>\n        <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\">\n            <div nz-col class=\"gutter-row\" [nzSpan]=\"19\">\n                <div class=\"inner-box\">\n                    <inp-texture [name]=\"config.name\" [(value)]=\"config.value\" (subcribe)=\"onChange($event)\"></inp-texture>\n                </div>\n            </div>\n            <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n                <div class=\"inner-box\">\n                    <active-switch [name]=\"config.name\" [(value)]=\"config.editable\" (subcribe)=\"onEditable($event)\"></active-switch>\n                </div>\n            </div>\n        </div>\n        \n    </ng-template>\n    \n</div>\n\n","import { Component, OnInit } from '@angular/core';\nimport { BaseInputComponent } from '@app/_shared/components/inputs/base-input/base-input.component';\n\n@Component({\n  selector: 'active-switch',\n  templateUrl: './active-switch.component.html',\n  styleUrls: ['./active-switch.component.scss']\n})\nexport class ActiveSwitchComponent extends BaseInputComponent implements OnInit {\n\n  constructor() {\n    super();\n  }\n\n  ngOnInit(): void {\n  }\n\n  \n  onChangeState(event){\n    this.emit();\n  }\n\n}\n","<nz-switch [(ngModel)]=\"value\" [nzCheckedChildren]=\"checkedTemplate\" [nzUnCheckedChildren]=\"unCheckedTemplate\" (ngModelChange)=\"onChangeState($event)\"></nz-switch>\n<ng-template #checkedTemplate><i nz-icon nzType=\"check\"></i></ng-template>\n<ng-template #unCheckedTemplate><i nz-icon nzType=\"close\"></i></ng-template>\n","import { AfterViewInit, ChangeDetectorRef, Component, OnDestroy, OnInit } from '@angular/core';\nimport { ItemStorageService } from '@app/item-page/_store/storage.service';\nimport { ItemEditorService } from '@app/_3D/services/item-editor.service';\nimport { assignValue, assignWithout } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { ItemService } from '@app/_store/item';\nimport {EventManagerService} from '@app/_core/services/event-manager.service';\n@Component({\n    selector: 'app-tab-properties',\n    templateUrl: './tab-properties.component.html',\n    styleUrls: ['./tab-properties.component.scss']\n})\nexport class TabPropertiesComponent extends BaseComponent implements OnInit, OnDestroy {\n    // item: ItemModel; // chứa item hiện tại\n    // setting quan trong\n    settings: any = {};\n    settingOriginData: any = {};\n\n    index: number = 0;\n\n    constructor(\n        private storage: ItemStorageService,\n        private app: ItemEditorService,\n        private itemService: ItemService,\n        private cd: ChangeDetectorRef,\n        private events: EventManagerService\n    ) {\n        super();\n        this.setDefaultSettingData();\n        // this.state.onChange(\"item\", data => this.updateItemData(data as ItemModel), true);\n        this.storage.subcribe(\"modelSettings\", settings => this.asyncSettings(settings), true);\n        \n    }\n\n    onInit(): void {\n\n    }\n\n    onDestroy() {\n\n    }\n\n    // afterViewInit(){\n    //     this.viewInited = true;\n    // }\n\n    \n\n    setDefaultSettingData() {\n        this.settings.props = {\n            castShadow: false,\n            receiveShadow: false,\n            rotation: { x: 0, y: 0, z: 0 },\n            scale: { x: 1, y: 1, z: 1 },\n        };\n    }\n\n\n\n    // dong bo setting cua item voi tab\n    asyncSettings(settings: any) {\n        this.settingOriginData = settings;\n        assignWithout(this.settings, settings, ['meshes']);\n        this.doAfterViewInit(()=>{\n            this.events.emit({\n                type: \"object.props.change\",\n                props: this.settings.props\n            })\n            this.cd.detectChanges();\n            this.refresh(200);\n        }, 50);\n    }\n\n    updateProps(props) {\n        assignValue(this.settings.props, props);\n        this.app.updateSettings(this.settings, { props: true });\n\n    }\n\n}\n","<div class=\"tab-inner\">\n    <h2>{{ 'Properties' | translate }}</h2>\n    <div class=\"setting-form store\" *ngIf=\"__show__\">\n        <object-prop [props]=\"settings.props\" [index]=\"index\" (onUpdate)=\"updateProps($event)\">\n        </object-prop>\n\n    </div>\n\n</div>","\r\nimport { ItemEditorService } from '@app/_3D/services/item-editor.service';\r\nimport { CategoryService } from '@app/_store/category';\r\nimport { ItemService, ItemTableService } from '@app/_store/item';\r\nimport { ItemEventService } from './event.service';\r\nimport { ItemStorageService } from './storage.service';\r\n\r\nexport const services = [\r\n  ItemService,\r\n  CategoryService,\r\n  ItemEditorService,\r\n  ItemStorageService,\r\n  ItemTableService,\r\n  ItemEventService\r\n];\r\n","export const ItemOptions = {\r\n    renderer: {\r\n        autoStart: false,\r\n    \r\n        params: {\r\n            antialias: true\r\n        },\r\n        shadowMap: {\r\n            enabled: true\r\n        },\r\n        outputEncoding: \"{THREE.sRGBEncoding}\"\r\n    },\r\n    composer: {\r\n        effect1: \"bloom\",\r\n        params: {\r\n            options: {\r\n                blendFunction: 16,\r\n                luminanceThreshold: 0.9,\r\n                luminanceSmoothing: 0.025,\r\n                resolutionScale: 0.5,\r\n                intensity: 1\r\n            }\r\n        }\r\n    },\r\n    shadow: {\r\n        pcss: false\r\n    },\r\n    scene: {\r\n        background: {\r\n            type1: \"file\",\r\n            format: \"hdr\",\r\n            path: \"/textures/equirectangular/\",\r\n            file: \"royal_esplanade_1k.hdr\"\r\n\r\n        },\r\n        env0: {\r\n            type: \"room\"\r\n        }\r\n    },\r\n    camera: {\r\n        fov: 45,\r\n        near: 0.001,\r\n        far: 100000,\r\n        position: {\r\n            x: 0,\r\n            y: 0.3,\r\n            z: 1\r\n        },\r\n        \"@lookAt\": [\r\n            0,\r\n            3,\r\n            0\r\n        ],\r\n        autofit: true\r\n    },\r\n    control: {\r\n        type: \"orbit\",\r\n        autoUpdateScene: true,\r\n        maxPolarAngle0: Math.PI * 0.52,\r\n        maxDistance: 120000,\r\n        enableDamping: true,\r\n        dampingFactor: 0.08,\r\n        constraint: {\r\n            smoothZoom: true,\r\n            zoomDampingFactor: 0.2,\r\n            smoothZoomSpeed: 5.0\r\n        }\r\n    },\r\n    lights: [\r\n        {\r\n            type: \"ambient\",\r\n            params: [\r\n                \"#ffffff\",\r\n                0.5\r\n            ]\r\n        },\r\n        {\r\n            type: \"point\",\r\n            params: [\r\n                \"#4444cc\",\r\n                0.3\r\n            ],\r\n            props: {\r\n                position: {\r\n                    x: 0,\r\n                    y: -10\r\n                }\r\n            }\r\n        },\r\n        {\r\n            type: \"Directionallight\",\r\n            params: {\r\n                color: \"#FFE0B5\",\r\n                intensity: 0.4\r\n            },\r\n            props: {\r\n                position: {\r\n                    x: 40,\r\n                    y: 40,\r\n                    z: 30\r\n                },\r\n                castShadow: true,\r\n                shadow: {\r\n                    mapSize: {\r\n                        width: 4096,\r\n                        height: 4096\r\n                    },\r\n                    camera: {\r\n                        near: 0.1,\r\n                        far: 100,\r\n                        left: 10,\r\n                        right: -10,\r\n                        top: 10,\r\n                        bottom: -10\r\n                    },\r\n                    darkness: 0.1,\r\n                    bias: -0.0002,\r\n                    radius: 5\r\n                }\r\n            }\r\n        },\r\n        {\r\n            type: \"Directionallight\",\r\n            params: {\r\n                color: \"#FFE0B5\",\r\n                intensity: 0.4\r\n            },\r\n            props: {\r\n                position: {\r\n                    x: 60,\r\n                    y: 30,\r\n                    z: 30\r\n                }\r\n            }\r\n        }\r\n    ],\r\n    objects: [\r\n\r\n    ]\r\n}\r\n","import { Component, Input, OnInit, Output, EventEmitter, ChangeDetectorRef, OnChanges, SimpleChanges } from '@angular/core';\nimport { assignValue, isObject } from '@app/_core/helpers/utils';\nimport { EventManagerService } from '@app/_core/services/event-manager.service';\n\n@Component({\n    selector: 'object-prop',\n    templateUrl: './object-prop.component.html',\n    styleUrls: ['./object-prop.component.scss']\n})\nexport class ObjectPropComponent implements OnInit, OnChanges {\n    @Input() props: any = {};\n    @Input() index: number = 0;\n    @Output() onUpdate = new EventEmitter<any>();\n    events: EventManagerService = null;\n    constructor(private cd: ChangeDetectorRef, private eventService: EventManagerService) {\n        this.events = this.eventService;\n    }\n\n    emitPropChange(){\n        this.eventService.emit({\n            type: \"props.rotation.change\",\n            value: this.props.rotation\n        });\n        this.eventService.emit({\n            type: \"props.vector.change\",\n            value: this.props.scale\n        });\n        \n    }\n\n    ngOnInit(): void {\n\n        this.events.on(\"object.props.change\", e => {\n            assignValue(this.props, e.props);\n            this.emitPropChange();\n            this.cd.detectChanges();\n        })\n        \n        setTimeout(() => {\n            this.emitPropChange();\n            this.cd.detectChanges();\n        }, 10);\n        \n        this.cd.detectChanges();\n    }\n\n    \n    ngOnChanges(changes: SimpleChanges): void {\n        this.emitPropChange();\n        this.cd.detectChanges();\n\n    }\n\n\n    onInputChange(event){\n        if(event && isObject(event) && event.name) {\n            if(isObject(this.props[event.name]) && isObject(event.value)){\n                assignValue(this.props[event.name], event.value);\n            }\n            else{\n                this.props[event.name] = event.value;\n            }\n            this.emitUpdate();\n        }\n    }\n\n    emitUpdate(){\n        this.onUpdate.emit(this.props);\n    }\n}\n","<div *ngIf=\"props\">\n    \n    <inp-switch-group     name=\"castShadow\"           [(value)]=\"props.castShadow\"      label=\"Cast Shadow\"      (subcribe)=\"onInputChange($event)\"></inp-switch-group>\n\n    <inp-switch-group     name=\"receiveShadow\"        [(value)]=\"props.receiveShadow\"   label=\"Receive Shadow\"   (subcribe)=\"onInputChange($event)\"></inp-switch-group>\n\n    <inp-vector3-group    name=\"scale\"                [(value)]=\"props.scale\"           label=\"Scale\"            (subcribe)=\"onInputChange($event)\" [events]=\"events\"></inp-vector3-group>\n    \n    <inp-rotation-group   name=\"rotation\"             [(value)]=\"props.rotation\"        label=\"Rotation\"         (subcribe)=\"onInputChange($event)\" [events]=\"events\"></inp-rotation-group>\n    \n</div>","import { Component, OnInit } from '@angular/core';\nimport { BaseGroupComponent } from '../base-group/base-group.component';\n\n@Component({\n  selector: 'activate-select',\n  templateUrl: './activate-select.component.html',\n  styleUrls: ['./activate-select.component.scss']\n})\nexport class ActivateSelectComponent extends BaseGroupComponent implements OnInit {\n\n  constructor() {\n    super()\n  }\n\n  ngOnInit(): void {\n  }\n\n  onSelect(event){\n    this.config.value = event.value;\n    this.onChange(event);\n  }\n\n}","<div class=\"input-group text-group\">\n    <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\">\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"19\">\n            <div class=\"inner-box\">{{config.name | translate}}</div>\n        </div>\n\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n            <div class=\"inner-box\">\n                <active-switch [name]=\"config.name\" [(value)]=\"config.editable\" (subcribe)=\"onEditable($event)\"></active-switch>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"input-wrapper\">\n        <inp-select [name]=\"config.name\" [(value)]=\"config.value\" [options]=\"config.options\" (subcribe)=\"onSelect($event)\"></inp-select>\n    </div>\n</div>","/**\n * Stateservice sử dụng cho angular hoặc bất kỳ một core nào khác\n * @author DoanLN\n */\nimport { Injectable } from '@angular/core';\nimport { ItemEditorService } from '@app/_3D/services/item-editor.service';\nimport { EventManagerService } from '@app/_core/services/event-manager.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ItemEventService extends EventManagerService {\n    app: ItemEditorService = null;\n    constructor(){\n        super();\n    }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { isBoolean, isObject, objectHasKey } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\n\n@Component({\n    template: ''\n})\nexport abstract class BaseGroupComponent extends BaseComponent {\n\n    @Input() config: any = null;\n\n    @Output() subcribe = new EventEmitter<{ name?: string, value?: any, [x: string]: any }>();\n    @Output() editable = new EventEmitter<{ name: string, status: boolean }>();\n\n    parseValue(value) {\n        if (objectHasKey(this.config, \"valueType\")) {\n            var vt = this.config.valueType;\n            switch (vt) {\n                case \"number\":\n                    return Number(value);\n                    break;\n\n                case 'boolean':\n                    return isBoolean(value) ? value : Boolean(value);\n                    break;\n                default:\n                    break;\n            }\n        }\n\n        return value;\n    }\n\n    onChange(event) {\n        if (isObject(event) && Object.prototype.hasOwnProperty.call(event, 'value')) {\n            this.config.value = event.value;\n        }\n\n        this.subcribe.emit({\n            value: this.parseValue(this.config.value),\n            name: this.config.name,\n            editable: this.config.editable\n        });\n    }\n\n    onEditable(event) {\n        this.config.editable = !!event.value;\n        this.editable.emit({\n            name: this.config.name,\n            status: this.config.editable\n        })\n    }\n\n    valChange(value) {\n        this.onChange({ value });\n    }\n\n\n}\n","import { Component, NgZone, OnInit, ChangeDetectorRef, ViewEncapsulation, AfterViewInit, OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport createClass, { _class } from '@app/_core/helpers/es5.class';\r\n\r\nimport { ItemEditorService } from '@app/_3D/services/item-editor.service';\r\nimport { ItemOptions } from '@app/_3D/data/options/item';\r\nimport { ItemStorageService } from '../_store/storage.service';\r\nimport { ItemDefaultData, ItemModel, ItemService, ItemTableService } from '@app/_store/item';\r\nimport { CategoryService } from '@app/_store/category';\r\nimport { ViewportService } from '@app/_shared/components/viewport/viewport.service';\r\nimport { assignValue, assignWithout, isEmpty, isString, Str } from '@app/_core/helpers/utils';\r\nimport { EditorToolbarService } from '@app/_shared/components/viewport/editor-toolbar/editor-toolbar.service';\r\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\r\nimport { ItemEventService } from '../_store/event.service';\r\nimport { VectorControlsService } from '@app/_shared/components/viewport/vector-controls/vector-controls.service';\r\nimport { getConfig } from '@app/_core/config';\r\nimport { getTaskManager, runTask } from '@app/_core/tasks';\r\n// import { ItemStateService } from '../_store/state.service';\r\n\r\n@Component({\r\n    selector: 'app-workspace',\r\n    templateUrl: './workspace.component.html',\r\n    styleUrls: ['../../../styles/design/_index.scss', '../../../styles/item/_index.scss', './workspace.component.scss'],\r\n    encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class WorkspaceComponent extends BaseComponent implements OnInit, AfterViewInit, OnDestroy {\r\n    id: number = 0;\r\n    secret_id: string = \"\";\r\n    mode: string = 'create';\r\n    isLoading: boolean = true;\r\n\r\n    app: ItemEditorService = null;\r\n    subEventService: ItemEventService = null;\r\n    wsKey: string = \"itemWorkspace\";\r\n    subEditorToolbar: EditorToolbarService = null;\r\n    subViewport: ViewportService = null;\r\n    \r\n    constructor(\r\n        private activatedRoute: ActivatedRoute,\r\n        private itemService: ItemService,\r\n        // private table: ItemTableService,\r\n        private itemEditor: ItemEditorService,\r\n        private categoryService: CategoryService,\r\n        private storage: ItemStorageService,\r\n        private viewportService: ViewportService,\r\n        private editorToolbar: EditorToolbarService,\r\n        private events: ItemEventService,\r\n        private vectorControls: VectorControlsService\r\n    ) {\r\n        super();\r\n        this.subEventService = events.sub(this.wsKey);\r\n        // this.moduleKey = Str.rand();\r\n        this.subEditorToolbar = editorToolbar.sub(this.wsKey);\r\n        this.subViewport = viewportService.sub(this.wsKey);\r\n        \r\n        this.vectorControls = vectorControls.sub(this.workspaceKey);\r\n        this.app = itemEditor;\r\n        this.subEventService.app = itemEditor;\r\n        this.storage.assign({\r\n            item: {},\r\n            modelData: null,\r\n            modelSettings: {},\r\n\r\n        });\r\n        this.storage.assign('editorMode', this.mode, mode => this.mode = mode);\r\n\r\n        this.categoryService.getAll({ s: \"\" }).subscribe(data => {\r\n            this.storage.setState(\"categories\", data.data);\r\n        });\r\n\r\n        this.registerEventService(itemEditor, {\r\n            \"model.added\": () => {\r\n                this.storage.modelSettings = itemEditor.data.item.settings;\r\n            },\r\n            \"save.clicked\": e => this.onClickSave(e),\r\n            \"editor.attach:mesh\": e => this.subEventService.emit({type: \"showmeshpanel\", mesh: e.mesh})\r\n        });\r\n\r\n        \r\n        this.subViewport.emit({\r\n            type: 'app.set',\r\n            app: this.itemEditor\r\n        }, true);\r\n\r\n        \r\n        this.itemEditor.setOptions(ItemOptions);\r\n        this.itemEditor.init();\r\n\r\n\r\n\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        this.app.updateCanvasSize();\r\n    }\r\n\r\n    onInit() {\r\n        \r\n        this.activeEventServiceRegistered(this.itemEditor);\r\n        this.secret_id = this.activatedRoute.snapshot.paramMap.get(\"secret_id\");\r\n        if (this.secret_id) {\r\n            if (this.secret_id == getConfig('data.item.secret_id')) {\r\n                var data = getConfig('data.item');\r\n                this.storage.editorMode = 'update';\r\n                this.id = data.id;\r\n                this.storage.item = data;\r\n                this.isLoading = false;\r\n                this.setItemData(data);\r\n                this.vectorControls.emit({\r\n                    type: \"show\",\r\n                    value: true\r\n                }, null, true);\r\n            }else{\r\n                this.storage.editorMode = 'notfound';\r\n            }\r\n\r\n\r\n        } else {\r\n            this.storage.editorMode = 'notfound';\r\n            this.isLoading = false;\r\n        }\r\n\r\n\r\n        this.editorToolbar.show({\r\n            saveThumbnail: e => this.saveThumbnail()\r\n        });\r\n\r\n    }\r\n    onDestroy() {\r\n        this.deactiveEventServiceRegistered(this.itemEditor);\r\n        this.itemEditor.removeModelItem();\r\n        this.editorToolbar.hide();\r\n        this.vectorControls.emit({\r\n            type: \"show\",\r\n            value: false\r\n        }, null, true);\r\n\r\n\r\n    }\r\n\r\n\r\n    showLoading() {\r\n        if (!this.isFocus) return false;\r\n        this.viewportService.emit(\"show:loading\", null, true);\r\n        this.events.emit(\"show:sidebar-lock\");\r\n    }\r\n    hideLoading() {\r\n        if (!this.isFocus) return false;\r\n        this.viewportService.emit(\"hide:loading\", true, true);\r\n        this.events.emit(\"hide:sidebar-lock\");\r\n    }\r\n    onClickSave(event) {\r\n        if (!this.isFocus) return;\r\n        let data = this.itemEditor.data.item;\r\n        if (this.mode == \"update\") {\r\n            let id = data.id;\r\n            // var s = this.table.update(data, { id: id });\r\n            this.itemService.update(data).subscribe(d => console.log(d));\r\n        }\r\n    }\r\n    saveThumbnail() {\r\n        if (!this.isFocus) return false;\r\n        this.app.editor.unselect();\r\n        this.showLoading();\r\n        setTimeout(() => {\r\n            this.app.capture(image => {\r\n                this.app.data.item.thumbnail = image;\r\n                this.itemService.updateThumbnail(this.app.data.item).subscribe(rs => {\r\n                    // console.log(\"Update Thành công\")\r\n                });\r\n                this.hideLoading();\r\n            }, () => this.hideLoading());\r\n        }, 1000);\r\n    }\r\n    setItemData(data: ItemModel) {\r\n        if (!this.isFocus) return;\r\n        this.itemEditor.addModelItem(data, obj => {\r\n            this.storage.modelData = obj;\r\n            runTask(\"model-item.complete\", [obj]);\r\n        }, () => {\r\n            runTask(\"model-item.error\", []);\r\n        }, (p) => {\r\n            runTask(\"model-item.progress\", [p]);\r\n        });\r\n    }\r\n\r\n}\r\n","<nz-layout>\r\n    <nz-header>\r\n        <app-header></app-header>\r\n    </nz-header>\r\n    <nz-content>\r\n        <ng-container *ngIf=\"isLoading; then loadingTemplate; else editorTemplate\"></ng-container>\r\n        <ng-template #loadingTemplate>\r\n            <h3>Vui lòng chờ giây lát</h3>\r\n        </ng-template>\r\n        <ng-template #editorTemplate>\r\n            <ng-container *ngIf=\"mode=='notfound'; then notFoundTemplate; else editorTemplate\"></ng-container>\r\n            <ng-template #notFoundTemplate>\r\n                <div class=\"not-found\">\r\n                    Item Not Found\r\n                </div>\r\n            </ng-template>\r\n            <ng-template #editorTemplate>\r\n\r\n                <nz-layout class=\"inner-layout\">\r\n                    <nz-sider nzWidth=\"380px\" nzTheme=\"dark\">\r\n                        <app-sidebar></app-sidebar>\r\n                    </nz-sider>\r\n                    <nz-content>\r\n                        <section id=\"content\">\r\n                            <app-viewport></app-viewport>\r\n                        </section>\r\n                    </nz-content>\r\n                </nz-layout>\r\n            </ng-template>\r\n\r\n        </ng-template>\r\n\r\n\r\n    </nz-content>\r\n</nz-layout>\r\n<modal-image-library></modal-image-library>\r\n<app-panel-mesh-settings></app-panel-mesh-settings>","import createClass, { _class } from '@app/_core/helpers/es5.class';\r\nimport { assignValue, isArray, isEmail, isEmpty, isNumber, isObject, isString } from '@app/_core/helpers/utils';\r\n\r\n\r\nimport Scene from '../traits/scene';\r\nimport Camera from '../traits/camera';\r\nimport Renderer from '../traits/renderer';\r\nimport Controls from '../traits/controls';\r\nimport GridHelper from '../traits/grid-helper';\r\nimport Lights from '../traits/lights';\r\nimport ObjectManager from '../traits/object-manager';\r\nimport { EventDispatcher } from '../libs/event-dispatcher';\r\n\r\n\r\nimport { Geometries, LightLib, LoaderLib, Materials, Meshes } from '../libs/three.libs';\r\n\r\nimport Loader from '../modules/loader';\r\nimport Composer from '../modules/composer';\r\nimport DynamicShadows from '../modules/dynamic-shadows'\r\nimport Models from '../libs/models';\r\nimport { EngineClass } from './engine.doc';\r\nimport { Floor } from '../traits/floor';\r\n\r\n\r\nconst ItemEngine = _class(\"ItemEngine\")\r\n    .uses(\r\n        Scene,\r\n        Camera,\r\n        Renderer,\r\n        Controls,\r\n        Models,\r\n        Lights,\r\n        Floor,\r\n        ObjectManager,\r\n        EventDispatcher,\r\n        GridHelper\r\n    )({\r\n        data: {},\r\n        options: {},\r\n        Mesh: {},\r\n        Geometry: {},\r\n        Material: {},\r\n        Light: {},\r\n        Composer: {},\r\n        Shadows: {},\r\n        inited: false,\r\n        /**\r\n         * Hàm khởi tạo\r\n         * @param {Dom.Query} viewport \r\n         * @param {*} data \r\n         */\r\n        constructor: function (config?: any) {\r\n            var data = isObject(config) ? config.data || config : {};\r\n            if (data && isObject(data)) {\r\n                this.data = data;\r\n            }\r\n            this.Geometry = Geometries;\r\n            this.Material = Materials;\r\n            this.Mesh = Meshes;\r\n            this.Light = LightLib;\r\n            this.Loader = new Loader(this);\r\n        },\r\n\r\n\r\n\r\n        renew: function (data) {\r\n            this.data = assignValue({}, data);\r\n            // this.inited = false;\r\n\r\n        },\r\n\r\n\r\n        reset: function (data_) {\r\n            if (isObject(data_)) this.data = assignValue({}, data_);\r\n            this.resetObjects();\r\n            this.resetLights();\r\n\r\n            if (this.data) {\r\n                var data = this.data;\r\n                if (isObject(data.scene)) {\r\n                    var scene = data.scene;\r\n                    this.updateSceneSettings(scene);\r\n                    if (isObject(scene.background) && !isEmpty(scene.background))\r\n                        this.setBackground(scene.floor);\r\n                    if (isObject(scene.floor) && !isEmpty(scene.floor))\r\n                        this.updateSceneFloorSetting(scene.floor);\r\n                    if (isObject(scene.size) && !isEmpty(scene.size))\r\n                        this.updateSceneSettings(scene.size);\r\n                }\r\n                if(isObject(data.shadow))\r\n                    this.updateShadowSettings(data.shadow);\r\n                if(isObject(data.control))\r\n                    this.updateControlSettings(data.control);\r\n                if(isObject(data.camera))\r\n                    this.updateMainCameraSettings(data.camera, true);\r\n            }\r\n            \r\n            this.setData(this.data);\r\n        },\r\n\r\n        startup: function startup(data?: any) {\r\n            if (this.inited) return this;\r\n\r\n\r\n            if (data && isObject(data)) {\r\n                this.data = data;\r\n            }\r\n\r\n            this.emit('startup', this.data);\r\n\r\n            this.initScene(this.data.scene || {});\r\n            this.setMainCamera(this.data.camera || {});\r\n            this.createRenderer(this.data.renderer || {});\r\n\r\n            this.camera.updateProjectionMatrix();\r\n            this.setMainControl(this.data.control || {});\r\n            if (this.data.composer && !isEmail(this.data.composer)) {\r\n                this.composer = new Composer(this, this.data.composer);\r\n            }\r\n            this.Shadows = new DynamicShadows(this, this.data.shadow || this.data.shadows || {});\r\n\r\n\r\n            var self = this;\r\n            this.setData(this.data);\r\n\r\n            this.inited = true;\r\n            // this.Shadows.init();\r\n            self.ready();\r\n            if (!this.autoRenderStatus) {\r\n                setTimeout(function () {\r\n                    self.render();\r\n                }, 500);\r\n            }\r\n\r\n            return this;\r\n\r\n        },\r\n\r\n        setData: function (data?: any) {\r\n            if (data.lights && isArray(data.lights)) {\r\n                this.addLights(data.lights);\r\n            }\r\n            if (data.models && isArray(data.models)) {\r\n                this.addModels(data.models);\r\n            }\r\n            if (data.meshes && isArray(data.meshes)) {\r\n                this.addMeshes(data.meshes);\r\n            }\r\n            if (data.objects && (isArray(data.objects) || isObject(data.objects))) {\r\n                this.addObjects(data.objects);\r\n            }\r\n            if (data.grids && isArray(data.grids)) {\r\n                this.addGrids(data.grids);\r\n            }\r\n            if (data.cameras && isArray(data.cameras)) {\r\n                this.addCameras(data.cameras);\r\n            }\r\n            if (data.floor && isArray(data.floor)) {\r\n                this.addFloor(data.floor);\r\n            }\r\n            if (data.controls && isArray(data.controls)) {\r\n                this.addControls(data.controls);\r\n            }\r\n            this.emit('setdata', data);\r\n\r\n        }\r\n    }) as EngineClass;\r\n\r\n\r\nexport default ItemEngine;\r\nexport { ItemEngine }","export * from './reducers';\r\n// export * from './actions';\r\nexport * from './effects';\r\n// export * from './selectors';\r\nexport * from './services';\r\n// export * from './item';\r\n// export * from './category';\r\n","import { Component, ChangeDetectorRef, ElementRef, ViewChild, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { ItemStorageService } from '@app/item-page/_store/storage.service';\r\nimport { ItemEditorService } from '@app/_3D/services/item-editor.service';\r\nimport { getConfig } from '@app/_core/config';\r\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\r\nimport { ItemService } from '@app/_store/item';\r\nimport { Subject, Observable } from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'app-header',\r\n    templateUrl: './header.component.html',\r\n    styleUrls: ['./header.component.scss'],\r\n})\r\nexport class HeaderComponent extends BaseComponent implements OnInit {\r\n    @ViewChild('inputElement', { static: false }) inputElement?: ElementRef;\r\n\r\n    @Output() clickSave = new EventEmitter<any>();\r\n\r\n    renderData$: Observable<Blob>;\r\n    renderLoading$: Observable<boolean>;\r\n\r\n    isVisible = false;\r\n    data: any;\r\n    percent = 0;\r\n    renderLoading = true;\r\n\r\n    downloadUrl: string = 'javascript:void(0);';\r\n    downloadAvailable: boolean = false;\r\n\r\n    private unsubscribe: Subject<void> = new Subject();\r\n\r\n\r\n\r\n    logo = getConfig('urls.logo_url');\r\n    link = getConfig('urls.logo_link');\r\n    \r\n    constructor(private storage: ItemStorageService, private service: ItemService, private editor: ItemEditorService) {\r\n        super();\r\n        this.storage.subcribe('item', (data) => {\r\n            if (data && data.download_source_url) {\r\n                this.downloadAvailable = true;\r\n                this.downloadUrl = data.download_source_url;\r\n            }\r\n        }, true);\r\n    }\r\n\r\n    onInit() {\r\n\r\n    }\r\n\r\n    download(event: Event) {\r\n        if (!this.downloadAvailable) {\r\n            event.preventDefault();\r\n            return false;\r\n        }\r\n    }\r\n\r\n    save(event) {\r\n        this.editor.emit(\"save.clicked\");\r\n    }\r\n\r\n    handleOk(): void {\r\n        this.isVisible = false;\r\n    }\r\n\r\n    handleCancel(): void {\r\n        this.isVisible = false;\r\n    }\r\n\r\n    onClickUndo() {\r\n        // this.editor.historyManager.undo();\r\n    }\r\n    onClickRedo() {\r\n        // this.editor.historyManager.redo();\r\n    }\r\n}\r\n","<div class=\"group-first\">\r\n\t<!-- <a [routerLink]=\"['/']\">\r\n\t\t<img class=\"logo\" src=\"/assets/images/logo-header.svg\" alt=\"Cretip logo\" />\r\n\t</a> -->\r\n\r\n\t<a href=\"{link}\" target=\"_blank\">\r\n\t\t<img class=\"logo\" src=\"{{logo}}\" alt=\"Cretip logo\" />\r\n\t</a>\r\n\t<div class=\"group-center\">\r\n\t\t<!-- <button class=\"btn btn-ghost btn-icon\" nz-button nzType=\"text\" (click)=\"onClickUndo()\">\r\n\t\t\t<img src=\"/assets/icons/new-design/header/undo.svg\" />\r\n\t\t</button>\r\n\t\t<button class=\"btn btn-ghost btn-icon\" nz-button nzType=\"text\" (click)=\"onClickRedo()\">\r\n\t\t\t<img src=\"/assets/icons/new-design/header/redo.svg\" />\r\n\t\t</button> -->\r\n\r\n\t\t\r\n\t</div>\r\n</div>\r\n\r\n<div class=\"group-last\">\r\n\t<!-- <a class=\"btn btn-ghost btn-icon\" nz-button nzType=\"text\" style=\"margin-right: 32px\" href=\"{{downloadUrl}}\" (click)=\"download($event)\">\r\n\t\t<img src=\"/assets/icons/new-design/header/download.svg\" />\r\n\t\t<span>Download</span>\r\n\t\t\r\n\t</a> -->\r\n\t<button class=\"btn btn-primary btn-icon\" nz-button nzType=\"text\" (click)=\"save($event)\">\r\n\t\t<img src=\"/assets/icons/new-design/header/save.svg\" />\r\n\t\t<span>Save</span>\r\n\t</button>\r\n\t<!-- <nz-avatar nzText=\"U\" [nzSize]=\"28\" style=\"color: #4ef; background-color: #fde3cf\"></nz-avatar> -->\r\n</div>","// import { CollectionEffects } from './collection/effects';\r\n\r\nexport const effects: any[] = [\r\n  // CollectionEffects,\r\n  \r\n];\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { EffectsModule } from '@ngrx/effects';\nimport { StoreModule } from '@ngrx/store';\n\nimport { SharedModule } from '../_shared/shared.module';\nimport { AppUIModule } from '../app-ui.module';\nimport { AuthModule } from '../auth/auth.module';\n\nimport { ItemRoutingModule, COMPONENTS, ENTRIES_COMPONENTS } from './item-routing.module';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport { reducers, effects, services } from './_store';\nimport { NzCollapseModule } from 'ng-zorro-antd/collapse';\n\n@NgModule({\n  declarations: [...COMPONENTS, ...ENTRIES_COMPONENTS],\n  imports: [\n    DragDropModule,\n    AuthModule,\n    CommonModule,\n    AppUIModule,\n    SharedModule,\n    ItemRoutingModule,\n    StoreModule.forFeature('itemStore', reducers),\n    EffectsModule.forFeature(effects),\n    NzCollapseModule,\n  ],\n  entryComponents: ENTRIES_COMPONENTS,\n  providers: [...services],\n})\nexport class ItemModule {}\n","import { ActionReducerMap, createFeatureSelector } from '@ngrx/store';\r\nexport interface ItemState {\r\n}\r\n\r\nexport const reducers: ActionReducerMap<ItemState> = {\r\n};\r\n\r\nexport const selectContainerState = createFeatureSelector<ItemState>('itemStore');\r\n","import { Injectable } from '@angular/core';\nimport { assignValue, assignWithout, degreeToRadians, isArray, isBoolean, isNumber, isObject, isString, Str } from '@app/_core/helpers/utils';\nimport { FG_ITEM } from '@app/_shared/shared.type';\nimport Viewport from '../components/viewport';\nimport ItemEngine from '../engines/item.engine';\nimport ItemEditor from '../libs/item-editor';\nimport { LoaderLib } from '../libs/three.libs';\nimport { iEditor } from '../store/docs';\nimport { App3DService } from './app-3d.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ItemEditorService extends App3DService {\n\n\n    engineClass = ItemEngine;\n    editorClass = ItemEditor;\n    _editor: iEditor;\n    \n\n    set editor(editor: iEditor) {\n        this._editor = editor;\n        this.dispatchEvent({\n            type: \"seteditor\",\n            eventData: editor\n        });\n\n\n    }\n    get editor() {\n        return this._editor;\n    }\n\n    constructor() {\n        super();\n\n        \n        this.start();\n    }\n\n    \n    start() {\n        var self = this;\n        \n        this.on('init', () => this.addControls(this.engine.control));\n        this.on('engine.set', () => {\n\n            LoaderLib.setEngine(this.engine);\n            const EC = this.editorClass;\n            const editor = new EC(this, this.engine);\n\n            this.editor = editor;\n            this.controls = [];\n\n            function addControlEvent() {\n\n                if (!self.engine.control || !self.editor.control) {\n                    return setTimeout(addControlEvent, 10);\n                }\n\n                self.addControls(self.engine.control);\n                self.addControls(self.editor.control);\n\n            }\n            this.editor.on(\"startup\", () => addControlEvent(), true);\n            this.editor.on(\"attach:mesh\", e => this.emit({\n                type: \"editor.attach:mesh\",\n                mesh: e.mesh\n            }));\n\n            \n        });\n\n\n\n        this.on(\"event.transfer\", e => {\n            // e.event.tyoe==\"dbclick\" && console.log(e);\n            if (this.editor) {\n                this.editor.emit(e.event);\n            }\n        });\n\n        \n\n    }\n\n\n\n    getForegrounds(): FG_ITEM[] {\n        return [];\n    }\n\n    updateItemSize() {\n        let size = this.engine.getObjectSize(this.data.appData.secret_key);\n        if (size != null) {\n            if(!isObject(this.data.item.size)) this.data.item.size = this.data.item.size = {};\n            assignValue(this.data.item.size, size);\n        }\n\n    }\n\n    captureScene(){\n        return this.engine.capture();\n    }\n\n\n    parseItemData(model: any, object3DModel: any) {\n        var settings: any = {\n            options: {},\n            props: {},\n            meshes: []\n        };\n        var vectors = [\"rotation\", \"scale\"],\n            vprops = [\"x\", \"y\", \"z\"],\n            shadows = [\"castShadow\", \"receiveShadow\"];\n        var obj = object3DModel.object;\n        var modelSettings: any = model.settings || {};\n        shadows.map(k => {\n            settings.props[k] = (typeof modelSettings.props == \"object\" && typeof modelSettings.props[k] != \"undefined\") ? modelSettings.props[k] : obj[k];\n        });\n        vectors.map(k => {\n            settings.props[k] = {};\n            if (typeof modelSettings.props == \"object\" && typeof modelSettings.props[k] == \"object\") {\n                vprops.map(v => {\n                    if (typeof modelSettings.props[k][v] != \"undefined\") {\n                        settings.props[k][v] = modelSettings.props[k][v];\n                    } else {\n                        settings.props[k][v] = obj[k][v];\n                    }\n                })\n            }\n            else {\n                vprops.map(v => {\n                    settings.props[k][v] = obj[k][v];\n                })\n            }\n        });\n        if (modelSettings.options) {\n            assignValue(settings.options, modelSettings.options);\n        }\n\n        const addMeshSettings = (index: number, mesh: any, setting: any) => {\n            var settingDefaultData = {\n                ref: mesh,\n                name: mesh.name,\n                sid: Str.slug(mesh.name + \" \" + index, '_'),\n                index: index,\n                title: mesh.name,\n                data: {\n\n                },\n                editable: []\n            }\n\n            if (isObject(setting)) {\n                assignWithout(settingDefaultData, setting, ['sid']);\n            }\n            settings.meshes[index] = settingDefaultData;\n            if (!isArray(settings.meshes[index].editable)) {\n                settings.meshes[index].editable = [];\n            }\n\n            // let materialData = Materials.getPropData(mesh.material);\n\n\n        }\n\n\n        if (modelSettings.meshes && modelSettings.meshes.length) {\n            for (let i = 0; i < object3DModel.meshes.length; i++) {\n                const objMesh = object3DModel.meshes[i];\n                let setting = null;\n                for (let j = 0; j < modelSettings.meshes.length; j++) {\n                    const mesh = modelSettings.meshes[j];\n                    if (objMesh.name == mesh.name) {\n                        setting = mesh;\n                        j == modelSettings.meshes.length;\n                    }\n\n                }\n                addMeshSettings(i, objMesh, setting);\n            }\n        } else {\n            for (let i = 0; i < object3DModel.meshes.length; i++) {\n                const objMesh = object3DModel.meshes[i];\n                addMeshSettings(i, objMesh, null);\n            }\n        }\n\n\n        return settings;\n    }\n\n\n    addModelItem(data: any, onSuccess?: (objectData: any, ...args: any[]) => any, onError?: (...args: any[]) => any, onProgress?: (...args: any[]) => any) {\n        var self = this;\n        try {\n            // self.dom.showLoading();\n            // lấy dử liệu sau khi dc load\n            this.engine.addSettingModelItem(data, function (object) {\n                self.data.appData = object;\n                self.data.item = data;\n        \n                var a = assignValue({}, self.data.item.settings);\n                assignValue(a, self.parseItemData(self.data.item, object));\n                let b: any = assignWithout({}, a, ['meshes']);\n                b.meshes = []\n                if (a.meshes && a.meshes.length) {\n                    for (let index = 0; index < a.meshes.length; index++) {\n                        const m = a.meshes[index];\n                        const mm = assignWithout({}, m, ['ref']);\n                        Object.defineProperty(mm, '__ref__', {\n                            value: m.ref,\n                            configurable: false,\n                            enumerable: false,\n                            writable: false\n                        })\n                        b.meshes.push(mm);\n                    }\n                }\n\n                self.data.item.settings = b;\n\n                self.updateItemSize();\n                self.engine.updateFloor();\n                // truyền data cho panel\n                // self.dom.setModelItem(self.data);\n                // var settings = self.getModelSettingData(\n                //     self.data.item,\n                //     self.data.appData\n                // );\n\n                // self.data.settings = settings;\n                var sceneData = self.engine.getSceneSize();\n                var x = sceneData.size.x;\n                var y = sceneData.size.y;\n                var z = sceneData.size.z;\n                var fov = self.engine.camera.fov;\n                var tan = Math.tan(degreeToRadians(fov / 2));\n                var ds = (z / 2) + ((x > y ? x : y) / 2) / tan;\n                var dz = ds * 1.5;\n                self.engine.camera['position'].z = dz;\n                self.engine.camera['position'].y = y/2;\n\n                if(dz*5 >= self.engine.camera.far){\n                    self.engine.camera.far = dz*5;\n                }\n                if(z >= 50){\n                    self.engine.camera.near = 1;\n                }\n                else if(z >= 20){\n                    self.engine.camera.near = 0.5;\n                }\n                else if(z >= 5){\n                    self.engine.camera.near = 0.1;\n                }\n\n                self.engine.camera.lookAt(0, 0, 0);\n\n                self.engine.camera.updateProjectionMatrix();\n                self.engine.refresh();\n                if (typeof onSuccess == \"function\") {\n                    onSuccess(object);\n                }\n\n                self.dispatchEvent('model.added', object);\n\n            }, function (w) {\n                let a = onError && typeof onError == \"function\" ? onError() : 0;\n            }, function (p) {\n                // self.dom.updateLoadingPercentage(p);\n                let b =onProgress && typeof onProgress == \"function\"? onProgress(p) : 0\n            });\n\n        } catch (error) {\n            console.log(error);\n            let c = onError && typeof onError == \"function\" ? onError() : 0;\n        }\n    }\n\n    removeModelItem(){\n        if(this.data && this.data.appData){\n            this.engine.removeObject(this.data.appData.secret_key);\n            this.emit(\"model.removed\");\n        }\n    }\n\n    updateInfo(data) {\n        assignValue(this.data.item, data);\n    }\n\n    updateSettings(data: any, refresh?: any, updateList?: any, meshIndex?: any) {\n\n        assignValue(this.data.item.settings, data);\n        // console.log(data);\n        var updateData: any = {};\n        if (isObject(refresh)) {\n            if (refresh.props) {\n                updateData.props = this.data.item.settings.props;\n            }\n            if (refresh.meshes) {\n                updateData.meshes = this.data.item.settings.meshes;\n            }\n\n        } else if (isBoolean(refresh) && refresh) {\n            updateData = this.data.item.settings;\n        }\n        if (refresh) {\n            this.engine.updateObjectSettings(this.data.appData.secret_key, updateData, updateList, meshIndex);\n            this.engine.updateFloor();\n        }\n        this.updateItemSize();\n        \n\n    }\n\n    updateMeshMaterial(meshIndex: any, material?: { [x: string]: any }) {\n        if (isNumber(meshIndex)) {\n            for (let index = 0; index < this.data.item.settings.meshes.length; index++) {\n                const mesh = this.data.item.settings.meshes[index];\n                if (index == meshIndex) {\n                    assignValue(mesh.data.material, material);\n                    if(!isObject(mesh.data)) mesh.data = {};\n                    if(!isObject(mesh.data.material)) mesh.data.material = {};\n                    \n                    this.engine.updateMeshMaterial(this.data.appData.secret_key, mesh.name, material.type ? mesh.data.material : material);\n                }\n            }\n        }\n        else if (isString(meshIndex)) {\n            for (let index = 0; index < this.data.item.settings.meshes.length; index++) {\n                const mesh = this.data.item.settings.meshes[index];\n                if (mesh.name == meshIndex) {\n                    if(!isObject(mesh.data)) mesh.data = {};\n                    if(!isObject(mesh.data.material)) mesh.data.material = {};\n                    \n                    assignValue(mesh.data.material, material);\n                    this.engine.updateMeshMaterial(this.data.appData.secret_key, mesh.name, material.type ? mesh.data.material : material);\n                }\n            }\n        }\n\n    }\n\n    updateEditable(meshIndex: any, name?: string, status?: boolean) {\n        if (isNumber(meshIndex)) {\n            for (let index = 0; index < this.data.item.settings.meshes.length; index++) {\n                const mesh = this.data.item.settings.meshes[index];\n                if (index == meshIndex) {\n                    if (!isArray(mesh.editable)) mesh.editable = [];\n                    var id = mesh.editable.indexOf(name);\n                    if (id != -1 && status == false) {\n                        mesh.editable.splice(id, 1);\n                    } else if (id == -1 && status) {\n                        mesh.editable.push(name);\n                    }\n                }\n            }\n        }\n        else if (isString(meshIndex)) {\n            for (let index = 0; index < this.data.item.settings.meshes.length; index++) {\n                const mesh = this.data.item.settings.meshes[index];\n                if (mesh.name == meshIndex) {\n                    if (!isArray(mesh.editable)) mesh.editable = [];\n                    var id = mesh.editable.indexOf(name);\n                    if (id != -1 && status == false) {\n                        mesh.editable.splice(id, 1);\n                    } else if (id == -1 && status) {\n                        mesh.editable.push(name);\n                    }\n                }\n            }\n        }\n\n    }\n\n    updateMeshTitle(meshIndex: any, title:string) {\n        if (isNumber(meshIndex)) {\n            for (let index = 0; index < this.data.item.settings.meshes.length; index++) {\n                const mesh = this.data.item.settings.meshes[index];\n                if (index == meshIndex) {\n                    mesh.title = title;\n                }\n            }\n        }\n        else if (isString(meshIndex)) {\n            for (let index = 0; index < this.data.item.settings.meshes.length; index++) {\n                const mesh = this.data.item.settings.meshes[index];\n                if (mesh.name == meshIndex) {\n                    mesh.title = title;\n                }\n            }\n        }\n\n    }\n\n}\n","/**\n * Stateservice sử dụng cho angular hoặc bất kỳ một core nào khác\n * @author DoanLN\n */\nimport { Injectable } from '@angular/core';\nimport { StorageService } from '@app/_core/services/storage.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ItemStorageService extends StorageService {\n    constructor(){\n        super();\n    }\n}\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { ItemEventService } from '@app/item-page/_store/event.service';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\n\n@Component({\n    selector: 'app-panel-mesh-settings',\n    templateUrl: './panel-mesh-settings.component.html',\n    styleUrls: ['./panel-mesh-settings.component.scss']\n})\nexport class PanelMeshSettingsComponent extends BaseComponent implements OnInit {\n    title: string = \"Mesh\";\n    mesh: any = null;\n\n    isShow: boolean = false;\n\n\n\n    constructor(private events: ItemEventService, private cd: ChangeDetectorRef) {\n        super();\n    }\n\n    onChangeSubEvents() {\n        this.registerEventService(this.subEvents, {\n            showmeshpanel: e => this.showPanel(e.mesh),\n            hidemeshpanel: e => this.hidePanel()\n        });\n    }\n\n\n\n    onInit(): void {\n\n    }\n\n    showPanel(mesh) {\n        console.log(mesh)\n        if(this.isShow){\n            this.isShow = false;\n            this.mesh = null;\n            setTimeout(() => {\n                this.asyncMeshSetting(mesh);\n                this.isShow = true;\n            }, 10);\n        }else{\n            this.asyncMeshSetting(mesh);\n            this.isShow = true;\n        }\n        \n    }\n    hidePanel() {\n\n    }\n    asyncMeshSetting(mesh) {\n        this.mesh = mesh;\n        this.title = mesh.title || mesh.name || \"Mesh\"\n        this.cd.detectChanges();\n    }\n\n    updateMaterial(event) {\n        if(!this.mesh.data) this.mesh.data = {};\n        if(!this.mesh.data.material) this.mesh.data.material = {};\n        \n        this.mesh.data.material[event.name] = event.value;\n\n        var app = this.subEvents.app;\n        var update:any = {};\n        update[event.name] = event.value\n        app.updateMeshMaterial(this.mesh.name, update);\n        \n        this.subEvents.emit({\n            type: \"panel.update:material\",\n            name: this.mesh.name,\n            data: update\n        })\n        \n\n    }\n\n    updateEditable(event) {\n        var app = this.subEvents.app;\n        \n        app.updateEditable(this.mesh.name, event.name, event.status);\n\n        var index = this.mesh.editable.indexOf(event.name);\n        if(event.status && index == -1){\n            this.mesh.editable.push(event.name);\n        }\n        else if(!event.status && index != -1){\n            this.mesh.editable.splice(index, 1);\n        }\n\n\n        \n        this.subEvents.emit({\n            type: \"panel.update:editable\",\n            name: this.mesh.name,\n            inpName: event.name,\n            status: event.status\n            \n        })\n        \n        \n    }\n    updateMeshTitle(event) {\n        this.title = this.mesh.title = event.value;\n        var app = this.subEvents.app;\n        app.updateMeshTitle(this.mesh.name, event.value);\n        this.subEvents.emit({\n            type: \"panel.update:title\",\n            name: this.mesh.name,\n            title: event.value\n        })\n\n    }\n    close(){\n        this.isShow = false;\n    }\n    onDone() {\n        this.isShow = false;\n\n    }\n}\n","<div class=\"panel inner-layout\" *ngIf=\"isShow\">\n    <div class=\"panel-header\">\n        <h3>{{title}}</h3>\n        <div class=\"btn-close\" (click)=\"close()\">\n            <i nz-icon nzType=\"close-circle\" nzTheme=\"outline\"></i>\n        </div>\n    </div>\n    <div class=\"panel-body\">\n        <div class=\"store\">\n            <inp-text-group name=\"title\" [(value)]=\"mesh.title\" label=\"Mesh Title\" (subcribe)=\"updateMeshTitle($event)\"></inp-text-group>\n            <material-activate-inputs \n                index=\"-1\" \n                [material]=\"mesh.__ref__.material\" \n                [settings]=\"mesh.data\" \n                [editable]=\"mesh.editable\" \n                (onUpdate)=\"updateMaterial($event)\" \n                (updateEditable)=\"updateEditable($event)\" \n                [isArray]=\"false\">\n            </material-activate-inputs>\n        </div>\n    </div>\n\n\n\n    <div class=\"panel-footer\">\n        <h3>{{\"Actions\" | translate}}</h3>\n        <div class=\"buttons\">\n            <button nz-button nzType=\"primary\" (click)=\"onDone()\">{{\"Done\"|translate}}</button>\n\n\n        </div>\n    </div>\n\n</div>","import { Component, OnInit } from '@angular/core';\nimport { BaseGroupComponent } from '../base-group/base-group.component';\n\n@Component({\n  selector: 'activate-range',\n  templateUrl: './activate-range.component.html',\n  styleUrls: ['./activate-range.component.scss']\n})\nexport class ActivateRangeComponent extends BaseGroupComponent implements OnInit {\n\n  constructor() {\n    super();\n   }\n\n  ngOnInit(): void {\n  }\n\n  valChange(value){\n    this.onChange({value: value});\n  }\n\n}\n","<div class=\"input-group text-group\">\n    <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\">\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"19\">\n            <div class=\"inner-box\">{{config.name | translate}}</div>\n        </div>\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n            <div class=\"inner-box\">\n                <active-switch [name]=\"config.name\" [(value)]=\"config.editable\" (subcribe)=\"onEditable($event)\"></active-switch>\n            </div>\n        </div>\n    </div>\n    <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\" class=\"input-wrapper\">\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"16\">\n            <nz-slider [name]=\"config.name\" [nzMin]=\"config.min\" [nzMax]=\"config.max\" [nzStep]=\"config.step\" [(ngModel)]=\"config.value\" (ngModelChange)=\"valChange($event)\"></nz-slider>\n        </div>\n\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"8\">\n            <div class=\"inner-box\">\n                <nz-input-number [name]=\"config.name\" [nzMin]=\"config.min\" [nzMax]=\"config.max\" [nzStep]=\"config.step\" [(ngModel)]=\"config.value\" (ngModelChange)=\"valChange($event)\" [ngStyle]=\"{ marginLeft: '0px' }\"></nz-input-number>\n            </div>\n        </div>\n    </div>\n</div>"],"sourceRoot":"webpack:///"}
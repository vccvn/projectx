{"version":3,"sources":["./src/app/template-page/_store/data.ts","./src/app/template-page/header/header.component.ts","./src/app/template-page/header/header.component.html","./src/app/template-page/list/list.component.ts","./src/app/template-page/list/list.component.html","./src/app/template-page/_store/effects.ts","./src/app/_3D/services/template-editor.service.ts","./src/app/template-page/template.module.ts","./src/app/template-page/_store/reducers.ts","./src/app/template-page/workspace/workspace.component.ts","./src/app/template-page/workspace/workspace.component.html","./src/app/template-page/_store/index.ts","./src/app/template-page/_store/services.ts","./src/app/template-page/template-routing.module.ts","./src/app/_store/template/table.ts"],"names":[],"mappings":"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","file":"template-page-template-module-es2015.js","sourcesContent":["import { AppData } from \"@app/_3D/store/data.type\";\r\n\r\nexport const BlankData: AppData = {\r\n    id: 1,\r\n    name: \"View 1\",\r\n    category_id: 2,\r\n    description: \"Đây là màn hình view\",\r\n    thumbnail: \"\",\r\n    status: \"published\",\r\n    renderer: {\r\n        params: {\r\n            antialias: true,\r\n            alpha: true\r\n        },\r\n        shadowMap: {\r\n            enabled: true\r\n        },\r\n        outputEncoding: \"{THREE.sRGBEncoding}\"\r\n    },\r\n    composer: {},\r\n    shadow: {\r\n        enabled: true,\r\n        pcss: false\r\n    },\r\n    scene: {\r\n        size: {\r\n            width: 4,\r\n            height: 4,\r\n            depth: 4\r\n        },\r\n        floor: {\r\n            enabled: true,\r\n            above: true,\r\n            params: {\r\n                type: \"plane\",\r\n                width: 4,\r\n                height: 4\r\n            },\r\n            props: {\r\n                position: {\r\n                    x:0,\r\n                    y: -0.2,\r\n                    z: 0\r\n                }\r\n            }\r\n        }\r\n    },\r\n    camera: {\r\n        fov: 45,\r\n        near: 0.001,\r\n        far: 1000,\r\n        position: {\r\n            x: 0,\r\n            y: 0.4,\r\n            z: 1.5\r\n        },\r\n        autofit: true\r\n\r\n    },\r\n    control: {\r\n        type: \"orbit\",\r\n        autoUpdateScene: true,\r\n        maxDistance: 1200,\r\n        minDistance: 0.001,\r\n        enableDamping: true,\r\n        dampingFactor: 0.1,\r\n        enablePan: false,\r\n        highPerformance: true,\r\n        constraint: {\r\n            smoothZoom: true,\r\n            zoomDampingFactor: 0.2,\r\n            smoothZoomSpeed: 5\r\n        }\r\n    },\r\n    lights: [\r\n        {\r\n            type: \"ambient\",\r\n            data: {\r\n                params: {\r\n                    color: \"#ffffff\",\r\n                    intensity: 0.5\r\n                }\r\n            },\r\n            secret_key: \"DUkWmYXqHLn30h8srtGc1fClZ5VBh7Vs\"\r\n        },\r\n        {\r\n            type: \"point\",\r\n            data: {\r\n                params: {\r\n                    color: \"#4444cc\",\r\n                    intensity: 0.3\r\n                },\r\n                props: {\r\n                    position: {\r\n                        x: 0,\r\n                        y: -10\r\n                    }\r\n                }\r\n            },\r\n            secret_key: \"QT2uvl11GYiE9lBJ31kWLN7uZ4LVUY5h\"\r\n        },\r\n        {\r\n            type: \"Directionallight\",\r\n            data: {\r\n                params: {\r\n                    color: \"#FFE0B5\",\r\n                    intensity: 0.4\r\n                },\r\n                props: {\r\n                    position: {\r\n                        x: 10,\r\n                        y: 10,\r\n                        z: 8\r\n                    },\r\n                    castShadow: true,\r\n                    shadow: {\r\n                        mapSize: {\r\n                            width: 4096,\r\n                            height: 4096\r\n                        },\r\n                        camera: {\r\n                            near: 0.1,\r\n                            far: 100,\r\n                            left: 10,\r\n                            right: -10,\r\n                            top: 10,\r\n                            bottom: -10\r\n                        },\r\n                        darkness: 0.1,\r\n                        bias: -0.0002,\r\n                        radius: 5\r\n                    }\r\n                }\r\n            },\r\n            secret_key: \"4SBlh9qasmkym2qVinqXZQmrE1wyPz4g\"\r\n        },\r\n        {\r\n            type: \"Directionallight\",\r\n            data: {\r\n                params: {\r\n                    color: \"#ffffff\",\r\n                    intensity: 0.4\r\n                },\r\n                props: {\r\n                    position: {\r\n                        x: -8.713868426053745,\r\n                        y: 2.1376221949126535,\r\n                        z: -1.994170574933185\r\n                    }\r\n                }\r\n            },\r\n            secret_key: \"FSFhrzuO3FGYgYwdNRfMIaTuF0vwNr53\"\r\n        },\r\n        {\r\n            secret_key: \"wnrnh6P4c3lYDTJDWv3MUOkjp1ds3eOF\",\r\n            type: \"Directionallight\",\r\n            data: {\r\n                params: {\r\n                    color: \"#b5ebff\",\r\n                    intensity: 0.28\r\n                },\r\n                props: {\r\n                    position: {\r\n                        x: 10,\r\n                        y: 10,\r\n                        z: -7\r\n                    },\r\n                    castShadow: true,\r\n                    shadow: {\r\n                        mapSize: {\r\n                            width: 4096,\r\n                            height: 4096\r\n                        },\r\n                        camera: {\r\n                            near: 0.1,\r\n                            far: 100,\r\n                            left: 10,\r\n                            right: -10,\r\n                            top: 10,\r\n                            bottom: -10\r\n                        },\r\n                        darkness: 0.1,\r\n                        bias: -0.0002,\r\n                        radius: 5\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    ],\r\n    objects: [\r\n\r\n    ],\r\n    meshes: [\r\n\r\n    ]\r\n    \r\n\r\n}","import { Component, ChangeDetectorRef, ElementRef, ViewChild, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { AppEditorStorageService } from '@app/_3D/services/app-editor-storage.service';\r\nimport { getConfig } from '@app/_core/config';\r\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\r\n\r\nimport { Subject, Observable } from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'app-header',\r\n    templateUrl: './header.component.html',\r\n    styleUrls: ['./header.component.scss'],\r\n})\r\nexport class HeaderComponent extends BaseComponent implements OnInit {\r\n    @ViewChild('inputElement', { static: false }) inputElement?: ElementRef;\r\n\r\n    @Output() clickSave = new EventEmitter<any>();\r\n\r\n    renderData$: Observable<Blob>;\r\n    renderLoading$: Observable<boolean>;\r\n    isVisible = false;\r\n    data: any;\r\n    percent = 0;\r\n    renderLoading = true;\r\n\r\n    downloadUrl: string = 'javascript:void(0);';\r\n    downloadAvailable: boolean = false;\r\n\r\n\r\n\r\n    mode: string = 'list';\r\n\r\n    isInited: boolean = false;\r\n    \r\n    logo = getConfig('urls.logo_url');\r\n    link = getConfig('urls.logo_link');\r\n    \r\n    constructor(\r\n        private storage: AppEditorStorageService,\r\n        private cd: ChangeDetectorRef\r\n    ) {\r\n        super();\r\n    }\r\n\r\n    initOnce() {\r\n        this.storage.subcribe('template', (data) => {\r\n            if (data && data.download_source_url) {\r\n                this.downloadAvailable = true;\r\n                this.downloadUrl = data.download_source_url;\r\n            }\r\n        }, true);\r\n        this.storage.subcribe('editorMode', mode => {\r\n            this.mode = mode;\r\n            this.cd.detectChanges();\r\n        }, true);\r\n        // window['hdStorage'] = this.storage;\r\n\r\n    }\r\n\r\n    download(event: Event) {\r\n        if (!this.downloadAvailable) {\r\n            event.preventDefault();\r\n            return false;\r\n        }\r\n    }\r\n\r\n    save(event) {\r\n        // console.log(this.editor.data);\r\n        this.clickSave.emit(true);\r\n    }\r\n\r\n    handleOk(): void {\r\n        this.isVisible = false;\r\n    }\r\n\r\n    handleCancel(): void {\r\n        this.isVisible = false;\r\n    }\r\n\r\n    onClickUndo() {\r\n        // this.editor.historyManager.undo();\r\n    }\r\n    onClickRedo() {\r\n        // this.editor.historyManager.redo();\r\n    }\r\n}","<div class=\"group-first\">\r\n\t<a href=\"{link}\" target=\"_blank\">\r\n\t\t<img class=\"logo\" src=\"{{logo}}\" alt=\"Cretip logo\" />\r\n\t</a>\r\n\t\r\n\t<div class=\"group-center\">\r\n\t\t<button class=\"btn btn-ghost btn-icon\" nz-button nzType=\"text\" (click)=\"onClickUndo()\">\r\n\t\t\t<img src=\"/assets/icons/new-design/header/undo.svg\" />\r\n\t\t</button>\r\n\t\t<button class=\"btn btn-ghost btn-icon mr-auto\" nz-button nzType=\"text\" (click)=\"onClickRedo()\">\r\n\t\t\t<img src=\"/assets/icons/new-design/header/redo.svg\" />\r\n\t\t</button>\r\n\t\t<button class=\"btn btn-ghost btn-icon hidden invisble\" nz-button nzType=\"text\" (click)=\"save($event)\">\r\n\t\t\t<img src=\"/assets/icons/new-design/header/save.svg\" />\r\n\t\t\t<span>Save</span>\r\n\t\t</button>\r\n\t</div>\r\n\r\n\t\r\n</div>\r\n\r\n<div class=\"group-last\">\r\n\t<!-- <a class=\"btn btn-ghost btn-icon\" nz-button nzType=\"text\" style=\"margin-right: 32px\" href=\"{{downloadUrl}}\" (click)=\"download($event)\">\r\n\t\t<img src=\"/assets/icons/new-design/header/download.svg\" />\r\n\t\t<span>Download</span>\r\n\t\t\r\n\t</a> -->\r\n\t\r\n\t<button class=\"btn btn-primary btn-icon\" nz-button nzType=\"text\" (click)=\"save($event)\">\r\n\t\t<img src=\"/assets/icons/new-design/header/save.svg\" />\r\n\t\t<span>Save</span>\r\n\t</button>\r\n\r\n</div>","import { Component, NgZone, OnInit, ChangeDetectorRef, ViewEncapsulation, ElementRef, AfterViewInit, OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\r\nimport { TransparentBase64Image } from '@app/_3D/libs/three.libs';\r\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\r\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\r\nimport { assignValue, assignWithout, copyByList, inArray, isEmpty, Str } from '@app/_core/helpers/utils';\r\nimport { AppEditorStorageService } from '@app/_3D/services/app-editor-storage.service';\r\nimport { CategoryService } from '@app/_store/category';\r\nimport { ItemService, ItemTableService } from '@app/_store/item';\r\nimport { TemplateModel, TemplateService } from '@app/_store/template';\r\nimport { TemplateTableService } from '@app/_store/template/table';\r\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\r\n\r\n\r\n@Component({\r\n    selector: 'app-root-template-list',\r\n    templateUrl: './list.component.html',\r\n    styleUrls: ['../../../styles/design/_index.scss', './list.component.scss'],\r\n    encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class ListComponent extends BaseComponent implements OnInit, AfterViewInit, OnDestroy {\r\n    isInited: boolean = false;\r\n    id: number = 0;\r\n    mode: string = 'list';\r\n    isLoading: boolean = true;\r\n    app: AppEditorService = null;\r\n    urlPath: string = null;\r\n    templates: TemplateModel[] = [];\r\n    defaultThumbnail: string = TransparentBase64Image;\r\n    lockSidebar: boolean = false;\r\n    subEventService: AppEditorEventService;\r\n    workspaceKey: string = Str.rand();\r\n    constructor(\r\n        public cd: ChangeDetectorRef,\r\n        public activatedRoute: ActivatedRoute,\r\n        public router: Router,\r\n        \r\n        private storage: AppEditorStorageService,\r\n\r\n        public templateService: TemplateService,\r\n        public categoryService: CategoryService,\r\n        public itemService: ItemService,\r\n        // public itemTable: ItemTableService,\r\n        // public templateTable: TemplateTableService,\r\n        private elemRef: ElementRef\r\n    ) {\r\n        super();\r\n        this.storage.assign('editorMode', this.mode, mode => this.mode = mode);\r\n        // window['templateList'] = this;\r\n    }\r\n    initOnce() {\r\n        this.moduleKey = this.workspaceKey;\r\n    }\r\n\r\n    onInit() {\r\n\r\n        this.moduleKey = this.workspaceKey;\r\n\r\n        this.preload();\r\n        this.cd.detectChanges();\r\n\r\n        // this.checkDemoData();\r\n\r\n        // this.router.events.subscribe((val) => {\r\n        //     // see also \r\n        //     // console.log(val instanceof NavigationEnd)\r\n\r\n        // });\r\n\r\n    }\r\n\r\n    onDestroy() {\r\n\r\n    }\r\n\r\n    preload() {\r\n        if (!this.isFocus) return;\r\n        this.storage.editorMode = 'list';\r\n        // let templates = this.templateTable.select('*', null, { id: 'DESC' });\r\n        \r\n        // if (templates.length) {\r\n        //     this.templates = templates as TemplateModel[];\r\n        //     this.isLoading = false;\r\n        // }\r\n        // else {\r\n            this.templateService.getAll({}).subscribe(rs => {\r\n                this.isLoading = false;\r\n                if (rs.data.length) {\r\n                    this.templates = rs.data;\r\n                    // rs.data.map(template => {\r\n                    //     const temp = this.templateTable.first({id:template.id});\r\n                    //     if (!(temp && !isEmpty(temp))) {\r\n                    //         this.templateTable.insert(assignWithout({}, temp, ['id']));\r\n                    //     }\r\n                    // })\r\n                }\r\n            }, () => this.isLoading = false);\r\n        // }\r\n    }\r\n\r\n    checkDemoDAta(){\r\n        if (!this.itemTable.get().length) {\r\n            setTimeout(() => {\r\n                if (!this.itemTable.get().length) {\r\n                    this.itemService.getAll({}).subscribe(rs => {\r\n                        if (rs.data && !this.itemTable.get().length) {\r\n                            rs.data.map(item => {\r\n                                var r = this.itemTable.first({ id: item.id });\r\n                                if (!(r && !isEmpty(r))) {\r\n                                    this.itemTable.insert(assignWithout({}, item, ['id']));\r\n                                }\r\n                            })\r\n                        }\r\n                    });\r\n                }\r\n            }, 100);\r\n        }\r\n\r\n        if (!this.templateTable.get().length) {\r\n            setTimeout(() => {\r\n                this.templateService.getAll({}).subscribe(rs => {\r\n                    if (rs.data) {\r\n                        rs.data.map(item => {\r\n                            var r = this.templateTable.first({ id: item.id });\r\n                            if (!(r && !isEmpty(r))) {\r\n                                this.templateTable.insert(assignWithout({}, item, ['id']));\r\n                            }\r\n                        })\r\n                    }\r\n                })\r\n            }, 100);\r\n        }\r\n    }\r\n\r\n    nzCollapsedChange(event) {\r\n        if (!this.isFocus) return;\r\n        // this.app.updateCanvasSize();\r\n    }\r\n\r\n\r\n    ngAfterViewInit(): void {\r\n        if (!this.isFocus) return;\r\n        // this.app.updateCanvasSize();\r\n    }\r\n\r\n}\r\n","<nz-layout>\r\n    <nz-header>\r\n        <app-header (clickSave)=\"clickSave($event)\"></app-header>\r\n    </nz-header>\r\n    <nz-content>\r\n        <ng-container *ngIf=\"isLoading; then loadingTemplate; else editorTemplate\"></ng-container>\r\n        <ng-template #loadingTemplate>\r\n            <div class=\"alert\">\r\n                <h3>Vui lòng chờ giây lát</h3>\r\n            </div>\r\n        </ng-template>\r\n        <ng-template #editorTemplate>\r\n            <ng-container *ngIf=\"mode=='notfound'; then notFoundTemplate; else editorTemplate\"></ng-container>\r\n            <ng-template #notFoundTemplate>\r\n                <div class=\"alert not-found\">\r\n                    template Not Found\r\n                </div>\r\n            </ng-template>\r\n            <ng-template #editorTemplate>\r\n                <div class=\"list-template\">\r\n                    <div class=\"list-header\">\r\n                        <h2>Danh sách template</h2>\r\n                    </div>\r\n                    <ng-container *ngIf=\"templates.length; then listTem; else emptyTem\"></ng-container>\r\n                    <ng-template #listTem>\r\n                        <div class=\"list container\" >\r\n                            <div class=\"template-item\" *ngFor=\"let template of templates\" >\r\n                                <div class=\"inner\">\r\n                                    <div class=\"thumbnail\">\r\n                                        <a href=\"/template/{{template.id}}/edit\">\r\n                                            <img src=\"{{template.thumbnail!=''?template.thumbnail:defaultThumbnail}}\" alt=\"{{template.name}}\">\r\n                                        </a>\r\n                                        \r\n                                    </div>\r\n                                    <div class=\"detail\">\r\n                                        <h3>\r\n                                            <a href=\"/template/{{template.id}}/edit\">\r\n                                                {{template.name}}\r\n                                            </a>\r\n                                        </h3>\r\n                                        <p>{{template.description}}</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </ng-template>\r\n                    <ng-template #emptyTem>\r\n                        Không có template\r\n                    </ng-template>\r\n                    \r\n                    \r\n                </div>\r\n            </ng-template>\r\n\r\n        </ng-template>\r\n\r\n\r\n    </nz-content>\r\n</nz-layout>\r\n","// import { CollectionEffects } from './collection/effects';\r\n\r\nexport const effects: any[] = [\r\n  // CollectionEffects,\r\n  \r\n];\r\n","import { Injectable } from '@angular/core';\nimport ClientEditorEngine from '../engines/client-editor.engine';\nimport ProjectEditor from '../libs/project-editor';\nimport TemplateEditor from '../libs/template-editor';\nimport { AppEditorService } from './app-editor.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class TemplateEditorService extends AppEditorService {\n    editorClass = ProjectEditor\n    engineClass = ClientEditorEngine\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { EffectsModule } from '@ngrx/effects';\nimport { StoreModule } from '@ngrx/store';\n\nimport { SharedModule } from '../_shared/shared.module';\nimport { AppUIModule } from '../app-ui.module';\nimport { AuthModule } from '../auth/auth.module';\n\nimport { TemplateRoutingModule, COMPONENTS, ENTRIES_COMPONENTS } from './template-routing.module';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport { reducers, effects, services } from './_store';\nimport { NzCollapseModule } from 'ng-zorro-antd/collapse';\n\n@NgModule({\n  declarations: [...COMPONENTS, ...ENTRIES_COMPONENTS],\n  imports: [\n    DragDropModule,\n    AuthModule,\n    CommonModule,\n    AppUIModule,\n    SharedModule,\n    TemplateRoutingModule,\n    StoreModule.forFeature('templateStore', reducers),\n    EffectsModule.forFeature(effects),\n    NzCollapseModule,\n  ],\n  entryComponents: ENTRIES_COMPONENTS,\n  providers: [...services],\n})\nexport class TemplateModule {}\n","import { ActionReducerMap, createFeatureSelector } from '@ngrx/store';\r\nexport interface ItemState {\r\n}\r\n\r\nexport const reducers: ActionReducerMap<ItemState> = {\r\n};\r\n\r\nexport const selectContainerState = createFeatureSelector<ItemState>('itemStore');\r\n","import { Component, NgZone, OnInit, ChangeDetectorRef, ViewEncapsulation, ElementRef, AfterViewInit, OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\r\nimport { TransparentBase64Image } from '@app/_3D/libs/three.libs';\r\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\r\nimport { assignValue, assignWithout, copyByList, degreeToRadians, inArray, isEmpty, Str } from '@app/_core/helpers/utils';\r\nimport { MeshGeometryService } from '@app/_shared/components/panels/mesh-geometry/mesh-geometry.service';\r\nimport { PanelLightService } from '@app/_shared/components/panels/panel-light/panel-light.service';\r\nimport { PanelModelObjectService } from '@app/_shared/components/panels/panel-model-object/panel-model-object.service';\r\nimport { EditorToolbarService } from '@app/_shared/components/viewport/editor-toolbar/editor-toolbar.service';\r\nimport { ClientEditToolbarService } from '@app/_shared/components/viewport/client-edit-toolbar/client-edit-toolbar.service';\r\nimport { VectorControlsService } from '@app/_shared/components/viewport/vector-controls/vector-controls.service';\r\nimport { ViewportService } from '@app/_shared/components/viewport/viewport.service';\r\nimport { AppEditorStorageService } from '@app/_3D/services/app-editor-storage.service';\r\nimport { ModalConfirmService } from '@app/_shared/services/modal-confirm.service';\r\nimport { CategoryService } from '@app/_store/category';\r\nimport { ItemService, ItemTableService } from '@app/_store/item';\r\nimport { TemplateModel, TemplateService } from '@app/_store/template';\r\nimport { BlankData } from '../_store/data';\r\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\r\nimport { TemplateEditorService } from '@app/_3D/services/template-editor.service';\r\nimport { A } from '@app/_core/helpers/html-elements';\r\nimport { getConfig } from '@app/_core/config';\r\nimport { runTask } from '@app/_core/tasks';\r\n\r\n\r\n@Component({\r\n    selector: 'app-workspace',\r\n    templateUrl: './workspace.component.html',\r\n    styleUrls: ['../../../styles/design/_index.scss', './workspace.component.scss'],\r\n    encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class WorkspaceComponent extends BaseComponent implements OnInit, AfterViewInit, OnDestroy {\r\n    isInited: boolean = false;\r\n    id: number = 0;\r\n    secret_id: string;\r\n    mode: string = 'create';\r\n    isLoading: boolean = true;\r\n    app: TemplateEditorService = null;\r\n    urlPath: string = null;\r\n    templates: TemplateModel[] = [];\r\n    template: TemplateModel = null;\r\n    defaultThumbnail: string = TransparentBase64Image;\r\n    lockSidebar: boolean = false;\r\n    subEventService: AppEditorEventService;\r\n    workspaceKey: string = \"templateWorkspace\";\r\n\r\n    downloadBtn = A(\".download\", { target: \"_blank\", href: \"\", download: \"screenshot.png\" });\r\n\r\n    engineEvent: any = {\r\n        \"load.success\": e => e.tasks == 0 && this.hideLoading(),\r\n        \"load.fail\": e => e.tasks == 0 && this.hideLoading(),\r\n        \"object.load.starting\": () => this.showLoading(),\r\n        \"object.load.completed\": () => {\r\n            this.hideLoading()\r\n            runTask('loading.complete');\r\n        },\r\n        \"loadmore.progress\": e => runTask(\"loading.progress\", [e.percent])\r\n    };\r\n    appinit: (e) => any = e => {\r\n        this.app.engine.setControlEngine(this.vectorControls.engine);\r\n        this.app.editor.detachLight();\r\n    };\r\n\r\n    appBeforeInit: (e) => any = e => {\r\n        this.app.engine.on(this.engineEvent);\r\n    };\r\n\r\n\r\n    constructor(\r\n        public cd: ChangeDetectorRef,\r\n        public activatedRoute: ActivatedRoute,\r\n        public router: Router,\r\n        public templateService: TemplateService,\r\n        public editor: TemplateEditorService,\r\n        public categoryService: CategoryService,\r\n        public storage: AppEditorStorageService,\r\n        public events: AppEditorEventService,\r\n        public viewportService: ViewportService,\r\n        public toolbar: ClientEditToolbarService,\r\n        public vectorControls: VectorControlsService,\r\n        public confirmService: ModalConfirmService,\r\n        public geoService: MeshGeometryService,\r\n        public panelModelService: PanelModelObjectService,\r\n        public panelLightService: PanelLightService,\r\n        public editorToolbar: EditorToolbarService,\r\n        public itemService: ItemService,\r\n        // public itemTable: ItemTableService,\r\n        // public templateTable: TemplateTableService,\r\n        private elemRef: ElementRef\r\n    ) {\r\n        super();\r\n        this.subEventService = this.events.sub(this.workspaceKey);\r\n        this.editor.events = this.subEventService;\r\n        this.app = this.editor;\r\n        this.toolbar = toolbar.sub(this.workspaceKey);\r\n        this.viewportService = viewportService.sub(this.workspaceKey);\r\n        this.vectorControls = vectorControls.sub(this.workspaceKey);\r\n        this.editorToolbar = editorToolbar.sub(this.workspaceKey)\r\n\r\n    }\r\n    initOnce() {\r\n        this.moduleKey = this.workspaceKey;\r\n        this.viewportService.emit({\r\n            type: 'app.set',\r\n            app: this.app\r\n        }, true)\r\n\r\n        this.storage.assign('template', null, template => this.template = template);\r\n        // this.storage.assign({\r\n        //     info: {}\r\n        // })\r\n        this.storage.assign('editorMode', this.mode, mode => this.mode = mode);\r\n        // window['wpStorage'] = this.storage;\r\n        this.categoryService.getAll({ s: \"\" }).subscribe(data => {\r\n            this.storage.setState(\"categories\", data.data);\r\n        });\r\n        this.registerEventService(document, {\r\n            'pointerup': e => this.subEventService.emit(e),\r\n            'pointermove': e => this.subEventService.emit(e)\r\n        });\r\n        this.registerEventService(this.app, {\r\n            \"editor.update.mesh.props\": e => this.geoService.updateProps(e.data),\r\n            \"editor.update.model.props\": e => this.panelModelService.updateProps(e.data),\r\n            \"editor.update.light.props\": e => this.panelLightService.updateProps(e.data),\r\n            \"editor.update.light.props.target\": e => this.panelLightService.updateTargetProps(e.data),\r\n            \"editor.attach:object\": e => this.toolbar.show(\"object\", e.secret_key),\r\n            \"editor.attach:mesh\": e => this.toolbar.show(\"mesh\", e.secret_key),\r\n            \"editor.attach:light\": e => this.toolbar.show(\"light\", e.secret_key),\r\n            \"editor.delete:light\": e => this.doAction({ action: \"delete\", type: \"light\", secret_key: e.secret_key }),\r\n            \"editor.delete:object\": e => this.doAction({ action: \"delete\", type: \"object\", secret_key: e.secret_key }),\r\n            \"editor.detach\": e => this.onDetach(),\r\n            \"light.showform\": e => this.showLight(e.data),\r\n            beforeinit: this.appBeforeInit,\r\n            init: this.appinit\r\n        });\r\n        this.registerEventService(this.subEventService, {\r\n            \"modelitem.drop.confirm\": e => this.dropModelItem(e.data),\r\n            \"app.loading.show\": e => this.showLoading(),\r\n            \"app.loading.hide\": e => this.hideLoading()\r\n        });\r\n        this.registerEventService(this.toolbar, {\r\n            \"mode.select\": e => this.app.emit({ type: \"toolbar.change:mode\", mode: e.mode }),\r\n            \"action\": e => this.doAction(e.data)\r\n        });\r\n\r\n        // window['templateWorkspace'] = this;\r\n    }\r\n\r\n    onInit() {\r\n\r\n        this.moduleKey = this.workspaceKey;\r\n        this.activeEventServiceRegistered(this.app);\r\n        this.activeEventServiceRegistered(this.subEventService);\r\n        this.activeEventServiceRegistered(this.toolbar);\r\n        this.activeEventServiceRegistered(document);\r\n\r\n        if (this.app.engine) {\r\n            this.app.engine.on(this.engineEvent);\r\n        }\r\n        this.preload();\r\n        this.cd.detectChanges();\r\n\r\n        this.vectorControls.emit({\r\n            type: \"show\",\r\n            value: true\r\n        }, null, true);\r\n\r\n\r\n        this.editorToolbar.show({\r\n            saveView: e => this.app.saveCurrentCameraPosition(),\r\n            saveThumbnail: e => this.saveThumbnail(),\r\n            exportImage: e => this.exportImage()\r\n        });\r\n    }\r\n\r\n    onDestroy() {\r\n        this.deactiveEventServiceRegistered(this.app);\r\n        this.deactiveEventServiceRegistered(this.events);\r\n        this.deactiveEventServiceRegistered(this.toolbar);\r\n        this.deactiveEventServiceRegistered(document);\r\n\r\n        if (this.app.engine) {\r\n            this.app.engine.off(this.engineEvent);\r\n        }\r\n        this.editorToolbar.hide();        \r\n        this.vectorControls.emit({\r\n            type: \"show\",\r\n            value: false\r\n        }, null, true);\r\n\r\n    }\r\n\r\n    showLoading() {\r\n        if (!this.isFocus) return;\r\n        this.viewportService.emit(\"show:loading\", 0, true);\r\n        this.events.emit(\"show:sidebar-lock\");\r\n    }\r\n    hideLoading() {\r\n        if (!this.isFocus) return;\r\n        this.viewportService.emit(\"hide:loading\", 0, true);\r\n        this.events.emit(\"hide:sidebar-lock\");\r\n    }\r\n\r\n    initUpdate() {\r\n        if (!this.isFocus) return;\r\n        this.id = +this.activatedRoute.snapshot.paramMap.get(\"id\");\r\n        if (this.id > 0) {\r\n            this.loadTemplate(this.id);\r\n        }\r\n        else {\r\n            this.storage.editorMode = 'notfound';\r\n            this.cd.detectChanges();\r\n        }\r\n    }\r\n    initCreate() {\r\n        if (!this.isFocus) return;\r\n        this.storage.editorMode = 'create';\r\n        let data = assignValue({}, BlankData);\r\n        this.setTemplateData(data);\r\n        // console.log(\"create\", data);\r\n        this.isLoading = false;\r\n        this.cd.detectChanges();\r\n    }\r\n\r\n    preload() {\r\n        if (!this.isFocus) return;\r\n        this.secret_id = this.activatedRoute.snapshot.paramMap.get(\"id\");\r\n        if (this.secret_id == getConfig('data.template.secret_id')) {\r\n            let data = getConfig('data.template');\r\n            this.storage.template = data;\r\n            this.lazyLoadTemplate(data.data);\r\n            this.isLoading = false;\r\n            this.storage.editorMode = 'update';\r\n            this.cd.detectChanges();\r\n\r\n        } else {\r\n            this.storage.editorMode = 'notfound';\r\n            this.isLoading = false;\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    clickSave(event) {\r\n        if (!this.isFocus) return;\r\n        if (this.mode == \"update\") {\r\n            this.template.data = this.app.data;\r\n            this.templateService.update(this.template).subscribe(rs => {\r\n                // lam gi do\r\n            });\r\n        } else if (this.mode == \"create\") {\r\n            this.template.data = this.app.data;\r\n            this.templateService.create(this.template).subscribe(rs => {\r\n                this.id = rs.data.id;\r\n                this.mode = \"update\";\r\n                this.app.data.id = this.id;\r\n\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    loadTemplate(id: number) {\r\n        if (!this.isFocus) return;\r\n        // var template = this.templateTable.find(id);\r\n        this.showLoading();\r\n        // if (template && !isEmpty(template)) {\r\n        //     this.storage.editorMode = 'update';\r\n        //     this.storage.template = template;\r\n        //     this.lazyLoadTemplate(template as TemplateModel);\r\n        //     this.isLoading = false;\r\n        //     this.cd.detectChanges();\r\n        // } \r\n        // else {\r\n        this.templateService.get(this.id).subscribe(data => {\r\n            this.storage.template = data;\r\n            this.lazyLoadTemplate(data.data);\r\n            this.isLoading = false;\r\n            this.storage.editorMode = 'update';\r\n            this.cd.detectChanges();\r\n        }, error => {\r\n            this.storage.editorMode = 'notfound';\r\n            this.hideLoading();\r\n            this.cd.detectChanges();\r\n        });\r\n        // }\r\n    }\r\n\r\n    lazyLoadTemplate(project) {\r\n        let preData = assignWithout({}, project, ['objects', 'meshes', 'models', 'scene']);\r\n        preData.scene = assignWithout({}, project.scene, ['foregrounds', 'background']);\r\n        this.setTemplateData(preData);\r\n        runTask('loading.progress', [20]);\r\n        setTimeout(() => {\r\n            if (!project.objects || !project.objects.length) {\r\n                setTimeout(() => {\r\n                    runTask('loading.progress', [50]);\r\n                    setTimeout(() => {\r\n                        runTask('loading.progress', [100]);\r\n                        setTimeout(() => {\r\n                            runTask('loading.complete', [project]);\r\n                        }, 1000);\r\n                    }, 1000);\r\n                }, 500);\r\n            }\r\n            else {\r\n                this.showLoading();\r\n            }\r\n\r\n        }, 11);\r\n        setTimeout(() => {\r\n            this.setTemplateData(project);\r\n        }, 25);\r\n    }\r\n\r\n\r\n\r\n\r\n    setTemplateData(data: TemplateModel, complete?: (...args: any[]) => any, error?: (...args: any[]) => any, progress?: (...args: any[]) => any) {\r\n        if (!this.isFocus) return;\r\n        this.app.setTemplate(data);\r\n    }\r\n\r\n\r\n\r\n    saveThumbnail() {\r\n        if (!this.isFocus) return false;\r\n        this.app.editor.unselect();\r\n        this.showLoading();\r\n        setTimeout(() => {\r\n            this.app.capture(image => {\r\n                this.template.thumbnail = image;\r\n                this.templateService.updateThumbnail({\r\n                    id: this.template.id,\r\n                    thumbnail: this.template.thumbnail\r\n                } as TemplateModel).subscribe(rs => {\r\n                    this.hideLoading();\r\n                }, e => {\r\n                    this.hideLoading();\r\n                });\r\n            });\r\n\r\n        }, 1000);\r\n    }\r\n\r\n\r\n    exportImage() {\r\n        if (!this.isFocus) return false;\r\n        this.app.editor.unselect();\r\n        this.showLoading();\r\n        setTimeout(() => {\r\n            this.app.capture(image => {\r\n                this.downloadBtn.attr(\"href\", image);\r\n                this.downloadBtn.el.click();\r\n                this.hideLoading();\r\n            });\r\n\r\n        }, 2000);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    onMeshAttach(data) {\r\n        if (!this.isFocus) return;\r\n        this.geoService.open(data, e => {\r\n            let d: any = {};\r\n            if (inArray(['props', 'geometry', 'material'], e.key)) {\r\n                d[e.key] = e.data[e.key];\r\n                switch (e.key) {\r\n                    case \"props\":\r\n\r\n                        break;\r\n                    case \"geometry\":\r\n\r\n                        break;\r\n\r\n                    case \"material\":\r\n\r\n                        break;\r\n\r\n\r\n                    default:\r\n                        break;\r\n                }\r\n                this.events.emit({\r\n                    type: \"mesh.setting.update\",\r\n                    secret_key: data.secret_key,\r\n                    data: d\r\n                });\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    closeAllPanel() {\r\n        if (!this.isFocus) return;\r\n        // this.toolbar.hide();\r\n        this.geoService.close();\r\n        this.panelModelService.close();\r\n        this.panelLightService.close();\r\n    }\r\n\r\n    onDetach() {\r\n        if (!this.isFocus) return;\r\n        this.toolbar.hide();\r\n        this.closeAllPanel();\r\n\r\n    }\r\n\r\n    showLight(data) {\r\n        if (!this.isFocus) return;\r\n        this.panelLightService.open(data, e => {\r\n            let update: any = {};\r\n            // if(e.type==\"params\"){\r\n            update[e.type] = {};\r\n            update[e.type][e.name] = e.value;\r\n\r\n            // }\r\n            this.app.updateLightDataAndScene(e.secret_key, update);\r\n        })\r\n    }\r\n\r\n    doAction(data) {\r\n        if (!this.isFocus) return;\r\n        if (data.action == \"delete\") {\r\n            var title = inArray(['object', 'mesh'], data.type) ? \"Are you sure delete this object?\" : \"Are you sure delete this light?\";\r\n            this.confirmService.showDeleteConfirm(title, () => {\r\n                if (inArray(['object', 'mesh'], data.type)) {\r\n                    this.app.emit({\r\n                        type: \"toolbar.delete:object\",\r\n                        secret_key: data.secret_key,\r\n                        success: () => this.onDetach()\r\n                    })\r\n                }\r\n                else if (data.type == \"light\") {\r\n                    this.app.deleteLight(data.secret_key, () => this.onDetach());\r\n                }\r\n            })\r\n        }\r\n        else if (data.action == \"edit\") {\r\n            let ed = this.app.getEditObjectData(data.secret_key);\r\n            if (ed != null) {\r\n                if (ed.type == \"mesh\") {\r\n                    this.closeAllPanel();\r\n                    this.geoService.open(ed, e => {\r\n                        let d: any = {};\r\n                        if (inArray(['props', 'geometry', 'material'], e.key)) {\r\n                            d[e.key] = e.data[e.key];\r\n                            switch (e.key) {\r\n                                case \"props\":\r\n\r\n                                    break;\r\n                                case \"geometry\":\r\n\r\n                                    break;\r\n\r\n                                case \"material\":\r\n\r\n                                    break;\r\n\r\n\r\n                                default:\r\n                                    break;\r\n                            }\r\n                            this.events.emit({\r\n                                type: \"mesh.setting.update\",\r\n                                secret_key: data.secret_key,\r\n                                data: d\r\n                            });\r\n                        }\r\n\r\n                    });\r\n                } else if (ed.type == \"model\") {\r\n                    this.closeAllPanel();\r\n                    let obj = this.app.engine.getObject(data.secret_key).object;\r\n                    ed.object = obj;\r\n\r\n                    this.panelModelService.open(ed, e => {\r\n                        if (e.type == \"material\") {\r\n                            this.app.updateModelMeshMaterial(e.secret_key, e.name, e.data);\r\n                        }\r\n                        else if (e.type == \"props\") {\r\n                            let props: any = {};\r\n                            props[e.key] = e.data[e.key];\r\n                            this.app.updateObjectSettingDataAndScene(e.secret_key, { props: props }, { props: true })\r\n                        }\r\n\r\n                    });\r\n                }\r\n                else if (ed.type == \"light\") {\r\n                    this.showLight(ed.data);\r\n                }\r\n            }\r\n        }\r\n        else if (data.action == 'download') {\r\n            let model = this.app.getObject(data.secret_key);\r\n\r\n            if (model.type == \"model\" && model.data.download_source_url != \"\") {\r\n                const link = document.createElement('a');\r\n                link.setAttribute('target', '_blank');\r\n                link.setAttribute('href', model.data.download_source_url);\r\n                link.setAttribute('download', model.data.name + \".zip\");\r\n                document.body.appendChild(link);\r\n                link.click();\r\n                link.remove();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    dropModelItem(data) {\r\n        if (!this.isFocus) return;\r\n        this.confirmService.showConfirm({\r\n            title: \"Drop Item confirm\",\r\n            content: \"Item's size is bigger than size of Scene. Do you want to continue?\"\r\n        }, d => {\r\n            this.events.emit('viewport.droppable.loading');\r\n            this.events.emit({\r\n                type: 'item.dropped',\r\n                item: data.item,\r\n                success: (dat) => {\r\n                    this.events.emit('viewport.droppable.hide');\r\n                    var size = data.item.size;\r\n                    this.app.updateSceneSizeAndFloorAndGridNyChildren(2);\r\n                    // this.app.updateSceneSizeSetting()\r\n                    if (this.app.data.scene.floor.above) {\r\n                        data.position.y = this.app.data.scene.floor.props.position.y + size.y / 2;\r\n                    } else {\r\n                        data.position.y = size.y / 2;\r\n                    }\r\n                    this.app.updateObjectSettingDataAndScene(dat.secret_key, {\r\n                        props: {\r\n                            position: data.position\r\n                        }\r\n                    }, { props: true })\r\n\r\n\r\n                    var sceneData = this.app.getRealSceneSize();\r\n                    var x = sceneData.size.x;\r\n                    var y = sceneData.size.y;\r\n                    var z = sceneData.size.z;\r\n                    var fov = this.app.engine.camera.fov;\r\n                    var tan = Math.tan(degreeToRadians(fov / 2));\r\n                    var ds = (z / 2) + ((x > y ? x : y) / 2) / tan;\r\n                    var dz = ds * 1.5;\r\n                    var far = this.app.engine.camera.far > dz ? this.app.engine.camera.far : dz;\r\n                    var near = this.app.engine.camera.near;\r\n                    if (z >= 50) {\r\n                        near = 1;\r\n                    }\r\n                    else if (z > 20) {\r\n                        near = 0.5;\r\n                    }\r\n                    else if (z > 10) {\r\n                        near = 0.1;\r\n                    }\r\n                    if (near < this.app.engine.camera.near) near = this.app.engine.camera.near;\r\n\r\n\r\n                    this.app.updateCameraSetting({\r\n                        far: far,\r\n                        near: near,\r\n                        position: {\r\n                            z: ds * 1.5,\r\n                            y: y / 2,\r\n                            x: 0\r\n                        },\r\n                        settings: {\r\n                            position: {\r\n                                type: \"custom\",\r\n                                custom: {\r\n                                    z: ds * 1.5,\r\n                                    y: y / 2,\r\n                                    x: 0\r\n                                }\r\n                            }\r\n                        }\r\n                    }, true);\r\n                    // this.app.engine.updateMainCameraSettings({\r\n                    //     position:{\r\n\r\n                    //         z: ds * 1.5,\r\n                    //         y: y/2,\r\n                    //         x: 0\r\n                    //     },\r\n\r\n                    // })\r\n                    // assignValue(this.app.engine.camera, {\r\n\r\n                    // })\r\n\r\n                    this.hideLoading();\r\n                }\r\n            })\r\n        }, () => {\r\n            this.events.emit('viewport.droppable.hide');\r\n        });\r\n    }\r\n\r\n    nzCollapsedChange(event) {\r\n        if (!this.isFocus) return;\r\n        this.app.updateCanvasSize();\r\n    }\r\n\r\n\r\n    ngAfterViewInit(): void {\r\n        if (!this.isFocus) return;\r\n        this.app.updateCanvasSize();\r\n    }\r\n\r\n    addDemo() {\r\n\r\n        if (!this.itemTable.get().length) {\r\n            setTimeout(() => {\r\n                if (!this.itemTable.get().length) {\r\n                    this.itemService.getAll({}).subscribe(rs => {\r\n                        if (rs.data && !this.itemTable.get().length) {\r\n                            rs.data.map(item => {\r\n                                var r = this.itemTable.first({ id: item.id });\r\n                                if (!(r && !isEmpty(r))) {\r\n                                    this.itemTable.insert(assignWithout({}, item, ['id']));\r\n                                }\r\n                            })\r\n                        }\r\n                    });\r\n                }\r\n            }, 100);\r\n        }\r\n\r\n        if (!this.templateTable.get().length) {\r\n            setTimeout(() => {\r\n                this.templateService.getAll({}).subscribe(rs => {\r\n                    if (rs.data) {\r\n                        rs.data.map(item => {\r\n                            var r = this.templateTable.first({ id: item.id });\r\n                            if (!(r && !isEmpty(r))) {\r\n                                this.templateTable.insert(assignWithout({}, item, ['id']));\r\n                            }\r\n                        })\r\n                    }\r\n                })\r\n            }, 100);\r\n        }\r\n    }\r\n}\r\n","<ng-container *ngIf=\"__show__; then thenTemplate; else elseTemplate\"></ng-container>\r\n<ng-template #thenTemplate>\r\n\r\n    <nz-layout>\r\n        <nz-header>\r\n            <app-header (clickSave)=\"clickSave($event)\"></app-header>\r\n        </nz-header>\r\n        <nz-content>\r\n            <ng-container *ngIf=\"isLoading; then loadingTemplate; else editorTemplate\"></ng-container>\r\n            <ng-template #loadingTemplate>\r\n                <div class=\"alert\">\r\n                    <h3>Vui lòng chờ giây lát</h3>\r\n                </div>\r\n            </ng-template>\r\n            <ng-template #editorTemplate>\r\n                <ng-container *ngIf=\"mode=='notfound'; then notFoundTemplate; else editorTemplate\"></ng-container>\r\n                <ng-template #notFoundTemplate>\r\n                    <div class=\"alert not-found\">\r\n                        template Not Found\r\n                    </div>\r\n                </ng-template>\r\n                <ng-template #editorTemplate>\r\n                    <nz-layout class=\"inner-layout\" *ngIf=\"mode == 'create' || mode=='update'\">\r\n                        <nz-sider nzWidth=\"380px\" nzTheme=\"dark\" (nzCollapsedChange)=\"nzCollapsedChange($event)\">\r\n                            <app-template-sidebar></app-template-sidebar>\r\n                        </nz-sider>\r\n                        <nz-content class=\"nz-layout-content\">\r\n                            <section id=\"content\">\r\n                                <app-client-viewport></app-client-viewport>\r\n                            </section>\r\n                        </nz-content>\r\n                    </nz-layout>\r\n                </ng-template>\r\n            </ng-template>\r\n        </nz-content>\r\n    </nz-layout>\r\n    <dragging-item></dragging-item>\r\n    <dragging-geometry></dragging-geometry>\r\n    <modal-image-library [app]=\"app\"></modal-image-library>\r\n    <panel-mesh-geometry></panel-mesh-geometry>\r\n    <panel-model-object></panel-model-object>\r\n    <panel-light></panel-light>\r\n    <app-panel-mesh-customize></app-panel-mesh-customize>\r\n    <app-sidebar-lock></app-sidebar-lock>\r\n</ng-template>\r\n<ng-template #elseTemplate>\r\n\r\n</ng-template>","export * from './reducers';\r\n// export * from './actions';\r\nexport * from './effects';\r\n// export * from './selectors';\r\nexport * from './services';\r\n// export * from './item';\r\n// export * from './category';\r\n","import { CategoryService } from \"@app/_store/category\";\r\nimport { TemplateService } from \"@app/_store/template\";\r\nimport { TemplateTableService } from \"@app/_store/template/table\";\r\n// import { TemplateEventsService } from \"./events.service\";\r\n\r\nexport const services = [\r\n  TemplateService,\r\n  CategoryService,\r\n  \r\n  TemplateTableService,\r\n];\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { WorkspaceComponent } from './workspace/workspace.component';\nimport { HeaderComponent } from './header/header.component';\nimport { ListComponent } from './list/list.component';\n\n\n\nexport const ENTRIES_COMPONENTS = [];\n\n\nexport const COMPONENTS = [\n  WorkspaceComponent,\n  HeaderComponent,\n  ListComponent\n];\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      {\n        path: ':id/edit',\n        component: WorkspaceComponent,\n      },\n      // {\n      //   path: ':id/update',\n      //   component: WorkspaceComponent,\n      // },\n      // {\n      //   path: 'create',\n      //   component: WorkspaceComponent,\n      // },\n      // {\n      //   path: 'list',\n      //   component: ListComponent,\n      // },\n      // {\n      //   path: '**',\n      //   redirectTo: 'list',\n      // },\n    ],\n  },\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [RouterModule],\n})\nexport class TemplateRoutingModule { }\n","import { Injectable } from '@angular/core';\nimport { DbTableColumns } from '@app/_core/helpers/local-db';\nimport { LostDbTableService } from '@app/_core/services/lost-db-table.service';\nimport { LostDbService } from '@app/_core/services/lost-db.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class TemplateTableService extends LostDbTableService {\n    name: string = 'templates';\n    columns: DbTableColumns = {\n        id: {\n            type: \"number\",\n            autoIncrement: true\n        },\n        name: {\n            type: \"string\",\n            required: true,\n        },\n        category_id: {\n            type: \"number\",\n            defVal: 0\n        },\n        description: {\n            type: \"string\",\n            defVal: \"\"\n        },\n        status: {\n            type: \"string\",\n            defVal: \"draft\"\n        },\n        thumbnail: {\n            type: \"string\",\n            defVal: \"\"\n        },\n        renderer: {\n            type: \"object\",\n            defVal: {}\n        },\n        scene: {\n            type: \"object\",\n            defVal: {}\n        },\n\n        composer: {\n            type: \"object\",\n            defVal: {}\n        },\n        shadow: {\n            type: \"object\",\n            defVal: {}\n        },\n        camera: {\n            type: \"object\",\n            defVal: {}\n        },\n        control: {\n            type: \"object\",\n            defVal: {}\n        },\n        lights: {\n            type: \"array\",\n            defVal: []\n        },\n        // objects\n        objects: {\n            type: \"array\",\n            defVal: []\n        },\n        // objects\n        meshes: {\n            type: \"array\",\n            defVal: []\n        }\n\n    }\n    constructor(private dbService: LostDbService) {\n        super(dbService);\n        this.init();\n    }\n}\n"],"sourceRoot":"webpack:///"}
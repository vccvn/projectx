{"version":3,"sources":["./src/app/_shared/components/inputs/inp-select/inp-select.component.ts","./src/app/_shared/components/inputs/inp-select/inp-select.component.html","./src/app/_shared/components/input-groups/base-inp-group/base-inp-group.component.ts","./src/app/_core/interceptors/error.interceptor.ts","./src/app/auth/store/auth.actions.ts","./src/app/_shared/components/viewport/object-toolbar/object-toolbar.component.ts","./src/app/_shared/components/viewport/object-toolbar/object-toolbar.component.html","./src/app/_shared/components/transparent-img/transparent-img.component.ts","./src/app/_shared/components/transparent-img/transparent-img.component.html","./src/app/_core/services/local-storage.service.ts","./src/app/_3D/engines/editor.engine.ts","./src/app/_3D/services/app-storage.service.ts","./src/app/_store/images/model.ts","./src/app/_shared/pipes/array-reverse.pipe.ts","./src/app/_shared/components/modals/modal-export-image/modal-export-image.component.ts","./src/app/_shared/components/modals/modal-export-image/modal-export-image.component.html","./src/app/_shared/components/inputs/inp-color/inp-color.component.ts","./src/app/_shared/components/inputs/inp-color/inp-color.component.html","./src/app/_3D/store/data.type.ts","./src/app/_core/config.ts","./src/app/_shared/components/input-groups/inp-textarea-group/inp-textarea-group.component.ts","./src/app/_shared/components/input-groups/inp-textarea-group/inp-textarea-group.component.html","./src/app/_shared/components/inputs/inp-switch/inp-switch.component.ts","./src/app/_shared/components/inputs/inp-switch/inp-switch.component.html","./src/app/_shared/components/panels/mesh-geometry/mesh-geometry-tab-geometry/mesh-geometry-tab-geometry.component.ts","./src/app/_shared/components/panels/mesh-geometry/mesh-geometry-tab-geometry/mesh-geometry-tab-geometry.component.html","./src/app/_shared/components/editor/tabs/tab-object/tab-model/model-search/model-search.component.ts","./src/app/_shared/components/editor/tabs/tab-object/tab-model/model-search/model-search.component.html","./src/app/_shared/components/editor/sidebar/sidebar-lock/sidebar-lock.service.ts","./src/app/_3D/threejs/jsm/controls/FlyControls.js","./src/app/_shared/components/editor/drag-drop/droppable-area/droppable-area.component.ts","./src/app/_shared/components/editor/drag-drop/droppable-area/droppable-area.component.html","./src/app/_shared/components/input-groups/inp-radio-group/inp-radio-group.component.ts","./src/app/_shared/components/input-groups/inp-radio-group/inp-radio-group.component.html","./src/app/_3D/services/app-3d.service.ts","./src/app/_shared/components/panels/panel-model-object/panel-model-object.component.ts","./src/app/_shared/components/panels/panel-model-object/panel-model-object.component.html","./src/app/_core/services/index.ts","./src/app/_shared/components/inputs/inp-texture/inp-texture.component.ts","./src/app/_shared/components/inputs/inp-texture/inp-texture.component.html","./src/app/_store/index.ts","./src/app/auth/auth-routing.module.ts","./src/app/_core/services/rest.service.ts","./src/app/_shared/components/panels/panel-light/panel-light-tab-properties/panel-light-tab-properties.component.ts","./src/app/_shared/components/panels/panel-light/panel-light-tab-properties/panel-light-tab-properties.component.html","./src/app/_core/services/storage.service.ts","./src/app/_shared/components/viewport/client-viewport.service.ts","./src/app/_shared/components/panels/mesh-geometry/mesh-geometry-tab-material/mesh-geometry-tab-material.component.ts","./src/app/_shared/components/panels/mesh-geometry/mesh-geometry-tab-material/mesh-geometry-tab-material.component.html","./src/app/auth/models/user.ts","./src/app/_shared/components/editor/tabs/tab-controls/tab-control/tab-control.component.ts","./src/app/_shared/components/editor/tabs/tab-controls/tab-control/tab-control.component.html","./src/app/_core/services/http.service.ts","./src/app/_store/template/model.ts","./src/app/_store/reducers/index.ts","./src/environments/environment.ts","./src/app/_3D/services/app-editor.service.ts","./src/app/_shared/components/upload/upload.component.ts","./src/app/_shared/components/upload/upload.component.html","./src/app/_shared/components/panels/mesh-geometry/mesh-geometry.component.ts","./src/app/_shared/components/panels/mesh-geometry/mesh-geometry.component.html","./src/app/_shared/components/editor/sidebar/viewer-sidebar/viewer-sidebar.component.ts","./src/app/_shared/components/editor/sidebar/viewer-sidebar/viewer-sidebar.component.html","./src/app/auth/store/index.ts","./src/app/auth/layout/layout.component.ts","./src/app/auth/layout/layout.component.html","./src/app/_3D/services/event-emitter.ts","./src/app/_3D/traits/renderer.ts","./src/app/_3D/libs/animation-loop.ts","./src/app/_core/guards/authorization.guard.ts","./src/app/_3D/modules/postprocessing.esm.js","./src/app/_shared/components/panels/panel-model-object/panel-model-object-tab-meshes/panel-model-object-tab-meshes.component.ts","./src/app/_shared/components/panels/panel-model-object/panel-model-object-tab-meshes/panel-model-object-tab-meshes.component.html","./src/app/_shared/components/viewport/editor-toolbar/editor-toolbar.component.ts","./src/app/_shared/components/viewport/editor-toolbar/editor-toolbar.component.html","./src/app/_core/services/permissions.service.ts","./src/app/_shared/components/panels/panel-model-object/panel-model-object.service.ts","./src/app/_3D/threejs/jsm/controls/DragControls.js","./src/app/_shared/components/editor/sidebar/sidebar-lock/sidebar-lock.component.ts","./src/app/_shared/components/editor/sidebar/sidebar-lock/sidebar-lock.component.html","./src/app/_shared/components/input-groups/inp-text-group/inp-text-group.component.ts","./src/app/_shared/components/input-groups/inp-text-group/inp-text-group.component.html","./src/app/_shared/components/panels/mesh-geometry/mesh-geometry-tab-properties/mesh-geometry-tab-properties.component.ts","./src/app/_shared/components/panels/mesh-geometry/mesh-geometry-tab-properties/mesh-geometry-tab-properties.component.html","./src/app/_store/item/index.ts","./src/app/_core/guards/index.ts","./src/app/_shared/components/editor/tabs/tab-scene/tab-scene-settings/tab-scene-settings.component.ts","./src/app/_shared/components/editor/tabs/tab-scene/tab-scene-settings/tab-scene-settings.component.html","./src/app/auth/models/index.ts","./src/app/_core/directives/can-access.directive.ts","./src/app/_core/helpers/utils.ts","./src/app/auth/auth.component.ts","./src/app/auth/auth.component.html","./src/app/_3D/libs/editor.ts","./src/app/_store/images/index.ts","./src/app/_shared/components/inputs/inp-rotation/inp-rotation.component.ts","./src/app/_shared/components/inputs/inp-rotation/inp-rotation.component.html","./src/app/_3D/libs/three.libs.ts","./src/app/_3D/traits/scene.ts","./src/app/auth/services/auth.service.ts","./src/app/_3D/modules/dynamic-shadows.ts","./src/app/_shared/components/editor/tabs/tab-object/tab-model/model-list/model-list.component.ts","./src/app/_shared/components/editor/tabs/tab-object/tab-model/model-list/model-list.component.html","./src/app/auth/store/auth.effects.ts","./src/app/_shared/directives/debounce-input.directive.ts","./src/app/_3D/threejs/jsm/controls/PointerLockControls.js","./src/app/_store/form/input.data.ts","./src/app/_core/services/startup.service.ts","./src/app/_3D/libs/models.ts","./src/app/_store/item/table.ts","./src/app/_shared/components/inputs/inp-textarea/inp-textarea.component.ts","./src/app/_shared/components/inputs/inp-textarea/inp-textarea.component.html","./src/app/_shared/components/editor/tabs/tab-object/tab-object.component.ts","./src/app/_shared/components/editor/tabs/tab-object/tab-object.component.html","./src/app/_3D/traits/camera.ts","./src/app/_shared/components/panels/panel-light/panel-light.component.ts","./src/app/_shared/components/panels/panel-light/panel-light.component.html","./src/app/_3D/modules/composer.ts","./src/app/_shared/components/input-groups/inp-select-group/inp-select-group.component.ts","./src/app/_shared/components/input-groups/inp-select-group/inp-select-group.component.html","./src/app/_shared/components/viewport/vector-controls/vector-controls.component.ts","./src/app/_shared/components/viewport/vector-controls/vector-controls.component.html","./src/app/_3D/services/app-editor-storage.service.ts","./src/app/_shared/components/panels/panel-mesh-customize/panel-mesh-customize.component.ts","./src/app/_shared/components/panels/panel-mesh-customize/panel-mesh-customize.component.html","./src/app/app.component.ts","./src/app/app.component.html","./src/app/_shared/components/editor/tabs/tab-template-create-form/tab-template-create-form.component.ts","./src/app/_shared/components/editor/tabs/tab-template-create-form/tab-template-create-form.component.html","./src/app/_shared/components/collapses/collapse-mesh-material/collapse-mesh-material.component.ts","./src/app/_shared/components/collapses/collapse-mesh-material/collapse-mesh-material.component.html","./src/app/_shared/components/editor/tabs/tab-light/tab-light.component.ts","./src/app/_shared/components/editor/tabs/tab-light/tab-light.component.html","./src/app/_shared/components/editor/tabs/tab-template/template-list/template-list.component.ts","./src/app/_shared/components/editor/tabs/tab-template/template-list/template-list.component.html","./src/app/_3D/libs/event-dispatcher.ts","./src/app/_3D/traits/lights.ts","./src/app/_shared/components/input-groups/inp-range-group/inp-range-group.component.ts","./src/app/_shared/components/input-groups/inp-range-group/inp-range-group.component.html","./src/app/_core/node_modules/tslib/tslib.es6.js","./src/app/src/css/layout/bounds.ts","./src/app/_core/node_modules/src/Util.ts","./src/app/_core/node_modules/src/Trie.ts","./src/app/_core/node_modules/src/linebreak-trie.ts","./src/app/_core/node_modules/src/LineBreak.ts","./src/app/src/css/syntax/tokenizer.ts","./src/app/src/css/syntax/parser.ts","./src/app/src/css/types/length.ts","./src/app/src/css/types/length-percentage.ts","./src/app/src/css/types/angle.ts","./src/app/src/css/types/color.ts","./src/app/src/css/property-descriptors/background-clip.ts","./src/app/src/css/property-descriptors/background-color.ts","./src/app/src/css/types/functions/gradient.ts","./src/app/src/css/types/functions/linear-gradient.ts","./src/app/src/css/types/functions/-prefix-linear-gradient.ts","./src/app/src/css/types/functions/-webkit-gradient.ts","./src/app/src/css/types/functions/radial-gradient.ts","./src/app/src/css/types/functions/-prefix-radial-gradient.ts","./src/app/src/css/types/image.ts","./src/app/src/css/property-descriptors/background-image.ts","./src/app/src/css/property-descriptors/background-origin.ts","./src/app/src/css/property-descriptors/background-position.ts","./src/app/src/css/property-descriptors/background-repeat.ts","./src/app/src/css/property-descriptors/background-size.ts","./src/app/src/css/property-descriptors/border-color.ts","./src/app/src/css/property-descriptors/border-radius.ts","./src/app/src/css/property-descriptors/border-style.ts","./src/app/src/css/property-descriptors/border-width.ts","./src/app/src/css/property-descriptors/color.ts","./src/app/src/css/property-descriptors/direction.ts","./src/app/src/css/property-descriptors/display.ts","./src/app/src/css/property-descriptors/float.ts","./src/app/src/css/property-descriptors/letter-spacing.ts","./src/app/src/css/property-descriptors/line-break.ts","./src/app/src/css/property-descriptors/line-height.ts","./src/app/src/css/property-descriptors/list-style-image.ts","./src/app/src/css/property-descriptors/list-style-position.ts","./src/app/src/css/property-descriptors/list-style-type.ts","./src/app/src/css/property-descriptors/margin.ts","./src/app/src/css/property-descriptors/overflow.ts","./src/app/src/css/property-descriptors/overflow-wrap.ts","./src/app/src/css/property-descriptors/padding.ts","./src/app/src/css/property-descriptors/text-align.ts","./src/app/src/css/property-descriptors/position.ts","./src/app/src/css/property-descriptors/text-shadow.ts","./src/app/src/css/property-descriptors/text-transform.ts","./src/app/src/css/property-descriptors/transform.ts","./src/app/src/css/property-descriptors/transform-origin.ts","./src/app/src/css/property-descriptors/visibility.ts","./src/app/src/css/property-descriptors/word-break.ts","./src/app/src/css/property-descriptors/z-index.ts","./src/app/src/css/types/time.ts","./src/app/src/css/property-descriptors/opacity.ts","./src/app/src/css/property-descriptors/text-decoration-color.ts","./src/app/src/css/property-descriptors/text-decoration-line.ts","./src/app/src/css/property-descriptors/font-family.ts","./src/app/src/css/property-descriptors/font-size.ts","./src/app/src/css/property-descriptors/font-weight.ts","./src/app/src/css/property-descriptors/font-variant.ts","./src/app/src/css/property-descriptors/font-style.ts","./src/app/src/core/bitwise.ts","./src/app/src/css/property-descriptors/content.ts","./src/app/src/css/property-descriptors/counter-increment.ts","./src/app/src/css/property-descriptors/counter-reset.ts","./src/app/src/css/property-descriptors/duration.ts","./src/app/src/css/property-descriptors/quotes.ts","./src/app/src/css/property-descriptors/box-shadow.ts","./src/app/src/css/property-descriptors/paint-order.ts","./src/app/src/css/property-descriptors/webkit-text-stroke-color.ts","./src/app/src/css/property-descriptors/webkit-text-stroke-width.ts","./src/app/src/css/index.ts","./src/app/src/core/debugger.ts","./src/app/src/dom/element-container.ts","./src/app/_core/node_modules/src/grapheme-break-trie.ts","./src/app/_core/node_modules/text-segmentation/node_modules/src/Util.ts","./src/app/_core/node_modules/text-segmentation/node_modules/src/Trie.ts","./src/app/_core/node_modules/text-segmentation/node_modules/utrie/node_modules/src/index.ts","./src/app/_core/node_modules/src/GraphemeBreak.ts","./src/app/src/core/features.ts","./src/app/src/css/layout/text.ts","./src/app/src/dom/text-container.ts","./src/app/src/dom/replaced-elements/image-element-container.ts","./src/app/src/dom/replaced-elements/canvas-element-container.ts","./src/app/src/dom/replaced-elements/svg-element-container.ts","./src/app/src/dom/elements/li-element-container.ts","./src/app/src/dom/elements/ol-element-container.ts","./src/app/src/dom/replaced-elements/input-element-container.ts","./src/app/src/dom/elements/select-element-container.ts","./src/app/src/dom/elements/textarea-element-container.ts","./src/app/src/dom/replaced-elements/iframe-element-container.ts","./src/app/src/dom/node-parser.ts","./src/app/src/css/types/functions/counter.ts","./src/app/src/dom/document-cloner.ts","./src/app/src/core/cache-storage.ts","./src/app/src/render/path.ts","./src/app/src/render/vector.ts","./src/app/src/render/bezier-curve.ts","./src/app/src/render/bound-curves.ts","./src/app/src/render/effects.ts","./src/app/src/render/stacking-context.ts","./src/app/src/render/border.ts","./src/app/src/render/box-sizing.ts","./src/app/src/render/background.ts","./src/app/src/core/util.ts","./src/app/src/render/font-metrics.ts","./src/app/src/render/renderer.ts","./src/app/src/render/canvas/canvas-renderer.ts","./src/app/src/render/canvas/foreignobject-renderer.ts","./src/app/src/core/logger.ts","./src/app/src/core/context.ts","./src/app/src/index.ts","./src/app/_shared/components/inputs/inp-text/inp-text.component.ts","./src/app/_shared/components/inputs/inp-text/inp-text.component.html","./src/app/_shared/components/form-group/prop-inputs/prop-inputs.component.ts","./src/app/_shared/components/form-group/prop-inputs/prop-inputs.component.html","./src/app/_3D/traits/object-manager.ts","./src/app/_core/services/lost-db-table.service.ts","./src/app/_core/helpers/event-manager.ts","./src/app/auth/store/auth.selectors.ts","./src/app/_shared/components/editor/tabs/tab-light/tab-lights/tab-lights.component.ts","./src/app/_shared/components/editor/tabs/tab-light/tab-lights/tab-lights.component.html","./src/app/_core/services/lost-db.service.ts","./src/app/_shared/components/editor/tabs/tab-object/tab-model/tab-model.component.ts","./src/app/_shared/components/editor/tabs/tab-object/tab-model/tab-model.component.html","./src/app/_shared/components/editor/tabs/tab-object/tab-geometry/tab-geometry.component.ts","./src/app/_shared/components/editor/tabs/tab-object/tab-geometry/tab-geometry.component.html","./src/app/auth/auth.module.ts","./src/app/_core/services/event-manager.service.ts","./src/app/_store/template/service.ts","./src/app/app.module.ts","./src/app/_shared/components/editor/tabs/tab-light/light-item/light-item.component.ts","./src/app/_shared/components/editor/tabs/tab-light/light-item/light-item.component.html","./src/app/_3D/services/app-editor-event.service.ts","./src/app/_shared/components/inputs/inp-number/inp-number.component.ts","./src/app/_shared/components/inputs/inp-number/inp-number.component.html","./src/app/_3D/traits/floor.ts","./src/app/_shared/components/editor/tabs/tab-project-setting/tab-project-setting.component.ts","./src/app/_shared/components/editor/tabs/tab-project-setting/tab-project-setting.component.html","./src/app/_shared/components/editor/tabs/tab-object/tab-model/model-item/model-item.component.ts","./src/app/_shared/components/editor/tabs/tab-object/tab-model/model-item/model-item.component.html","./src/app/_shared/shared-services.ts","./src/app/_shared/components/editor/tabs/tab-scene/tab-foreground/tab-foreground.component.ts","./src/app/_shared/components/editor/tabs/tab-scene/tab-foreground/tab-foreground.component.html","./src/app/_shared/components/viewport/editor-toolbar/editor-toolbar.service.ts","./src/app/auth/services/index.ts","./src/app/_shared/components/viewport/canvas-layer/canvas-layer.component.ts","./src/app/_shared/components/editor/sidebar/project-sidebar/project-sidebar.component.ts","./src/app/_shared/components/editor/sidebar/project-sidebar/project-sidebar.component.html","./src/app/auth/login/login.component.ts","./src/app/auth/login/login.component.html","./src/app/_3D/engines/controls.engine.ts","./src/app/_shared/components/panels/panel-model-object/panel-model-object-tab-properties/panel-model-object-tab-properties.component.ts","./src/app/_shared/components/panels/panel-model-object/panel-model-object-tab-properties/panel-model-object-tab-properties.component.html","./src/app/_shared/components/editor/tabs/tab-template/template-item/template-item.component.ts","./src/app/_shared/components/editor/tabs/tab-template/template-item/template-item.component.html","./src/app/_core/helpers/dom.ts","./src/app/_shared/components/viewport/vector-controls/vector-controls.service.ts","./src/app/_shared/components/editor/tabs/tab-scene/tab-scene.component.ts","./src/app/_shared/components/editor/tabs/tab-scene/tab-scene.component.html","./src/app/_core/interceptors/index.ts","./src/app/_core/helpers/local-db.ts","./src/app/_shared/components/inputs/inp-range/inp-range.component.ts","./src/app/_shared/components/inputs/inp-range/inp-range.component.html","./src/app/_core/interceptors/jwt.interceptor.ts","./src/app/_core/services/menu/menu.service.ts","./src/app/_store/images/service.ts","./src/app/_shared/components/editor/tabs/tab-scene/tab-background/tab-background.component.ts","./src/app/_shared/components/editor/tabs/tab-scene/tab-background/tab-background.component.html","./src/app/_shared/shared.type.ts","./src/app/_3D/modules/loader.ts","./src/app/_shared/components/panels/mesh-geometry/mesh-geometry.service.ts","./src/app/_shared/components/inputs/select-box/select-box.component.ts","./src/app/_shared/components/inputs/select-box/select-box.component.html","./src/app/_shared/components/panels/panel-light/panel-light.service.ts","./src/app/_shared/components/input-groups/inp-number-group/inp-number-group.component.ts","./src/app/_shared/components/input-groups/inp-number-group/inp-number-group.component.html","./src/app/_shared/components/viewport/client-edit-toolbar/client-edit-toolbar.service.ts","./src/app/_store/template/index.ts","./src/app/_shared/shared.module.ts","./src/app/_core/services/menu/menu.model.ts","./src/app/_shared/components/modals/image-library/image-library.component.ts","./src/app/_shared/components/modals/image-library/image-library.component.html","./src/app/app-ui.module.ts","./src/app/_shared/components/viewport/loading-layer/loading-layer.component.ts","./src/app/_shared/components/viewport/loading-layer/loading-layer.component.html","./src/app/_shared/components/viewport/foreground-layer/foreground-layer-item/foreground-layer-item.component.ts","./src/app/_shared/components/viewport/foreground-layer/foreground-layer-item/foreground-layer-item.component.html","./src/app/_shared/components/editor/sidebar/template-sidebar/sidebar.component.ts","./src/app/_shared/components/editor/sidebar/template-sidebar/sidebar.component.html","./src/app/_shared/components/viewport/viewport.service.ts","./src/app/_shared/components/editor/tabs/tab-template/tab-template.component.ts","./src/app/_shared/components/editor/tabs/tab-template/tab-template.component.html","./src/app/_shared/components/input-groups/inp-rotation-group/inp-rotation-group.component.ts","./src/app/_shared/components/input-groups/inp-rotation-group/inp-rotation-group.component.html","./src/app/_shared/components/viewport/client-viewport.component.ts","./src/app/_shared/components/viewport/client-viewport.component.html","./src/app/_shared/components/editor/tabs/tab-light/tab-shadow/tab-shadow.component.ts","./src/app/_shared/components/editor/tabs/tab-light/tab-shadow/tab-shadow.component.html","./src/app/_shared/components/form-group/material-inputs/material-inputs.component.ts","./src/app/_shared/components/form-group/material-inputs/material-inputs.component.html","./src/app/_store/item/service.ts","./src/app/_shared/components/viewport/viewport.component.ts","./src/app/_shared/components/viewport/viewport.component.html","./src/app/_shared/components/editor/drag-drop/dragging-geometry/dragging-geometry.component.ts","./src/app/_shared/components/editor/drag-drop/dragging-geometry/dragging-geometry.component.html","./src/app/_3D/traits/controls.ts","./src/app/_3D/threejs/jsm/controls/TransformControls.js","./src/app/_shared/components/inputs/inp-radio/inp-radio.component.ts","./src/app/_shared/components/inputs/inp-radio/inp-radio.component.html","./src/app/_shared/pipes/thumbnail.pipe.ts","./src/app/_3D/libs/composer.effects.ts","./src/app/_3D/modules/object-image.ts","./src/app/_shared/components/input-groups/inp-texture-group/inp-texture-group.component.ts","./src/app/_shared/components/input-groups/inp-texture-group/inp-texture-group.component.html","./src/app/_shared/components/input-groups/inp-color-group/inp-color-group.component.ts","./src/app/_shared/components/input-groups/inp-color-group/inp-color-group.component.html","./src/app/_core/helpers/es5.class.ts","./src/app/_shared/components/inputs/base-input/base-input.component.ts","./src/app/auth/models/role.ts","./src/app/_shared/components/editor/tabs/tab-scene/tab-foreground/foreground-item/foreground-item.component.ts","./src/app/_shared/components/editor/tabs/tab-scene/tab-foreground/foreground-item/foreground-item.component.html","./src/app/auth/store/auth.reducer.ts","./src/app/_shared/directives/scrollable.directive.ts","./src/app/_shared/components/viewport/object-toolbar/object-toolbar.service.ts","./src/app/_shared/components/input-groups/inp-switch-group/inp-switch-group.component.ts","./src/app/_shared/components/input-groups/inp-switch-group/inp-switch-group.component.html","./src/app/_shared/components/input-groups/inp-vector3-group/inp-vector3-group.component.ts","./src/app/_shared/components/input-groups/inp-vector3-group/inp-vector3-group.component.html","./src/app/_shared/components/base/base.component.ts","./src/app/_store/item/model.ts","./src/app/_core/guards/un-auth.guard.ts","./src/app/_shared/components/modals/image-library/image-library-item/image-library-item.component.ts","./src/app/_shared/components/modals/image-library/image-library-item/image-library-item.component.html","./src/app/_3D/traits/grid-helper.ts","./src/app/_shared/components/editor/tabs/tab-project-info/tab-project-info.component.ts","./src/app/_shared/components/editor/tabs/tab-project-info/tab-project-info.component.html","./src/app/_3D/threejs/jsm/controls/FirstPersonControls.js","./src/app/_shared/components/editor/tabs/tab-setting/tab-info/tab-info.component.ts","./src/app/_shared/components/editor/tabs/tab-setting/tab-info/tab-info.component.html","./src/app/_core/guards/auth.guard.ts","./src/app/_core/services/setting/setting.service.ts","./src/app/_shared/components/editor/tabs/tab-controls/tab-controls.component.ts","./src/app/_shared/components/editor/tabs/tab-controls/tab-controls.component.html","./src/app/_3D/threejs/jsm/controls/OrbitControls.js","./src/app/_3D/engines/app.emgine.ts","./src/app/_shared/directives/string-template-outlet.directive.ts","./src/app/app-routing.module.ts","./src/app/_3D/libs/props.ts","./src/app/_shared/components/modals/image-library/image-library.service.ts","./src/app/_store/form/index.ts","./src/app/_shared/components/viewport/item-viewport.component.ts","./src/app/_core/helpers/local-storage.ts","./src/app/_shared/components/collapses/collapse-base/collapse-base.component.ts","./src/app/_shared/components/viewport/mask-layer/mask-layer.component.ts","./src/app/_shared/components/editor/tabs/tab-setting/tab-setting.component.ts","./src/app/_shared/components/editor/tabs/tab-setting/tab-setting.component.html","./src/app/_3D/engines/moving.engine.ts","./src/app/_shared/components/editor/tabs/tab-controls/tab-camera/tab-camera.component.ts","./src/app/_shared/components/editor/tabs/tab-controls/tab-camera/tab-camera.component.html","./src/app/_shared/components/viewport/droppable-layer/droppable-layer.component.ts","./src/app/_shared/components/viewport/droppable-layer/droppable-layer.component.html","./src/app/_shared/components/viewport/client-edit-toolbar/client-edit-toolbar.component.ts","./src/app/_shared/components/viewport/client-edit-toolbar/client-edit-toolbar.component.html","./src/app/_shared/components/editor/tabs/tab-object/tab-geometry/geometry-item/geometry-item.component.ts","./src/app/_shared/components/editor/tabs/tab-object/tab-geometry/geometry-item/geometry-item.component.html","./src/app/_shared/components/editor/drag-drop/dragging-item/dragging-item.component.ts","./src/app/_shared/components/editor/drag-drop/dragging-item/dragging-item.component.html","./src/app/_shared/services/modal-confirm.service.ts","./src/app/_shared/components/viewport/foreground-layer/foreground-layer.component.ts","./src/app/_shared/components/viewport/foreground-layer/foreground-layer.component.html","./src/app/_shared/components/inputs/vector3/vector3.component.ts","./src/app/_shared/components/inputs/vector3/vector3.component.html","./src/main.ts","./src/app/_shared/components/panels/panel-light/panel-light-tab-params/panel-light-tab-params.component.ts","./src/app/_shared/components/panels/panel-light/panel-light-tab-params/panel-light-tab-params.component.html","./$_lazy_route_resource lazy namespace object","./src/app/_shared/components/editor/tabs/tab-viewer-scene/tab-viewer-scene.component.ts","./src/app/_shared/components/editor/tabs/tab-viewer-scene/tab-viewer-scene.component.html"],"names":["toCodePoints","fromCodePoint","chars","lookup","i","decode","polyUint16Array","polyUint32Array","UTRIE2_SHIFT_2","UTRIE2_SHIFT_1","UTRIE2_INDEX_SHIFT","UTRIE2_SHIFT_1_2","UTRIE2_LSCP_INDEX_2_OFFSET","UTRIE2_DATA_BLOCK_LENGTH","UTRIE2_DATA_MASK","UTRIE2_LSCP_INDEX_2_LENGTH","UTRIE2_INDEX_2_BMP_LENGTH","UTRIE2_UTF8_2B_INDEX_2_OFFSET","UTRIE2_UTF8_2B_INDEX_2_LENGTH","UTRIE2_INDEX_1_OFFSET","UTRIE2_OMITTED_BMP_INDEX_1_LENGTH","UTRIE2_INDEX_2_BLOCK_LENGTH","UTRIE2_INDEX_2_MASK","slice16","slice32","createTrieFromBase64","Trie","base64","CR","LF","ZWJ","RI","BREAK_NOT_ALLOWED","BREAK_ALLOWED","UnicodeTrie","SPACE","color","colorType","angle","angleType","transform","loadSerializedSVG"],"mappings":"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;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA,KAAK;;AAEL;AACA;;AAEA,IAAI;;AAEJ;AACA;;AAEA;AACA;;AAEA,IAAI;;AAEJ,GAAG;;AAEH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB;;AAEA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,aAAa,QAAQ;AACrB;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB,aAAa,QAAQ;AACrB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;A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W,aAAa;AACxB,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;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AE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;QACt8C,EAAE,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC;QACh0C,EAAE,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;QAClqB,KAAK,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,G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EA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,IAAI;;AAEJ;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA,IAAI;;AAEJ;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,IAAI;;AAEJ;AACA;;AAEA,IAAI;;AAEJ;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA,IAAI;;AAEJ;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,GAAG;;AAEH;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;A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","file":"main-es2015.js","sourcesContent":["import { ChangeDetectorRef, Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { isArray, isNumber, isObject, isString } from '@app/_core/helpers/utils';\nimport { BaseInputComponent } from '../base-input/base-input.component';\n\n@Component({\n    selector: 'inp-select',\n    templateUrl: './inp-select.component.html',\n    styleUrls: ['./inp-select.component.scss']\n})\nexport class InpSelectComponent extends BaseInputComponent implements OnInit, OnChanges {\n    @Input() fullwidth: boolean = false;\n    @Input() options: any;\n    _options: Array<{ label: string, value: string }> = [];\n    constructor(private cd: ChangeDetectorRef) {\n        super();\n    }\n\n\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if (changes.options) {\n            this.syncFromParent();\n        }\n\n    }\n\n\n    ngOnInit(): void {\n        this.syncFromParent();\n\n    }\n\n    syncFromParent() {\n        let hasValue = false;\n        if (isArray(this.options)) {\n            this._options = [];\n            \n            this.options.map((value) => {\n                if (isObject(value)) {\n                    if (Object.prototype.hasOwnProperty.call(value, 'value') && Object.prototype.hasOwnProperty.call(value, 'label')) {\n                        this._options.push(value);\n                    }\n                } else if (isString(value) || isNumber(value)) {\n                    this._options.push({\n                        value: value,\n                        label: value\n                    });\n                }\n            });\n            \n\n        } else if (isObject(this.options)) {\n            let s = false;\n            this._options.splice(0);\n            for (const key in this.options) {\n                if (Object.prototype.hasOwnProperty.call(this.options, key)) {\n                    const value = this.options[key];\n                    if (isObject(value)) {\n                        if (Object.prototype.hasOwnProperty.call(value, 'value') && Object.prototype.hasOwnProperty.call(value, 'label')) {\n                            this._options.push(value);\n                        }\n                    } else if (isString(value)) {\n                        s = true;\n                        this._options.push({\n                            value: key,\n                            label: value\n                        });\n                    }\n                }\n            }\n            if (s) {\n                this.value = String(this.value);\n            }\n        }\n        if(this._options.length){\n            this._options.map(opt => {\n                if(opt.value == this.value) hasValue = true;\n            })\n            if(!hasValue){\n                this.value = this._options[0].value;\n            }\n        }\n        \n    }\n    \n}\n","<nz-select [(ngModel)]=\"value\" (ngModelChange)=\"onChange($event)\" [class.width-100]=\"fullwidth\">\n    <nz-option *ngFor=\"let p of _options\" [nzValue]=\"p.value\" [nzLabel]=\"p.label\"></nz-option>\n</nz-select>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { assignValue, isArray, isEmpty, isObject } from '@app/_core/helpers/utils';\nimport { InpEvent } from '@app/_shared/shared.type';\nimport { BaseComponent } from '../../base/base.component';\n\n@Component({\n    template: ''\n})\nexport abstract class BaseInpGroupComponent extends BaseComponent {\n    @Input() name: string = '';\n    @Input() value: any = \"\";\n    @Input() label: string = '';\n    @Input() placeholder: string = '';\n    @Input() valueType: string = null;\n    @Input() config: {\n        label: string,\n        name: string,\n        value: any,\n        [key: string]: any\n    } = null;\n    @Input() attach: {\n        label?: string,\n        name?: string,\n        value?: any,\n        [key: string]: any\n    } = null;\n\n    hasAttach: boolean = false;\n\n    old: any = '';\n\n    @Output() subcribe = new EventEmitter<InpEvent>();\n\n    defaultValues: {\n        label: string,\n        name: string,\n        value: any,\n        [key: string]: any\n    } = {\n            name: \"\",\n            label: \"\",\n            value: \"\",\n            placeholder: \"\"\n        }\n\n\n\n\n    onChange(event) {\n        if (isObject(event) && Object.prototype.hasOwnProperty.call(event, 'value')) {\n            this.value = event.value;\n        }\n        if (isObject(this.old) && isObject(this.value)) {\n            if (JSON.stringify(this.old) !== JSON.stringify(this.value)) {\n                this.emitChange();\n            }\n        } else if (this.old !== this.value) {\n            this.emitChange();\n        }\n\n    }\n    onAttachChange(event) {\n        this.subcribe.emit({\n            name: event.name,\n            value: event.value\n        });\n\n    }\n\n    emitChange() {\n        var ov = isObject(this.value) ? assignValue({}, this.value) : this.value;\n        var self: any = this;\n        var old = this.old;\n        if (typeof self.onInpValChange == \"function\") {\n            self.onInpValChange(ov);\n        }\n        this.subcribe.emit({\n            name: this.name,\n            value: ov,\n            old: old\n        });\n        this.old = ov;\n    }\n\n    set val(value) {\n        this.value = value;\n        this.onChange({ type: \"change\", value: value });\n    }\n\n    inpInit() {\n        var self: any = this;\n        var checkList = ['name', 'label', 'value', \"placeholder\", \"valueType\"];\n\n        if (this.config && isObject(this.config) && !isEmpty(this.config)) {\n            if (typeof self.configProps != \"undefined\" && isArray(self.configProps)) {\n                self.configProps.map(s => checkList.indexOf(s) == -1 ? checkList.push(s) : s);\n            }\n            checkList.map(p => {\n                if (Object.prototype.hasOwnProperty.call(self, p)) {\n                    if (Object.prototype.hasOwnProperty.call(this.config, p)) {\n                        if (self[p] === this.defaultValues[p]) {\n                            self[p] = this.config[p];\n                        }\n                    }\n                }\n            });\n\n            if (!this.label) {\n                this.label = this.name;\n            }\n            if (this.config.attach && isObject(this.config.attach) && !isEmpty(this.config.attach)) {\n                if (!isObject(this.attach)) this.attach = {}\n                var checkattach = ['name', 'label', 'value', \"placeholder\", 'min', 'max', 'step'];\n                checkattach.map(p => {\n                    if (Object.prototype.hasOwnProperty.call(this.attach, p)) {\n                        if (Object.prototype.hasOwnProperty.call(this.config.attach, p)) {\n                            if (this.attach[p] === this.defaultValues[p]) {\n                                this.attach[p] = this.config.attach[p];\n                            }\n                        }\n                    } else {\n                        if (Object.prototype.hasOwnProperty.call(this.config.attach, p)) {\n                            this.attach[p] = this.config.attach[p];\n                        }\n                    }\n\n                });\n\n\n            }\n\n        }\n        if (!isEmpty(this.attach)) {\n            this.hasAttach = true;\n        }\n    }\n\n}\n\n\n\n","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { Observable, throwError, of } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { AuthenticationService } from '../../auth/services';\r\n\r\n@Injectable()\r\nexport class ErrorInterceptor implements HttpInterceptor {\r\n  constructor(private authenticationService: AuthenticationService, private router: Router) {}\r\n\r\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    return next.handle(request).pipe(\r\n      catchError((err) => {\r\n        if ([401].indexOf(err.status) !== -1) {\r\n          // auto logout if 401 Unauthorized or 403 Forbidden response returned from api\r\n          this.authenticationService.logout();\r\n\r\n          // tslint:disable-next-line: deprecation\r\n          this.router.navigate(['/auth/login']);\r\n        }\r\n        const error = err.message || err.name || err.statusText;\r\n        return throwError(err.error);\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { Action } from '@ngrx/store';\r\n\r\nexport enum AuthActionTypes {\r\n  LOGIN = '[Auth] Login',\r\n  LOGIN_SUCCESS = '[Auth] Login Success',\r\n  LOGIN_FAILURE = '[Auth] Login Failure',\r\n}\r\n\r\nexport class Login implements Action {\r\n  readonly type = AuthActionTypes.LOGIN;\r\n  constructor(public payload: { email: string; password: string }) {}\r\n}\r\nexport class LoginSuccess implements Action {\r\n  readonly type = AuthActionTypes.LOGIN_SUCCESS;\r\n  constructor(public payload: any) {}\r\n}\r\nexport class LoginFailure implements Action {\r\n  readonly type = AuthActionTypes.LOGIN_FAILURE;\r\n  constructor(public payload: any) {}\r\n}\r\n\r\nexport type AuthActions = Login | LoginSuccess | LoginFailure;\r\n","import { Component, OnInit } from '@angular/core';\nimport { assignValue, inArray } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '../../base/base.component';\nimport { ObjectToolbarService } from './object-toolbar.service';\n\ninterface MenuBtn {\n    name: string,\n    text: string,\n    title?: string,\n    icon?: string,\n    isActive?: boolean\n}\n\nlet menuButtons: MenuBtn[] = [\n    { name: \"translate\", text: \"Di chuyển\", icon: \"fullscreen\", isActive: false },\n    { name: \"rotate\", text: \"Xoay\", icon: \"transaction\", isActive: false },\n    { name: \"scale\", text: \"Kéo giãn\", icon: \"expand\", isActive: false },\n    { name: \"download\", text: \"Tải tài nguyên\", icon: \"download\", isActive: false },\n    { name: \"edit\", text: \"Chỉnh sửa\", icon: \"edit\", isActive: false },\n    { name: \"delete\", text: \"Xóa\", icon: \"delete\", isActive: false },\n]\n\n@Component({\n    selector: 'viewport-object-toolbar',\n    templateUrl: './object-toolbar.component.html',\n    styleUrls: ['./object-toolbar.component.scss']\n})\nexport class ObjectToolbarComponent extends BaseComponent implements OnInit {\n\n    title: string = '';\n    currentMode: string = '';\n    show: boolean = false;\n\n    buttons: MenuBtn[] = [];\n    btnList = {\n        light: [\"translate\", \"rotate\", \"edit\", \"delete\"],\n        object: [\"translate\", \"rotate\", \"scale\", \"edit\", 'download', \"delete\"],\n        mesh: [\"translate\", \"rotate\", \"scale\", \"edit\", \"delete\"]\n    }\n    secret_key: string = \"\";\n\n    currentType: string = \"\";\n\n    constructor(private events: ObjectToolbarService) {\n        super();\n        \n    }\n\n    onChangeSubEvents(){\n        this.registerEventService(this.subEvents, {\n            \"show\": e => this.showMenu(e.data.secret_key, e.data.type, e.data.mode),\n            \"hide\": e => this.reset(),\n            \"mode.change\": e => this.changeMode(e.mode),\n        });\n    }\n\n    onInit(): void {\n        // this.activeEventServiceRegistered(this.service);\n    }\n    onDestroy(){\n        // this.deactiveEventServiceRegistered(this.service);\n    }\n\n    showMenu(key:string, type:string, mode?:string) {\n        this.reset();\n        this.secret_key = key;\n        this.currentType = type;\n        if (typeof this.btnList[type] != \"undefined\") {\n            this.show = true;\n            if (mode && inArray([\"translate\", \"rotate\", \"scale\"], mode)) {\n                this.currentMode = mode;\n            }\n            this.setButtons();\n        }\n    }\n\n    changeMode(mode: string) {\n        this.currentMode = mode;\n        this.setButtons();\n    }\n    setButtons() {\n        this.buttons = menuButtons.slice(0)\n            .filter(btn => this.btnList[this.currentType].indexOf(btn.name) !== -1)\n            .map(btn => {\n                var a: MenuBtn = assignValue({}, btn);\n                if (a.name == this.currentMode) {\n                    a.isActive = true;\n                }\n                return a;\n            })\n    }\n\n    reset() {\n        this.show = false;\n        this.buttons = [];\n        this.secret_key = \"\";\n    }\n\n    onBtnClick(mode) {\n        if (inArray([\"translate\", \"rotate\", \"scale\"], mode)) {\n            this.currentMode = mode;\n            this.buttons.map(btn => btn.isActive = btn.name == mode);\n            this.subEvents.emit({\n                type: \"mode.select\",\n                mode: mode\n            })\n        }\n        else {\n            this.subEvents.emit({\n                type: \"action\",\n                data: {\n                    action: mode,\n                    type: this.currentType,\n                    secret_key: this.secret_key\n                }\n\n            })\n        }\n    }\n}\n","<div class=\"menu-buttons\" *ngIf=\"show\">\n    <div class=\"btn\" *ngFor=\"let btn of buttons; let i=index\" title=\"{{btn.text}}\" [class.active]=\"btn.isActive\" (click)=\"onBtnClick(btn.name)\">\n        <i nz-icon nzType=\"{{btn.icon}}\" nzTheme=\"outline\"></i>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-transparent-img',\n  templateUrl: './transparent-img.component.html',\n  styleUrls: ['./transparent-img.component.scss']\n})\nexport class TransparentImgComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>transparent-img works!</p>\n","import { Injectable } from '@angular/core';\nimport LocalStorageEngine from \"../helpers/local-storage\";\n@Injectable({\n    providedIn: 'root'\n})\nexport class LocalStorageService {\n    key = \"__storage__service__\";\n    __storage__: LocalStorageEngine\n    constructor() {\n        this.__storage__ = new LocalStorageEngine(this.key);\n     }\n    /**\n     * set gia tri vao storage\n     * @param {string} key chuoi khoa de truy cap\n     * @param {*} value gia tri\n     * @returns {this}\n     */\n    set(key:any, value:any) {\n        return this.__storage__.set(key, value);\n    }\n    /**\n     * Lấy giá trị từ storage\n     * @param {string} key chuoi khoa de truy cap\n     * @returns {*}\n     */\n    get(key:any):any {\n        return this.__storage__.get(key);\n    }\n    /**\n     * Xóa giá trị\n     * @param {string} key \n     */\n    remove(key:any):boolean {\n        return this.__storage__.remove(key);\n    }\n}\n","import createClass from '@app/_core/helpers/es5.class';\r\nimport { assignValue, isArray, isEmpty, isNumber, isObject, isString } from '@app/_core/helpers/utils';\r\n\r\n\r\nimport Scene from '../traits/scene';\r\nimport Camera from '../traits/camera';\r\nimport Renderer from '../traits/renderer';\r\nimport Controls from '../traits/controls';\r\nimport GridHelper from '../traits/grid-helper';\r\nimport Lights from '../traits/lights';\r\nimport ObjectManager from '../traits/object-manager';\r\nimport {EventDispatcher} from '../libs/event-dispatcher';\r\n\r\n\r\n\r\nimport { Geometries, LightLib, LoaderLib, Materials, Meshes } from '../libs/three.libs';\r\n\r\nimport Models from '../libs/models';\r\n\r\n\r\nimport Loader from '../modules/loader'\r\nimport Composer from '../modules/composer'\r\nimport DynamicShadows from '../modules/dynamic-shadows'\r\nimport { EngineClass, EngineInstance } from './engine.doc';\r\nimport { Floor } from '../traits/floor';\r\n\r\nexport interface EditorEngineInstance extends EngineInstance {\r\n    setData(data:any): any\r\n\r\n}\r\nexport interface EditorEngineClass extends EngineClass {\r\n    setData(data:any): any\r\n    new(data: any): EditorEngineInstance\r\n    (data:any): EditorEngineInstance\r\n}\r\n\r\n\r\nconst EditorEngine = createClass(\"EditorEngine\")\r\n.uses(\r\n    Scene, \r\n    Camera, \r\n    Renderer, \r\n    Controls, \r\n    Models, \r\n    Lights, \r\n    ObjectManager, \r\n    Floor,\r\n    EventDispatcher, \r\n    GridHelper\r\n)({\r\n    data: {},\r\n    options: {},\r\n\r\n    Mesh: {},\r\n    Geometry: {},\r\n    Material: {},\r\n    Light: {},\r\n    Composer: {},\r\n    Shadows: {},\r\n    inited: false,\r\n    $controlEngine: null,\r\n\r\n    setData: function(data?:any){\r\n        if (data.composer && !isEmpty(data.composer)) {\r\n            this.composer = new Composer(this, data.composer);\r\n        }\r\n        if (data.lights && isArray(data.lights)) {\r\n            this.addLights(data.lights);\r\n        }\r\n        if (data.models && isArray(data.models)) {\r\n            this.addModels(data.models);\r\n        }\r\n        if (data.meshes && isArray(data.meshes)) {\r\n            this.addMeshes(data.meshes);\r\n        }\r\n        if (data.objects && (isArray(data.objects) || isObject(data.objects))) {\r\n            this.addObjects(data.objects);\r\n        }else{\r\n            this.emit(\"object.load.completed\");\r\n        }\r\n        if (data.grids && isArray(data.grids)) {\r\n            this.addGrids(data.grids);\r\n        }\r\n        if (data.cameras && isArray(data.cameras)) {\r\n            this.addCameras(data.cameras);\r\n        }\r\n        if (data.floor && isArray(data.floor)) {\r\n            this.addFloor(data.floor);\r\n        }\r\n        if (data.controls && isArray(data.controls)) {\r\n            this.addControls(data.controls);\r\n        }\r\n        \r\n        this.emit('setdata', data);\r\n        \r\n        \r\n    },\r\n\r\n    /**\r\n     * Hàm khởi tạo\r\n     * @param {Dom} viewport \r\n     * @param {*} data \r\n     */\r\n    constructor: function (data?:any) {\r\n        if (data && isObject(data)) {\r\n            this.data = data;\r\n        }\r\n        this.Geometry = Geometries;\r\n        this.Material = Materials;\r\n        this.Mesh = Meshes;\r\n        this.Light = LightLib;\r\n        this.Loader = new Loader(this);\r\n        \r\n        \r\n        var self = this;\r\n        \r\n        var focusIn = false;\r\n        this.on('pointerdown', function(e){\r\n            self.canChangeCamera = false\r\n            focusIn = true;\r\n        }, false)\r\n        document.addEventListener('pointerup', function(e){\r\n            if(focusIn){\r\n                self.canChangeCamera = true\r\n                focusIn = false;\r\n            }\r\n            \r\n        }, false);\r\n\r\n        this.on(\"object.added\", function(e){\r\n            if(isObject(self.controlEngine) && self.controlEngine.refresh){\r\n                self.controlEngine.refresh();\r\n            }\r\n        })\r\n    },\r\n\r\n    renew: function(data){\r\n        this.data = assignValue({}, data);\r\n        this.inited = false;\r\n        this.emit({\r\n            type: \"renew\"\r\n        })\r\n    },\r\n\r\n    updateSettings: function(){\r\n        if (this.data) {\r\n            var data = this.data;\r\n            if (isObject(data.scene)) {\r\n                var scene = data.scene;\r\n                this.updateSceneSettings(scene);\r\n                if (isObject(scene.background) && !isEmpty(scene.background))\r\n                    this.setBackground(scene.background);\r\n                if (isObject(scene.floor) && !isEmpty(scene.floor))\r\n                    this.updateSceneFloorSetting(scene.floor);\r\n                if (isObject(scene.size) && !isEmpty(scene.size))\r\n                    this.updateSceneSettings(scene.size);\r\n            }\r\n            if(isObject(data.shadow))\r\n                this.updateShadowSettings(data.shadow);\r\n            if(isObject(data.control))\r\n                this.updateControlSettings(data.control);\r\n            if(isObject(data.camera))\r\n                this.updateMainCameraSettings(data.camera, true);\r\n        }\r\n\r\n    },\r\n\r\n    reset: function (data_) {\r\n        if (isObject(data_)) this.data = assignValue({}, data_);\r\n        this.resetObjects();\r\n        this.resetLights();\r\n\r\n        this.updateSettings();   \r\n        this.setData(this.data);\r\n\r\n        this.emit({\r\n            type: \"reset\"\r\n        })\r\n    },\r\n\r\n\r\n    startup: function startup( data?:any) {\r\n        if (this.inited) return this;\r\n\r\n\r\n        if (data && isObject(data)) {\r\n            this.data = data;\r\n        }\r\n        this.Shadows = new DynamicShadows(this, this.data.shadow || this.data.shadows || {});\r\n        this.emit('startup', this.data);\r\n\r\n        this.initScene(this.data.scene || {});\r\n        this.setMainCamera(this.data.camera || {});\r\n        this.createRenderer(this.data.renderer || {}, this.data.shadow?this.data.shadow.enabled:true);\r\n        \r\n        this.camera.updateProjectionMatrix();\r\n        this.setMainControl(this.data.control || {});\r\n\r\n        this.updateSettings();\r\n        var self = this;\r\n        this.inited = true;\r\n        // this.Shadows.init();\r\n        self.ready();\r\n        if (!this.autoRenderStatus) {\r\n            setTimeout(function () {\r\n                self.render();\r\n            }, 500);\r\n        }\r\n    \r\n        \r\n        return this;\r\n\r\n    },\r\n    canChangeCamera: true,\r\n\r\n    setControlEngine: function(controlEngine){\r\n        if(!isObject(controlEngine)||this.controlEngine == controlEngine) return false;\r\n        this.controlEngine = controlEngine;\r\n        controlEngine.setMainEngine(this);\r\n        var self = this;\r\n        controlEngine.on(\"controls.change.camera\", function(e){\r\n            self.changeCameraByControlEngine(e.camera);\r\n        });\r\n        controlEngine.refresh();\r\n        setTimeout(() => {\r\n            controlEngine.refresh();\r\n        }, 10000);\r\n    },\r\n    changeCameraByControlEngine: function(camera){\r\n        if(this.canChangeCamera){\r\n            var mainPosition = this.camera.position;\r\n            var ctrlPosition = camera.position;\r\n            var mainX = mainPosition.x, mainY = mainPosition.y, mainZ = mainPosition.z;\r\n            var ctrlX = ctrlPosition.x, ctrlY = ctrlPosition.y, ctrlZ = ctrlPosition.z;\r\n            var mainDistance = Math.sqrt(\r\n                Math.pow(mainX, 2) + Math.pow(mainY, 2) + Math.pow(mainZ, 2)\r\n            );\r\n            var ctrlDistance = Math.sqrt(\r\n                Math.pow(ctrlX, 2) + Math.pow(ctrlY, 2) + Math.pow(ctrlZ, 2)\r\n            );\r\n            var ratio = mainDistance / ctrlDistance;\r\n            \r\n            mainPosition.x = ctrlPosition.x*ratio;\r\n            mainPosition.y = ctrlPosition.y*ratio;\r\n            mainPosition.z = ctrlPosition.z*ratio;\r\n            this.camera.lookAt(0, 0, 0);\r\n            if (this.control.highPerformance && this.controlCanTurnOffShadow) {\r\n                \r\n                this.startDeactiveShadowTimer(500, \"control\");\r\n            }\r\n            this.refresh();\r\n\r\n        }\r\n    }\r\n}) as EditorEngineClass\r\nexport default EditorEngine;\r\nexport {EditorEngine};\r\n","\r\nimport { Injectable } from '@angular/core';\r\nimport { StorageService } from '@app/_core/services/storage.service';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class AppStorageService extends StorageService {\r\n    constructor(){\r\n        super();\r\n    }\r\n}","export enum EImageStatus {\r\n    draft = 'draft',\r\n    published = 'published',\r\n}\r\n\r\n\r\nexport interface ImageModel {\r\n\r\n    id: number,\r\n    owner_id: number,\r\n    upload_by: number,\r\n    sid: string,\r\n    privacy: string,\r\n    date_path: string,\r\n    filename: string,\r\n    original_filename: string,\r\n    filetype: string,\r\n    mime: string,\r\n    size: number,\r\n    extension: string,\r\n    title: string,\r\n    description: string,\r\n    created_at: string,\r\n    updated_at: string,\r\n    url: string,\r\n    thumbnail: string,\r\n    size_unit:string,\r\n    source: string,\r\n\r\n    [x:string]:any\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'reverse' })\r\nexport class ReversePipe implements PipeTransform {\r\n  transform(value) {\r\n    if (!Array.isArray(value)) {\r\n      return [];\r\n    }\r\n    return value.slice().reverse();\r\n  }\r\n}\r\n","import { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\nimport { App3DService } from '@app/_3D/services/app-3d.service';\nimport { assignValue, inArray, isObject } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '../../base/base.component';\n\n@Component({\n    selector: 'app-modal-export-image',\n    templateUrl: './modal-export-image.component.html',\n    styleUrls: ['./modal-export-image.component.scss']\n})\nexport class ModalExportImageComponent extends BaseComponent implements OnInit {\n\n    @Input() app: App3DService;\n    title: string = \"Image Library\";\n    oldTitle: string = \"Image Library\";\n\n    isVisible = false;\n    isConfirmLoading = false;\n\n    containerStyle: string = '';\n    onDone: (...args: any[]) => any = null;\n\n    onCancel: (...args: any[]) => any = null;\n\n    listType: string = \"list\";\n    oldListType: string = \"list\";\n\n\n\n\n    constructor(\n        private cd: ChangeDetectorRef\n    ) {\n        super();\n        // this.registerEventService(events, {\n        //     open: e => this.show(e.config, e.callback, e.cancel)\n        // });\n    }\n\n\n    onInit() {\n        this.activeEventServiceRegistered(this.events);\n    }\n    onDestroy() {\n        this.deactiveEventServiceRegistered(this.events);\n    }\n\n    show(config, callback?: any, cancel?: any) {\n        this.onDone = null;\n        this.onCancel = null;\n        if (isObject(config)) {\n            if (config.title) this.title = config.title;\n            if (isObject(config.params)) assignValue(this.params, config.params);\n\n            if (typeof callback == \"function\") {\n                this.onDone = callback;\n            }\n            else if (typeof config.done == \"function\") {\n                this.onDone = config.done;\n            }\n            if (typeof cancel == \"function\") {\n                this.onCancel = cancel;\n            }\n\n            else if (typeof config.cancel == \"function\") {\n                this.onCancel = config.cancel;\n            }\n\n        }\n        this.showModal();\n    }\n\n    showModal(): void {\n        this.isVisible = true;\n        if (this.images.length == 0) {\n            this.firstLoad();\n        } else if (this.listType != this.oldListType) {\n            this.images = [];\n            this.firstLoad();\n        }\n    }\n\n\n\n    handleOk(): void {\n        let result = null;\n        if (this.mode != \"many\") {\n            this.images.map((image, index, array) => {\n                if (image.selected) {\n                    result = image;\n                    image.selected = false;\n                }\n            });\n            if (!result) return window.alert(\"Vui lòng chọn ảnh\");\n\n        } else {\n            result = [];\n            this.images.map((image, index, array) => {\n                if (image.selected) {\n                    result.push(image);\n                    image.selected = false;\n                }\n            });\n            if (!result.length) return window.alert(\"Vui lòng chọn ảnh\");\n\n        }\n\n\n        this.isConfirmLoading = true;\n        setTimeout(() => {\n            if (typeof this.onDone == \"function\") {\n                this.onDone(result);\n            }\n\n            this.isVisible = false;\n            this.oldListType = this.listType;\n            this.isConfirmLoading = false;\n        }, 1000);\n    }\n\n    handleCancel(): void {\n        this.isVisible = false;\n        this.oldListType = this.listType;\n        if (typeof this.onCancel == \"function\") {\n            this.onCancel();\n        }\n    }\n\n}\n","<nz-modal [(nzVisible)]=\"isVisible\" [nzTitle]=\"modalTitle\" [nzContent]=\"modalContent\" [nzFooter]=\"modalFooter\" (nzOnCancel)=\"handleCancel()\" [nzWidth]=\"1200\">\n\n    <ng-template #modalTitle>{{title}}</ng-template>\n\n    <ng-template #modalContent>\n        <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\" class=\"input-group\">\n            <div nz-col class=\"gutter-row\" [nzSpan]=\"6\">\n\n            </div>\n            <div nz-col class=\"gutter-row\" [nzSpan]=\"18\">\n                <div class=\"inner-box text-right\">\n                    <div class=\"frame\">\n                        <div class=\"viewport-container\" [style]=\"containerStyle\">\n                            <div class=\"preview-canvas-containers\">\n\n                            </div>\n        \n                            <foreground-layer></foreground-layer>\n                        </div>\n                    </div>\n                    \n                </div>\n            </div>\n\n        </div>\n    </ng-template>\n\n    <ng-template #modalFooter>\n        <button nz-button nzType=\"primary\" (click)=\"handleOk()\" [nzLoading]=\"isConfirmLoading\">{{'Choose' | translate}}</button>\n        <button nz-button nzType=\"default\" (click)=\"handleCancel()\">{{'Cancel' | translate}}</button>\n    </ng-template>\n</nz-modal>","import { AfterViewInit, Component, ElementRef, OnInit } from '@angular/core';\nimport { BaseInputComponent } from '../base-input/base-input.component';\nimport Picker from 'vanilla-picker';\nimport { isObject } from '@app/_core/helpers/utils';\nimport { TransparentBase64Image } from '@app/_3D/libs/three.libs';\n@Component({\n    selector: 'inp-color',\n    templateUrl: './inp-color.component.html',\n    styleUrls: ['./inp-color.component.scss']\n})\nexport class InpColorComponent extends BaseInputComponent implements OnInit, AfterViewInit {\n    transparentBase64Image = TransparentBase64Image;\n    constructor(private elemRef: ElementRef) {\n        super();\n    }\n\n    ngOnInit(): void {\n    }\n\n    ngAfterViewInit(): void {\n        this.value = this.value && isObject(this.value) ?(\n            this.value.isColor ? \"#\" + this.value.getHexString(): (\n                this.value.$three==\"color\"?this.value.color:\"#000\"\n            )\n        ) : this.value as any;\n        var self = this;\n        // self.elemRef.nativeElement.style.backgroundColor = vl;\n        var inp = new Picker({\n            parent: this.elemRef.nativeElement.querySelector(\".output-color\"),\n            color: this.value,\n            alpha: false,\n            editor: true,\n            layout: 'default',\n            popup: 'bottom',\n            editorFormat: 'hex', // or 'rgb', 'hsl'\n            cancelButton: false,\n\n            // defaultColor: vl,\n\n            onChange: function (color) { },\n            onDone: function (color) {\n                var hex = color.hex.substr(0, 7);\n                self.value = hex;\n                self.emit();\n            },\n            onOpen: function (color) { },\n            onClose: function (color) { }\n        });\n\n    }\n\n\n\n}\n","<div class=\"output output-color\" [style.background]=\"value\">\n    <img src=\"{{transparentBase64Image}}\" alt=\"{{value}}\" class=\"thumb\">\n</div>","import { assignValue } from \"@app/_core/helpers/utils\";\r\nimport { FG_ITEM } from \"@app/_shared/shared.type.js\";\r\n\r\nimport * as THREE from 'three';\r\ntype fn = (...args: any[]) => any;\r\ntype Float = number;\r\ntype Integer = number;\r\n\r\ndeclare class Raycaster {\r\n    constructor(origin: Vector3, direction: Vector3, near: Float, far: Float)\r\n\r\n}\r\n\r\ndeclare class Matrix4 {\r\n\r\n}\r\n\r\ndeclare class Euler {\r\n    constructor(x: Float, y: Float, z: Float, order: String)\r\n    order: String\r\n    x: Float\r\n    y: Float\r\n    z: Float\r\n    copy(euler: Euler): Euler\r\n    clone(): Euler\r\n    equals(euler: Euler): Boolean\r\n    fromArray(array: any[]): Euler\r\n    reorder(newOrder: String): Euler\r\n    set(x: Float, y: Float, z: Float, order: String): Euler\r\n    setFromRotationMatrix(m: Matrix4, order: String): Euler\r\n    setFromQuaternion(q: Quaternion, order: String): Euler\r\n    setFromVector3(vector: Vector3, order: String): Euler\r\n    toArray(array: any[], offset: Integer): any[]\r\n    toVector3(optionalResult: Vector3): Vector3\r\n}\r\n\r\nexport interface Vector3 {\r\n    x: number\r\n    y: number\r\n    z: number\r\n}\r\nexport interface SizeIn3D {\r\n    width: number\r\n    height: number\r\n    depth: number\r\n}\r\nexport interface Vector2 {\r\n    x: number\r\n    y: number\r\n}\r\n\r\nexport interface Color {\r\n    r: number\r\n    g: number\r\n    b: number\r\n    set(...args: any[]): this\r\n\r\n    setScalar(scalar: number): this\r\n\r\n    setHex(hex: string): this\r\n    setRGB(r: number, g: number, b: number): this\r\n\r\n    setHSL(h, s, l): this\r\n\r\n    setStyle(style): this\r\n\r\n    setColorName(style): this\r\n    clone(): Color\r\n    copy(color): this\r\n\r\n    getHex(): number\r\n\r\n    getHexString(): string\r\n\r\n    getHSL(target): any\r\n\r\n    getStyle(): string\r\n    [x: string]: any\r\n\r\n}\r\n\r\nexport interface Texture {\r\n    image?: any,\r\n    flipY?: boolean\r\n    [x: string]: any\r\n}\r\n\r\nexport interface MeshMaterial {\r\n    type?: string\r\n    color?: string | number | Color\r\n    map?: Texture\r\n    bumpMap?: Texture\r\n    bumpScale?: number\r\n    normalMap?: Texture\r\n    normalMapType?: number\r\n    normalScale?: any\r\n    side?: number\r\n    opacity?: number\r\n    transparent?: boolean\r\n    visible?: boolean\r\n    [x: string]: any\r\n}\r\n\r\nexport interface Quaternion {\r\n    x: number\r\n    y: number\r\n    z: number\r\n    w: number\r\n}\r\n\r\nexport interface EventDispatcher {\r\n    addEventListener(type: String, listener: fn): null\r\n    hasEventListener(type: String, listener: fn): Boolean\r\n    removeEventListener(type: String, listener: fn): null\r\n    dispatchEvent(event: Object): null\r\n}\r\n\r\nexport interface Object3D extends EventDispatcher {\r\n    animations: any\r\n    castShadow: boolean\r\n    children: Object3D\r\n    customDepthMaterial: MeshMaterial\r\n    customDistanceMaterial: MeshMaterial\r\n    frustumCulled: boolean\r\n    id: number\r\n    layers: any\r\n    matrix: any\r\n    matrixAutoUpdate: Boolean\r\n    matrixWorld: any\r\n    matrixWorldNeedsUpdate: Boolean\r\n\r\n    modelViewMatrix: any\r\n    name: String\r\n    normalMatrix: any\r\n    onAfterRender: Function\r\n    onBeforeRender: Function\r\n    parent: Object3D\r\n    position: Vector3\r\n    quaternion: any\r\n    receiveShadow: boolean\r\n    renderOrder: Number\r\n    rotation: any\r\n    scale: Vector3\r\n    up: Vector3\r\n    userData: Object\r\n    uuid: String\r\n    visible: Boolean\r\n\r\n\r\n    add(object: Object3D, ...objects: Object3D[]): this\r\n    applyMatrix4(matrix: any): null\r\n    applyQuaternion(quaternion: Quaternion): this\r\n\r\n    attach(object: Object3D): this\r\n\r\n    clone(recursive: Boolean): Object3D\r\n\r\n    copy(object: Object3D, recursive: Boolean): this\r\n    getObjectById(id: number): Object3D\r\n    getObjectByName(name: String): Object3D\r\n    getObjectByProperty(name: String, value: any): Object3D\r\n    getWorldPosition(target: Vector3): Vector3\r\n    getWorldQuaternion(target: Quaternion): Quaternion\r\n    getWorldScale(target: Vector3): Vector3\r\n    getWorldDirection(target: Vector3): Vector3\r\n    localToWorld(vector: Vector3): Vector3\r\n    lookAt(vector: Vector3): null\r\n    lookAt(x: number, y: number, z: number): null\r\n    raycast(raycaster: Raycaster, intersects: Object3D[]): Object3D[]\r\n\r\n    Abstract(): any\r\n\r\n    remove(object: Object3D, ...objects: Object3D[]): this\r\n    removeFromParent(): this\r\n    clear(): this\r\n\r\n    rotateOnAxis(axis: Vector3, angle: number): this\r\n\r\n    rotateOnWorldAxis(axis: Vector3, angle: Float): this\r\n\r\n    rotateX(rad: Float): this\r\n\r\n    rotateY(rad: Float): this\r\n\r\n    rotateZ(rad: Float): this\r\n\r\n    setRotationFromAxisAngle(axis: Vector3, angle: Float): null\r\n\r\n    setRotationFromEuler(euler: Euler): null\r\n\r\n    setRotationFromMatrix(m: Matrix4): null\r\n\r\n    setRotationFromQuaternion(q: Quaternion): null\r\n\r\n    toJSON(meta: Object): Object\r\n\r\n    translateOnAxis(axis: Vector3, distance: Float): this\r\n\r\n    translateX(distance: Float): this\r\n\r\n    translateY(distance: Float): this\r\n\r\n    translateZ(distance: Float): this\r\n\r\n    traverse(callback: Function): null\r\n\r\n    traverseVisible(callback: Function): null\r\n\r\n    traverseAncestors(callback: Function): null\r\n\r\n    updateMatrix(): null\r\n\r\n    updateMatrixWorld(force: Boolean): null\r\n\r\n    updateWorldMatrix(updateParents: Boolean, updateChildren: Boolean): null\r\n\r\n    worldToLocal(vector: Vector3): Vector3\r\n}\r\n\r\nexport interface ThreeMesh {\r\n    castShadow: boolean,\r\n    children: Object3D,\r\n    customDepthMaterial: MeshMaterial,// 'Material',\r\n    customDistanceMaterial: MeshMaterial,// 'Material',\r\n    frustumCulled: boolean,\r\n    id: number,// 'Integer',\r\n    layers: any,// 'Layers',\r\n    matrix: any,\r\n    material: MeshMaterial,// 'Material',\r\n    matrixAutoUpdate: boolean,\r\n    matrixWorld: any,// 'Matrix4',\r\n    matrixWorldNeedsUpdate: boolean,\r\n    modelViewMatrix: any,// 'Matrix4',\r\n    name: string,// 'String',\r\n    normalMatrix: any,// 'Matrix3',\r\n    onAfterRender: () => any,// 'Function',\r\n    onBeforeRender: () => any,// 'Function',\r\n    parent: Object3D,// 'Object3D',\r\n    position: Vector3,\r\n    quaternion: any,// 'Quaternion',\r\n    receiveShadow: boolean,\r\n    renderOrder: number,\r\n    rotation: Vector3,\r\n    scale: Vector3,\r\n    up: Vector3,\r\n    userData: any,\r\n    uuid: string,// 'String',\r\n    visible: boolean\r\n}\r\nexport interface CameraSetting {\r\n    fov?: number,\r\n    near?: number\r\n    far?: number\r\n    position?: {\r\n        x: number\r\n        y: number\r\n        z: number\r\n    },\r\n    autofit?: boolean\r\n    settings?: {\r\n        [x: string]: any\r\n    }\r\n    [x: string]: any\r\n}\r\n\r\nexport const CameraDefaultSettings: CameraSetting = {\r\n    fov: 45,\r\n    near: 0.001,\r\n    far: 10,\r\n    position: {\r\n        x: 0,\r\n        y: 0,\r\n        z: 2\r\n    },\r\n\r\n    autofit: true,\r\n    settings: {\r\n        position: {\r\n            type: \"default\",\r\n            face: \"front\",\r\n            custom: {\r\n                x: 0,\r\n                y: 0,\r\n                z: 2\r\n            }\r\n        },\r\n        rotation: {\r\n\r\n        }\r\n    }\r\n};\r\nexport interface ControlSetting {\r\n\r\n    type?: string\r\n    autoUpdateScene?: boolean,\r\n    maxDistance?: number,\r\n    minDistance?: number,\r\n    enableDamping?: true,\r\n    dampingFactor?: number,\r\n    enablePan?: boolean,\r\n    enabled?: boolean,\r\n    enableRotate?: boolean,\r\n    enableZoom?: boolean,\r\n    highPerformance?: boolean,\r\n    [x: string]: any\r\n    settings?: {\r\n        enabled: boolean\r\n        [x: string]: any\r\n    }\r\n\r\n}\r\nexport const ControlDefaultSetting: ControlSetting = {\r\n    type: \"orbit\",\r\n    autoUpdateScene: true,\r\n    maxDistance: 1200,\r\n    enableDamping: true,\r\n    dampingFactor: 0.1,\r\n    enableRotate: false,\r\n    enableZoom: false,\r\n    enablePan: false,\r\n    enabled: true,\r\n    highPerformance: true,\r\n    constraint: {\r\n        smoothZoom: true,\r\n        zoomDampingFactor: 0.2,\r\n        smoothZoomSpeed: 5\r\n    },\r\n    settings: {\r\n        enabled: true\r\n    }\r\n}\r\n\r\n\r\nexport interface Object3DPropDataModel {\r\n    name?: string,\r\n    castShadow: boolean,\r\n    receiveShadow: boolean,\r\n    scale: {\r\n        x: number,\r\n        y: number,\r\n        z: number\r\n    },\r\n    rotation: {\r\n        x: number,\r\n        y: number,\r\n        z: number\r\n    },\r\n    position: {\r\n        x: number,\r\n        y: number,\r\n        z: number\r\n    }\r\n};\r\n\r\n\r\nexport const Object3DPropDefaultData: Object3DPropDataModel = {\r\n    name: \"\",\r\n    castShadow: false,\r\n    receiveShadow: false,\r\n    scale: {\r\n        x: 1,\r\n        y: 1,\r\n        z: 1\r\n    },\r\n    rotation: {\r\n        x: 0,\r\n        y: 0,\r\n        z: 0\r\n    },\r\n    position: {\r\n        x: 0,\r\n        y: 0,\r\n        z: 0\r\n    }\r\n};\r\n\r\n\r\nexport interface ShadowMap {\r\n    mapSize?: {\r\n        width: number,\r\n        height: number\r\n    },\r\n    camera?: {\r\n        near?: number,\r\n        far?: number,\r\n        left?: number,\r\n        right?: number,\r\n        top?: number,\r\n        bottom?: number\r\n    },\r\n    darkness?: number,\r\n    bias?: number,\r\n    radius?: number\r\n}\r\n\r\nexport interface LightProps {\r\n    castShadow?: boolean,\r\n    visible?: boolean,\r\n    scale?: {\r\n        x: number,\r\n        y: number,\r\n        z: number\r\n    },\r\n    rotation?: {\r\n        x: number,\r\n        y: number,\r\n        z: number\r\n    },\r\n    position: {\r\n        x: number,\r\n        y: number,\r\n        z: number\r\n    },\r\n    up?: {\r\n        x: number,\r\n        y: number,\r\n        z: number\r\n    },\r\n    shadow?: ShadowMap,\r\n    target?: {\r\n        position: {\r\n            x: number,\r\n            y: number,\r\n            z: number\r\n        }\r\n    }\r\n}\r\nexport const LightPropDefaultData: LightProps = {\r\n    visible: true,\r\n    position: {\r\n        x: 0,\r\n        y: 0,\r\n        z: 0\r\n    },\r\n    up: {\r\n        x: 0,\r\n        y: 0,\r\n        z: 0\r\n    },\r\n    rotation: {\r\n        x: 0,\r\n        y: 0,\r\n        z: 0\r\n    }\r\n\r\n};\r\n\r\n\r\nexport interface ShadowSetting {\r\n    enabled?: boolean\r\n    pcss?: boolean\r\n    [x: string]: any\r\n}\r\n\r\nexport const ShadowSettingDefaultData = {\r\n    enabled: true,\r\n    pcss: false,\r\n    type: THREE.PCFShadowMap\r\n}\r\n\r\nexport interface BackgroundSetting {\r\n    type?: string,\r\n    color?: string | number | Color,\r\n    texture?: string | {\r\n        format?: string,\r\n        type?: string,\r\n        path?: string,\r\n        file: string\r\n    },\r\n    format?: string,\r\n    [key: string]: any\r\n}\r\n\r\nexport interface FloorSetting {\r\n    enabled?: boolean,\r\n    enableGrid?: boolean,\r\n    enableAxes?: boolean,\r\n    params?: {\r\n        type: string,\r\n        width: number,\r\n        height: number,\r\n        [key: string]: any\r\n    }\r\n    material?: MeshMaterial,\r\n    props?: {\r\n        receiveShadow?: boolean,\r\n        position?: {\r\n            x: number,\r\n            y: number,\r\n            z: number\r\n        },\r\n        [key: string]: any\r\n    },\r\n    above?: boolean\r\n    [key: string]: any\r\n\r\n}\r\nexport const FloorDefaultData: FloorSetting = {\r\n    enabled: false,\r\n    enableGrid: true,\r\n    enableAxes: true,\r\n    \r\n    params: {\r\n        type: \"plane\",\r\n        width: 4,\r\n        height: 4\r\n    },\r\n    material: {\r\n        type: \"physical\",\r\n        color: \"#ebebeb\"\r\n    },\r\n    props: {\r\n        receiveShadow: true,\r\n        position: {\r\n            x: 0,\r\n            y: -0.10237984685622037,\r\n            z: 0\r\n        }\r\n    },\r\n    above: true\r\n}\r\n\r\nexport interface SceneSize {\r\n    width?: number\r\n    height?: number\r\n    depth?: number\r\n    [key: string]: any\r\n}\r\n\r\nexport const SceneSizeDefaultData: SceneSize = {\r\n    width: 4,\r\n    height: 4,\r\n    depth: 4\r\n}\r\nexport interface SceneSetting {\r\n    size?: SceneSize,\r\n    background?: BackgroundSetting,\r\n    foregrounds?: FG_ITEM[],\r\n    floor?: FloorSetting\r\n    [key: string]: any\r\n}\r\n\r\nexport interface RendererSetting {\r\n    params?: {\r\n        antialias?: boolean\r\n        [x: string]: any\r\n    },\r\n\r\n    autoStart?: boolean,\r\n    outputEncoding?: any\r\n    [x: string]: any\r\n}\r\nexport const RendererDefaultData: RendererSetting = {\r\n    params: {\r\n        antialias: true\r\n    },\r\n    shadowMap: {\r\n        enabled: true\r\n    },\r\n    autoStart: false,\r\n    outputEncoding: THREE.sRGBEncoding\r\n}\r\nexport interface AppData {\r\n    renderer?: RendererSetting\r\n    scene?: SceneSetting\r\n\r\n    composer?: {\r\n        [x: string]: any\r\n    }\r\n\r\n    shadow?: ShadowSetting\r\n    camera?: CameraSetting\r\n    control?: ControlSetting\r\n    lights?: any[],\r\n    // objects\r\n    objects?: any[]\r\n    // objects\r\n    meshes?: any[]\r\n\r\n    [key: string]: any\r\n\r\n\r\n}\r\n\r\nexport const AppDefaultData: AppData = {\r\n    renderer: assignValue({}, RendererDefaultData),\r\n    composer: {},\r\n    shadow: assignValue({}, ShadowSettingDefaultData),\r\n    scene: {\r\n        size: assignValue({}, SceneSizeDefaultData),\r\n        background: {\r\n        },\r\n        // tiền cảnh\r\n        foregrounds: [\r\n        ],\r\n        floor: assignValue({}, FloorDefaultData)\r\n    },\r\n    // main camera\r\n    camera: assignValue({}, CameraDefaultSettings),\r\n    // main control\r\n    control: assignValue({}, ControlDefaultSetting),\r\n    // anh sáng\r\n    lights: [],\r\n    // objects\r\n    objects: [],\r\n    // objects\r\n    meshes: []\r\n}\r\n\r\n\r\nexport const BlankData: AppData = {\r\n    id: 1,\r\n    name: \"Tên project\",\r\n    category_id: 2,\r\n    description: \"Mô tả broject\",\r\n    thumbnail: \"\",\r\n    status: \"published\",\r\n    allow_custom: false,\r\n    renderer: {\r\n        params: {\r\n            antialias: true,\r\n            alpha: true\r\n        },\r\n        shadowMap: {\r\n            enabled: true\r\n        },\r\n        outputEncoding: \"{THREE.sRGBEncoding}\"\r\n    },\r\n    composer: {},\r\n    shadow: {\r\n        enabled: true,\r\n        pcss: false\r\n    },\r\n    scene: {\r\n        size: {\r\n            width: 4,\r\n            height: 4,\r\n            depth: 4\r\n        },\r\n        floor: {\r\n            enabled: true,\r\n            above: true,\r\n            params: {\r\n                type: \"plane\",\r\n                width: 4,\r\n                height: 4\r\n            },\r\n            props: {\r\n                position: {\r\n                    x: 0,\r\n                    y: -0.2,\r\n                    z: 0\r\n                }\r\n            }\r\n        }\r\n    },\r\n    camera: {\r\n        fov: 45,\r\n        near: 0.001,\r\n        far: 1000,\r\n        position: {\r\n            x: 0,\r\n            y: 0.4,\r\n            z: 1.5\r\n        },\r\n        autofit: true\r\n\r\n    },\r\n    control: {\r\n        type: \"orbit\",\r\n        autoUpdateScene: true,\r\n        maxDistance: 1200,\r\n        minDistance: 0.001,\r\n        enableDamping: true,\r\n        dampingFactor: 0.1,\r\n        enablePan: false,\r\n        highPerformance: true,\r\n        constraint: {\r\n            smoothZoom: true,\r\n            zoomDampingFactor: 0.2,\r\n            smoothZoomSpeed: 5\r\n        }\r\n    },\r\n    lights: [\r\n        {\r\n            type: \"ambient\",\r\n            data: {\r\n                params: {\r\n                    color: \"#ffffff\",\r\n                    intensity: 0.17\r\n                }\r\n            },\r\n            secret_key: \"DUkWmYXqHLn30h8srtGc1fClZ5VBh7Vs\"\r\n        },\r\n        {\r\n            type: \"point\",\r\n            data: {\r\n                params: {\r\n                    color: \"#7979cf\",\r\n                    intensity: 0.3\r\n                },\r\n                props: {\r\n                    position: {\r\n                        x: 0,\r\n                        y: -10\r\n                    }\r\n                }\r\n            },\r\n            secret_key: \"QT2uvl11GYiE9lBJ31kWLN7uZ4LVUY5h\"\r\n        },\r\n        {\r\n             type: \"Directionallight\",\r\n             data: {\r\n                 params: {\r\n                     color: \"#f6e5ce\",\r\n                     intensity: 0.4\r\n                },\r\n                 props: {\r\n                     position: {\r\n                         x: 6.201570653300953,\r\n                         y: 14.989995576740561,\r\n                         z: 11.060111774271212\r\n                    },\r\n                     castShadow: true,\r\n                     shadow: {\r\n                         mapSize: {\r\n                             width: 4096,\r\n                             height: 4096\r\n                        },\r\n                         camera: {\r\n                             near: 0.1,\r\n                             far: 100,\r\n                             left: 10,\r\n                             right: -10,\r\n                             top: 10,\r\n                             bottom: -10\r\n                        },\r\n                         darkness: 0.1,\r\n                         bias: -0.0002,\r\n                         radius: 5\r\n                    }\r\n                }\r\n            },\r\n             secret_key: \"4SBlh9qasmkym2qVinqXZQmrE1wyPz4g\"\r\n        },\r\n        {\r\n             type: \"Directionallight\",\r\n             data: {\r\n                 params: {\r\n                     color: \"#C7CCFF\",\r\n                     intensity: 0.2\r\n                },\r\n                 props: {\r\n                     position: {\r\n                         x: -16.04440520733398,\r\n                         y: -5.508381436142289,\r\n                         z: 2.6468429612346043\r\n                    }\r\n                }\r\n            },\r\n             secret_key: \"FSFhrzuO3FGYgYwdNRfMIaTuF0vwNr53\"\r\n        },\r\n        {\r\n             secret_key: \"wnrnh6P4c3lYDTJDWv3MUOkjp1ds3eOF\",\r\n             type: \"Directionallight\",\r\n             data: {\r\n                 params: {\r\n                     color: \"#d9e6f1\",\r\n                     intensity: 0.23\r\n                },\r\n                 props: {\r\n                     position: {\r\n                         x: 14.52245679582316,\r\n                         y: 10.872836588837433,\r\n                         z: -14.374035534912764\r\n                    },\r\n                     castShadow: true,\r\n                     shadow: {\r\n                         mapSize: {\r\n                             width: 4096,\r\n                             height: 4096\r\n                        },\r\n                         camera: {\r\n                             near: 0.1,\r\n                             far: 100,\r\n                             left: 10,\r\n                             right: -10,\r\n                             top: 10,\r\n                             bottom: -10\r\n                        },\r\n                         darkness: 0.1,\r\n                         bias: -0.0002,\r\n                         radius: 5\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    ],\r\n    objects: [\r\n\r\n    ],\r\n    meshes: [\r\n\r\n    ]\r\n}\r\n\r\nexport const getBlankAppData = () => assignValue({}, BlankData);\r\nexport const getBlankProjectData = () => assignValue({ allow_custom: false }, BlankData);\r\nexport const FacePosKeyValues = {\r\n    left: {\r\n        x: -1,\r\n        y: 0,\r\n        z: 0\r\n    },\r\n    right: {\r\n        x: 1,\r\n        y: 0,\r\n        z: 0\r\n    },\r\n    top: {\r\n        x: 0,\r\n        y: 1,\r\n        z: 0\r\n    },\r\n    bottom: {\r\n        x: 0,\r\n        y: -1,\r\n        z: 0\r\n    },\r\n    front: {\r\n        x: 0,\r\n        y: 0,\r\n        z: 1\r\n    },\r\n    back: {\r\n        x: 0,\r\n        y: 0,\r\n        z: -1\r\n    },\r\n\r\n    ft: { // front top\r\n        x: 0,\r\n        y: 1,\r\n        z: 1\r\n    },\r\n    bt: { // back top\r\n        x: 0,\r\n        y: 1,\r\n        z: -1\r\n    },\r\n    lt: { // left top\r\n        x: -1,\r\n        y: 1,\r\n        z: 0\r\n    },\r\n    rt: { // right top\r\n        x: 1,\r\n        y: 1,\r\n        z: 0\r\n    },\r\n    lft: { // left front top\r\n        x: -1,\r\n        y: 1,\r\n        z: 1\r\n    },\r\n    lbt: { // left bottom top\r\n        x: -1,\r\n        y: 1,\r\n        z: -1\r\n    },\r\n    rft: { // right front top\r\n        x: 1,\r\n        y: 1,\r\n        z: 1\r\n    },\r\n    rbt: { // right bottom top\r\n        x: 1,\r\n        y: 1,\r\n        z: -1\r\n    },\r\n\r\n    fb: { // front bottom\r\n        x: 0,\r\n        y: -1,\r\n        z: 1\r\n    },\r\n    bb: { // back bottom\r\n        x: 0,\r\n        y: -1,\r\n        z: -1\r\n    },\r\n    lb: { // left bottom\r\n        x: -1,\r\n        y: -1,\r\n        z: 0\r\n    },\r\n    rb: { // right bottom\r\n        x: 1,\r\n        y: -1,\r\n        z: 0\r\n    },\r\n    lfb: { // left front bottom\r\n        x: -1,\r\n        y: -1,\r\n        z: 1\r\n    },\r\n    lbb: { // left back bottom\r\n        x: -1,\r\n        y: -1,\r\n        z: -1\r\n    },\r\n    rfb: { // right front bottom\r\n        x: 1,\r\n        y: -1,\r\n        z: 1\r\n    },\r\n    rbb: { // right back bottom\r\n        x: 1,\r\n        y: -1,\r\n        z: -1\r\n    }\r\n};\r\n\r\nexport const CameraDefaultFacePositions: Array<{ value: string, label: string }> = [\r\n    {\r\n        value: \"lt\",\r\n        label: \"Sunny 45* (left)\"\r\n    },\r\n    {\r\n        value: \"rt\",\r\n        label: \"Sunny 45* (right)\"\r\n    },\r\n    {\r\n        value: \"front\",\r\n        label: \"Front\"\r\n    },\r\n    {\r\n        value: \"left\",\r\n        label: \"Left\"\r\n    },\r\n    {\r\n        value: \"right\",\r\n        label: \"Right\"\r\n    },\r\n    {\r\n        value: \"back\",\r\n        label: \"Back\"\r\n    },\r\n    {\r\n        value: \"top\",\r\n        label: \"Top\"\r\n    },\r\n    {\r\n        value: \"bottom\",\r\n        label: \"Bottom\"\r\n    }\r\n\r\n];","import { isArray, isNumber, isObject, isString, objectHasKey, Str } from \"./helpers/utils\";\r\nconst NO_VALUE = Str.rand();\r\nexport interface __CONFIG__ {\r\n    key?: string\r\n    urls?: {\r\n        assets?: string\r\n        [url: string]: string\r\n    }\r\n    view?: string\r\n    data?: {\r\n        [key: string]: any\r\n    },\r\n    [key: string]: any\r\n}\r\nexport const __CONFIG__: __CONFIG__ = typeof window['__3DHub__'] != \"undefined\" && isObject(window['__3DHub__']) ? window['__3DHub__'] : {\r\n    key: \"\",\r\n    urls: {\r\n        assets: \"/assets\"\r\n    },\r\n    view: \"home\",\r\n    data: {},\r\n}\r\n\r\nexport const getConfig: (key?:string) => any = (key?:string) => {\r\n    if((isString(key) || isNumber(key)) && String(key).length){\r\n        return getElement(__CONFIG__, key);\r\n    }\r\n    return __CONFIG__ ;\r\n}\r\n\r\nfunction getElement(elem, key){\r\n    if(!isObject(elem)) return undefined;\r\n    let c : any = elem;\r\n    let s = String(key).split(\".\");\r\n    for (let i = 0; i < s.length; i++) {\r\n        const k = s[i];\r\n        if((!isObject(c) && !isArray(c)) || !objectHasKey(c, k)) return undefined;\r\n        c = c[k];\r\n    }\r\n    return c;\r\n}","import { Component, Input, OnInit } from '@angular/core';\nimport { assignValue } from '@app/_core/helpers/utils';\nimport { BaseInpGroupComponent } from '../base-inp-group/base-inp-group.component';\n\n@Component({\n  selector: 'inp-textarea-group',\n  templateUrl: './inp-textarea-group.component.html',\n  styleUrls: ['./inp-textarea-group.component.scss']\n})\nexport class InpTextareaGroupComponent extends BaseInpGroupComponent implements OnInit {\n\n  @Input() minRows: number = 3;\n  @Input() maxRows: Number = 5;\n  \n  configProps = [\"minRows\", \"maxRows\"];\n  constructor() {\n      super();\n  }\n\n\n\n  onInit(): void {\n      assignValue(this.defaultValues,{\n        minRows: 3,\n        maxRows: 5\n      });\n      this.inpInit();\n      // this.syncFromParent();\n\n  }\n\n}\n","<div class=\"inner-box\">{{label?label:name | translate}}</div>\n<div class=\"input-wrapper\">\n    <inp-textarea [name]=\"name\" [placeholder]=\"placeholder\" [(value)]=\"value\" (subcribe)=\"onChange($event)\" [minRows]=\"minRows\" [maxRows]=\"maxRows\"></inp-textarea>\n</div>","import { ChangeDetectorRef, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { BaseInputComponent } from '../base-input/base-input.component';\n\n@Component({\n  selector: 'inp-switch',\n  templateUrl: './inp-switch.component.html',\n  styleUrls: ['./inp-switch.component.scss']\n})\nexport class InpSwitchComponent extends BaseInputComponent implements OnInit {\n  \n  constructor(private cd: ChangeDetectorRef) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.cd.detectChanges();\n  }\n\n  onChangeState(event){\n    this.emitAfter(50);\n  }\n\n}\n","\n<nz-switch [(ngModel)]=\"value\" [nzCheckedChildren]=\"checkedTemplate\" [nzUnCheckedChildren]=\"unCheckedTemplate\" (ngModelChange)=\"onChangeState($event)\"></nz-switch>\n<ng-template #checkedTemplate><i nz-icon nzType=\"check\"></i></ng-template>\n<ng-template #unCheckedTemplate><i nz-icon nzType=\"close\"></i></ng-template>\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { InpEvent } from '@app/_shared/shared.type';\n\n@Component({\n  selector: 'mesh-geometry-tab-geometry',\n  templateUrl: './mesh-geometry-tab-geometry.component.html',\n  styleUrls: ['./mesh-geometry-tab-geometry.component.scss']\n})\nexport class MeshGeometryTabGeometryComponent implements OnInit {\n\n  @Input() inputs: Array<{\n    name: string,\n    type: string,\n    value: any,\n    spin: boolean,\n    step: number,\n    min: number,\n    max: number\n  }> = [];\n  @Output() onUpdate = new EventEmitter<any>();\n  @Output() subcribe = new EventEmitter<InpEvent>();\n  constructor() {\n    \n  }\n\n  ngOnInit(): void {\n  }\n\n  inputChange(event: InpEvent) {\n    this.subcribe.emit(event);\n  }\n}\n","<div class=\"tab-inner\">\n    <div class=\"inputs store\">\n        <div *ngFor=\"let inp of inputs; let i=index\">\n            <div [ngSwitch]=\"inp.type\">\n                <inp-number-group \n                    *ngSwitchCase=\"'number'\" \n                    [name]=\"inp.name\" \n                    [value]=\"inp.value\" \n                    [label]=\"inp.name\" \n                    [spin]=\"inp.spin\" \n                    [min]=\"inp.min\" \n                    [max]=\"inp.max\" \n                    (subcribe)=\"inputChange($event)\" \n                    [class.inp-group-item]=\"i > 0\"\n                    [class.inp-group-item-first]=\"i == 0\"\n                ></inp-number-group>\n                <inp-switch-group \n                    *ngSwitchCase=\"'boolean'\" \n                    [name]=\"inp.name\" \n                    [value]=\"inp.value\" \n                    [label]=\"inp.name\" \n                    (subcribe)=\"inputChange($event)\" \n                    [class.inp-group-item]=\"i > 0\" \n                    [class.inp-group-item-first]=\"i == 0\"\n                ></inp-switch-group>\n                <inp-text-group \n                    *ngSwitchDefault \n                    [name]=\"inp.name\" \n                    [value]=\"inp.value\" \n                    [label]=\"inp.name\" \n                    (subcribe)=\"inputChange($event)\" \n                    [class.inp-group-item]=\"i > 0\" \n                    [class.inp-group-item-first]=\"i == 0\"\n                ></inp-text-group>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-model-search',\n    templateUrl: './model-search.component.html',\n    styleUrls: ['./model-search.component.scss']\n})\nexport class ModelSearchComponent implements OnInit {\n\n    constructor() { }\n\n    ngOnInit(): void {\n    }\n\n}\n\n","<p>model-search works!</p>\n","import { Injectable } from '@angular/core';\nimport { EventManagerService } from '@app/_core/services/event-manager.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SidebarLockService extends EventManagerService {\n\n  constructor() {\n    super();\n    \n  }\n}\n","import {\r\n\tEventDispatcher,\r\n\tQuaternion,\r\n\tVector3\r\n} from 'three';\r\n\r\nconst _changeEvent = { type: 'change' };\r\n\r\nclass FlyControls extends EventDispatcher {\r\n\r\n\tconstructor( object, domElement ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tif ( domElement === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.FlyControls: The second parameter \"domElement\" is now mandatory.' );\r\n\t\t\tdomElement = document;\r\n\r\n\t\t}\r\n\r\n\t\tthis.object = object;\r\n\t\tthis.domElement = domElement;\r\n\r\n\t\t// API\r\n\r\n\t\tthis.movementSpeed = 1.0;\r\n\t\tthis.rollSpeed = 0.005;\r\n\r\n\t\tthis.dragToLook = false;\r\n\t\tthis.autoForward = false;\r\n\r\n\t\t// disable default target object behavior\r\n\r\n\t\t// internals\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\tconst EPS = 0.000001;\r\n\r\n\t\tconst lastQuaternion = new Quaternion();\r\n\t\tconst lastPosition = new Vector3();\r\n\r\n\t\tthis.tmpQuaternion = new Quaternion();\r\n\r\n\t\tthis.mouseStatus = 0;\r\n\r\n\t\tthis.moveState = { up: 0, down: 0, left: 0, right: 0, forward: 0, back: 0, pitchUp: 0, pitchDown: 0, yawLeft: 0, yawRight: 0, rollLeft: 0, rollRight: 0 };\r\n\t\tthis.moveVector = new Vector3( 0, 0, 0 );\r\n\t\tthis.rotationVector = new Vector3( 0, 0, 0 );\r\n\r\n\t\tthis.keydown = function ( event ) {\r\n\r\n\t\t\tif ( event.altKey ) {\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tswitch ( event.code ) {\r\n\r\n\t\t\t\tcase 'ShiftLeft':\r\n\t\t\t\tcase 'ShiftRight': this.movementSpeedMultiplier = .1; break;\r\n\r\n\t\t\t\tcase 'KeyW': this.moveState.forward = 1; break;\r\n\t\t\t\tcase 'KeyS': this.moveState.back = 1; break;\r\n\r\n\t\t\t\tcase 'KeyA': this.moveState.left = 1; break;\r\n\t\t\t\tcase 'KeyD': this.moveState.right = 1; break;\r\n\r\n\t\t\t\tcase 'KeyR': this.moveState.up = 1; break;\r\n\t\t\t\tcase 'KeyF': this.moveState.down = 1; break;\r\n\r\n\t\t\t\tcase 'ArrowUp': this.moveState.pitchUp = 1; break;\r\n\t\t\t\tcase 'ArrowDown': this.moveState.pitchDown = 1; break;\r\n\r\n\t\t\t\tcase 'ArrowLeft': this.moveState.yawLeft = 1; break;\r\n\t\t\t\tcase 'ArrowRight': this.moveState.yawRight = 1; break;\r\n\r\n\t\t\t\tcase 'KeyQ': this.moveState.rollLeft = 1; break;\r\n\t\t\t\tcase 'KeyE': this.moveState.rollRight = 1; break;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.updateMovementVector();\r\n\t\t\tthis.updateRotationVector();\r\n\r\n\t\t};\r\n\r\n\t\tthis.keyup = function ( event ) {\r\n\r\n\t\t\tswitch ( event.code ) {\r\n\r\n\t\t\t\tcase 'ShiftLeft':\r\n\t\t\t\tcase 'ShiftRight': this.movementSpeedMultiplier = 1; break;\r\n\r\n\t\t\t\tcase 'KeyW': this.moveState.forward = 0; break;\r\n\t\t\t\tcase 'KeyS': this.moveState.back = 0; break;\r\n\r\n\t\t\t\tcase 'KeyA': this.moveState.left = 0; break;\r\n\t\t\t\tcase 'KeyD': this.moveState.right = 0; break;\r\n\r\n\t\t\t\tcase 'KeyR': this.moveState.up = 0; break;\r\n\t\t\t\tcase 'KeyF': this.moveState.down = 0; break;\r\n\r\n\t\t\t\tcase 'ArrowUp': this.moveState.pitchUp = 0; break;\r\n\t\t\t\tcase 'ArrowDown': this.moveState.pitchDown = 0; break;\r\n\r\n\t\t\t\tcase 'ArrowLeft': this.moveState.yawLeft = 0; break;\r\n\t\t\t\tcase 'ArrowRight': this.moveState.yawRight = 0; break;\r\n\r\n\t\t\t\tcase 'KeyQ': this.moveState.rollLeft = 0; break;\r\n\t\t\t\tcase 'KeyE': this.moveState.rollRight = 0; break;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.updateMovementVector();\r\n\t\t\tthis.updateRotationVector();\r\n\r\n\t\t};\r\n\r\n\t\tthis.mousedown = function ( event ) {\r\n\r\n\t\t\tif ( this.dragToLook ) {\r\n\r\n\t\t\t\tthis.mouseStatus ++;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tswitch ( event.button ) {\r\n\r\n\t\t\t\t\tcase 0: this.moveState.forward = 1; break;\r\n\t\t\t\t\tcase 2: this.moveState.back = 1; break;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.updateMovementVector();\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tthis.mousemove = function ( event ) {\r\n\r\n\t\t\tif ( ! this.dragToLook || this.mouseStatus > 0 ) {\r\n\r\n\t\t\t\tconst container = this.getContainerDimensions();\r\n\t\t\t\tconst halfWidth = container.size[ 0 ] / 2;\r\n\t\t\t\tconst halfHeight = container.size[ 1 ] / 2;\r\n\r\n\t\t\t\tthis.moveState.yawLeft = - ( ( event.pageX - container.offset[ 0 ] ) - halfWidth ) / halfWidth;\r\n\t\t\t\tthis.moveState.pitchDown = ( ( event.pageY - container.offset[ 1 ] ) - halfHeight ) / halfHeight;\r\n\r\n\t\t\t\tthis.updateRotationVector();\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tthis.mouseup = function ( event ) {\r\n\r\n\t\t\tif ( this.dragToLook ) {\r\n\r\n\t\t\t\tthis.mouseStatus --;\r\n\r\n\t\t\t\tthis.moveState.yawLeft = this.moveState.pitchDown = 0;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tswitch ( event.button ) {\r\n\r\n\t\t\t\t\tcase 0: this.moveState.forward = 0; break;\r\n\t\t\t\t\tcase 2: this.moveState.back = 0; break;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.updateMovementVector();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.updateRotationVector();\r\n\r\n\t\t};\r\n\r\n\t\tthis.update = function ( delta ) {\r\n\r\n\t\t\tconst moveMult = delta * scope.movementSpeed;\r\n\t\t\tconst rotMult = delta * scope.rollSpeed;\r\n\r\n\t\t\tscope.object.translateX( scope.moveVector.x * moveMult );\r\n\t\t\tscope.object.translateY( scope.moveVector.y * moveMult );\r\n\t\t\tscope.object.translateZ( scope.moveVector.z * moveMult );\r\n\r\n\t\t\tscope.tmpQuaternion.set( scope.rotationVector.x * rotMult, scope.rotationVector.y * rotMult, scope.rotationVector.z * rotMult, 1 ).normalize();\r\n\t\t\tscope.object.quaternion.multiply( scope.tmpQuaternion );\r\n\r\n\t\t\tif (\r\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\r\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS\r\n\t\t\t) {\r\n\r\n\t\t\t\tscope.dispatchEvent( _changeEvent );\r\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\r\n\t\t\t\tlastPosition.copy( scope.object.position );\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tthis.updateMovementVector = function () {\r\n\r\n\t\t\tconst forward = ( this.moveState.forward || ( this.autoForward && ! this.moveState.back ) ) ? 1 : 0;\r\n\r\n\t\t\tthis.moveVector.x = ( - this.moveState.left + this.moveState.right );\r\n\t\t\tthis.moveVector.y = ( - this.moveState.down + this.moveState.up );\r\n\t\t\tthis.moveVector.z = ( - forward + this.moveState.back );\r\n\r\n\t\t\t//console.log( 'move:', [ this.moveVector.x, this.moveVector.y, this.moveVector.z ] );\r\n\r\n\t\t};\r\n\r\n\t\tthis.updateRotationVector = function () {\r\n\r\n\t\t\tthis.rotationVector.x = ( - this.moveState.pitchDown + this.moveState.pitchUp );\r\n\t\t\tthis.rotationVector.y = ( - this.moveState.yawRight + this.moveState.yawLeft );\r\n\t\t\tthis.rotationVector.z = ( - this.moveState.rollRight + this.moveState.rollLeft );\r\n\r\n\t\t\t//console.log( 'rotate:', [ this.rotationVector.x, this.rotationVector.y, this.rotationVector.z ] );\r\n\r\n\t\t};\r\n\r\n\t\tthis.getContainerDimensions = function () {\r\n\r\n\t\t\tif ( this.domElement != document ) {\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tsize: [ this.domElement.offsetWidth, this.domElement.offsetHeight ],\r\n\t\t\t\t\toffset: [ this.domElement.offsetLeft, this.domElement.offsetTop ]\r\n\t\t\t\t};\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tsize: [ window.innerWidth, window.innerHeight ],\r\n\t\t\t\t\toffset: [ 0, 0 ]\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tthis.dispose = function () {\r\n\r\n\t\t\tthis.domElement.removeEventListener( 'contextmenu', contextmenu );\r\n\t\t\tthis.domElement.removeEventListener( 'mousedown', _mousedown );\r\n\t\t\tthis.domElement.removeEventListener( 'mousemove', _mousemove );\r\n\t\t\tthis.domElement.removeEventListener( 'mouseup', _mouseup );\r\n\r\n\t\t\twindow.removeEventListener( 'keydown', _keydown );\r\n\t\t\twindow.removeEventListener( 'keyup', _keyup );\r\n\r\n\t\t};\r\n\r\n\t\tconst _mousemove = this.mousemove.bind( this );\r\n\t\tconst _mousedown = this.mousedown.bind( this );\r\n\t\tconst _mouseup = this.mouseup.bind( this );\r\n\t\tconst _keydown = this.keydown.bind( this );\r\n\t\tconst _keyup = this.keyup.bind( this );\r\n\r\n\t\tthis.domElement.addEventListener( 'contextmenu', contextmenu );\r\n\r\n\t\tthis.domElement.addEventListener( 'mousemove', _mousemove );\r\n\t\tthis.domElement.addEventListener( 'mousedown', _mousedown );\r\n\t\tthis.domElement.addEventListener( 'mouseup', _mouseup );\r\n\r\n\t\twindow.addEventListener( 'keydown', _keydown );\r\n\t\twindow.addEventListener( 'keyup', _keyup );\r\n\r\n\t\tthis.updateMovementVector();\r\n\t\tthis.updateRotationVector();\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction contextmenu( event ) {\r\n\r\n\tevent.preventDefault();\r\n\r\n}\r\n\r\nexport { FlyControls };\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'droppable-area',\n  templateUrl: './droppable-area.component.html',\n  styleUrls: ['./droppable-area.component.scss']\n})\nexport class DroppableAreaComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"drop-elements drop-hover drop-elements-hover\">\n    <div class=\"message\">\n        <div class=\"message-body\">\n            <H3 class=\"message-title\">Drop Here</H3>\n            <p class=\"message-content\">Thả vào đây!</p>\n        </div>\n    </div>\n    <div id=\"ctn-preloader\" class=\"ctn-preloader\">\n        <div class=\"round_spinner\">\n            <Div class=\"spinner\"></Div>\n            <Div class=\"text\">\n                <H4 class=\"title\">Đang <Span class=\"bold\">Tải</Span></H4>\n            </Div>\n        </div>\n    </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { assignValue } from '@app/_core/helpers/utils';\nimport { BaseInpGroupComponent } from '../base-inp-group/base-inp-group.component';\n\n@Component({\n    selector: 'inp-radio-group',\n    templateUrl: './inp-radio-group.component.html',\n    styleUrls: ['./inp-radio-group.component.scss']\n})\nexport class InpRadioGroupComponent extends BaseInpGroupComponent implements OnInit {\n\n    @Input() options: any = null;\n    _options: Array<{ label: string, value: string }> = [];\n\n    configProps = [\"options\"];\n    constructor() {\n        super();\n    }\n\n\n\n    onInit(): void {\n        assignValue(this.defaultValues, {\n            options: null\n        });\n        this.inpInit();;\n\n    }\n\n}\n\n","<div class=\"inner-box\">{{label?label:name | translate}}</div>\n<div class=\"input-wrapper\">\n    <inp-radio\n    [name]=\"name\"\n    [(value)]=\"value\"\n    [options]=\"options\"\n    (subcribe)=\"onChange($event)\"\n></inp-radio>\n\n</div>","import { Injectable } from '@angular/core';\nimport { assignIfNotExists, assignValue, assignWithout, date, getArguments, isArray, isFunction, isObject, isString, objectHasKey, Str } from '@app/_core/helpers/utils';\nimport Viewport from '../components/viewport';\nimport AppEngine from '../engines/app.emgine';\nimport { EngineClass, EngineInstance } from '../engines/engine.doc';\nimport { Materials } from '../libs/three.libs';\nimport { AppData } from '../store/data.type';\nimport { EventEmitter } from './event-emitter';\nconst DEFAULT_VALUE = Str.rand(Str.rand(date('ms')));\nimport Dom from '@app/_core/helpers/dom';\nimport { CallbackFunction } from '@app/_shared/shared.type';\nimport { i } from '@app/_core/helpers/html-elements';\n@Injectable({\n    providedIn: 'root'\n})\nexport class App3DService extends EventEmitter {\n    data: AppData = {};\n    root: any = null;\n    engineOptions: any = {};\n    _engine: EngineInstance = null;\n    storageKey: any = null;\n\n    controls: any[] = [];\n\n    canTransferEventToControls: boolean = true;\n\n    engineClass: EngineClass = AppEngine;\n    constructor() {\n        super();\n        // this.init();\n    }\n\n\n    capture(onDone: CallbackFunction, onError?:CallbackFunction) {\n        var image = this.engine.capture();\n\n\n        const imgS = new Image();\n        imgS.crossOrigin = \"anonymous\";\n        imgS.onload = () => {\n            let { width, height } = imgS;\n            let ratio = width / height;\n\n            var cancasDom = Dom(\"canvas#test-image-canvas\", { height, width });\n            let canvas: HTMLCanvasElement = cancasDom.el as HTMLCanvasElement;\n            var ctx = canvas.getContext('2d');\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            let taskTotal = 0;\n            const checkTask = () => {\n                if (taskTotal === 0) {\n                    if (isFunction(onDone)) {\n                        onDone(canvas.toDataURL());\n\n                        ctx.clearRect(0, 0, canvas.width, canvas.height);\n                    }\n                }\n            };\n\n\n            ctx.drawImage(imgS, 0, 0);\n            if (this.data.scene && this.data.scene.foregrounds && this.data.scene.foregrounds.length) {\n                this.data.scene.foregrounds.map(fg => {\n\n                    taskTotal++;\n                    const url = fg.url;\n                    const opacity = objectHasKey(fg, 'opacity') ? fg.opacity : 1;\n\n                    const img = new Image();\n                    img.crossOrigin = \"anonymous\";\n                    img.onload = function () {\n                        const posX = fg.position.x || 'center', posY = fg.position.y || 'center';\n                        let outWidth = img.width;\n                        let outHeight = img.height;\n                        let outRatio = outWidth / outHeight;\n                        if (outWidth > width || outRatio > height) {\n                            if (outRatio > ratio) {\n                                outWidth = width;\n                                outRatio = outWidth / outRatio;\n                            } else {\n                                outHeight = height;\n                                outWidth = outHeight * outRatio;\n\n                            }\n                        }\n\n                        let x = posX == 'left' ? 0 :\n                            posX == 'right' ? width - outWidth :\n                                (width - outWidth) / 2;\n                        let y = posY == 'top' ? 0 :\n                            posY == 'bottom' ? height - outHeight :\n                                (height - outHeight) / 2;\n                        //\n\n\n                        ctx.save();\n                        ctx.globalAlpha = opacity;\n\n                        ctx.drawImage(\n                            img,\n                            // crop image \n                            0, 0, //Where to start the grab (x,y of source image)\n                            // crop size\n                            img.width, img.height, //How much to grab (width, height)\n                            // insert\n                            // positiom\n                            x, y, //Where to plop the grab on the canvas (x,y of canvas)\n                            // size\n                            outWidth, outHeight //How large to plop the grab (width, height of incoming stamp)\n                        );\n\n\n                        ctx.restore();\n                        taskTotal--;\n                        checkTask();\n                    };\n                    img.onerror = e => {\n                        taskTotal--;\n                        checkTask();\n                    }\n                    img.src = url;\n\n                })\n            } else {\n                checkTask();\n            }\n\n        };\n        imgS.onerror = (e) => {\n            if(!image ){\n                if(isFunction(onError)){\n                    onError();\n                }\n            }\n            if (isFunction(onDone)) {\n                onDone(image);\n            }\n        }\n\n        imgS.src = image;\n    }\n\n\n\n\n    setOptions(options: any) {\n        this.engineOptions = options;\n    }\n\n\n    setAppData(data) {\n        this.setOptions(data);\n        this.init();\n    }\n\n    addControls(control) {\n        if (isObject(control) && typeof control.getEventList == \"function\") {\n            let stt = true;\n            this.controls.map(c => {\n                if (c == control) {\n                    stt = false;\n                }\n            });\n            if (stt) {\n                this.controls.push({\n                    control: control,\n                    events: control.getEventList()\n                });\n            }\n\n        }\n\n    }\n\n    transferEventListenner(event) {\n        if (isObject(event) && event.type) {\n            if (this._engine) {\n                this._engine.emit(event);\n            }\n            this.emit({\n                type: \"event.transfer\",\n                event: event\n            });\n            \n            if(this.canTransferEventToControls){\n                this.controls.map(c => {\n                    if (isObject(c) && isObject(c.control) && typeof c.control.transferEventListenner == \"function\" && c.events.indexOf(event.type) >= 0) {\n                        c.control.transferEventListenner(event.type, event);\n                    }\n                });    \n                // this.engine.getCanvas().dispatchEvent(event);\n            }\n\n            // console.log(event);\n\n        }\n    }\n\n    \n\n    set engine(engine) {\n        this._engine = engine;\n        this.dispatchEvent({\n            type: \"engine.set\",\n            data: engine,\n            engine: engine\n        });\n        this._engine.on('ready', () => this.emit({\n            type: \"engine.ready\",\n            data: this._engine,\n            engine: this._engine\n        }));\n\n    }\n    get engine(): EngineInstance {\n        return this._engine;\n    }\n\n    init() {\n        if (!this.engine) {\n            var Engine = this.engineClass;\n            this.engine = new Engine(this.engineOptions);\n            this.emit({\n                type: \"beforeinit\"\n            }, this.data, true);\n            this.engine.startup();\n            this.emit({\n                type: \"init\"\n            }, this.data, true);\n        } else {\n            this.engine.reset(this.engineOptions);\n            this.emit({\n                type: \"reset\"\n            }, this.data, true);\n        }\n\n\n    }\n\n\n    updateCanvasSize() {\n        if (this.engine) {\n            this.engine.updateCanvasSize();\n        }\n    }\n\n    onDataUpdate(data: any) {\n        console.log(data);\n    }\n\n\n    getModelSettingData(model: any, object3DModel: any) {\n        var settings: any = {\n            options: {},\n            props: {},\n            meshes: []\n        };\n        var vectors = [\"position\", \"rotation\", \"scale\"],\n            vprops = [\"x\", \"y\", \"z\"],\n            shadows = [\"castShadow\", \"receiveShadow\"];\n        var obj = object3DModel.object;\n        var modelSettings: any = model.settings || {};\n        shadows.map(k => {\n            settings.props[k] = (typeof modelSettings.props == \"object\" && typeof modelSettings.props[k] != \"undefined\") ? modelSettings.props[k] : obj[k];\n        });\n        vectors.map(k => {\n            settings.props[k] = {};\n            if (typeof modelSettings.props == \"object\" && typeof modelSettings.props[k] == \"object\") {\n                vprops.map(v => {\n                    if (typeof modelSettings.props[k][v] != \"undefined\") {\n                        settings.props[k][v] = modelSettings.props[k][v];\n                    } else {\n                        settings.props[k][v] = obj[k][v];\n                    }\n                })\n            }\n            else {\n                vprops.map(v => {\n                    settings.props[k][v] = obj[k][v];\n                })\n            }\n        });\n        if (modelSettings.options) {\n            assignValue(settings.options, modelSettings.options);\n        }\n\n        const addMeshSettings = (index: number, mesh: any, setting: any) => {\n            var settingDefaultData = {\n                name: mesh.name,\n                sid: Str.slug(mesh.name + \" \" + index, '_'),\n                index: index,\n                title: mesh.name,\n                data: {\n\n                },\n                editable: []\n            }\n\n\n            if (isObject(setting)) {\n                settingDefaultData = assignIfNotExists(setting, settingDefaultData);\n            }\n            settings.meshes[index] = settingDefaultData;\n            if (!isArray(settings.meshes[index].editable)) {\n                settings.meshes[index].editable = [];\n            }\n\n            Object.defineProperty(settingDefaultData, '__ref__', {\n                configurable: true,\n                enumerable: false,\n                writable: true,\n                value: mesh\n            })\n            // let materialData = Materials.getPropData(mesh.material);\n        }\n\n\n        if (modelSettings.meshes && modelSettings.meshes.length) {\n            for (let i = 0; i < object3DModel.meshes.length; i++) {\n                const objMesh = object3DModel.meshes[i];\n                let setting = null;\n                for (let j = 0; j < modelSettings.meshes.length; j++) {\n                    const mesh = modelSettings.meshes[j];\n                    if (objMesh.name == mesh.name) {\n                        setting = mesh;\n                        j == modelSettings.meshes.length;\n                    }\n\n                }\n                addMeshSettings(i, objMesh, setting);\n            }\n        } else {\n            for (let i = 0; i < object3DModel.meshes.length; i++) {\n                const objMesh = object3DModel.meshes[i];\n                addMeshSettings(i, objMesh, null);\n            }\n        }\n\n\n        return settings;\n    }\n\n\n    getMeshMaterialFormData(meshMaterial: any, settingMaterial: any) {\n        let materialInputs: any;\n        if (isArray(meshMaterial)) {\n            materialInputs = [];\n            if (isArray(settingMaterial)) {\n                for (let index = 0; index < meshMaterial.length; index++) {\n                    const mat = meshMaterial[index];\n                    let setting = settingMaterial[index] === undefined ? null : settingMaterial[index];\n                    let type = setting && setting.type ? setting.type : mat.type;\n                    materialInputs.push(this.getMaterialInputs(type, mat, setting));\n                }\n            }\n            else {\n                let setting = isObject(settingMaterial) ? settingMaterial : null;\n                let type = setting && setting.type ? setting.type : null;\n                for (let index = 0; index < meshMaterial.length; index++) {\n                    const mat = meshMaterial[index];\n\n                    materialInputs.push(this.getMaterialInputs(type || mat.type, mat, setting));\n                }\n            }\n\n        } else {\n            let setting = isObject(settingMaterial) ? settingMaterial : null;\n            let type = setting && setting.type ? setting.type : meshMaterial.type;\n            materialInputs = this.getMaterialInputs(type, meshMaterial, settingMaterial);\n        }\n        return materialInputs;\n    }\n\n    getMaterialInputs(materialType: string, material: any, settings: any, editableList?: any): any[] {\n        let _type = materialType ? Str.replace(String(materialType).toLowerCase(), ['mesh', 'material'], '') : 'basic';\n        let _material = Materials.config.data[_type];\n        let _settings = isObject(settings) ? settings : {};\n        if (!_material) return [];\n        let inputs = [];\n\n        let ignore = [];\n\n\n        /**\n         * \n         * @param type loại input\n         * @param name tên input\n         * @param value gia tri\n         * @param options option\n         */\n        const addInput = (type: string, name: string, value: (string | number | boolean | { [x: string]: any }), options?: any) => {\n            inputs.push(assignValue({\n                type: type,\n                name: name,\n                value: value\n            }, options));\n        }\n\n        let materialProps = _material.props;\n        let editable = _material.editable;\n        const isArrayEditAble = isArray(editableList);\n        for (let i = 0; i < editable.length; i++) {\n            const key = editable[i];\n            if (Object.hasOwnProperty.call(materialProps, key) && ignore.indexOf(key) == -1) {\n                const prop = materialProps[key];\n                const type = prop.type.split(\":\")[0].toLowerCase();\n                const value = typeof _settings[key] != \"undefined\" ? _settings[key] : (typeof material[key] != \"undefined\" ? material[key] : prop.value);\n                var inputType = prop.data.inputType;\n                const inputOptions: any = {};\n                let isEditAble = isArrayEditAble && editableList.indexOf(key) !== -1;\n                switch (type) {\n                    case 'boolean':\n                        addInput(\"checkbox\", key, value, { editable: isEditAble });\n                        break;\n                    case 'string':\n                        if (inputType == \"select\") {\n                            addInput(\"select\", key, value, { options: prop.data.options, editable: isEditAble })\n                        } else {\n                            addInput(\"text\", key, value, { editable: isEditAble })\n                        }\n                        break;\n                    case \"number\":\n                    case \"float\":\n                    case \"integer\":\n                        if (inputType == \"select\") {\n                            addInput(\"select\", key, value, { options: prop.data.options, editable: isEditAble });\n                        } else {\n                            assignWithout(inputOptions, prop.data, ['inputType']);\n                            //  inputOptions.layout = \"smart\";\n                            if (inputType == \"range\") inputOptions.outputWidth = 2;\n                            inputOptions.editable = isEditAble;\n                            if (type == \"integer\") {\n                                let a = assignValue({\n                                    min: -99999999,\n                                    max: 99999999,\n                                    step: 1\n                                }, inputOptions);\n                                assignValue(inputOptions, a);\n                            }\n                            addInput(inputType == \"range\" ? inputType : 'number', key, value, inputOptions);\n                        }\n                        break;\n\n                    case \"color\":\n                    case 'texture':\n                        inputOptions.editable = isEditAble;\n                        if (typeof materialProps[key + \"Intensity\"] != \"undefined\") {\n                            inputOptions.attach = assignValue(materialProps[key + \"Intensity\"].data);\n                            inputOptions.attach.name = key + \"Intensity\";\n                            inputOptions.attach.type = inputOptions.attach.inputType || \"range\";\n                            if (_settings[key + \"Intensity\"] !== undefined) {\n                                inputOptions.attach.value = _settings[key + \"Intensity\"];\n                            }\n                            else if (_material[key + \"Intensity\"] !== undefined) {\n                                inputOptions.attach.value = _material[key + \"Intensity\"];\n                            } else {\n                                inputOptions.attach.value = materialProps[key + \"Intensity\"].value;\n                            }\n                            ignore.push(key + \"Intensity\");\n                        }\n\n                        var vl = type == \"color\" && isObject(value) ? (\n                            value.isColor ? \"#\" + value.getHexString() : \"#000000\"\n                        ) : value;\n\n                        addInput(type, key, vl, inputOptions);\n                        break;\n\n\n                    default:\n                        break;\n                }\n            }\n        }\n\n        return inputs;\n    }\n\n}\n","import { ChangeDetectorRef, Component, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { Materials } from '@app/_3D/libs/three.libs';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\nimport { Object3DPropDataModel, Object3DPropDefaultData } from '@app/_3D/store/data.type';\nimport { assignValue, assignWithout, isArray, isObject, Str } from '@app/_core/helpers/utils';\nimport { CallbackFunction, InpEvent } from '@app/_shared/shared.type';\nimport { ItemModel, ItemSettings } from '@app/_store/item';\nimport { BaseComponent } from '../../base/base.component';\nimport { PanelModelObjectService } from './panel-model-object.service';\n\nenum TabIndex {\n    Meshes = 0,\n    Properties = 1,\n}\nconst propDefault = {\n    castShadow: false,\n    receiveShadow: false,\n    scale: {\n        x: 1,\n        y: 1,\n        z: 1\n    },\n    rotation: {\n        x: 0,\n        y: 0,\n        z: 0\n    },\n    position: {\n        x: 0,\n        y: 0,\n        z: 0\n    }\n};\n\n@Component({\n    selector: 'panel-model-object',\n    templateUrl: './panel-model-object.component.html',\n    styleUrls: ['./panel-model-object.component.scss']\n})\nexport class PanelModelObjectComponent extends BaseComponent implements OnInit, OnChanges {\n    title: string = 'Title';\n    hasTitle: boolean = false;\n    isShow: boolean = false;\n\n    btnDoneText: string = 'Done';\n    onUpdateHandle: CallbackFunction = null;\n    onDoneHandle: CallbackFunction = null;\n    // _service: PanelModelObjectService = null;\n\n\n    settings: ItemSettings = {};\n    secretKey: string = '';\n\n    prevTab: number = TabIndex.Meshes;\n    currentTab: number = TabIndex.Meshes;\n    data: ItemSettings = {};\n    object: any = null;\n\n    meshFormGroup: any[] = [];\n\n    meshes: any[] = [];\n    props: Object3DPropDataModel = assignValue({}, Object3DPropDefaultData);\n    isInited: boolean = false;\n    app: AppEditorService = null;\n    _service: PanelModelObjectService = null;\n    constructor(private cd: ChangeDetectorRef, private service: PanelModelObjectService, private events: AppEditorEventService) {\n        super();\n        this._service = service;\n\n        this.registerEventService(service, {\n            \"panel.show\": e => this.show(e.data),\n            \"panel.hide\": e => this.hide(),\n            \"editor.update.props\": e => {\n                \n                if (!this.isFocus) return;\n                if (isObject(e.data) && e.data.secret_key == this.secretKey) {\n                    assignValue(this.settings.props, e.data.key, e.data.value);\n                    assignValue(this.props, e.data.key, e.data.value);\n                    if (e.data.key == \"rotation\") {\n                        setTimeout(() => {\n                            this.service.emit({\n                                type: \"props.rotation.change\",\n                                value: e.data.value\n                            })\n                        }, 1);\n                    }\n                    if (e.data.key == \"position\") {\n                        setTimeout(() => {\n                            this.service.emit({\n                                type: \"props.vector.change\",\n                                name: \"position\",\n                                value: e.data.value\n                            })\n                        }, 1);\n                    }\n                    if (e.data.key == \"scale\") {\n                        setTimeout(() => {\n                            this.service.emit({\n                                type: \"props.vector.change\",\n                                name: \"scale\",\n                                value: e.data.value\n                            })\n                        }, 1);\n                    }\n                    \n                    this.cd.checkNoChanges();\n                }\n                this.refresh(10);\n            },\n            \"component.checkchange\": () => this.cd.detectChanges()\n        });\n\n    }\n\n\n    onChangeSubEvents(){\n        this.app = this.subEvents.app;\n    }\n\n    onInit(): void {\n        this.activeEventServiceRegistered(this.service);\n        this.cd.detectChanges();\n    }\n\n\n    destroy(){\n        this.deactiveEventServiceRegistered(this.service);\n    }\n\n    \n    ngOnChanges(changes: SimpleChanges) {\n\n    }\n\n\n    onChangeTab(e) {\n        this.currentTab = e.index;\n        this.cd.detectChanges();\n    }\n\n    reset() {\n\n        this.btnDoneText = 'Done';\n    }\n\n\n\n    show(data: any) {\n        if(!this.isFocus) return;\n        if (isObject(data)) {\n\n            if (this.isShow) {\n                if (data.secret_key == this.secretKey) return false;\n                this.hide();\n                setTimeout(() => this.display(data), 10);\n            }\n            else {\n                this.currentTab = TabIndex.Meshes;\n                this.display(data);\n            }\n        }\n\n    }\n    hide() {\n        this.isShow = false;\n        this.reset();\n    }\n\n    display(data: any) {\n        if (data.title) {\n            this.title = data.title;\n            this.hasTitle = true;\n        }\n        if (data.btnDone || data.btnDoneText) {\n            this.btnDoneText = data.btnDone || data.btnDoneText;\n        }\n        if (isObject(data.data) && data.secret_key) {\n            this.setData(data);\n\n            this.isShow = true;\n        }\n    }\n\n    setData(data: any) {\n        if(!this.isFocus) return;\n        this.onUpdateHandle = null;\n        if (typeof data.onUpdate == \"function\") {\n            this.onUpdateHandle = data.onUpdate;\n        }\n        if (typeof data.onChange == \"function\") {\n            this.onUpdateHandle = data.onChange;\n        }\n        if (typeof data.change == \"function\") {\n            this.onUpdateHandle = data.change;\n        }\n        if (typeof data.done == \"function\") {\n            this.onDoneHandle = data.done;\n        } else if (typeof data.onDone == \"function\") {\n            this.onDoneHandle = data.onDone;\n        }\n\n        this.secretKey = data.secret_key;\n        this.data = data.data;\n        this.object = data.object;\n        this.setDefaultSettingData();\n        this.asyncSettings(data.data);\n        this.initProps();\n\n\n    }\n\n    initProps() {\n        for (const key in Object3DPropDefaultData) {\n            if (Object.prototype.hasOwnProperty.call(Object3DPropDefaultData, key)) {\n                const value = Object3DPropDefaultData[key];\n                assignValue(this.props, key, value);\n                if (isObject(value)) {\n                    if (Object.prototype.hasOwnProperty.call(this.object, key) && isObject(this.object[key])) {\n                        for (const k in value) {\n                            if (Object.prototype.hasOwnProperty.call(value, k)) {\n                                if (typeof this.object[key][k] != \"undefined\") {\n                                    this.props[key][k] = this.object[key][k];\n                                }\n                            }\n                        }\n                    }\n                    if (Object.prototype.hasOwnProperty.call(this.settings.props, key)) {\n                        for (const k in value) {\n                            if (Object.prototype.hasOwnProperty.call(value, k)) {\n                                if (Object.prototype.hasOwnProperty.call(this.settings.props[key], k)) {\n                                    this.props[key][k] = this.settings.props[key][k];\n                                }\n\n                            }\n                        }\n                    }\n                } else {\n                    if (Object.prototype.hasOwnProperty.call(this.object, key)) {\n                        this.props[key] = this.object[key];\n                    }\n                    if (Object.prototype.hasOwnProperty.call(this.settings.props, key)) {\n                        this.props[key] = this.settings.props[key];\n                    }\n                }\n\n\n            }\n        }\n    }\n\n    // updateProps(event: InpEvent) {\n\n    // }\n\n    onDone() {\n        this.hide();\n\n        return typeof this.onDoneHandle == \"function\" ? this.onDoneHandle() : 0;\n    }\n\n\n\n\n    /**\n     * thiết lập giá trị mặc định\n     */\n    setDefaultSettingData() {\n        this.settings = {\n            props: assignValue({}, propDefault),\n            options: {},\n            meshes: []\n        }\n    }\n\n\n\n    // dong bo setting cua item voi tab\n    asyncSettings(settings: any) {\n        this.settings = settings;\n        if(!this.settings.meshes){\n            this.settings.meshes = [];\n        }\n        this.meshes = [];\n        if(this.settings.meshes.length){\n            var o = this.app.engine.getObject(this.secretKey);\n            if(o){\n                this.settings.meshes.map((mesh) => {\n                    if(!mesh.__ref__){\n                        o.meshes.map((m) => {\n                            if(m.name == mesh.name){\n                                Object.defineProperty(mesh, '__ref__', {\n                                    enumerable: false,\n                                    configurable: true,\n                                    writable: true,\n                                    value: m\n                                })\n                            }\n                            \n                        })\n                    }\n                    Object.defineProperty(mesh, '__inputs__', {\n                        enumerable: false,\n                        configurable: true,\n                        writable: true,\n                        value: this.app.getMaterialInputs(\n                            mesh.data && mesh.data.material && mesh.data.material.type?mesh.data.material.type: mesh.__ref__.material.type,\n                            mesh.__ref__.material,\n                            mesh.data && mesh.data.material?mesh.data.material:null,\n                            mesh.editable?mesh.editable:[]\n                        )\n                    })\n                \n\n                    if(!mesh.__parent_key__){\n                        Object.defineProperty(mesh, '__parent_key__', {\n                            enumerable: false,\n                            configurable: true,\n                            writable: true,\n                            value: this.secretKey\n                        })\n                    }\n                })\n            }\n        }\n\n    }\n\n\n    updateProps(data) {\n        assignValue(this.settings.props, data.props);\n\n        if (typeof this.onUpdateHandle == \"function\") {\n            this.onUpdateHandle({\n                secret_key: this.secretKey,\n                type: \"props\",\n                key: data.name,\n                data: this.settings.props\n            });\n        }\n        this.service.emit({\n            type: \"props.change\",\n            secret_key: this.secretKey,\n            data: this.settings.props\n        });\n    }\n\n\n    updateMesh(event) {\n        if (isObject(event) && Object.prototype.hasOwnProperty.call(event, 'index')) {\n            for (let i = 0; i < this.settings.meshes.length; i++) {\n                const mesh = this.settings.meshes[i];\n                if (mesh.index == event.index) {\n                    if (!isArray(mesh.data.material)) {\n                        if (!isObject(mesh.data.material)) mesh.data.material = {};\n                        mesh.data.material[event.name] = event.value;\n                        const updateData = {};\n                        updateData[event.name] = event.value;\n                        this.emitUpdateMaterial(i, mesh.name, updateData);\n                    }\n                    else {\n                        mesh.data.material = event.settings;\n                    }\n\n                }\n            }\n        }\n    }\n\n    emitUpdateMaterial(index: number, name: string, updateDAta: any) {\n        if (typeof this.onUpdateHandle == \"function\") {\n            this.onUpdateHandle({\n                secret_key: this.secretKey,\n                type: \"material\",\n                index: index,\n                name: name,\n                data: updateDAta\n            });\n        }\n        this.service.emit({\n            type: \"material.change\",\n            index: index,\n\n            data: this.settings.meshes[index].data.material\n        });\n    }\n\n\n}\n","<div class=\"panel inner-layout\" *ngIf=\"isShow\">\n    <div class=\"panel-body\">\n\n        <nz-tabset [nzSelectedIndex]=\"currentTab\" nzTabPosition=\"top\" nzType=\"line\" class=\"main-tab w100\" (nzSelectChange)=\"onChangeTab($event)\">\n\n            <nz-tab [nzTitle]=\"iconMeshes\">\n                <ng-template #iconMeshes>\n                    Meshes\n                </ng-template>\n                <!-- <mesh-geometry-tab-geometry [inputs]=\"geoInputs\" (subcribe)=\"onGeometryParamChange($event)\"></mesh-geometry-tab-geometry> -->\n                <panel-model-object-tab-meshes [secretKey]=\"secretKey\" [meshes]=\"settings.meshes\" (subcribe)=\"updateMesh($event)\"></panel-model-object-tab-meshes>\n            </nz-tab>\n\n            <nz-tab [nzTitle]=\"iconProperties\">\n                <ng-template #iconProperties>\n                    Properties\n                </ng-template>\n                <ng-template nz-tab>\n                    <panel-model-object-tab-properties [(props)]=\"props\" (subcribe)=\"updateProps($event)\" [events]=\"_service\"></panel-model-object-tab-properties>\n                </ng-template>\n            </nz-tab>\n\n\n        </nz-tabset>\n    </div>\n\n\n\n    <div class=\"panel-footer\">\n        <h3>{{\"Actions\" | translate}}</h3>\n        <div class=\"buttons\">\n            <button nz-button nzType=\"primary\" (click)=\"onDone()\">{{btnDoneText}}</button>\n\n\n        </div>\n    </div>\n\n</div>","import { RestService } from './rest.service';\r\nimport { StartupService } from './startup.service';\r\nimport { MenuService } from './menu/menu.service';\r\nimport { SettingService } from './setting/setting.service';\r\nimport { PermissionsService } from './permissions.service';\r\nimport { HttpService } from './http.service';\r\nimport { StorageService } from './storage.service';\r\nimport { LostDbService } from './lost-db.service';\r\nimport { LostDbTableService } from './lost-db-table.service';\r\nimport { EventManagerService } from './event-manager.service';\r\n\r\nexport * from './startup.service';\r\nexport * from './menu/menu.service';\r\nexport * from './setting/setting.service';\r\nexport * from './permissions.service';\r\n\r\nexport const services = [\r\n  RestService,\r\n  StartupService,\r\n  MenuService,\r\n  SettingService,\r\n  PermissionsService,\r\n  StorageService,\r\n  HttpService,\r\n  LostDbService,\r\n  LostDbTableService,\r\n  EventManagerService\r\n];\r\n","import { ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { BaseInputComponent } from '../base-input/base-input.component';\nimport { LoaderLib, TransparentBase64Image } from '@app/_3D/libs/three.libs';\nimport { ImageLibraryService } from '../../modals/image-library/image-library.service';\nimport { isObject, isString, resizeImage } from '@app/_core/helpers/utils';\nimport Object2Image from '@app/_3D/modules/object-image';\n\n@Component({\n    selector: 'inp-texture',\n    templateUrl: './inp-texture.component.html',\n    styleUrls: ['./inp-texture.component.scss']\n})\nexport class InpTextureComponent extends BaseInputComponent implements OnInit {\n    outputImage = TransparentBase64Image;\n    @Input() listType: string = \"list\";\n    @Output() modalCancelSelect = new EventEmitter<any>();\n    @Output() onCloseLibrary = new EventEmitter<any>();\n    constructor(private libraryService: ImageLibraryService, private cd: ChangeDetectorRef) {\n        super();\n    }\n\n    ngOnInit(): void {\n        if (this.value) {\n            this.image = this.value;\n\n        }\n    }\n\n    set image(value) {\n        if (isString(value)) this.outputImage = value;\n        else if (isObject(value)) {\n            var map = value;\n            if (map.image) {\n                var image = Object2Image.get2DMap(map, 100, 100);\n                if (image) {\n                    this.outputImage = image;\n                }\n            } else {\n                var self = this;\n                // var value = map;\n                if (value != null && isObject(value) && value.file) {\n                    var p = '';\n                    if (value.path) {\n                        if (value.substr(value.path.length - 1, 1) == '/') {\n                            p = value.path;\n                        }\n                        else {\n                            p = value.path + '/';\n                        }\n                        if (value.file.substr(0, 1) == '/') {\n                            p += value.file.substr(1);\n                        } else {\n                            p += value.file;\n                        }\n                    } else {\n                        p = value.file;\n                    }\n                    if(value.format != \"hdr\" && value.extension != \"hdr\"){\n                        resizeImage(p, 60, 60, function (thumbnail) {\n                            // mapImage.attr('src', thumbnail);\n                            self.outputImage = thumbnail;\n                        });\n                    }else{\n                        LoaderLib.LoadEnv({\n                            format: \"hdr\",\n                            file: p\n                        },  (envMap, texture) => {\n                            var src = Object2Image.get2DMap(texture, 240, 120);\n                            if(src){\n                                this.outputImage = src;\n                                this.cd.detectChanges();\n\n                            }\n                        });\n\n                    }\n                }\n            }\n\n        }\n    }\n    chooseTexture() {\n        this.libraryService.open(\n            {\n                title: this.name,\n                mode: \"simple\",\n                listType: this.listType\n            }, \n            image => {\n                this.onSelectImage(image);\n                this.onCloseLibrary.emit(true);\n            }, \n            () => {\n                this.modalCancelSelect.emit(true);\n                this.onCloseLibrary.emit(true);\n            }\n        );\n    }\n\n    onSelectImage(image) {\n        this.outputImage = image.thumbnail;\n        this.value = image.source;\n\n        this.subcribe.emit({\n            name: this.name,\n            value: this.value,\n            old: this.old,\n            file: image\n        });\n        this.old = this.value;\n        if(image.extension == \"hdr\"){\n            this.image = {\n                file: image.source,\n                format: 'hdr'\n            }\n        }\n        \n    }\n\n\n\n}\n","<div class=\"output output-texture\" (click)=\"chooseTexture()\">\n    <img src=\"{{outputImage}}\" alt=\"Texture\" class=\"thumb\">\n</div>","export * from './reducers';\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { UnAuthGuard } from '../_core/guards';\r\nimport { LayoutAuthComponent } from './layout/layout.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LayoutAuthComponent,\r\n    canActivate: [UnAuthGuard],\r\n    children: [\r\n      {\r\n        path: 'login',\r\n        component: LoginComponent,\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nexport const COMPONENTS = [LoginComponent, LayoutAuthComponent];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AuthRoutingModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\r\n\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError, map } from 'rxjs/operators';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { environment } from '@env/environment';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Injectable()\r\nexport class RestService {\r\n  baseUrl = '';\r\n  baseUrlForm = '';\r\n\r\n  constructor(private http: HttpClient, private toart: ToastrService, private translateService: TranslateService) {\r\n    this.baseUrl = environment.apiUrl + 'api/';\r\n    this.baseUrlForm = environment.apiUrl;\r\n  }\r\n\r\n  handleError(error: HttpErrorResponse, isShow = true) {\r\n    if (isShow) {\r\n      let errMsg = '';\r\n      if (error.error) {\r\n        errMsg = error.error.message || error.error.statusText;\r\n      } else {\r\n        errMsg = error.message || error.statusText;\r\n      }\r\n      const strError = this.translateService.instant('Error') + ' ';\r\n      this.toart.error(errMsg, strError + error.status);\r\n    }\r\n    return throwError(error);\r\n  }\r\n\r\n  displaySuccessMessage(res: any, isShow = true) {\r\n    if (isShow) {\r\n      const strSuccessful = this.translateService.instant('Successful') + ' ';\r\n      const strNiceJob = this.translateService.instant('Nice Job');\r\n      const message = res ? res.message : strNiceJob;\r\n      this.toart.success(message, strSuccessful);\r\n    }\r\n    return res;\r\n  }\r\n\r\n  get(path: string, paramsIn = {}, showSuccess = false): Observable<any> {\r\n    let params = new HttpParams();\r\n    Object.keys(paramsIn).forEach((key) => {\r\n      if (paramsIn[key] !== undefined) {\r\n        if (Array.isArray(paramsIn[key])) {\r\n          paramsIn[key].forEach((e) => {\r\n            params = params.append(key, e);\r\n          });\r\n        } else if (typeof paramsIn[key] === 'object') {\r\n          params = params.append(key, JSON.stringify(paramsIn[key]));\r\n        } else {\r\n          params = params.append(key, paramsIn[key]);\r\n        }\r\n      }\r\n    });\r\n    const headers = this.getHeader();\r\n    return this.http.get(this.baseUrl + path, { params, headers }).pipe(\r\n      map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n      catchError((err) => this.handleError(err))\r\n    );\r\n  }\r\n\r\n  getOut(url: string, paramsIn = {}, showSuccess = false): Observable<any> {\r\n    let params = new HttpParams();\r\n    Object.keys(paramsIn).forEach((key) => {\r\n      if (paramsIn[key] !== undefined) {\r\n        if (Array.isArray(paramsIn[key])) {\r\n          paramsIn[key].forEach((e) => {\r\n            params = params.append(key, e);\r\n          });\r\n        } else if (typeof paramsIn[key] === 'object') {\r\n          params = params.append(key, JSON.stringify(paramsIn[key]));\r\n        } else {\r\n          params = params.append(key, paramsIn[key]);\r\n        }\r\n      }\r\n    });\r\n    const headers = this.getHeader();\r\n    return this.http.get(url, { params, headers }).pipe(\r\n      map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n      catchError((err) => this.handleError(err))\r\n    );\r\n  }\r\n  getOut2(url: string, paramsIn = {}, showSuccess = false): Observable<any> {\r\n    let params = new HttpParams();\r\n    Object.keys(paramsIn).forEach((key) => {\r\n      if (paramsIn[key] !== undefined) {\r\n        if (Array.isArray(paramsIn[key])) {\r\n          paramsIn[key].forEach((e) => {\r\n            params = params.append(key, e);\r\n          });\r\n        } else if (typeof paramsIn[key] === 'object') {\r\n          params = params.append(key, JSON.stringify(paramsIn[key]));\r\n        } else {\r\n          params = params.append(key, paramsIn[key]);\r\n        }\r\n      }\r\n    });\r\n    const headers = this.getHeader();\r\n    return this.http.get(url, { params, headers }).pipe(\r\n      map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n      catchError((err) => this.handleError(err))\r\n    );\r\n  }\r\n\r\n  put(path: string, body: any = {}, headersIn = {}, showSuccess = true): Observable<any> {\r\n    let headers = new HttpHeaders();\r\n    Object.keys(headersIn).forEach((key) => {\r\n      if (headersIn[key] !== undefined) {\r\n        headers = headers.append(key, headersIn[key].toString());\r\n      }\r\n    });\r\n    return this.http.put(this.baseUrl + path, body, { headers }).pipe(\r\n      map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n      catchError((err) => this.handleError(err))\r\n    );\r\n  }\r\n\r\n  patch(path: string, body: any = {}, headersIn = {}, showSuccess = true): Observable<any> {\r\n    let headers = new HttpHeaders();\r\n    Object.keys(headersIn).forEach((key) => {\r\n      if (headersIn[key] !== undefined) {\r\n        headers = headers.append(key, headersIn[key].toString());\r\n      }\r\n    });\r\n    return this.http.patch(this.baseUrl + path, body, { headers }).pipe(\r\n      map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n      catchError((err) => this.handleError(err))\r\n    );\r\n  }\r\n\r\n  post(path: string, body = {}, showSuccess = true): Observable<any> {\r\n    return this.http.post(this.baseUrl + path, body).pipe(\r\n      map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n      catchError((err) => this.handleError(err))\r\n    );\r\n  }\r\n\r\n  download(path: string, body = {}, showSuccess = true): Observable<any> {\r\n    const headers = this.getHeaderDownload();\r\n    return this.http.post(this.baseUrl + path, body, { headers, responseType: 'arraybuffer' }).pipe(\r\n      map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n      catchError((err) => this.handleError(err))\r\n    );\r\n  }\r\n\r\n  form(path: string, body = {}, showSuccess = true): Observable<any> {\r\n    const headers = this.getHeaderForm();\r\n    return this.http.post(this.baseUrlForm + path, body, { headers, observe: 'response' }).pipe(\r\n      map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n      catchError((err) => this.handleError(err))\r\n    );\r\n  }\r\n\r\n  formPut(path: string, body = {}, showSuccess = true): Observable<any> {\r\n    const headers = this.getHeaderForm();\r\n    return this.http.put(this.baseUrlForm + path, body, { headers, observe: 'response' }).pipe(\r\n      map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n      catchError((err) => this.handleError(err))\r\n    );\r\n  }\r\n\r\n  formUpload(path: string, body = {}, showSuccess = true): Observable<any> {\r\n    const headers = this.getHeaderUpload();\r\n    return this.http.post(this.baseUrl + path, body, { headers, observe: 'response' }).pipe(\r\n      map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n      catchError((err) => this.handleError(err))\r\n    );\r\n  }\r\n\r\n  formUploadPut(path: string, body = {}, showSuccess = true): Observable<any> {\r\n    const headers = this.getHeaderUpload();\r\n    return this.http.put(this.baseUrl + path, body, { headers, observe: 'response' }).pipe(\r\n      map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n      catchError((err) => this.handleError(err))\r\n    );\r\n  }\r\n\r\n  upload(path: string, body = {}, showSuccess = true): Observable<any> {\r\n    const headers = new HttpHeaders();\r\n    headers.append('Content-Type', 'application/x-www-form-urlencoded');\r\n    return this.http\r\n      .post(this.baseUrl + path, body, {\r\n        headers,\r\n      })\r\n      .pipe(\r\n        map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n        catchError((err) => this.handleError(err))\r\n      );\r\n  }\r\n\r\n  delete(path, showSuccess = true): Observable<any> {\r\n    return this.http.delete(this.baseUrl + path).pipe(\r\n      map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n      catchError((err) => this.handleError(err))\r\n    );\r\n  }\r\n\r\n  private getHeader(): HttpHeaders {\r\n    return new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n      accept: 'application/json',\r\n      'Accept-Language': 'vi',\r\n    });\r\n  }\r\n\r\n  private getHeaderS3(): HttpHeaders {\r\n    return new HttpHeaders({\r\n      accept: 'application/xml',\r\n    });\r\n  }\r\n\r\n  private getHeaderUpload(): HttpHeaders {\r\n    const headers = new HttpHeaders({\r\n      // 'Content-Type':\r\n      //   'multipart/form-data;boundary=--------------------------247697088228317249765921'\r\n    });\r\n    return headers;\r\n  }\r\n\r\n  private getHeaderDownload(): HttpHeaders {\r\n    const headers = new HttpHeaders({\r\n      Accept: 'application/pdf',\r\n    });\r\n    return headers;\r\n  }\r\n\r\n  private getHeaderForm(): HttpHeaders {\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/x-www-form-urlencoded',\r\n    });\r\n    return headers;\r\n  }\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { LightProps } from '@app/_3D/store/data.type';\nimport { assignValue, isObject } from '@app/_core/helpers/utils';\nimport { InpEvent } from '@app/_shared/shared.type';\n\n@Component({\n  selector: 'panel-light-tab-properties',\n  templateUrl: './panel-light-tab-properties.component.html',\n  styleUrls: ['./panel-light-tab-properties.component.scss']\n})\nexport class PanelLightTabPropertiesComponent implements OnInit {\n  @Input() props: LightProps = null;\n  @Output() onUpdate = new EventEmitter<LightProps>();\n  @Input() service: any = null;\n\n  @Input() hasShadow: boolean = false;\n  @Input() hasTarget: boolean = false;\n  @Input() hasShadowCamera: boolean = false;\n  @Output() subcribe = new EventEmitter<InpEvent>();\n  constructor() { }\n\n  ngOnInit(): void {\n      let defData = assignValue({}, {\n        visible: true,\n        position: {\n            x: 0,\n            y: 0,\n            z: 0\n        },\n        // up: {\n        //     x: 0,\n        //     y: 0,\n        //     z: 0\n        // },\n        rotation: {\n            x: 0,\n            y: 0,\n            z: 0\n        }\n    \n    });\n      let finalData = assignValue(defData, this.props);\n      if (!isObject(this.props)) this.props = finalData;\n      else assignValue(this.props, finalData);\n  }\n\n  onInputChange(event) {\n      if (event && isObject(event) && event.name) {\n          this.emitUpdate(event.name, event.value);\n      }\n  }\n\n  emitUpdate(name, value) {\n      this.onUpdate.emit(this.props);\n      this.subcribe.emit({\n          name: name,\n          value: value,\n          props: this.props\n      });\n  }\n\n}\n","<div class=\"tab-inner\">\n    <div class=\"inputs store\">\n        <div class=\"inp-list\" *ngIf=\"props\">\n\n            <h3>{{\"Properties\"|translate}}</h3>\n            <inp-switch-group class=\"inp-group-item\" name=\"visible\" [(value)]=\"props.visible\" label=\"Visible\" (subcribe)=\"onInputChange($event)\"></inp-switch-group>\n            <inp-vector3-group class=\"inp-group-item\" name=\"position\" [(value)]=\"props.position\" label=\"Position\" (subcribe)=\"onInputChange($event)\"></inp-vector3-group>\n\n            <div *ngIf=\"hasShadow\">\n                <h3 class=\"mt-20\">{{\"Shadow\"|translate}}</h3>\n                <inp-switch-group class=\"inp-group-item\" name=\"castShadow\" [(value)]=\"props.castShadow\" label=\"Cast Shadow\" (subcribe)=\"onInputChange($event)\"></inp-switch-group>\n                <inp-range-group class=\"inp-group-item\" name=\"shadow.bias\" [(value)]=\"props.shadow.bias\" label=\"Bias\" [min]=\"-5\" [max]=\"5\" [step]=\"0.0001\" (subcribe)=\"onInputChange($event)\"></inp-range-group>\n                <inp-range-group class=\"inp-group-item\" name=\"shadow.darkness\" [(value)]=\"props.shadow.darkness\" label=\"Darkness\" [min]=\"0\" [max]=\"1\" [step]=\"0.01\" (subcribe)=\"onInputChange($event)\"></inp-range-group>\n                <inp-number-group class=\"inp-group-item\" name=\"shadow.radius\" [(value)]=\"props.shadow.radius\" label=\"Radius\" [min]=\"0\" [max]=\"500\" [step]=\"0.1\" (subcribe)=\"onInputChange($event)\"></inp-number-group>\n                <h4 class=\"mt-20\">{{\"Map Size\"|translate}}</h4>\n                <inp-number-group class=\"inp-group-item\" name=\"shadow.mapSize.width\" [(value)]=\"props.shadow.mapSize.width\" label=\"Width\" [min]=\"0\" [max]=\"10240\" [step]=\"1\" (subcribe)=\"onInputChange($event)\"></inp-number-group>\n                <inp-number-group class=\"inp-group-item\" name=\"shadow.mapSize.height\" [(value)]=\"props.shadow.mapSize.height\" label=\"Height\" [min]=\"0\" [max]=\"10240\" [step]=\"1\" (subcribe)=\"onInputChange($event)\"></inp-number-group>\n                <div *ngIf=\"hasShadowCamera\">\n                    <h4 class=\"mt-20\">{{\"Shadow Camera\"|translate}}</h4>\n                    <inp-number-group class=\"inp-group-item\" name=\"shadow.camera.near\" [(value)]=\"props.shadow.camera.near\" label=\"Near\" [min]=\"0.0001\" [max]=\"10240\" [step]=\"0.001\" (subcribe)=\"onInputChange($event)\"></inp-number-group>\n                    <inp-number-group class=\"inp-group-item\" name=\"shadow.camera.far\" [(value)]=\"props.shadow.camera.far\" label=\"Far\" [min]=\"0.0001\" [max]=\"10240\" [step]=\"0.001\" (subcribe)=\"onInputChange($event)\"></inp-number-group>\n                    <inp-number-group class=\"inp-group-item\" name=\"shadow.camera.top\" [(value)]=\"props.shadow.camera.top\" label=\"Top\" [min]=\"-1024\" [max]=\"1024\" [step]=\"0.001\" (subcribe)=\"onInputChange($event)\"></inp-number-group>\n                    <inp-number-group class=\"inp-group-item\" name=\"shadow.camera.bottom\" [(value)]=\"props.shadow.camera.bottom\" label=\"Bottom\" [min]=\"-1024\" [max]=\"1024\" [step]=\"0.001\" (subcribe)=\"onInputChange($event)\"></inp-number-group>\n                    <inp-number-group class=\"inp-group-item\" name=\"shadow.camera.left\" [(value)]=\"props.shadow.camera.left\" label=\"Left\" [min]=\"-1024\" [max]=\"1024\" [step]=\"0.001\" (subcribe)=\"onInputChange($event)\"></inp-number-group>\n                    <inp-number-group class=\"inp-group-item\" name=\"shadow.camera.right\" [(value)]=\"props.shadow.camera.right\" label=\"Right\" [min]=\"-1024\" [max]=\"1024\" [step]=\"0.001\" (subcribe)=\"onInputChange($event)\"></inp-number-group>\n                </div>\n                \n            </div>\n            <div *ngIf=\"hasTarget\">\n                <h3 class=\"mt-20\">{{\"Target\"|translate}}</h3>\n                <inp-vector3-group class=\"inp-group-item\" name=\"target.position\" [(value)]=\"props.target.position\" label=\"Position\" (subcribe)=\"onInputChange($event)\"></inp-vector3-group>\n            </div>\n        </div>\n    </div>\n</div>","/**\n * Stateservice sử dụng cho angular hoặc bất kỳ một core nào khác\n * @author DoanLN\n */\nimport { Injectable } from '@angular/core';\nimport { getType, inArray, isArray, isBoolean, isEmpty, isFunction, isObject, isString, newObj, objectHasKey, Str } from '../helpers/utils';\n\ndeclare interface StorageEvent {\n    key: string,\n    value: any,\n    oldValue?: any\n    newValue?: any\n}\n\n/**\n * các key hệ thống mà bất kỳ một state nào muốn khai báo cũng phải né\n */\n const ignoreKeys: string[] = [\n  '__data',\n  '__listenners',\n  '__checks',\n  'constructor',\n  'assign',\n  'take',\n  'setState',\n  'setValue',\n  '__checkChange',\n  '__dispatchChange',\n  '__keyAvailable',\n  'onChange',\n  'onCheck',\n  'exists',\n  'subcribe',\n  '$'\n]\n\nconst SECRET_KEY = Str.rand(\"BM10001\");\n@Injectable({\n  providedIn: 'root'\n})\nexport class StorageService {\n  private __data: {[s: string]: any} = {};\n  private __listenners: {[s: string]: Array<(value:any, key?:string, event?:any) => any>} = {};\n  private __checks: {[s: string]: (value:any, key?:string, event?:any) => any} = {};\n\n  [s: string]: any | ((s: string) => any);\n\n  \n  constructor() {\n\n  }\n\n\n\n  /**\n   * khai báo state\n   * @param key chuỗi tên thuộc tính\n   * @param value giá trị\n   * @param onChange hàm thực thi khi có thay đỗi\n   * @param onCheck hàm kiểm tra trước khi thay đổi\n   * @returns {any}\n   */\n  assign(key: any, value?: any, onChange?: (...args:any[]) => any, onCheck?:  any): any {\n      if (isString(key)) {\n          if (isFunction(onChange)) {\n              this.onChange(key, onChange, isBoolean(onCheck)?onCheck:false);\n          }\n          if (isFunction(onCheck)) {\n              this.onCheck(key, onCheck);\n          }\n          var ret: any = null;\n          if (typeof this.__data[key] != \"undefined\") {\n              ret = this.__data[key];\n          }\n          else {\n              ret = value;\n              this.setValue(key, value);\n          }\n          return ret;\n      }\n      if (isObject(key)) {\n          let returnData = newObj({});\n          for (const k in key) {\n              if (objectHasKey(key, k)) {\n                  const vl = key[k];\n                  if (isObject(vl) && typeof vl.$value != \"undefined\") {\n                      let _value = vl.$value;\n                      let change = vl.$change || (typeof value == \"function\" ? value : (typeof onchange == \"function\" ? onChange : null));\n                      let check = vl.$check || null;\n                      returnData[k] = this.assign(k, _value, change, check);\n                  }\n                  else {\n                      returnData[k] = this.assign(k, vl, value || onChange || null);\n                  }\n              }\n          }\n          return returnData;\n      }\n      return null;\n  }\n\n\n  /**\n   * lấy ra giá trị của thuộc tính có key được truyền vào. Sau khi thực hiện hành động có thể gán lại giá trị cho thuộc tính hoặc là không!\n   * @param key key truy cập thuộc tính\n   * @param callback hàm xử lý\n   * @returns {any}\n   */\n  take(key: any, callback?: (...args:any[]) => any): any {\n      var self: any = this;\n      if (isString(key) && objectHasKey(this.__data, key)) {\n          var value = this.__data[key];\n          var type = getType(value);\n          var jsonValue = JSON.stringify(value);\n          if (isFunction(callback)) {\n              var rs: any = callback(value);\n              if (typeof rs != \"undefined\") {\n                  if (jsonValue != JSON.stringify(rs)) {\n                      self[key] = rs;\n                  }\n              } else if (type == \"object\" || type == \"array\") {\n                  this.__dispatchChange({\n                      key: key,\n                      value: value,\n                      newValue: value,\n                      oldValue: value\n                  });\n              }\n              return this.__data[key];\n          } else {\n              return value;\n          }\n      } else if (isObject(key)) {\n          var returnData = newObj();\n          for (const k in key) {\n              if (objectHasKey(key, k)) {\n                  const fn = key[k];\n                  if (objectHasKey(this.__data, k)) {\n                      returnData[key] = this.take(k, fn);\n                  }\n\n              }\n          }\n          return returnData;\n      }\n      else if (isArray(key)) {\n          var returnData = newObj();\n          for (let k = 0; k < key.length; k++) {\n              const pk = key[k];\n              if (objectHasKey(this.__data, pk)) {\n                  returnData[key] = this.take(k, callback);\n              }\n          }\n          return returnData;\n      }\n      return null;\n  }\n\n  /**\n   * thêm hoặc cập nhật state\n   * @param {string|object} key tên thuov65 tính\n   * @param {mixed} value giá trị\n   * @param {Function} onChange hàm xử lý khi có thay đổi\n   */\n  setState(key: any, value?: any, onChange?: (...args:any[]) => any) {\n      if (isObject(key)) {\n          if (isFunction(value)) {\n              for (const k in key) {\n                  if (objectHasKey(key, k)) {\n                      const vl = key[k];\n                      this.setValue(k, vl, value);\n                  }\n              }\n          }\n          else if (isFunction(onChange)) {\n              for (const k in key) {\n                  if (objectHasKey(key, k)) {\n                      const vl = key[k];\n                      this.setValue(k, vl, onChange);\n                  }\n              }\n          }\n          else {\n              for (const k in key) {\n                  if (objectHasKey(key, k)) {\n                      const vl = key[k];\n                      this.setValue(k, vl);\n                  }\n              }\n          }\n      } else if (isString(key)) {\n          if (isFunction(onChange)) {\n              this.setValue(key, value, onChange);\n          }\n          else {\n              this.setValue(key, value);\n          }\n      }\n  }\n\n  /**\n   * thiết lập giá trị cho thuộc tính\n   * @param key tên thuộc tính\n   * @param value giá trị\n   * @param onChange hàm xử lý thay đổi\n   */\n  private setValue(key: string, value: any, onChange?: (...args:any[]) => any): boolean {\n      if (!this.__keyAvailable(key)) return false;\n      var self: any = this;\n      if (!objectHasKey(this.__data, key)) {\n          if (isFunction(onChange)) {\n              this.onChange(key, onChange);\n          }\n          Object.defineProperty(this, key, {\n              enumerable: true,\n              configurable: true,\n              get: function () {\n                  return this.__data[key]\n              },\n              set: function (val: any) {\n                  var old = this.__data[key];\n                  var s: boolean = this.__checkChange({\n                      key: key,\n                      value: val,\n                      newValue: val,\n                      oldValue: old\n                  });\n                  if (s) {\n                      this.__data[key] = val;\n                      this.__dispatchChange({\n                          key: key,\n                          value: val,\n                          newValue: val,\n                          oldValue: old\n                      });\n                  }\n              }\n          })\n          this.__data[key] = value;\n          this.__dispatchChange({\n              key: key,\n              value: value,\n              newValue: value,\n              oldValue: undefined\n          });\n      } else {\n          if (isFunction(onChange)) {\n              this.onChange(key, onChange);\n          }\n          self[key] = value;\n      }\n      return true;\n  }\n\n  exists(key: any): boolean {\n      return (isString(key) && objectHasKey(this.__data, key))\n  }\n\n  private __keyAvailable(key: any): boolean {\n      return (isString(key) && !inArray(ignoreKeys, key));\n  }\n\n  __checkChange(event: StorageEvent) {\n      var s: boolean = true;\n      for (const key in this.__checks) {\n          if (objectHasKey(this.__checks, key)) {\n              const fn = this.__checks[key];\n              if (isFunction(fn) && key == event.key) {\n                  let a = fn(event.value, event.key, event);\n                  if (a === false) s = a;\n              }\n          }\n      }\n      return s;\n  }\n\n  private __dispatchChange(event: StorageEvent) {\n      var s: number = 0;\n      if(event && event.key && objectHasKey(this.__listenners, event.key)){\n          const fns = this.__listenners[event.key];\n          if (isArray(fns)) {\n              fns.map(fn => {\n                  if (isFunction(fn)) {\n                      fn(event.value, event.key, event);\n                      s++;\n\n                  }\n              })\n          }\n      }\n      if(objectHasKey(this.__listenners, SECRET_KEY)){\n          const fns = this.__listenners[SECRET_KEY];\n          if (isArray(fns)) {\n              fns.map(fn => {\n                  if (isFunction(fn)) {\n                      fn(event.value, event.key, event);\n                      s++;\n                  }\n              })\n          }\n      }\n      return s;\n  }\n\n  /**\n   * \n   * @param {string|array|object} key key hoạc cụm key\n   * @param callback \n   */\n  onChange(key: any, callback?: (...args:any[]) => any, callIfHasValue: boolean = false) {\n      if (isString(key) && isFunction(callback)) {\n        if (typeof this.__listenners[key] == \"undefined\") {\n            this.__listenners[key] = [];\n        }\n        this.__listenners[key].push(callback);\n          if (callIfHasValue && this.exists(key)) {\n              var value = this.__data[key];\n              callback(value, key, {\n                  key: key,\n                  value: value,\n                  newValue: value,\n                  oldValue: undefined\n              })\n          }\n      }\n      else if (isObject(key)) {\n          for (const k in key) {\n              if (objectHasKey(key, k)) {\n                  const cb = key[k];\n                  if (isFunction(cb)) {\n                      this.onChange(k, cb, callIfHasValue);\n                  }\n              }\n          }\n      }\n      else if (isArray(key) && key.length && isFunction(callback)) {\n          for (let i = 0; i < key.length; i++) {\n              const k = key[i];\n              this.onChange(k, callback, callIfHasValue);\n          }\n      }else if(isFunction(key)){\n          this.onChange(SECRET_KEY, key);\n      }\n  }\n\n  subcribe(key:any, callback?:(...args:any[])=>any, callIfHasValue: boolean = false):any{\n      return this.onChange(key, callback, callIfHasValue);\n  }\n\n  unsubcribe(key: string, callback?:(...args: any[]) => any){\n    if (typeof this.__listenners[key] == \"undefined\") {\n        return true;\n    }\n    if(this.__listenners[key].length){\n        this.__listenners[key].map((cb, i) => (!isFunction(callback) || callback == cb) && this.__listenners[key].splice(i, 1));\n    }\n    \n  }\n\n  /**\n   * kiem tra gia tri truoc khi thay doi\n   * @param key key truy cap\n   * @param callback ham kiem tra\n   */\n  onCheck(key: any, callback: any = undefined) {\n      if (isString(key) && isFunction(callback)) {\n          this.__checks[key] = callback;\n      }\n      else if (isObject(key)) {\n          for (const k in key) {\n              if (objectHasKey(key, k)) {\n                  const cb = key[k];\n                  if (isFunction(cb)) {\n                      this.onCheck(k, cb);\n                  }\n              }\n          }\n      }\n      else if (isArray(key) && key.length && isFunction(callback)) {\n          for (let i = 0; i < key.length; i++) {\n              const k = key[i];\n              this.onCheck(k, callback);\n          }\n      }\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { EventManagerService } from '@app/_core/services/event-manager.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ClientViewportService extends EventManagerService {\n\n  constructor() {\n    super();\n  }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { InpEvent } from '@app/_shared/shared.type';\n\n@Component({\n  selector: 'mesh-geometry-tab-material',\n  templateUrl: './mesh-geometry-tab-material.component.html',\n  styleUrls: ['./mesh-geometry-tab-material.component.scss']\n})\nexport class MeshGeometryTabMaterialComponent implements OnInit {\n\n  @Input() material: {\n    type: string,\n    [propKey: string]: any\n  } = null;\n  @Input() settings: {\n    type: string,\n    [propKey: string]: any\n  };\n  @Output() subcribe = new EventEmitter<InpEvent>();\n  constructor() {\n    \n  }\n\n  ngOnInit() {\n\n  }\n\n  onUpdate(event: InpEvent){\n    this.subcribe.emit(event);\n  }\n}\n","<div class=\"tab-inner\">\n    <div class=\"inputs store\">\n        <material-inputs [material]=\"material\" [(settings)]=\"settings\" (subcribe)=\"onUpdate($event)\"></material-inputs>\n    </div>\n</div>","import { Role } from './role';\r\n\r\nexport class User {\r\n  id?: number;\r\n  email?: string;\r\n  password?: string;\r\n  fullName?: string;\r\n  username?: string;\r\n  roles?: Array<Role>;\r\n  accessToken?: string;\r\n  phone?: string;\r\n  avatarUrl?: string;\r\n  organizationId?: string;\r\n}\r\n","import { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\nimport { TemplateEventsService } from '@app/template-page/_store/events.service';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\nimport { ControlDefaultSetting, ControlSetting } from '@app/_3D/store/data.type';\nimport { assignValue } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { EditorToolbarService } from '@app/_shared/components/viewport/editor-toolbar/editor-toolbar.service';\nimport { InpEvent } from '@app/_shared/shared.type';\nimport { EditorIO, EditorMethods } from '../../../base/editor-io';\n\n@Component({\n    selector: 'app-tab-control',\n    templateUrl: './tab-control.component.html',\n    styleUrls: ['./tab-control.component.scss']\n})\nexport class TabControlComponent extends BaseComponent implements OnInit {\n\n    controls: ControlSetting = {};\n    app: AppEditorService;\n    constructor(\n        private cd: ChangeDetectorRef,\n        private events: AppEditorEventService\n    ) {\n        super();\n    }\n\n    initFirst(){\n        this.app = this.events.app;\n    }\n    onInit() {\n        if(this.isChangeSubEvents){\n            this.app = this.subEvents.app;\n\n        }\n        assignValue(this.controls, ControlDefaultSetting);\n        assignValue(this.controls, this.app.getControlSetting());\n        this.cd.detectChanges();\n    }\n    onDestroy(){\n        \n    }\n\n    updateControlSetting(event: InpEvent){\n        this.controls[event.name] = event.value;\n        setTimeout(() => {\n            this.app.updateControlSetting(this.controls);\n        }, 10);\n    }\n}\n","<div class=\"tab-inner\">\n    <div class=\"tab-header\">\n        <h3>Controls</h3>\n    </div>\n    <div class=\"store\">\n        <div class=\"inputs\">\n            <inp-switch-group name=\"enabled\" [(value)]=\"controls.enabled\" label=\"Enable\" (subcribe)=\"updateControlSetting($event)\" class=\"inp-group-item-first\"></inp-switch-group>\n            <inp-switch-group name=\"autoUpdateScene\" [(value)]=\"controls.autoUpdateScene\" label=\"Auto Update Scene\" (subcribe)=\"updateControlSetting($event)\" class=\"inp-group-item\" *ngIf=\"controls.enabled\"></inp-switch-group>\n            <inp-switch-group name=\"enableRotate\" [(value)]=\"controls.enableRotate\" label=\"Rotate\" (subcribe)=\"updateControlSetting($event)\" class=\"inp-group-item\" *ngIf=\"controls.enabled\"></inp-switch-group>\n            <inp-switch-group name=\"enableZoom\" [(value)]=\"controls.enableZoom\" label=\"Zoom\" (subcribe)=\"updateControlSetting($event)\" class=\"inp-group-item\" *ngIf=\"controls.enabled\"></inp-switch-group>\n            <inp-number-group name=\"maxDistance\" [(value)]=\"controls.maxDistance\" label=\"Max Distance\" (subcribe)=\"updateControlSetting($event)\" [min]=\"0.1\" [max]=\"10000\" [step]=\"0.1\" class=\"inp-group-item\" *ngIf=\"controls.enabled && controls.enableZoom\"></inp-number-group>\n            <inp-switch-group name=\"enableDamping\" [(value)]=\"controls.enableDamping\" label=\"Damping\" (subcribe)=\"updateControlSetting($event)\" class=\"inp-group-item\" *ngIf=\"controls.enabled && (controls.enableRotate || controls.enableZoom)\"></inp-switch-group>\n            <inp-switch-group name=\"highPerformance\" [(value)]=\"controls.highPerformance\" label=\"High-Performance\" (subcribe)=\"updateControlSetting($event)\" class=\"inp-group-item\" *ngIf=\"controls.enabled && (controls.enableRotate || controls.enableZoom)\"></inp-switch-group>\n            <inp-switch-group name=\"enablePan\" [(value)]=\"controls.enablePan\" label=\"Pan\" (subcribe)=\"updateControlSetting($event)\" class=\"inp-group-item\" *ngIf=\"controls.enabled\"></inp-switch-group>\n            <!-- <inp-number-group name=\"minDistance\" [(value)]=\"controls.minDistance\" label=\"Min Distance\" (subcribe)=\"updateControlSetting($event)\" [min]=\"0.1\" [max]=\"10000\" [step]=\"0.1\"></inp-number-group> -->\n            \n            \n        </div>\n    </div>\n</div>","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\r\n\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError, map } from 'rxjs/operators';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { environment } from '@env/environment';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { getConfig } from '../config';\r\n\r\n@Injectable()\r\nexport class HttpService {\r\n    baseUrl = getConfig('urls.base');\r\n    baseUrlForm = '/assets/demo/';\r\n\r\n    constructor(private http: HttpClient, private toart: ToastrService, private translateService: TranslateService) {\r\n        // this.baseUrl = environment.apiUrl + 'api/';\r\n        // this.baseUrlForm = environment.apiUrl;\r\n    }\r\n\r\n    handleError(error: HttpErrorResponse, isShow = true) {\r\n        if (isShow) {\r\n            let errMsg = '';\r\n            if (error.error) {\r\n                errMsg = error.error.message || error.error.statusText;\r\n            } else {\r\n                errMsg = error.message || error.statusText;\r\n            }\r\n            const strError = this.translateService.instant('Error') + ' ';\r\n            this.toart.error(errMsg, strError + error.status);\r\n        }\r\n        return throwError(error);\r\n    }\r\n\r\n    displaySuccessMessage(res: any, isShow = true) {\r\n        if (isShow) {\r\n            const strSuccessful = this.translateService.instant('Successful') + ' ';\r\n            const strNiceJob = this.translateService.instant('Nice Job');\r\n            const message = res ? res.message : strNiceJob;\r\n            this.toart.success(message, strSuccessful);\r\n        }\r\n        return res;\r\n    }\r\n\r\n    get(path: string, paramsIn = {}, showSuccess = false): Observable<any> {\r\n        let params = new HttpParams();\r\n        Object.keys(paramsIn).forEach((key) => {\r\n            if (paramsIn[key] !== undefined) {\r\n                if (Array.isArray(paramsIn[key])) {\r\n                    paramsIn[key].forEach((e) => {\r\n                        params = params.append(key, e);\r\n                    });\r\n                } else if (typeof paramsIn[key] === 'object') {\r\n                    params = params.append(key, JSON.stringify(paramsIn[key]));\r\n                } else {\r\n                    params = params.append(key, paramsIn[key]);\r\n                }\r\n            }\r\n        });\r\n        const headers = this.getHeader();\r\n        return this.http.get(this.baseUrl + path, { params, headers }).pipe(\r\n            map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n            catchError((err) => this.handleError(err))\r\n        );\r\n    }\r\n\r\n    getOut(url: string, paramsIn = {}, showSuccess = false): Observable<any> {\r\n        let params = new HttpParams();\r\n        Object.keys(paramsIn).forEach((key) => {\r\n            if (paramsIn[key] !== undefined) {\r\n                if (Array.isArray(paramsIn[key])) {\r\n                    paramsIn[key].forEach((e) => {\r\n                        params = params.append(key, e);\r\n                    });\r\n                } else if (typeof paramsIn[key] === 'object') {\r\n                    params = params.append(key, JSON.stringify(paramsIn[key]));\r\n                } else {\r\n                    params = params.append(key, paramsIn[key]);\r\n                }\r\n            }\r\n        });\r\n        const headers = this.getHeader();\r\n        return this.http.get(url, { params, headers }).pipe(\r\n            map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n            catchError((err) => this.handleError(err))\r\n        );\r\n    }\r\n    getOut2(url: string, paramsIn = {}, showSuccess = false): Observable<any> {\r\n        let params = new HttpParams();\r\n        Object.keys(paramsIn).forEach((key) => {\r\n            if (paramsIn[key] !== undefined) {\r\n                if (Array.isArray(paramsIn[key])) {\r\n                    paramsIn[key].forEach((e) => {\r\n                        params = params.append(key, e);\r\n                    });\r\n                } else if (typeof paramsIn[key] === 'object') {\r\n                    params = params.append(key, JSON.stringify(paramsIn[key]));\r\n                } else {\r\n                    params = params.append(key, paramsIn[key]);\r\n                }\r\n            }\r\n        });\r\n        const headers = this.getHeader();\r\n        return this.http.get(url, { params, headers }).pipe(\r\n            map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n            catchError((err) => this.handleError(err))\r\n        );\r\n    }\r\n\r\n    put(path: string, body: any = {}, headersIn = {}, showSuccess = true): Observable<any> {\r\n        // let headers = new HttpHeaders();\r\n        let headers = this.getLaravelHeader();\r\n        Object.keys(headersIn).forEach((key) => {\r\n            if (headersIn[key] !== undefined) {\r\n                headers = headers.append(key, headersIn[key].toString());\r\n            }\r\n        });\r\n        return this.http.put(this.baseUrl + path, body, { headers }).pipe(\r\n            map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n            catchError((err) => this.handleError(err))\r\n        );\r\n    }\r\n\r\n    patch(path: string, body: any = {}, headersIn = {}, showSuccess = true): Observable<any> {\r\n        let headers = this.getLaravelHeader();\r\n        Object.keys(headersIn).forEach((key) => {\r\n            if (headersIn[key] !== undefined) {\r\n                headers = headers.append(key, headersIn[key].toString());\r\n            }\r\n        });\r\n        return this.http.patch(this.baseUrl + path, body, { headers }).pipe(\r\n            map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n            catchError((err) => this.handleError(err))\r\n        );\r\n    }\r\n\r\n    post(path: string, body = {}, showSuccess = true): Observable<any> {\r\n        let headers = this.getLaravelHeader();\r\n        return this.http.post(this.baseUrl + path, body, {headers}).pipe(\r\n            map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n            catchError((err) => this.handleError(err))\r\n        );\r\n    }\r\n\r\n    download(path: string, body = {}, showSuccess = true): Observable<any> {\r\n        const headers = this.getHeaderDownload();\r\n        return this.http.post(this.baseUrl + path, body, { headers, responseType: 'arraybuffer' }).pipe(\r\n            map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n            catchError((err) => this.handleError(err))\r\n        );\r\n    }\r\n\r\n    form(path: string, body = {}, showSuccess = true): Observable<any> {\r\n        const headers = this.getHeaderForm();\r\n        return this.http.post(this.baseUrlForm + path, body, { headers, observe: 'response' }).pipe(\r\n            map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n            catchError((err) => this.handleError(err))\r\n        );\r\n    }\r\n\r\n    formPut(path: string, body = {}, showSuccess = true): Observable<any> {\r\n        const headers = this.getHeaderForm();\r\n        return this.http.put(this.baseUrlForm + path, body, { headers, observe: 'response' }).pipe(\r\n            map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n            catchError((err) => this.handleError(err))\r\n        );\r\n    }\r\n\r\n    formUpload(path: string, body = {}, showSuccess = true): Observable<any> {\r\n        const headers = this.getHeaderUpload();\r\n        return this.http.post(this.baseUrl + path, body, { headers, observe: 'response' }).pipe(\r\n            map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n            catchError((err) => this.handleError(err))\r\n        );\r\n    }\r\n\r\n    formUploadPut(path: string, body = {}, showSuccess = true): Observable<any> {\r\n        const headers = this.getHeaderUpload();\r\n        return this.http.put(this.baseUrl + path, body, { headers, observe: 'response' }).pipe(\r\n            map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n            catchError((err) => this.handleError(err))\r\n        );\r\n    }\r\n\r\n    upload(path: string, body = {}, showSuccess = true): Observable<any> {\r\n        const headers = new HttpHeaders();\r\n        headers.append('Content-Type', 'application/x-www-form-urlencoded');\r\n        return this.http\r\n            .post(this.baseUrl + path, body, {\r\n                headers,\r\n            })\r\n            .pipe(\r\n                map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n                catchError((err) => this.handleError(err))\r\n            );\r\n    }\r\n\r\n    delete(path, showSuccess = true): Observable<any> {\r\n        let headers = this.getLaravelHeader();\r\n        return this.http.delete(this.baseUrl + path, {headers}).pipe(\r\n            map((res) => this.displaySuccessMessage(res, showSuccess)),\r\n            catchError((err) => this.handleError(err))\r\n        );\r\n    }\r\n\r\n    private getHeader(): HttpHeaders {\r\n        return new HttpHeaders({\r\n            'Content-Type': 'application/json',\r\n            accept: 'application/json',\r\n            'Accept-Language': 'vi',\r\n            \"X-CSRF-TOKEN\": getConfig('csrf')\r\n        });\r\n    }\r\n    private getLaravelHeader(): HttpHeaders {\r\n        return new HttpHeaders({\r\n            'Content-Type': 'application/json',\r\n            accept: 'application/json',\r\n            'Accept-Language': 'vi',\r\n            \"X-CSRF-TOKEN\": getConfig('csrf')\r\n        });\r\n    }\r\n\r\n    private getHeaderS3(): HttpHeaders {\r\n        return new HttpHeaders({\r\n            accept: 'application/xml',\r\n        });\r\n    }\r\n\r\n    private getHeaderUpload(): HttpHeaders {\r\n        const headers = new HttpHeaders({\r\n            // 'Content-Type':\r\n            //   'multipart/form-data;boundary=--------------------------247697088228317249765921'\r\n        });\r\n        return headers;\r\n    }\r\n\r\n    private getHeaderDownload(): HttpHeaders {\r\n        const headers = new HttpHeaders({\r\n            Accept: 'application/pdf',\r\n        });\r\n        return headers;\r\n    }\r\n\r\n    private getHeaderForm(): HttpHeaders {\r\n        const headers = new HttpHeaders({\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n        });\r\n        return headers;\r\n    }\r\n}\r\n","export enum ETemplateStatus {\r\n    draft = 'draft',\r\n    published = 'published',\r\n}\r\n\r\n\r\nexport interface TemplateModel {\r\n    id: number\r\n    name: string\r\n    category_id?: number\r\n    description?: string\r\n    status?: string\r\n    thumbnail?: string\r\n    data?: {\r\n        renderer?: any\r\n        scene?: any\r\n        composer?: {\r\n            [x: string]: any\r\n        }\r\n        shadow?: any\r\n        camera?: any\r\n        control?: any\r\n        lights?: any[]\r\n        // objects\r\n        objects?: any[]\r\n        // objects\r\n        meshes?: any[]\r\n        [x: string]: any\r\n    }\r\n    [x: string]: any\r\n\r\n}\r\n","import { ActionReducerMap, createFeatureSelector, MetaReducer } from '@ngrx/store';\r\nimport { Params, RouterStateSnapshot } from '@angular/router';\r\nimport { Injectable } from '@angular/core';\r\n\r\nimport { RouterStateSerializer } from '@ngrx/router-store';\r\nimport * as fromRouter from '@ngrx/router-store';\r\nimport { environment } from '@env/environment';\r\n\r\nexport interface RouterStateUrl {\r\n  url: string;\r\n  queryParams: Params;\r\n  params: Params;\r\n}\r\n\r\nexport interface GlobalState {\r\n  routerReducer: fromRouter.RouterReducerState<RouterStateUrl>;\r\n}\r\n\r\nexport const reducers: ActionReducerMap<GlobalState> = {\r\n  routerReducer: fromRouter.routerReducer,\r\n};\r\n\r\nexport const getRouterState = createFeatureSelector<fromRouter.RouterReducerState<RouterStateUrl>>('routerReducer');\r\n\r\n/**\r\n * By default, @ngrx/store uses combineReducers with the reducer map to compose\r\n * the root meta-reducer. To add more meta-reducers, provide an array of meta-reducers\r\n * that will be composed to form the root meta-reducer.\r\n */\r\nexport const metaReducers: MetaReducer<GlobalState>[] = !environment.production ? [] : [];\r\n\r\n@Injectable()\r\nexport class CustomRouterStateSerializer implements RouterStateSerializer<RouterStateUrl> {\r\n  serialize(routerState: RouterStateSnapshot): RouterStateUrl {\r\n    let route = routerState.root;\r\n\r\n    while (route.firstChild) {\r\n      route = route.firstChild;\r\n    }\r\n\r\n    const {\r\n      url,\r\n      root: { queryParams },\r\n    } = routerState;\r\n    const { params } = route;\r\n\r\n    // Only return an object including the URL, params and query params\r\n    // instead of the entire snapshot\r\n    return { url, params, queryParams };\r\n  }\r\n}\r\n","import * as workflow from './workflow.json';\r\nexport const environment = {\r\n  production: false,\r\n  apiUrl: 'https://3dhub.vcc.vn/apiv2/',\r\n  domain: 'https://localhost:4200/',\r\n  ggKeygKey: 'AIzaSyAh5sGTrjeMAEHbuzRrrqQh0l2_ot8n59w',\r\n  allowLocalhostAsSecureOrigin: false,\r\n  osKey: 'ade79d14-e256-4f0a-ac4b-3f413ceef80a',\r\n  workflow,\r\n};\r\n","import { Injectable } from '@angular/core';\nimport { App3DService } from './app-3d.service';\nimport Editor from '../libs/editor';\nimport { assignValue, assignWithout, copyByList, date, isArray, isBoolean, isNumber, isObject, isString, objectHasKey, Str } from '@app/_core/helpers/utils';\nimport { LS } from '@app/_core/helpers/local-storage';\nimport { TemplateModel } from '@app/_store/template';\n// import { LoaderLib } from '../libs/three.libs';\nimport { FG_ITEM } from '@app/_shared/shared.type';\nimport { AppDefaultData, CameraSetting, ControlSetting, FloorSetting, SceneSize, SceneSizeDefaultData, ShadowSetting, Vector3 } from '../store/data.type';\nimport { EditorClass, iEditor } from '../store/docs';\nimport { LoaderLib } from '../libs/three.libs';\nimport EditorEngine from '../engines/editor.engine';\nimport { AppEditorEventService } from './app-editor-event.service';\nimport { ProjectModel } from '@app/_store/project';\n\nimport * as THREE from 'three';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AppEditorService extends App3DService {\n    _editor: iEditor;\n    _events: AppEditorEventService;\n    [prop: string]: any;\n\n    engineClass = EditorEngine;\n    editorClass = Editor;\n    itemDropable: boolean = false;\n    geometryDropable: boolean = false;\n\n    items: any;\n\n    addItemMode: string = 'auto';\n    addItemPosition: Vector3 = {\n        x: 0,\n        y: 0,\n        z: 0\n    };\n\n\n    eventHandlers = {\n        'item.dragmove': e => this.checkItemDragHover(e),\n        'item.dropped': e => this.checkItemDropped(e),\n        'geometry.dragmove': e => this.checkGeometryDragHover(e),\n        'geometry.dropped': e => this.checkGeometryDropped(e),\n        'viewport.droppable.show': e => this.emit(e),\n        'viewport.droppable.hide': e => this.emit(e),\n        'viewport.droppable.loading': e => this.emit(e),\n        'engine.geometry.add': e => this.addMesh(e.data, e.success),\n        'engine.geometry.remove': e => this.deleteMesh(e.secret_key),\n        'engine.geometry.update': e => this.updateMeshSettingDataAndScene(e.secret_key, e.data, true),\n        'mesh.setting.update': e => {\n            this.updateMeshSettingDataAndScene(e.secret_key, e.data, true)\n        },\n        \"show:light.panel\": e => this.showPanelLight(e.secret_key),\n        'app.instance.get': e => {\n            if (typeof e.data == \"function\") {\n                e.data(this);\n            } else if (typeof e.success == \"function\") {\n                e.success(this);\n            }\n            return this;\n        },\n        \"droppable.areas.add\": e => this.addDraggablePosition(e.item, e.position),\n        \"droppable.areas.remove\": e => this.removeDraggablePosition()\n        // ,\n        // \"scene.update-size\" : e => this.editor.updateDropAreaAreas(this.data.scene.size, this.data.scene.floor.props.position.y, this.data.scene.floor.above)\n    };\n\n    set editor(editor: iEditor) {\n        this._editor = editor;\n        this.dispatchEvent({\n            type: \"seteditor\",\n            eventData: editor\n        });\n\n        editor.on(\"additem.position.set\", e => {\n            this.addItemMode = \"custom\";\n            assignValue(this.addItemPosition, e.position);\n        });\n        editor.on(\"additem.position.reset\", e => {\n            this.addItemMode = \"auto\";\n            this.resetAddItemPosition();\n        });\n        editor.on(\"additem.position.lock\", e => {\n            this.addItemMode = \"lock\";\n            this.resetAddItemPosition();\n        });\n\n    }\n    get editor() {\n        return this._editor;\n    }\n\n\n    constructor() {\n        super();\n        this.setDefaultData();\n        this.start();\n    }\n\n\n    get events() {\n        return this._events;\n    }\n    set events(events: AppEditorEventService) {\n        if (events == this._events) return;\n\n        this._events = events;\n        events.app = this;\n        events.on(this.eventHandlers);\n        this.on(\"init\", (e) => {\n            this.events.emit({\n                type: \"app.init\"\n            }, null, true);\n        }, true);\n\n\n\n    }\n\n    start() {\n        var self = this;\n        this.on('engine.set', () => {\n\n            LoaderLib.setEngine(this.engine);\n            const EC = this.editorClass;\n            const editor = new EC(this, this.engine);\n\n            this.editor = editor;\n            this.controls = [];\n\n            function addControlEvent() {\n\n                if (!self.engine.control || !self.editor.control) {\n                    return setTimeout(addControlEvent, 10);\n                }\n\n                self.addControls(self.engine.control);\n                self.addControls(self.editor.control);\n\n            }\n            this.editor.on(\"startup\", () => addControlEvent(), true);\n\n            editor.on('object.attach', event => {\n\n                var obj = self.engine.getObject(event.object);\n                if (obj) {\n                    let type = obj.type == 'mesh' ? 'mesh' : 'object';\n                    self.emit({\n                        type: \"editor.attach:\" + type,\n                        secret_key: obj.secret_key,\n                        mode: event.mode\n                    });\n\n\n                }\n            });\n\n\n            editor.on('object.set-current', event => {\n\n                var obj = self.engine.getObject(event.object);\n                if (obj) {\n                    let type = obj.type == 'mesh' ? 'mesh' : 'object';\n                    self.emit({\n                        type: \"editor.attach:\" + type,\n                        secret_key: obj.secret_key,\n                        mode: event.mode\n                    });\n\n\n                }\n            });\n\n            editor.on('select:mesh', event => {\n                const appDataObject = this.getObject(event.mesh.__parent__key__);\n                const engineDataObject = this.engine.getObject(event.mesh.__parent__key__);\n                if (appDataObject && engineDataObject && appDataObject.data.settings.meshes) {\n                    let mesh = null;\n                    for (let i = 0; i < appDataObject.data.settings.meshes.length; i++) {\n                        const m = appDataObject.data.settings.meshes[i];\n                        if (m.name == event.mesh.name) {\n                            mesh = m;\n                            break;\n                        }\n                    }\n                    if (mesh) {\n                        if (!mesh.__parent__key__) {\n                            Object.defineProperty(mesh, \"__parent__key__\", {\n                                configurable: true,\n                                enumerable: false,\n                                writable: false,\n                                value: event.mesh.__parent__key__\n                            });\n                        }\n                        if (!mesh.__ref__) {\n                            Object.defineProperty(mesh, \"__ref__\", {\n                                configurable: true,\n                                enumerable: false,\n                                writable: false,\n                                value: event.mesh\n                            });\n                        }\n                        Object.defineProperty(mesh, \"__inputs__\", {\n                            configurable: true,\n                            enumerable: false,\n                            writable: false,\n                            value: this.events.app.getMaterialInputs(\n                                mesh.data && mesh.data.material && mesh.data.material.type ? mesh.data.material.type : mesh.__ref__.material.type,\n                                mesh.__ref__.material,\n                                mesh.data && mesh.data.material ? mesh.data.material : null,\n                                mesh.editable ? mesh.editable : []\n\n                            )\n                        });\n\n                        this._events.emit({\n                            type: \"editor.select:mesh\",\n                            mesh: mesh\n                        })\n                    }\n                }\n            });\n\n\n\n            editor.on('delete:object', event => {\n\n                if (event.objectType == \"object\") {\n                    let obj = self.engine.getObject(event.object);\n                    if (obj) {\n                        self.emit({\n                            type: \"editor.delete:object\",\n                            secret_key: obj.secret_key\n                        });\n\n\n                    }\n                }\n                else if (event.objectType == \"light\") {\n                    let obj = self.engine.getLight(event.object);\n                    if (obj) {\n                        self.emit({\n                            type: \"editor.delete:light\",\n                            secret_key: obj.secret_key\n                        });\n\n\n                    }\n                }\n\n            });\n\n\n\n            editor.on('light.attach', event => {\n                var light = self.engine.getLight(event.light);\n                if (light) {\n                    self.emit({\n                        type: \"editor.attach:light\",\n                        secret_key: light.secret_key,\n                        mode: event.mode\n                    });\n                }\n            });\n\n            editor.on('light.set-current', event => {\n                var light = self.engine.getLight(event.light);\n                if (light) {\n                    self.emit({\n                        type: \"editor.attach:light\",\n                        secret_key: light.secret_key,\n                        mode: event.mode\n                    });\n                }\n            });\n\n            editor.on('object.detach', function (e) {\n                self.emit({\n                    type: \"editor.detach.object\",\n\n                });\n                self.emit({\n                    type: \"editor.detach\",\n\n                });\n            });\n            editor.on('object.unset-current', function (e) {\n                self.emit({\n                    type: \"editor.detach.object\",\n\n                });\n                self.emit({\n                    type: \"editor.detach\",\n\n                });\n            });\n            editor.on('light.detach', function (e) {\n                self.emit({\n                    type: \"editor.detach:light\",\n\n                });\n                self.emit({\n                    type: \"editor.detach\",\n\n                });\n            });\n            editor.on('light.unset-current', function (e) {\n                self.emit({\n                    type: \"editor.detach:light\",\n\n                });\n                self.emit({\n                    type: \"editor.detach\",\n\n                });\n            });\n\n            editor.on(\"object.changed\", event => {\n                self.changeObjectDataByEditor(event.data, event.mode);\n                // console.log(event)\n            });\n\n            editor.on(\"light.update.props\", event => {\n                self.changeLightDataByEditor(event.light, event.mode, event.data);\n            });\n\n            editor.on(\"light.update.target\", event => {\n                self.changeLightTargetDataByEditor(event.light, event.mode, event.data);\n            });\n            editor.on(\"control.mode.change\", event => {\n                self.emit(event);\n            });\n\n\n            self.on(\"toolbar.change:mode\", function (event) {\n                editor.executeCommand(event.mode);\n            })\n\n\n        });\n\n\n        this.on(\"toolbar.delete:object\", event => {\n\n            var obj = self.engine.getObject(event.secret_key);\n            if (obj) {\n\n                if (obj.type == \"mesh\") {\n                    this.deleteMesh(obj.secret_key);\n                } else {\n                    this.deleteObject(obj.secret_key);\n                }\n\n\n                if (typeof event.success == \"function\") {\n                    event.success();\n                }\n\n\n            }\n        })\n\n        this.on(\"event.transfer\", e => {\n            // console.log(e.event.type);\n            if (this.editor) {\n                this.editor.emit(e.event);\n            }\n        });\n\n        const updateDropAreaAreas = () => {\n            if (this.editor) {\n                this.editor.updateDropAreaAreas(this.data.scene.size, this.data.scene.floor.props.position.y, this.data.scene.floor.above);\n            }\n        };\n        this.on({\n            \"data.renew\": updateDropAreaAreas,\n            \"data.reset\": updateDropAreaAreas,\n            \"data.imported\": updateDropAreaAreas,\n            \"scene.settings.updated:floor\": updateDropAreaAreas,\n            \"scene.settings.updated:size\": updateDropAreaAreas,\n            \"scene.update-size\": updateDropAreaAreas\n\n        })\n\n\n    }\n\n    addDraggablePosition(item, pos) {\n        this.editor.setDragMoveItem(\n            item.size,\n            pos,\n            item.object\n        );\n\n    }\n    removeDraggablePosition() {\n        this.editor.removeDragMoveItem();\n\n    }\n\n    resetAddItemPosition() {\n        this.addItemPosition = {\n            x: 0,\n            y: 0,\n            z: 0\n        };\n    }\n\n    setAddItemPosition(position: Vector3) {\n        assignValue(this.addItemPosition, position);\n    }\n    // camera\n    getCameraSetting(): CameraSetting {\n        return this.data.camera;\n    }\n\n    syncCameraProps() {\n        let propKeys = {\n            position: ['x', 'y', 'z'],\n            rotation: ['x', 'y', 'z'],\n            quaternion: ['x', 'y', 'z', 'z']\n\n        }\n        for (const key in propKeys) {\n            if (Object.prototype.hasOwnProperty.call(propKeys, key)) {\n                const arrKeys = propKeys[key];\n                if (!isObject(this.data.camera[key])) this.data.camera[key] = {};\n                arrKeys.map(s => this.data.camera[key][s] = this.engine.camera[key][s]);\n            }\n        }\n\n    }\n\n\n\n    updateCameraSetting(setting: CameraSetting, update?: boolean) {\n        assignValue(this.data.camera, setting);\n        if (this.engine.updateMainCameraSettings(setting, update)) this.syncCameraProps();\n    }\n\n    saveCurrentCameraPosition() {\n        let cam = this.engine.camera.position;\n        assignValue(this.data.camera, {\n            settings: {\n                position: {\n                    type: \"custom\",\n                    custom: {\n                        x: cam.x,\n                        y: cam.y,\n                        z: cam.z\n                    }\n                }\n            }\n        });\n        this.syncCameraProps();\n        this.emit({\n            type: \"camera.position.save\",\n            data: this.data.camera.settings.position\n        });\n    }\n    getControlSetting(): ControlSetting {\n        return this.data.control;\n    }\n\n    updateControlSetting(setting: ControlSetting) {\n        assignValue(this.data.control, setting);\n        this.engine.updateControlSettings(setting);\n        let camera = this.engine.camera\n    }\n\n\n\n\n    getShadowSetting() {\n        return this.data.shadow;\n    }\n\n    updateShadowSetting(setting: ShadowSetting) {\n        assignValue(this.data.shadow, setting);\n        this.engine.updateShadowSettings(setting);\n    }\n\n    getBackgroundSetting() {\n        return typeof this.data.scene.background ? this.data.scene.background : { type: \"none\" };\n    }\n\n    updateBackgroundData(data) {\n\n        assignValue(this.data.scene, 'background', data);\n        this.engine.setBackground(data);\n    }\n\n    getFloorSetting() {\n        const setting = assignValue({}, SceneSizeDefaultData);\n        assignValue(setting, this.data.scene.floor);\n        return setting;\n    }\n\n\n    updateSceneFloorSetting(floor) {\n        assignValue(this.data.scene.floor, floor);\n        this.engine.updateSceneFloorSetting(floor);\n        this.emit({\n            type: \"scene.settings.updated:floor\",\n            data: floor\n        })\n    }\n\n\n    getSceneSizeSetting(): SceneSize {\n        const setting = assignValue({}, SceneSizeDefaultData);\n        assignValue(setting, this.data.scene.size);\n        return setting;\n    }\n\n\n    getRealSceneSize() {\n        var sceneData: any = {\n            min: {\n                x: null, y: null, z: null\n            },\n            max: {\n                x: null, y: null, z: null\n            }\n        };\n\n        ['meshes', 'objects'].map(t => {\n            let a = this.data[t];\n            if (a.length) {\n                a.map(o => {\n                    let obj = this.engine.getObject(o.secret_key);\n                    if (obj && (obj.type == 'mesh' || obj.type == 'model')) {\n                        const box = new THREE.Box3().setFromObject(obj.object);\n                        for (const sizeKey in sceneData) {\n                            if (Object.hasOwnProperty.call(sceneData, sizeKey) && Object.hasOwnProperty.call(box, sizeKey)) {\n                                const sizeData = sceneData[sizeKey];\n                                const boxData = box[sizeKey];\n                                for (const posKey in boxData) {\n                                    if (Object.hasOwnProperty.call(boxData, posKey)) {\n                                        if (sizeData[posKey] === null) sizeData[posKey] = boxData[posKey];\n                                        else if (sizeKey == 'min' && boxData[posKey] < sizeData[posKey]) sizeData[posKey] = boxData[posKey];\n                                        else if (sizeKey == 'max' && boxData[posKey] > sizeData[posKey]) sizeData[posKey] = boxData[posKey];\n                                    }\n                                }\n                            }\n                        }\n                    }\n                })\n            }\n        });\n        var x0 = Math.abs(sceneData.min.x), x1 = Math.abs(sceneData.max.x),\n            y0 = Math.abs(sceneData.min.y), y1 = Math.abs(sceneData.max.y),\n            z0 = Math.abs(sceneData.min.z), z1 = Math.abs(sceneData.max.z);\n\n        sceneData.size = {\n            x: (x0 > x1 ? x0 : x1) * 2,\n            y: (y0 > y1 ? y0 : y1) * 2,\n            z: (z0 > z1 ? z0 : z1) * 2\n        };\n        return sceneData;\n    }\n\n    updateSceneSizeSetting(data) {\n        assignValue(this.data.scene.size, data);\n        this.engine.updateSceneSettings(data);\n        this.emit({\n            type: \"scene.settings.updated:size\",\n            data: data\n        })\n    }\n\n\n    updateSceneSizeAndFloorAndGridNyChildren(scale: number = 1) {\n        let sceneData = this.getRealSceneSize();\n        let size = sceneData.size;\n        if (scale <= 0) scale = 1;\n        var s = size.x > size.z ? size.x : size.z;\n        this.updateSceneSizeSetting({\n            width: s * scale,\n            height: size.y * scale,\n            depth: s * scale\n        });\n\n        let floor: FloorSetting = this.getFloorSetting();\n        assignValue(floor, {\n            params: {\n                width: s* scale,\n                height: s* scale\n            },\n            props:{\n                y: sceneData.min.y\n            }\n        });\n        this.updateSceneFloorSetting(floor);\n        this.events.emit(\"scene.update-size\");\n        this.emit(\"scene.update-size\");\n        \n        setTimeout(() => {\n            this.events.emit(\"scene.update-size\");\n        \n            this.emit(\"scene.update-size\");\n        }, 500);\n    }\n\n    getForegrounds(): FG_ITEM[] {\n        if (!isArray(this.data.scene.foregrounds)) this.data.scene.foregrounds = [];\n        return this.data.scene.foregrounds;\n    }\n\n    addForegroundData(data: FG_ITEM): FG_ITEM {\n        if (isObject(data) && data.url) {\n            var a = assignValue({}, data);\n            if (!a.secret_key) a.secret_key = Str.rand(date('ms'));\n            if (!isArray(this.data.scene.foregrounds)) this.data.scene.foregrounds = [];\n            this.data.scene.foregrounds.push(a);\n            this.emit({\n                type: \"scene.foregrounds.added\",\n                data: a\n            });\n\n            return a;\n        }\n        return null;\n    }\n\n    updateForegroundData(secret_key: string, data: FG_ITEM): FG_ITEM {\n        if (isArray(this.data.scene.foregrounds)) {\n            for (let index = 0; index < this.data.scene.foregrounds.length; index++) {\n                const fg = this.data.scene.foregrounds[index];\n                if (fg.secret_key == secret_key) {\n                    assignWithout(fg, data, 'secret_key');\n                    // console.log(fg)\n                    this.emit({\n                        type: \"scene.foregrounds.updated\",\n                        data: fg\n                    });\n\n                    return assignValue({}, fg);\n                }\n            }\n        }\n        return null;\n    }\n\n\n    deleteForeground(secret_key: string): boolean {\n        if (isArray(this.data.scene.foregrounds)) {\n            for (let index = 0; index < this.data.scene.foregrounds.length; index++) {\n                const fg = this.data.scene.foregrounds[index];\n                if (fg.secret_key == secret_key) {\n                    this.data.scene.foregrounds.splice(index, 1);\n                    this.emit({\n                        type: \"scene.foregrounds.deleted\",\n                        data: fg\n                    })\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    getForeground(secret_key: string): FG_ITEM {\n        if (isArray(this.data.scene.foregrounds)) {\n            for (let index = 0; index < this.data.scene.foregrounds.length; index++) {\n                const fg = this.data.scene.foregrounds[index];\n                if (fg.secret_key == secret_key) {\n                    return fg;\n                }\n            }\n        }\n        return null;\n    }\n\n\n\n\n    changeObjectDataByEditor(object: any, mode: any) {\n        if (mode == 'translate') mode = 'position';\n        else if (mode == 'rotate') mode = 'rotation';\n        var o = this.engine.getObject(object);\n        // console.log(o);\n        if (o) {\n            var d = o.object[mode];\n            if (isObject(d)) {\n                if (o.type == 'mesh') {\n                    this.updateMeshDataAndView(o.secret_key, mode, {\n                        x: d.x,\n                        y: d.y,\n                        z: d.z\n                    })\n                }\n                else {\n                    this.updateObjectDataAndView(o.secret_key, mode, {\n                        x: d.x,\n                        y: d.y,\n                        z: d.z\n                    })\n                }\n\n            }\n\n        }\n    }\n\n    /**\n     * cập nhật thuộc tinh1q cho object\n     * @param {string} secret_key chuỗi nhận diện của mỗi onject\n     * @param {string} key tên thuộc tính\n     * @param {*} value \n     */\n    updateMeshDataAndView(secret_key: string, key: string, value: any) {\n\n        var stt = this.updateMeshSettingProp(secret_key, key, value);\n        if (stt) {\n            this.emit({\n                type: \"editor.update.mesh.props\",\n                data: {\n                    propType: \"vector3\",\n                    secret_key: secret_key,\n                    key: key,\n                    value: value\n                }\n            })\n        }\n    }\n\n\n\n\n    /**\n     * cập nhật thuộc tinh1q cho object\n     * @param {string} secret_key chuỗi nhận diện của mỗi onject\n     * @param {string} key tên thuộc tính\n     * @param {*} value \n     */\n    updateObjectDataAndView(secret_key: string, key: string, value: any) {\n        var stt = this.updateObjectSettingProp(secret_key, key, value);\n        if (stt) {\n\n            this.emit({\n                type: \"editor.update.model.props\",\n                data: {\n                    propType: \"vector3\",\n                    secret_key: secret_key,\n                    key: key,\n                    value: value\n                }\n            })\n        }\n    }\n\n\n\n    changeLightDataByEditor(object, mode, data) {\n        if (mode == 'translate') mode = 'position';\n        else if (mode == 'rotate') mode = 'rotation';\n        var o = this.engine.getLight(object);\n        if (o) {\n            var d = o.object[mode];\n            if (isObject(d)) {\n                this.updateLightDataAndView(o.secret_key, mode, {\n                    x: d.x,\n                    y: d.y,\n                    z: d.z\n                })\n            }\n\n        }\n    }\n\n    /**\n     * cập nhật thuộc tinh1q cho object\n     * @param {string} secret_key chuỗi nhận diện của mỗi onject\n     * @param {string} key tên thuộc tính\n     * @param {*} value \n     */\n    updateLightDataAndView(secret_key, key, value) {\n        var stt = this.updateLightSettingProp(secret_key, key, value);\n        if (stt) {\n            this.emit({\n                type: \"editor.update.light.props\",\n                data: {\n                    secret_key,\n                    key,\n                    value\n                }\n            })\n\n        }\n    }\n\n    changeLightTargetDataByEditor(object, mode: string, data: any) {\n        if (mode == 'translate') mode = 'position';\n        else if (mode == 'rotate') mode = 'rotation';\n        var o = this.engine.getLight(object);\n        if (o) {\n            var d = o.object.target[mode];\n            if (isObject(d)) {\n                this.updateLightTargetDataAndView(o.secret_key, mode, {\n                    x: d.x,\n                    y: d.y,\n                    z: d.z\n                })\n            }\n\n        }\n    }\n\n\n    /**\n     * cập nhật thuộc tinh1q cho object\n     * @param {string} secret_key chuỗi nhận diện của mỗi onject\n     * @param {string} key tên thuộc tính\n     * @param {*} value \n     */\n    updateLightTargetDataAndView(secret_key, key, value) {\n        var stt = this.updateLightTargetSettingProp(secret_key, key, value);\n        if (stt) {\n            this.emit({\n                type: \"editor.update.light.props.target\",\n                data: { secret_key, key, value }\n            });\n\n        }\n    }\n\n\n\n    checkItemDragHover(event) {\n        var self = this;\n        this.emit({\n            type: \"viewport.pointer.check\",\n            event: event,\n            showDroppableLayer: true,\n            handle: function (pos) {\n                if (pos.isHover) {\n                    if (!self.itemDropable) {\n                        self.itemDropable = true;\n                        self.events.emit({\n                            type: \"item.draghover\",\n                            dropable: true,\n                            pos: pos\n                        }, false);\n                    }\n                }\n                else {\n                    if (self.itemDropable) {\n                        self.itemDropable = false;\n                        self.events.emit({\n                            type: \"item.dragout\",\n                            dropable: false\n                        }, false)\n                    }\n                }\n            }\n        });\n        if (event.checkArea) {\n            this.editor.checkDroppablePosition(event.position)\n        }\n\n    }\n\n    checkItemDropped(event) {\n        this.itemDropable = false;\n        this.addObjectModelItem(event.item, event.success);\n        this.resetAddItemPosition();\n        this.editor.removeDragMoveItem();\n\n    }\n\n\n\n    checkGeometryDragHover(event) {\n        var self = this;\n        this.emit({\n            type: \"viewport.pointer.check\",\n            event: event,\n            showDroppableLayer: false,\n            handle: function (pos) {\n                if (pos.isHover) {\n                    if (!self.geometryDropable) {\n                        self.geometryDropable = true;\n                        self.events.emit({\n                            type: \"geometry.draghover\",\n                            dropable: true,\n                            pos: pos\n                        }, false);\n                    }\n                }\n                else {\n                    if (self.geometryDropable) {\n                        self.geometryDropable = false;\n                        self.events.emit({\n                            type: \"geometry.dragout\",\n                            dropable: false\n                        }, false)\n                    }\n                }\n            }\n        });\n        if (event.checkArea) {\n            this.editor.checkDroppablePosition(event.position)\n        }\n    }\n\n    checkGeometryDropped(event) {\n        this.geometryDropable = false;\n        // this.addObjectModelItem(event.item, event.success);\n\n    }\n\n\n\n    setTemplate(data: TemplateModel, complete?: (...args: any[]) => any, error?: (...args: any[]) => any, progress?: (...args: any[]) => any) {\n        this.setDefaultData();\n        assignValue(this.data, data);\n        this.setAppData(this.data);\n        this.emit(\"data.renew\");\n\n    }\n\n    setProject(data: ProjectModel, complete?: (...args: any[]) => any, error?: (...args: any[]) => any, progress?: (...args: any[]) => any) {\n        this.setDefaultData();\n        assignValue(this.data, data);\n        this.setAppData(this.data);\n        this.emit(\"data.renew\");\n    }\n\n    importTemplate(data: TemplateModel, complete?: (...args: any[]) => any, error?: (...args: any[]) => any, progress?: (...args: any[]) => any) {\n        let d: any = copyByList(this.data, ['id', 'name', 'category_id', 'description', 'status', 'allow_custom']);\n        this.setDefaultData();\n        assignValue(this.data, data);\n        assignValue(this.data, d);\n        this.setAppData(this.data);\n        this.emit(\"data.imported\");\n    }\n\n\n    updateInfo(data) {\n        assignValue(this.data, data);\n    }\n\n\n    getObject(secret_key: string) {\n\n        if (this.data.objects) {\n            for (let i = 0; i < this.data.objects.length; i++) {\n                const obj = this.data.objects[i];\n                if (secret_key == obj.secret_key || obj == secret_key || obj.object == secret_key) return obj;\n            }\n        }\n        return null;\n    }\n\n    getMesh(secret_key: string) {\n\n        if (this.data.meshes) {\n            for (let i = 0; i < this.data.meshes.length; i++) {\n                const obj = this.data.meshes[i];\n                if (secret_key == obj.secret_key || obj == secret_key || obj.object == secret_key) return obj;\n            }\n        }\n        return null;\n    }\n\n    getLight(secret_key: string) {\n\n        if (this.data.lights) {\n            for (let i = 0; i < this.data.lights.length; i++) {\n                const obj = this.data.lights[i];\n                if (secret_key == obj.secret_key || obj == secret_key || obj.object == secret_key) return obj;\n            }\n        }\n        return null;\n    }\n\n    getLightList() {\n        var lights: any[] = []\n        this.data.lights.map(li => {\n            let lightObj = this.engine.getLight(li.secret_key);\n            var l: any = {\n                secret_key: li.secret_key,\n                data: li.data,\n                name: lightObj.type,\n                type: lightObj.type,\n                ref: lightObj.object\n            };\n            lights.push(l);\n        })\n        return lights;\n    }\n\n    showPanelLight(secret_key: string) {\n        var light = this.getLight(secret_key);\n        if (!light) return false;\n        let lightObj = this.engine.getLight(secret_key);\n        if (!lightObj) return false;\n\n        var l: any = {\n            secret_key: light.secret_key,\n            type: lightObj.type,\n            name: lightObj.type,\n            data: light.data,\n            ref: lightObj.object\n        };\n        this.emit({\n            type: \"light.showform\",\n            data: l\n        });\n    }\n\n    getEditObjectData(secret_key: string): any {\n        var obj = this.engine.getObject(secret_key);\n        if (obj) {\n            if (obj.type == \"mesh\") {\n                var setting = this.getMesh(secret_key);\n                return {\n                    type: \"mesh\",\n                    secret_key: obj.secret_key,\n                    mesh: obj.object,\n                    data: setting.data\n                }\n            }\n            else if (obj.type == \"model\") {\n                var model = this.getObject(obj.secret_key);\n                return {\n                    type: \"model\",\n                    secret_key: obj.secret_key,\n                    data: this.getModelSettingData(model.data, obj)\n                };\n            }\n        }\n        var light = this.getLight(secret_key);\n        if (!light) return false;\n        let lightObj = this.engine.getLight(secret_key);\n        if (!lightObj) return false;\n\n        var l: any = {\n\n            type: \"light\",\n            data: {\n                secret_key: light.secret_key,\n                type: lightObj.type,\n                name: lightObj.type,\n                data: light.data,\n                ref: lightObj.object\n            }\n        };\n        return l;\n    }\n\n    /**\n     * Thêm object model\n     * @param {object} data dữ liệu của item\n     * @param {function(Object)} onSuccess hàm sử lý khi add dữ liệu thành công\n     * @param {function(Error)} onError Hàm sử lý khi có lỗi\n     * @param {function(Number)} onProgress hàm sử lý tiến trình\n     * @returns {string}\n     */\n    addObjectModelItem(data, onSuccess?, onError?, onProgress?) {\n        var obj = {\n            type: \"model\",\n            secret_key: \"a_\" + Str.rand(),\n            data: data\n        }\n        var self = this;\n        // var rollnack = true;\n        self.data.objects.push(obj);\n        // return null;\n        try {\n            // self.dom.showLoading();\n            // lấy dử liệu sau khi dc load\n            this.engine.addItemToTemplateSettingWorkspace(obj.secret_key, data, (object) => {\n                if (obj.secret_key != object.secret_key) {\n                    obj.secret_key = object.secret_key\n                }\n\n                // rollnack = false;\n                // obj.object = object.object;\n\n                if (typeof onSuccess == \"function\") {\n                    onSuccess(obj);\n                }\n            }, (e) => {\n                if (typeof onError == \"function\") {\n                    var index = self.data.objects.indexOf(obj);\n                    if (index !== -1) {\n                        self.data.objects.splice(index, 1);\n                    }\n                    onError(e);\n                }\n            }, (p) => {\n                if (typeof onProgress == \"function\") {\n                    onProgress(p);\n                }\n            });\n\n        } catch (error) {\n            var index = self.data.objects.indexOf(obj);\n            if (index !== -1) {\n                self.data.objects.splice(index, 1);\n            }\n            if (typeof onError == \"function\") {\n                onError(error);\n            }\n        }\n\n        return obj;\n    }\n\n\n\n    /**\n     * Thêm light Template\n     * @param {string} type dữ liệu của item\n     * @param {function(Object)} onSuccess hàm sử lý khi add dữ liệu thành công\n     * @param {function(Error)} onError Hàm sử lý khi có lỗi\n     * @returns {string}\n     */\n    addLightByTemplate(type, onSuccess?: (object: any) => any, onError?: (error: any) => any) {\n        var obj = {\n            secret_key: Str.rand(date(\"ms\"))\n        }\n        var lightTemp = this.engine.getLightTemplateData(type);\n        if (lightTemp) {\n            assignValue(obj, lightTemp);\n            var light = this.engine.addLight(obj);\n            if (light) {\n                if (light.secret_key != obj.secret_key) {\n                    obj.secret_key = light.secret_key;\n                }\n                this.data.lights.push(obj);\n                if (typeof onSuccess == \"function\") {\n                    onSuccess(obj);\n                }\n                // addli--\n                this.emit({\n                    type: \"light.added\",\n                    light: this.getLight(obj.secret_key),\n                    ref: this.engine.getLight(obj.secret_key).object\n                });\n                return obj;\n\n            }\n        }\n        if (typeof onError == \"function\") {\n            onError(new Error(\"Lỗi không xác định\"));\n        }\n        return false;\n\n    }\n\n    /**\n     * Thêm light Template\n     * @param {any} meshData dữ liệu của item\n     * @param {function(Object)} onSuccess hàm sử lý khi add dữ liệu thành công\n     * @param {function(Error)} onError Hàm sử lý khi có lỗi\n     * @returns {string}\n     */\n    addMesh(meshData: any, onSuccess?: (object: any) => any) {\n        var obj = {\n            secret_key: Str.rand(date(\"ms\")),\n            data: assignValue({}, meshData)\n        };\n        this.data.meshes.push(obj);\n        var secret_key = this.engine.addMesh(obj);\n\n        if (secret_key) {\n            if (secret_key != obj.secret_key) obj.secret_key = secret_key;\n            // this.data.meshes.push(obj);\n            if (typeof onSuccess == \"function\") {\n                onSuccess(obj);\n            }\n            return obj;\n        }\n        var index = this.data.meshes.indexOf(obj);\n        if (index !== -1) {\n            this.data.meshes.splice(index, 1);\n        }\n\n        return null;\n    }\n\n    getMeshEngineData(secret_key: string) {\n        return this.engine.getMesh(secret_key);\n    }\n\n    attachLightInEditor(secret_key) {\n        var lightData = this.engine.getLight(secret_key);\n        if (lightData) {\n            this.editor.attachLight(lightData.object);\n        }\n    }\n\n\n    updateObjectSettingDataAndScene(secret_key, settings, refresh) {\n        // assignValue(this.data.item, data);\n        // console.log(data);\n        if (this.data.objects && this.data.objects.length) {\n            for (let index = 0; index < this.data.objects.length; index++) {\n                const object = this.data.objects[index];\n                // console.log(object);\n                if (object.secret_key == secret_key) {\n\n                    if (!object.data.settings) object.data.settings = settings;\n                    else assignValue(object.data.settings, settings);\n                }\n            }\n        }\n        var updateData: any = {};\n        if (isObject(refresh)) {\n            if (refresh.props) {\n                updateData.props = settings.props;\n            }\n            if (refresh.meshes) {\n                updateData.meshes = settings.meshes;\n            }\n\n        } else if (isBoolean(refresh) && refresh) {\n            updateData = settings;\n        }\n        if (refresh) this.engine.updateObjectSettings(secret_key, updateData);\n    }\n\n    updateMeshSettingDataAndScene(secret_key, data, refresh) {\n        var meshData = null;\n\n        if (this.data.meshes && this.data.meshes.length) {\n            for (let index = 0; index < this.data.meshes.length; index++) {\n                const mesh = this.data.meshes[index];\n                // console.log(object);\n                if (mesh.secret_key == secret_key) {\n\n                    if (!mesh.data) mesh.data = data;\n                    else assignValue(mesh.data, data);\n\n                    meshData = assignValue({}, mesh.data);\n                }\n            }\n        }\n        var updateData: any = {};\n        if (isObject(refresh)) {\n            if (refresh.props) {\n                updateData.props = meshData.props;\n            }\n            if (refresh.geometry) {\n                updateData.geometry = meshData.geometry;\n            }\n            if (refresh.material) {\n                updateData.material = meshData.material;\n            }\n        }\n        else if (isString(refresh)) {\n            if (Object.hasOwnProperty.call(meshData, refresh)) {\n                updateData[refresh] = meshData[refresh];\n            }\n        }\n        else if (isBoolean(refresh) && refresh) {\n            updateData = meshData;\n        }\n\n        if (refresh) {\n            this.engine.updateMeshesSettings(secret_key, updateData);\n        }\n    }\n\n    updateModelMeshMaterial(secret_key: string, meshIndex: any, material?: { [x: string]: any }) {\n        let settings: any = null\n        if (this.data.objects && this.data.objects.length) {\n            for (let index = 0; index < this.data.objects.length; index++) {\n                const object = this.data.objects[index];\n                if (object.secret_key == secret_key) {\n                    settings = object.data.settings;\n                }\n            }\n        }\n        if (!settings) return false;\n\n        if (isNumber(meshIndex)) {\n            for (let index = 0; index < settings.meshes.length; index++) {\n                const mesh = settings.meshes[index];\n                if (index == meshIndex) {\n                    assignValue(mesh.data.material, material);\n                    this.engine.updateMeshMaterial(secret_key, mesh.name, material.type ? mesh.data.material : material);\n                }\n            }\n        }\n        else if (isString(meshIndex)) {\n            for (let index = 0; index < settings.meshes.length; index++) {\n                const mesh = settings.meshes[index];\n                if (mesh.name == meshIndex) {\n                    assignValue(mesh.data.material, material);\n                    this.engine.updateMeshMaterial(secret_key, mesh.name, material.type ? mesh.data.material : material);\n                }\n            }\n        }\n\n    }\n\n    /**\n     * cập nhật ánh sáng\n     * @param {string} secret_key key truy cap\n     * @param {object} data dữ liệu thuộc tính\n     */\n    updateLightDataAndScene(secret_key, data) {\n        var updateData = {};\n        var s = false;\n        if (this.data.lights && this.data.lights.length) {\n            for (let index = 0; index < this.data.lights.length; index++) {\n                const object = this.data.lights[index];\n                if (object.secret_key == secret_key) {\n                    if (!object.data) object.data = data;\n                    else assignValue(object.data, data);\n                    s = true;\n                }\n            }\n        }\n        if (!s) return false;\n        if (data.params) {\n            assignValue(updateData, data.params);\n        }\n        if (data.props) {\n            assignValue(updateData, data.props);\n        }\n        assignWithout(updateData, data, [\"props\", \"params\"]);\n        return this.engine.updateLightProps(secret_key, updateData);\n\n    }\n\n    updateObjectSettingProp(secret_key, key, value) {\n        var object = this.getObject(secret_key);\n        if (object) {\n            if (!object.data.settings) object.data.settings = {};\n            if (!object.data.settings.props) object.data.settings.props = {};\n            assignValue(object.data.settings.props, key, value);\n            return true;\n        }\n        return false;\n    }\n\n    updateMeshSettingProp(secret_key, key, value) {\n        var object = this.getMesh(secret_key);\n\n        if (object) {\n            if (!object.data) object.data = {};\n            if (!object.data.props) object.data.props = {};\n            assignValue(object.data.props, key, value);\n            return true;\n        }\n        // console.log(this.data.meshes);\n        return false;\n    }\n\n    updateLightSettingProp(secret_key, key, value) {\n        var object = this.getLight(secret_key);\n        if (object) {\n            if (!object.data.props) object.data.props = {};\n            assignValue(object.data.props, key, value);\n            return true;\n        }\n        return false;\n    }\n\n    updateLightTargetSettingProp(secret_key, key, value) {\n        var object = this.getLight(secret_key);\n        if (object) {\n\n            if (!object.data.props) object.data.props = {};\n            if (!object.data.props.target) object.data.props.target = {};\n            assignValue(object.data.props.target, key, value);\n            return true;\n        }\n        return false;\n    }\n\n\n    updateObjects(objects) {\n        this.data.objects = objects;\n    }\n\n    deleteObject(secret_key) {\n        if (this.data.objects && this.data.objects.length) {\n            for (let index = 0; index < this.data.objects.length; index++) {\n                const object = this.data.objects[index];\n                if (object == secret_key || object.secret_key == secret_key || object.object == secret_key) {\n                    this.data.objects.splice(index, 1);\n                    if (!this.engine.removeObject(secret_key)) return false;\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    deleteMesh(secret_key) {\n        if (this.data.meshes && this.data.meshes.length) {\n            for (let index = 0; index < this.data.meshes.length; index++) {\n                const object = this.data.meshes[index];\n                if (object == secret_key || object.secret_key == secret_key || object.object == secret_key) {\n                    this.data.meshes.splice(index, 1);\n                    if (!this.engine.removeObject(secret_key)) return false;\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    deleteLight(secret_key: any, onSuccess?: (light?: any) => any) {\n        if (this.data.lights && this.data.lights.length) {\n            for (let index = 0; index < this.data.lights.length; index++) {\n                const object = this.data.lights[index];\n                if (object == secret_key || object.secret_key == secret_key || object.object == secret_key) {\n                    this.editor.emit({\n                        type: \"light.deleting\",\n                        light: this.engine.getLight(secret_key)\n                    });\n                    if (!this.engine.removeLight(secret_key)) return false;\n                    this.data.lights.splice(index, 1);\n                    if (typeof onSuccess == \"function\") {\n                        onSuccess(object);\n                    }\n                    this.emit({\n                        type: \"light.deleted\",\n                        light: object\n                    });\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n\n    saveView() {\n        var camera = this.engine.camera;\n        var camPos = camera.position;\n        var camRot = camera.rotation;\n        assignValue(this.data.camera, {\n            position: {\n                x: camPos.x,\n                y: camPos.y,\n                z: camPos.z,\n            },\n            rotation: {\n                x: camRot.x,\n                y: camRot.y,\n                z: camRot.z,\n            }\n        });\n        this.saveData();\n    }\n\n    saveData() {\n        if (LS.__support()) {\n            var key = this.storageKey;\n            if (key) {\n                LS.set(key, this.data);\n                var answer = null;\n                alert(\"Đã cập nhật thành công\");\n                // e.preventDefault();\n\n                return true;\n            }\n        }\n        return false;\n    }\n\n\n    setDefaultData() {\n        this.data = assignValue({}, AppDefaultData)\n    }\n\n    parseData() {\n        if (this.data.objects && this.data.objects.length) {\n            for (let i = 0; i < this.data.objects.length; i++) {\n                const obj = this.data.objects[i];\n                if (!obj.secret_key) {\n                    obj.secret_key = Str.rand(date(\"ms\"));\n                }\n            }\n        }\n        if (this.data.lights && this.data.lights.length) {\n            for (let i = 0; i < this.data.lights.length; i++) {\n                const light = this.data.lights[i];\n                if (!light.secret_key) {\n                    light.secret_key = Str.rand(date(\"ms\"));\n                }\n            }\n        }\n\n        if (this.data.scene.foregrounds && this.data.scene.foregrounds.length) {\n            for (let i = 0; i < this.data.scene.foregrounds.length; i++) {\n                const light = this.data.scene.foregrounds[i];\n                if (!light.secret_key) {\n                    light.secret_key = Str.rand(date(\"ms\"));\n                }\n            }\n        }\n\n    }\n\n}\n","import { Component, Input, Output, EventEmitter, ChangeDetectionStrategy } from '@angular/core';\r\nimport { NzUploadXHRArgs, NzUploadFile } from 'ng-zorro-antd/upload';\r\nimport { RestService } from '@app/_core/services/rest.service';\r\nimport { Observer, Observable } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-upload',\r\n  templateUrl: './upload.component.html',\r\n  styleUrls: ['./upload.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class UploadFileComponent {\r\n  @Input()\r\n  fileList: Array<any>;\r\n  @Output()\r\n  fileListChange = new EventEmitter<Array<any>>();\r\n  @Input()\r\n  size: { width: number; height: number };\r\n  @Input()\r\n  quantity = 1;\r\n  @Input()\r\n  fileTypes = ['image/png', 'image/jpeg'];\r\n\r\n  @Input()\r\n  sizeFile = 10;\r\n\r\n  @Input()\r\n  path: string;\r\n\r\n  error: string;\r\n\r\n  previewImage: string;\r\n  previewVisible = false;\r\n\r\n  showUploadList = {\r\n    showPreviewIcon: true,\r\n    showRemoveIcon: true,\r\n    hidePreviewIconInNonImage: true,\r\n  };\r\n\r\n  constructor(private restService: RestService) {}\r\n\r\n  handlePreview = (file: NzUploadFile) => {\r\n    this.previewImage = file.url || file.thumbUrl;\r\n    this.previewVisible = true;\r\n    // tslint:disable-next-line: semicolon\r\n  };\r\n\r\n  customReq = (item: NzUploadXHRArgs) => {\r\n    const formData = new FormData();\r\n    formData.append('image', item.file as any);\r\n    return this.restService.upload(this.path, formData).subscribe(\r\n      (res) => {\r\n        item.onSuccess(res, item.file, null);\r\n        this.emitFileListValue();\r\n      },\r\n      (err) => {\r\n        item.onError(err, item.file);\r\n        this.showError(err.message);\r\n      }\r\n    );\r\n    // tslint:disable-next-line: semicolon\r\n  };\r\n\r\n  showError(messsage) {\r\n    this.error = messsage;\r\n\r\n    setTimeout(() => {\r\n      this.error = '';\r\n    }, 5000);\r\n  }\r\n\r\n  beforeUpload = (file: File) => {\r\n    return new Observable((observer: Observer<boolean>) => {\r\n      const typeOk = this.fileTypes.includes(file.type);\r\n\r\n      if (!typeOk) {\r\n        this.showError(`File tải lên phải thuộc các dạng file sau ${this.fileTypes.join(', ').replace(/image\\//gi, '')}`);\r\n        observer.complete();\r\n        return;\r\n      }\r\n      const fileSize = file.size / 1024 / 1024 < this.sizeFile;\r\n\r\n      if (!fileSize) {\r\n        this.showError(`File tải lên phải nhỏ hơn ${this.sizeFile}Mb`);\r\n        observer.complete();\r\n        return;\r\n      }\r\n      observer.next(true);\r\n      observer.complete();\r\n    });\r\n    // tslint:disable-next-line: semicolon\r\n  };\r\n\r\n  emitFileListValue() {\r\n    this.fileListChange.emit(this.fileList);\r\n  }\r\n\r\n  handleRemove = (item) => {\r\n    this.fileList = this.fileList.filter((f) => {\r\n      return f.status !== 'removed';\r\n    });\r\n    this.emitFileListValue();\r\n    // tslint:disable-next-line: semicolon\r\n  };\r\n}\r\n","<div class=\"clearfix\">\r\n  <nz-upload\r\n    class=\"hellooo\"\r\n    nzListType=\"picture-card\"\r\n    [(nzFileList)]=\"fileList\"\r\n    [nzShowButton]=\"fileList.length < quantity\"\r\n    [nzShowUploadList]=\"showUploadList\"\r\n    [nzPreview]=\"handlePreview\"\r\n    [nzCustomRequest]=\"customReq\"\r\n    [nzRemove]=\"handleRemove\"\r\n    [nzBeforeUpload]=\"beforeUpload\"\r\n  >\r\n    <i nz-icon nzType=\"plus\"></i>\r\n    <div class=\"ant-upload-text\">Upload</div>\r\n  </nz-upload>\r\n\r\n  <div class=\"has-error\">{{ error }}</div>\r\n\r\n  <nz-modal [nzVisible]=\"previewVisible\" [nzContent]=\"modalContent\" [nzFooter]=\"null\" (nzOnCancel)=\"previewVisible = false\">\r\n    <ng-template #modalContent>\r\n      <img [src]=\"previewImage\" [ngStyle]=\"{ width: '100%' }\" />\r\n    </ng-template>\r\n  </nz-modal>\r\n</div>\r\n","import { ChangeDetectorRef, Component, OnChanges, OnInit } from '@angular/core';\nimport { Geometries, Materials } from '@app/_3D/libs/three.libs';\nimport { Object3DPropDataModel, Object3DPropDefaultData } from '@app/_3D/store/data.type';\nimport { assignValue, isEmpty, isObject } from '@app/_core/helpers/utils';\nimport { InpEvent } from '@app/_shared/shared.type';\nimport { BaseComponent } from '../../base/base.component';\nimport { MeshGeometryService } from './mesh-geometry.service';\n\ninterface MeshData {\n    geometry: {\n        type: string\n        [key: string]: any\n    },\n    material: {\n        type: string\n        [key: string]: any\n    },\n    props: {\n        [key: string]: any\n    }\n}\n\ntype onUpdateFromInputs = (data: { [key: string]: any }) => any;\n\nenum TabIndex {\n    Material = 0,\n    Geometry = 1,\n    Properties = 2,\n}\n\n@Component({\n    selector: 'panel-mesh-geometry',\n    templateUrl: './mesh-geometry.component.html',\n    styleUrls: ['./mesh-geometry.component.scss']\n})\nexport class MeshGeometryComponent extends BaseComponent implements OnInit {\n\n    title: string = 'Title';\n    hasTitle: boolean = false;\n    isShow: boolean = false;\n\n    btnDoneText: string = 'Done';\n    materialConfig: any = Materials.config;\n    geometryConfig: any = {};\n    geoInputs: Array<{\n        name: string,\n        type: string,\n        value: any,\n        spin: boolean,\n        step: number,\n        min: number,\n        max: number\n    }> = [];\n\n    secretKey: string = '';\n\n    mesh: any = null;\n    data: MeshData = {\n        geometry: {\n            type: \"box\"\n        },\n        material: {\n            type: \"basic\"\n        },\n        props: {}\n    }\n    props: Object3DPropDataModel = assignValue({}, Object3DPropDefaultData);\n    onUpdateHandle: onUpdateFromInputs = null;\n    onDoneHandle: onUpdateFromInputs = null;\n    _service: MeshGeometryService = null;\n\n    prevTab: number = TabIndex.Material;\n    currentTab: number = TabIndex.Material;\n\n    constructor(private cd: ChangeDetectorRef, private service: MeshGeometryService) {\n        super();\n        this._service = service;\n        this.service.on(\"panel.show\", e => this.show(e.data));\n        this.service.on(\"panel.hide\", e => this.hide());\n        this.service.on(\"editor.update.props\", e => {\n            if(isObject(e.data) && e.data.secret_key == this.secretKey){\n                assignValue(this.data.props, e.data.key, e.data.value);\n                assignValue(this.props, e.data.key, e.data.value);\n                if(e.data.key == \"rotation\"){\n                    setTimeout(() => {\n                        this.service.emit({\n                            type: \"props.rotation.change\"\n                        })\n                    }, 1);\n                }\n            }\n        });\n        this.service.on(\"component.checkchange\", () => this.cd.detectChanges());\n    }\n    onInit(): void {\n        this.cd.detectChanges();\n\n    }\n\n    onChangeTab(e) {\n        this.currentTab = e.index;\n        this.cd.detectChanges();\n    }\n\n    reset() {\n        this.mesh = null;\n        this.data = {\n            geometry: {\n                type: \"box\"\n            },\n            material: {\n                type: \"basic\"\n            },\n            props: {}\n        }\n        this.props = assignValue({}, Object3DPropDefaultData);\n        this.btnDoneText = 'Done';\n    }\n\n\n\n    show(data: any) {\n        if(!this.isFocus) return;\n        if (isObject(data)) {\n\n            if(this.isShow){\n                if(data.secret_key == this.secretKey) return false;\n                this.hide();\n                setTimeout(() => this.display(data), 10);\n            }\n            else{\n                this.currentTab = TabIndex.Geometry;\n                this.display(data);\n            }\n        }\n\n    }\n    hide() {\n        \n        if(!this.isFocus) return;\n        this.isShow = false;\n        this.reset();\n    }\n\n    display(data:any){\n        if(!this.isFocus) return;\n        if (data.title) {\n            this.title = data.title;\n            this.hasTitle = true;\n        }\n        if(data.btnDone || data.btnDoneText){\n            this.btnDoneText = data.btnDone || data.btnDoneText;\n        }\n        if (isObject(data.mesh) && data.secret_key) {\n            this.setMesh(data);\n\n            this.isShow = true;\n        }\n    }\n\n    setMesh(data: any) {\n        if(!this.isFocus) return;\n        this.onUpdateHandle = null;\n        if (typeof data.onUpdate == \"function\") {\n            this.onUpdateHandle = data.onUpdate;\n        }\n        if (typeof data.onChange == \"function\") {\n            this.onUpdateHandle = data.onChange;\n        }\n        if (typeof data.change == \"function\") {\n            this.onUpdateHandle = data.change;\n        }\n        if (typeof data.done == \"function\") {\n            this.onDoneHandle = data.done;\n        } else if(typeof data.onDone == \"function\"){\n            this.onDoneHandle = data.onDone;\n        }\n\n        \n        let d = data.data;\n        let mesh = data.mesh;\n        this.secretKey = data.secret_key;\n        this.data = {\n            geometry: {\n                type: \"box\"\n            },\n            material: {\n                type: \"physical\"\n            },\n            props: {}\n        };\n        this.geoInputs = [];\n        this.mesh = mesh;\n\n        \n        assignValue(this.data, d);\n\n        if(!this.data.props.name){\n            if(this.mesh.name){\n                this.data.props.name = this.mesh.name;\n            }\n        }\n        if(this.data.props.name && !this.hasTitle){\n            this.title = this.data.props.name;\n        }\n\n        var cfg = Geometries.getConfig(this.data.geometry.type);\n        if (!isEmpty(cfg)) {\n            this.geometryConfig = cfg;\n            for (const key in cfg.params) {\n                if (Object.prototype.hasOwnProperty.call(cfg.params, key)) {\n                    const inpType = cfg.params[key].toLowerCase();\n                    let iType = 'number';\n                    let step = 1;\n                    let spin = false;\n                    let value = Object.prototype.hasOwnProperty.call(this.data.geometry, key) ? this.data.geometry[key] : cfg.data.params[key];\n                    switch (inpType) {\n                        case \"integer\":\n                            // do somthing\n                            break;\n\n                        case \"float\":\n                            step = 0.001;\n                            spin = true;\n                            break;\n\n                        default:\n                            break;\n                    }\n                    this.geoInputs.push({\n                        name: key,\n                        type: iType,\n                        value: value,\n                        spin: spin,\n                        min: -9999999,\n                        max: 9999999,\n                        step: step\n                    })\n                }\n            }\n            this.initProps();\n        }\n    }\n\n    initProps() {\n        \n        if(!this.isFocus) return;\n        for (const key in Object3DPropDefaultData) {\n            if (Object.prototype.hasOwnProperty.call(Object3DPropDefaultData, key)) {\n                const value = Object3DPropDefaultData[key];\n                assignValue(this.props, key, value);\n                if (isObject(value)) {\n                    if (Object.prototype.hasOwnProperty.call(this.mesh, key) && isObject(this.mesh[key])) {\n                        for (const k in value) {\n                            if (Object.prototype.hasOwnProperty.call(value, k)) {\n                                if (typeof this.mesh[key][k] != \"undefined\") {\n                                    this.props[key][k] = this.mesh[key][k];\n                                }\n                            }\n                        }\n                    }\n                    if (Object.prototype.hasOwnProperty.call(this.data.props, key)) {\n                        for (const k in value) {\n                            if (Object.prototype.hasOwnProperty.call(value, k)) {\n                                if (Object.prototype.hasOwnProperty.call(this.data.props[key], k)) {\n                                    this.props[key][k] = this.data.props[key][k];\n                                }\n\n                            }\n                        }\n                    }\n                } else {\n                    if (Object.prototype.hasOwnProperty.call(this.mesh, key)) {\n                        this.props[key] = this.mesh[key];\n                    }\n                    if (Object.prototype.hasOwnProperty.call(this.data.props, key)) {\n                        this.props[key] = this.data.props[key];\n                    }\n                }\n\n\n            }\n        }\n        console.log(this.props)\n    }\n\n    onNameChange(event){\n        this.data.props.name = event.valur;\n        if(!this.hasTitle){\n            this.title = this.data.props.name;\n        }\n\n    }\n    updateProps(event: InpEvent) {\n\n        this.data.props[event.name] = event.value;\n        \n        if(event.name == \"name\"){\n            if(!this.hasTitle){\n                this.title = event.value;\n            }\n        }\n\n        if(typeof this.onUpdateHandle == \"function\"){\n            this.onUpdateHandle({\n                key: \"props\",\n                data: this.data\n            });\n        }\n        this.service.emit({\n            type: \"data.change\",\n            key: \"props\",\n            data: this.data\n        });\n\n    }\n\n    onGeometryParamChange(event: InpEvent) {\n        this.data.geometry[event.name] = event.value;\n        if(typeof this.onUpdateHandle == \"function\"){\n            this.onUpdateHandle({\n                key: \"geometry\",\n                data: this.data\n            });\n        }\n        this.service.emit({\n            type: \"data.change\",\n            key: \"geometry\",\n            data: this.data\n        });\n\n    }\n\n    onMaterialChange(event){\n        this.data.material[event.name] = event.value;\n        \n        if(typeof this.onUpdateHandle == \"function\"){\n            this.onUpdateHandle({\n                key: \"material\",\n                data: this.data,\n                updateKey: event.name\n            });\n        }\n        this.service.emit({\n            type: \"data.change\",\n            key: \"material\",\n            data: this.data,\n            updateKey: event.name\n        });\n    }\n\n    onDone(){\n        this.hide();\n\n        return typeof this.onDoneHandle == \"function\" ? this.onDoneHandle(this.data): 0;\n    }\n}\n","<div class=\"panel inner-layout\" *ngIf=\"isShow\">\n    <div class=\"panel-body\">\n\n        <nz-tabset [nzSelectedIndex]=\"currentTab\" nzTabPosition=\"top\" nzType=\"line\" class=\"main-tab w100\" (nzSelectChange)=\"onChangeTab($event)\">\n            <nz-tab [nzTitle]=\"iconMaterial\">\n                <ng-template #iconMaterial>\n                    Material\n                </ng-template>\n                <mesh-geometry-tab-material [material]=\"mesh.material\" [(settings)]=\"data.material\" (subcribe)=\"onMaterialChange($event)\"></mesh-geometry-tab-material>\n            </nz-tab>\n\n            <nz-tab [nzTitle]=\"iconGeometry\">\n                <ng-template #iconGeometry>\n                    Geometry\n                </ng-template>\n                <ng-template nz-tab>\n                    <mesh-geometry-tab-geometry [inputs]=\"geoInputs\" (subcribe)=\"onGeometryParamChange($event)\"></mesh-geometry-tab-geometry>\n                </ng-template>\n            </nz-tab>\n\n\n            <nz-tab [nzTitle]=\"iconProperties\">\n                <ng-template #iconProperties>\n                    Properties\n                </ng-template>\n                <ng-template nz-tab>\n\n                    <mesh-geometry-tab-properties [(props)]=\"props\" (subcribe)=\"updateProps($event)\" [events]=\"_service\"></mesh-geometry-tab-properties>\n                </ng-template>\n            </nz-tab>\n\n\n        </nz-tabset>\n    </div>\n\n\n\n    <div class=\"panel-footer\">\n        <h3>{{\"Actions\" | translate}}</h3>\n        <div class=\"buttons\">\n            <button nz-button nzType=\"primary\" (click)=\"onDone()\">{{btnDoneText}}</button>\n\n\n        </div>\n    </div>\n\n</div>","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { AppEditorStorageService } from '@app/_3D/services/app-editor-storage.service';\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nenum TabIndex {\n    Scene = 0,\n    Light = 1\n}\n@Component({\n    selector: 'app-viewer-sidebar',\n    templateUrl: './viewer-sidebar.component.html',\n    styleUrls: ['./viewer-sidebar.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ViewerSidebarComponent extends BaseComponent implements OnInit {\n    prevTab: number = 0;\n    currentTab: number = 0;\n    loadedTemplate = false;\n    loadedObject = false;\n    mode: string = 'create';\n    app: AppEditorService = null;\n    constructor(private cd: ChangeDetectorRef, private events: AppEditorEventService) {\n        super();\n    }\n    initFirst(){\n        this.app = this.events.app;\n    }\n    onInit() {\n        if(this.isChangeSubEvents){\n            this.app = this.subEvents.app;\n        }\n        if(this.app.editor){\n            this.app.editor.hideLightHelpers();\n        }\n        \n        this.cd.detectChanges();\n    }\n    onChangeTab(e) {\n        if (this.app && this.app.editor) {\n\n            if (e.index == TabIndex.Light) {\n                this.app.editor.showLightHelpers();\n            } else {\n                this.app.editor.hideLightHelpers();\n                this.app.editor.detachLight();\n            }\n        }\n        this.currentTab = e.index;\n\n        this.cd.detectChanges();\n    }\n\n    onClickSearch(event) {\n        console.log(event);\n    }\n}\n","<nz-tabset [nzSelectedIndex]=\"currentTab\" nzTabPosition=\"top\" nzType=\"line\" class=\"main-tab\" (nzSelectChange)=\"onChangeTab($event)\">\n\n    <nz-tab [nzTitle]=\"iconScene\" [nzForceRender]=\"loadedTemplate\">\n        <ng-template #iconScene>\n            <img src=\"/assets/icons/new-design/tab-top/scene.svg\" alt=\"Scene\" />\n        </ng-template>\n        <app-tab-viewer-scene></app-tab-viewer-scene>\n    </nz-tab>\n\n    <nz-tab [nzTitle]=\"iconLight\">\n        <ng-template #iconLight>\n            <img src=\"/assets/icons/new-design/tab-top/light.svg\" alt=\"Lighr\" />\n        </ng-template>\n        <ng-template nz-tab>\n            <app-tab-light></app-tab-light>\n        </ng-template>\n    </nz-tab>\n\n\n\n</nz-tabset>","export * from './auth.actions';\r\nexport * from './auth.effects';\r\nexport * from './auth.reducer';\r\nexport * from './auth.selectors';\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-layout-auth',\r\n  templateUrl: './layout.component.html',\r\n  styleUrls: ['./layout.component.scss'],\r\n})\r\nexport class LayoutAuthComponent {}\r\n","<router-outlet></router-outlet>\r\n","import { date, getArguments, isBoolean, isFunction, isObject, isString, Str } from '@app/_core/helpers/utils';\nconst DEFAULT_VALUE = Str.rand(Str.rand(date('ms')));\n\ntype EventEmit = {\n    type: string,\n    data?:any,\n    [key:string]:any \n}\ntype Listener = (event?:EventEmit)=>any\n\n\ntype OnEventListener = {\n    [event:string]: (Listener | string)\n}\n\n\nexport class EventEmitter {\n   \n    _listeners = {};\n    _dispatchedEvents = {};\n    constructor() { }\n\n    /**\n     * chuẩn hóa hàn lắng nghe sự kiện\n     * @param {string|function} handler tên phương thức hoạc hàm handler\n     * @returns function\n     */\n\n     parseEventHandler(handler:any):(...args:any[]) => any{\n        var self = this;\n        if (typeof handler == \"function\") {\n            return handler;\n        }\n        var fnt = handler ? handler : function (e) {\n            console.log(e);\n        };\n\n        if (typeof handler == \"string\") {\n            var params = [];\n            var handleParams = handler.split(\":\");\n            if (handleParams.length == 2) {\n                handler = handleParams[0];\n                params = handleParams[1].split(\",\").map(function (s) { return s.trim(); });\n\n            }\n\n            fnt = function (e) {\n                var args = [e];\n                params.map(function (p) { args.push(p); });\n                \n                if (typeof self[handler] == \"function\") {\n                    return self[handler].apply(self, args);\n                }\n            };\n\n\n        }\n        return fnt;\n    }\n\n    /**\n     * lắng nghe sự kiện\n     * @param {string} type loại hoạc tên sự kiện\n     * @param {function|string} handler hàm hoặc tên phương thức xử lý sự kiện\n     * @param {boolean} dispatch Thực thi trên tất cả các sự kiện trước đó\n     * @returns this\n     */\n     addEventListener (type:string, handler?:Listener, dispatch?:boolean) {\n        var self = this;\n        var listener = this.parseEventHandler(handler);\n        \n        if (this._listeners === undefined || this._listeners === null) this._listeners = {};\n\n        type = String(type).toLowerCase();\n\n\n\n        // if (isDomEvent(type)) return this.addDomEvent(type, listener, DEFAULT_VALUE);\n        const listeners = this._listeners;\n\n        if (listeners[type] === undefined) {\n\n            listeners[type] = [];\n\n        }\n        if(dispatch === true){\n            this.handleDispatchedEvents(type, listener);\n        }\n        \n        if (listeners[type].indexOf(listener) === - 1) {\n            listeners[type].push(listener);\n        }\n        return listener;\n    }\n\n    /**\n     * Kiểm tra sự kiện có tồn tại hay không\n     * @param {string} type tên sự kiện\n     * @param {function} listener hàm xử lý\n     * @returns {boolean}\n     */\n    hasEventListener (type:string, listener?:Listener): boolean {\n\n        if (this._listeners === undefined || this._listeners === null) return false;\n\n        const listeners = this._listeners;\n        type = String(type).toLowerCase();\n        return listeners[type] !== undefined && (listener?listeners[type].indexOf(listener) !== - 1:true);\n\n    }\n\n    /**\n     * Xóa / Gỡ sự kiện\n     * @param {string} type tên sự kiện\n     * @param {function} listener hàm xử lý\n     * @returns {boolean}\n     */\n    removeEventListener(type:string, listener?:Listener): boolean {\n        if (this._listeners === undefined || this._listeners === null) return false;\n        type = String(type).toLowerCase();\n        const listeners = this._listeners;\n        const listenerArray = listeners[type];\n        if (listenerArray !== undefined) {\n            if(!listener){\n                this._listeners[type].splice(0, this._listeners[type].length);\n                return true;\n            }\n            const index = listenerArray.indexOf(listener);\n            if (index !== - 1) {\n                listenerArray.splice(index, 1);\n                return true;\n            }\n        }\n        return false;\n    }\n\n\n    /**\n     * Tạo, gọi ra một sự kiện\n     * @param {string|object} event Tên hoặc sự kiện\n     * @param {*} data dữ liệu\n     * @param {boolean} log lưu lại du lieu khi emit\n     * @returns {boolean}\n     */\n    dispatchEvent (event:(EventEmit | String), data?:any, log?:boolean):boolean {\n        if (this._listeners === undefined || this._listeners === null || !event) return null;\n        \n        var e:any = {};\n        if(isString(event)){\n            e.type = event;\n            if(data){\n                e.data = data;\n            }\n            // console.log(event, data);\n        }else if(isObject(event)){\n            e = event;\n            if(!e.type) return false;\n            if(!e.data && data){\n                e.data = data;\n            }\n            if(isBoolean(data) && typeof log == \"undefined\"){\n                log = data;\n            }\n        }\n        else{\n            return false;\n        }\n\n        const listeners = this._listeners;\n        const listenerArray = listeners[e.type];\n        var s = true;\n        if(!e.target){\n            e.target = this;\n        }\n        if(typeof e.stopImmediatePropagation != \"function\"){\n            e.stopImmediatePropagation = function () {\n                s = false;\n            }\n    \n        }\n        \n        if(log!==false){\n            this.addDispatchedEvent(e);\n        }\n        \n\n        if (listenerArray !== undefined) {\n            // Make a copy, in case listeners are removed while iterating.\n            const array1 = listenerArray.slice(0);\n            var rs : any[] = [];\n            for (var i = 0, l = array1.length; i < l; i++) {\n                let a = array1[i].call(this, e);\n                if (!s) break;\n                if(a!==undefined){\n                    rs.push(a)\n                }\n\n            }\n            if(s && rs.length){\n                return rs.length == 1 && array1.length == 1 ? rs[0] : rs;\n            }\n            return s;\n        }\n        \n    }\n    /**\n     * lắng nghe sự kiện\n     * @param {string} type loại hoạc tên sự kiện\n     * @param {function|string} listener hàm hoặc tên phương thức xử lý sự kiện\n     * @param {boolean} dispatch có cần cần gọi ham voi cac su kien truoc do hay ko\n     * @returns this\n     */\n     on(type:(OnEventListener|string), listener?:Listener|boolean, dispatch?:boolean){\n        if(isObject(type)){\n            var listeners = {};\n            const events : OnEventListener = type as OnEventListener;\n            var d:boolean = isBoolean(listener)?listener as boolean: (isBoolean(dispatch)?dispatch:false);\n            for (const key in events) {\n                if (Object.hasOwnProperty.call(events, key)) {\n                    const fn = type[key];\n                    if(isFunction(fn) || isString(fn)){\n                        const fnAdded = this.addEventListener(key, fn, d);\n                        if(fnAdded){\n                            listeners[key]=fnAdded;\n                        }\n                    }\n                }\n            }\n            return listeners;\n        }\n        return this.addEventListener(type as string, listener as Listener, dispatch);\n    }\n    /**\n     * lắng nghe sự kiện\n     * @param {string} type loại hoạc tên sự kiện\n     * @param {function|string} listener hàm hoặc tên phương thức xử lý sự kiện\n     * @param {boolean} dispatch có cần cần gọi ham voi cac su kien truoc do hay ko\n     * @returns this\n     */\n    subcribe(type:(OnEventListener|string), listener?:Listener, dispatch?:boolean){\n        return this.on(type, listener, dispatch);\n    }\n\n    off(type?:any, listener?:Listener){\n        if(isObject(type)){\n            for (const key in type) {\n                if (Object.prototype.hasOwnProperty.call(type, key)) {\n                    const fn = type[key];\n                    this.removeEventListener(key,fn);\n                }\n            }\n            return this;\n        }\n        return this.removeEventListener(type, listener);\n    }\n    /**\n     * Tạo, gọi ra một sự kiện\n     * @param {string|object} event Tên hoặc sự kiện\n     * @param {*} data dữ liệu\n     * @returns {boolean}\n     */\n    emit(event:(EventEmit | String), data?:any, log?:boolean): boolean{\n        return this.dispatchEvent.apply(this, getArguments(arguments));\n    }\n    /**\n     * Tạo, gọi ra một sự kiện\n     * @param {string|object} event Tên hoặc sự kiện\n     * @param {*} data dữ liệu\n     * @returns {boolean}\n     */\n    trigger(event:(EventEmit | String), data?:any, log?:boolean): boolean{\n        return this.dispatchEvent.apply(this, getArguments(arguments));\n    }\n    \n    addDispatchedEvent(event:EventEmit){\n        if(this._dispatchedEvents[event.type] === undefined) this._dispatchedEvents[event.type] = [];\n        this._dispatchedEvents[event.type].push(event);\n        // console.log(event.type, this._pendingListeners[event.type])\n        return this\n    }\n\n    handleDispatchedEvents(type:string, handler:Listener){\n        var listenerArray = this._dispatchedEvents[type];\n        // console.log(type, this._pendingListeners[type], this);\n        if (listenerArray !== undefined) {\n            \n        \n            // console.log(type)\n            // Make a copy, in case listeners are removed while iterating.\n            const array = listenerArray.slice(0);\n\n            for (var i = 0, l = array.length; i < l; i++) {\n                // array[i].call(this, e);\n                var s = handler.call(this, array[i]);\n                if(s === false){\n                    return s;\n                }\n\n            }\n        }\n    }\n}\n","import { assignValue, assignWithout, date, getTimeStamp, isNumber, isObject, queueTask } from '@app/_core/helpers/utils';\r\nimport * as THREE from 'three';\r\n\r\nimport Props, { parseParams } from '../libs/props';\r\nimport { registerAnimationTask } from '../libs/animation-loop';\r\nimport Object2Image from '../modules/object-image';\r\n\r\n// import self.animation from '../libs/animation-loop';\r\n\r\nconst Renderer = {\r\n    width: 300,\r\n    height: 300,\r\n    aspect: 1,\r\n    renderer: null,\r\n    composer: null,\r\n    fps: 0,\r\n    wrapper: null,\r\n\r\n\r\n    animationTasks: null,\r\n\r\n\r\n\r\n    /**\r\n     * @var {boolean} autoRenderMode Tự động gửi yêu cầu tạo hoạt cảnh\r\n     */\r\n    autoRenderMode: false,\r\n    autoRenderStatus: false,\r\n    autoRenderTimerStatus: false,\r\n    autoRenderTimerStart: false,\r\n    autoRenderCountdown: 0,\r\n    autoRenderTimerMilisecond: 3000,\r\n    autoRenderDistance: 10,\r\n    controlChangeAnimateStatus: false,\r\n\r\n    deactiveShadowStatus: false,\r\n    deactiveShadowTimeMstart: false,\r\n    deactiveShadowTimeMilisecond: 5000,\r\n    deactiveShadowTimeMilisecondHP: 1000,\r\n    deactiveShadowTimeCountdown: 0,\r\n\r\n\r\n    wheelAnimationStatus: false,\r\n    wheelAnimationTimeMstart: false,\r\n    wheelAnimationTimeMilisecond: 500,\r\n    wheelAnimationTimeCountdown: 300,\r\n\r\n\r\n    autoRenderQueueTask: null,\r\n    inWrapper: false,\r\n    pointerPosition: {\r\n        x: 0,\r\n        y: 0\r\n    },\r\n    pointerStart: false,\r\n\r\n    lastAnimateData: \"0\",\r\n    currentAnimateData: \"1\",\r\n    controlCanUpdate: true,\r\n    controlCanTurnOffShadow: true,\r\n\r\n\r\n    animation: null,\r\n\r\n    boots: [\"renderBoot\"],\r\n\r\n    /**\r\n     * chạy các thiết lập khi đối tượng dc khởi tạo\r\n     */\r\n    renderBoot: function () {\r\n        this.animation = registerAnimationTask(this.getInstanceID())\r\n        this.pointerPosition = {\r\n            x: 0,\r\n            y: 0\r\n        };\r\n        var self = this;\r\n\r\n        this.animationTasks = {\r\n            animate: function animate() {\r\n                if (!self.autoRenderStatus) return false;\r\n                if (self.control && (self.control.enableDamping || (self.data && self.data.control.enableDamping)) && typeof self.control.update == \"function\" && !self.controlChangingByFPSStatus) {\r\n                    self.control.update();\r\n                }\r\n                self.render();\r\n            },\r\n            timeoutAnimate: function () {\r\n                // this.render();\r\n                if (self.autoRenderCountdown > 0) {\r\n                    if (self.control && (self.control.enableDamping || (self.data && self.data.control.enableDamping)) && typeof self.control.update == \"function\") {\r\n                        self.control.update();\r\n                    }\r\n\r\n                    self.render();\r\n                    var currentTime = getTimeStamp();\r\n                    // self.wrapper.showMessage(\"time: \" + currentTime + \", \" + \"time left: \" + (self.autoRenderCountdown - (currentTime - self.autoRenderTimerStart)))\r\n                    if (self.autoRenderTimerStatus && currentTime - self.autoRenderTimerStart >= self.autoRenderCountdown) {\r\n                        self.autoRenderTimerStatus = false;\r\n                        self.autoRenderCountdown = 0;\r\n                        self.animation.remove(\"timeoutAnimate\");\r\n                    }\r\n\r\n                }\r\n            },\r\n\r\n            controlChangeAnimate: function () {\r\n                // this.render();\r\n                if (self.control && (self.control.enableDamping || (self.data && self.data.control.enableDamping)) && typeof self.control.update == \"function\") {\r\n                    self.control.update();\r\n                }\r\n                self.render();\r\n\r\n                var d: any = {\r\n                    position: assignValue({}, self.camera.position),\r\n                    // quaternion: assignValue({}, self.camera.quaternion),\r\n                    rotation: assignValue({}, self.camera.rotation)\r\n                };\r\n                var c = JSON.stringify(d);\r\n                if (c == self.lastAnimateData) {\r\n                    self.controlChangeAnimateStatus = false;\r\n                    self.animation.remove(\"controlChangeAnimate\");\r\n                    self.emit(\"controls.change.camera.animate.end\");\r\n                }\r\n\r\n                self.lastAnimateData = self.currentAnimateData;\r\n                self.currentAnimateData = c;\r\n                self.emit({\r\n                    type: \"controls.change.camera\",\r\n                    camera: self.camera\r\n                });\r\n\r\n            },\r\n\r\n            activeShadowAfter: function () {\r\n                var currentTime = getTimeStamp();\r\n                var cond = self.deactiveShadowStatus && (\r\n                    (self.deactiveShadowMode == \"system\" && self.controlEnableDamping && self.lastAnimateData == self.currentAnimateData) ||\r\n                    currentTime - self.deactiveShadowTimeMstart >= self.deactiveShadowTimeCountdown\r\n                );\r\n                if (cond) {\r\n                    self.deactiveShadowStatus = false;\r\n                    self.deactiveShadowTimeCountdown = 0;\r\n                    if (self.controlCanTurnOffShadow) {\r\n                        self.Shadows.restore();\r\n                        self.refresh();\r\n\r\n                    }\r\n                    self.animation.remove(\"activeShadowAfter\");\r\n\r\n                    self.deactiveShadowMode = \"system\";\r\n                    if(typeof self.deactiveCompleteHandle == \"function\"){\r\n                        self.deactiveCompleteHandle();\r\n                        self.deactiveCompleteHandle = null;\r\n                    }\r\n                }\r\n            },\r\n\r\n            wheelAnimation: function () {\r\n                var currentTime = getTimeStamp();\r\n\r\n                if (self.wheelAnimationStatus && (currentTime - self.wheelAnimationTimeMstart >= self.wheelAnimationTimeCountdown)) {\r\n                    self.wheelAnimationStatus = false;\r\n                    self.wheelAnimationTimeCountdown = 0;\r\n\r\n                    self.controlCanTurnOffShadow = true;\r\n\r\n                    self.animation.remove(\"wheelAnimation\");\r\n\r\n                    if (!self.deactiveShadowStatus) {\r\n                        self.Shadows.restore();\r\n                        self.refresh();\r\n\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n    },\r\n\r\n\r\n\r\n    render: function () {\r\n        if (this.composer != null) {\r\n            this.composer.render();\r\n        } else if (this.renderer) {\r\n            this.renderer.render(this.scene, this.camera);\r\n            if (this.showSceneHelper && this.sceneHelper) {\r\n                this.renderer.render(this.sceneHelper, this.camera);\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n\r\n\r\n    refresh: function () {\r\n        if (this.autoRenderStatus || (this.autoRenderTimerStatus && this.autoRenderCountdown)) return false;\r\n        this.render();\r\n    },\r\n\r\n    capture: function(){\r\n        this.hideGridHelper();\r\n        var imageCaptured = Object2Image.getImageByCustomSceneAndCamera(this.scene, this.camera, this.width, this.height);\r\n        this.showGridHelper()\r\n        return imageCaptured;\r\n    },\r\n\r\n    createRenderer: function (opts?: any) {\r\n        var self = this;\r\n        var opt = typeof opts == \"object\" ? opts : {};\r\n        Props.parse(opt);\r\n        var params = isObject(opt.params) ? opt.params : { antialias: true };\r\n\r\n        var renderer = new THREE.WebGLRenderer(params);\r\n            renderer.setPixelRatio(window.devicePixelRatio);\r\n            renderer.setSize(window.innerWidth, window.innerHeight);\r\n            renderer.toneMapping = THREE.ACESFilmicToneMapping;\r\n            renderer.toneMappingExposure = 1;\r\n            renderer.outputEncoding = THREE.sRGBEncoding;\r\n            \r\n            renderer.shadowMap.enabled = this.data.shadow.enabled?true:false;\r\n            renderer.shadowMap.type = THREE.PCFSoftShadowMap;\r\n        \r\n            // container.appendChild(renderer.domElement);\r\n\r\n        this.renderer = renderer;\r\n\r\n\r\n        if (this.wrapper) {\r\n            var rect = this.wrapper.getBoundingClientRect();\r\n            var width = rect.width;\r\n            var height = rect.height;\r\n            this.setSize(width || \"screen\", height || undefined);\r\n        } else {\r\n            this.setSize(opt.width || \"screen\", opt.height || undefined);\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    updateShadowSettings: function (setting) {\r\n        if (isObject(setting)) {\r\n            var oldEnabled = this.data.shadow.enabled;\r\n            var oldPcss = this.data.shadow.pcss;\r\n\r\n            assignValue(this.data.shadow, setting);\r\n            for (const key in setting) {\r\n                if (Object.prototype.hasOwnProperty.call(setting, key)) {\r\n                    const vl = setting[key];\r\n                    if (key == \"enabled\") {\r\n                        this.renderer.shadowMap.enabled = vl;\r\n                    } else if (key == \"pcss\") {\r\n                        if (oldEnabled) {\r\n                            if (vl) {\r\n                                this.Shadows.active();\r\n                            } else {\r\n                                this.Shadows.deactive();\r\n                            }\r\n                        } else if (!vl) {\r\n                            this.Shadows.deactive();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n    },\r\n\r\n    start: function () {\r\n        var self = this;\r\n        this.emit('start');\r\n        if (!self.animation.has(\"animate\", self.animationTasks.animate))\r\n            self.animation.add(\"animate\", self.animationTasks.animate);\r\n    },\r\n\r\n    ready: function () {\r\n        var self = this;\r\n\r\n        this.emit('ready', {\r\n            renderer: this.renderer, scene: this.scene, camera: this.camera\r\n        }, true);\r\n\r\n        if (this.data.autoStart || this.data.autoRefresh || this.data.autoAnimate || (this.data.renderer && (this.data.renderer.autoStart || this.data.renderer.autoRefresh || this.data.renderer.autoAnimate))) {\r\n            this.autoRenderStatus = true;\r\n            this.autoRenderMode = true;\r\n\r\n            this.start();\r\n        } else {\r\n\r\n\r\n            this.render();\r\n        };\r\n\r\n        var wrapper = this.wrapper;\r\n        function start(e) {\r\n            if (self.controlCanUpdate) {\r\n\r\n                if (self.control.autoUpdateScene && !self.autoRenderMode) {\r\n                    if (!self.controlChangeAnimateStatus) {\r\n                        // nếu có dumping\r\n                        if (self.controlEnableDamping && !self.autoRenderStatus) {\r\n                            // self.control.enableDamping = true;\r\n                            // nếu có hiệu năng cao thì tắt dổ bóng\r\n                            if (self.control.highPerformance && self.controlCanTurnOffShadow) {\r\n                                self.startDeactiveShadowTimer(self.deactiveShadowTimeMilisecond, \"system\");\r\n                            }\r\n                            // self.startChangeAnimate(self.autoRenderTimerMilisecond);\r\n                        }\r\n                        else {\r\n                            // nếu có hiệu năng cao thì tắt dổ bóng\r\n                            if (self.control.highPerformance && self.controlCanTurnOffShadow) {\r\n                                self.startDeactiveShadowTimer(self.deactiveShadowTimeMilisecondHP, \"system\");\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (self.controlCanTurnOffShadow) {\r\n                        self.startDeactiveShadowTimer(self.deactiveShadowTimeMilisecond, \"system\");\r\n                    }\r\n\r\n\r\n                }\r\n\r\n            }\r\n            // self.startDeactiveShadowTimer(self.deactiveShadowTimeMilisecond);\r\n        }\r\n        function move(e) {\r\n            if (self.controlCanUpdate) {\r\n\r\n                if (self.control.autoUpdateScene && !self.autoRenderMode) {\r\n                    if (!self.controlChangeAnimateStatus) {\r\n                        // nếu có dumping\r\n                        if (self.controlEnableDamping && !self.autoRenderStatus) {\r\n                            self.control.enableDamping = true;\r\n                            // nếu có hiệu năng cao thì tắt dổ bóng\r\n                            if (self.control.highPerformance && self.controlCanTurnOffShadow) {\r\n                                self.startDeactiveShadowTimer(self.deactiveShadowTimeMilisecond, \"system\");\r\n                            }\r\n                            self.startChangeAnimate(self.autoRenderTimerMilisecond);\r\n                        }\r\n                        else {\r\n                            // nếu có hiệu năng cao thì tắt dổ bóng\r\n                            if (self.control.highPerformance && self.controlCanTurnOffShadow) {\r\n                                self.startDeactiveShadowTimer(self.deactiveShadowTimeMilisecondHP, \"system\");\r\n                            }\r\n                            self.refresh();\r\n                            self.emit({\r\n                                type: \"controls.change.camera\",\r\n                                camera: self.camera\r\n                            });\r\n                        }\r\n                    }\r\n                    else if (self.controlCanTurnOffShadow) {\r\n                        self.startDeactiveShadowTimer(self.deactiveShadowTimeMilisecond, \"system\");\r\n                    }\r\n\r\n\r\n                }\r\n\r\n            }\r\n        }\r\n        function end(e) {\r\n            self.emit(\"controls.change.camera.end\");\r\n        }\r\n        if (this.control) {\r\n            this.control.addEventListener('start', start);\r\n            this.control.addEventListener('change', move);\r\n            this.control.addEventListener('end', end);\r\n\r\n        }\r\n\r\n        this.on('wheel', function (event) {\r\n            self.startWheelAnimate();\r\n        })\r\n\r\n\r\n        return this;\r\n    },\r\n\r\n\r\n\r\n    setWrapper: function setWrapper(wrapperElement: Element) {\r\n        this.wrapper = wrapperElement;\r\n        this.wrapper.appendChild(this.getCanvas());\r\n        this.updateCanvasSize();\r\n        var self = this;\r\n        // setTimeout(function(){\r\n        //     self.updateCanvasSize();\r\n        // }, 10);\r\n\r\n\r\n    },\r\n\r\n    getCanvas: function getCanvas() {\r\n        return this.renderer.domElement;\r\n    },\r\n\r\n    setSize: function (width?: any, height?: any) {\r\n        this.emit('setSize', width, height);\r\n        if (typeof width == \"undefined\") {\r\n            return this;\r\n        }\r\n        if (width == \"screen\") {\r\n            this.width = window.innerWidth;\r\n            this.height = window.innerHeight;\r\n            \r\n        } else if (isNumber(width) && width > 0) {\r\n            this.width = Number(width);\r\n            this.height = isNumber(height) ? Number(height) : this.width;\r\n        }\r\n        else if (document.getElementById(width)) {\r\n            var el = document.getElementById(width);\r\n            var w = el.clientWidth;\r\n            var h = el.clientHeight;\r\n            this.width = Number(w);\r\n            this.height = isNumber(h) ? Number(h) : this.width;\r\n\r\n        }\r\n\r\n        this.aspect = this.width / this.height;\r\n        this.renderer.setSize(this.width, this.height);\r\n        this.camera.aspect = this.aspect;\r\n        this.camera.updateProjectionMatrix();\r\n        this.emit('size.setted', width, height);\r\n        return this;\r\n    },\r\n\r\n    updateCanvasSize(e?: any): boolean {\r\n        if (this.data.renderer.autoResize || typeof this.data.renderer.autoResize == \"undefined\") {\r\n            this.width = window.innerWidth;\r\n            this.height = window.innerHeight;\r\n\r\n            if (this.wrapper) {\r\n                var rect = this.wrapper.getBoundingClientRect();\r\n                var width = rect.width;\r\n                var height = rect.height;\r\n                if (isNumber(width) && width > 0) {\r\n                    this.width = width;\r\n                    this.height = height;\r\n                }\r\n            }\r\n            this.aspect = this.width / this.height;\r\n            this.renderer.setSize(this.width, this.height);\r\n            this.camera.aspect = this.aspect;\r\n            this.camera.updateProjectionMatrix();\r\n\r\n            this.refresh();\r\n            this.emit('canvas.size.update', e);\r\n            return true;\r\n\r\n        } else {\r\n            // this.emit('resize', e);\r\n\r\n            return false;\r\n        }\r\n    },\r\n\r\n    windowResize: function (e) {\r\n        var status = this.updateCanvasSize(e);\r\n\r\n        if (status) {\r\n            this.emit('resize', e);\r\n            this.refresh();\r\n        } else {\r\n            this.emit('resize', e);\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    updateWrapperSize: function () {\r\n\r\n    },\r\n\r\n    /**\r\n     * khởi dộng trình auto render\r\n     * @param {int} timer thời gian render tự dộng\r\n     * @param {int} checkDistance thời gian cách nhau giữa 2 lần kiềm tra trạng thái\r\n     */\r\n    startAnimateTimer: function (timer?: any, checkDistance?: any) {\r\n        var self = this;\r\n        self.autoRenderTimerStart = getTimeStamp();\r\n        // this.wrapper.showMessage(\"time: \" + self.autoRenderTimerStart)\r\n        if (self.autoRenderCountdown <= 0) {\r\n            this.autoRenderTimerStatus = true;\r\n\r\n            if (!self.animation.has(\"timeoutAnimate\", self.animationTasks.timeoutAnimate)) {\r\n                self.animation.add(\"timeoutAnimate\", self.animationTasks.timeoutAnimate);\r\n            }\r\n\r\n            // console.log('start: ' + date('time'));\r\n        }\r\n        self.autoRenderCountdown = timer;\r\n    },\r\n\r\n    /**\r\n     * khởi dộng trình auto render\r\n     * @param {int} timer thời gian render tự dộng\r\n     * @param {int} checkDistance thời gian cách nhau giữa 2 lần kiềm tra trạng thái\r\n     */\r\n    startChangeAnimate: function () {\r\n        var self = this;\r\n        if (!this.controlChangeAnimateStatus) {\r\n            // this.render();\r\n            this.controlChangeAnimateStatus = true;\r\n            if (!self.animation.has(\"controlChangeAnimate\", self.animationTasks.controlChangeAnimate)) {\r\n                self.animation.add(\"controlChangeAnimate\", self.animationTasks.controlChangeAnimate);\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * khởi dộng trình auto render\r\n     * @param {int} timer thời gian render tự dộng\r\n     * @param {int} checkDistance thời gian cách nhau giữa 2 lần kiềm tra trạng thái\r\n     */\r\n    startWheelAnimate: function () {\r\n        var self = this;\r\n        this.wheelAnimationTimeMstart = getTimeStamp();\r\n        if (!this.wheelAnimationStatus) {\r\n            self.controlCanTurnOffShadow = false;\r\n            self.wheelAnimationTimeCountdown = 300;\r\n            // this.render();\r\n            this.wheelAnimationStatus = true;\r\n            if (!self.animation.has(\"wheelAnimation\", self.animationTasks.wheelAnimation)) {\r\n                self.Shadows.off();\r\n                self.animation.add(\"wheelAnimation\", self.animationTasks.wheelAnimation);\r\n            }\r\n        }\r\n    },\r\n    deactiveShadowMode: \"system\",\r\n    deactiveCompleteHandle: null,\r\n    /**\r\n     * khởi dộng trình auto render\r\n     * @param {int} timer thời gian render tự dộng\r\n     * @param {int} checkDistance thời gian cách nhau giữa 2 lần kiềm tra trạng thái\r\n     */\r\n    startDeactiveShadowTimer: function (timer?: any, mode?:string, onComplete?:()=>any) {\r\n        var self = this;\r\n        self.deactiveShadowTimeMstart = getTimeStamp();\r\n        if(typeof onComplete == \"function\") self.deactiveCompleteHandle = onComplete;\r\n        if(mode) this.deactiveShadowMode = mode;\r\n        // this.wrapper.showMessage(\"time: \" + self.autoRenderTimerStart)\r\n        if (!this.deactiveShadowStatus) {\r\n            this.deactiveShadowStatus = true;\r\n            if (!self.animation.has(\"activeShadowAfter\", self.animationTasks.activeShadowAfter)) {\r\n                if (self.controlCanTurnOffShadow) {\r\n                    self.Shadows.off();\r\n                }\r\n                self.animation.add(\"activeShadowAfter\", self.animationTasks.activeShadowAfter);\r\n            }\r\n        }\r\n        self.deactiveShadowTimeCountdown = self.deactiveShadowTimeCountdown > timer?self.deactiveShadowTimeCountdown:timer;\r\n    }\r\n};\r\n\r\nexport default Renderer;","import { getTimeStamp, isBoolean, objectHasKey, Str } from \"@app/_core/helpers/utils\";\r\nimport { CallbackFunction } from \"@app/_shared/shared.type\";\r\n\r\nclass Animation {\r\n    tasks:{[name:string]:CallbackFunction[]} = {};\r\n    taskCount = 0;\r\n    isRunning = false;\r\n    \r\n    isShowLog = false;\r\n\r\n    add(name:string, callback?:()=>any) {\r\n        if (typeof callback != \"function\")\r\n            return this;\r\n        if (this.tasks[name] === undefined) {\r\n            this.tasks[name] = [];\r\n            this.taskCount++;\r\n        }\r\n        this.tasks[name].push(callback);\r\n        this.start();\r\n        return this;\r\n    }\r\n    remove(name:string, callback?:()=>any) {\r\n        if (name && typeof this.tasks[name] != \"undefined\") {\r\n            if (callback) {\r\n                var index = this.tasks[name].indexOf(callback);\r\n                if (index !== -1) {\r\n                    this.tasks[name].splice(index, 1);\r\n                    this.taskCount--;\r\n                }\r\n            } else {\r\n                this.taskCount -= this.tasks[name].length;\r\n                delete this.tasks[name];\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    has(name:string, callback?:()=>any) {\r\n        if (name && typeof this.tasks[name] != \"undefined\") {\r\n            if (callback) {\r\n                var index = this.tasks[name].indexOf(callback);\r\n                if (index !== -1) {\r\n                    return true;\r\n                }\r\n            } else {\r\n                return this.tasks[name].length ? true : false;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    start() {\r\n        if (!this.isRunning) {\r\n            this.isRunning = true;\r\n            this.animate();\r\n        }\r\n    }\r\n    stop() {\r\n        this.isRunning = false;\r\n    }\r\n    animate () {\r\n        var self = this;\r\n        if(this.isShowLog){\r\n            // console.log(\"animation run\")\r\n        }\r\n        if (this.isRunning && this.taskCount) {\r\n            for (const name in this.tasks) {\r\n                if (Object.hasOwnProperty.call(this.tasks, name)) {\r\n                    const tasklist = this.tasks[name];\r\n                    if (tasklist.length) {\r\n                        tasklist.map(function (callback) {\r\n                            if (typeof callback == \"function\") {\r\n                                callback();\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            requestAnimationFrame(function () { self.animate(); });\r\n\r\n        } else {\r\n            this.isRunning = false;\r\n        }\r\n    }\r\n\r\n    set enableLog(value){\r\n        if(isBoolean(value)){\r\n            this.isShowLog = value;\r\n        }\r\n    }\r\n\r\n    _id: string;\r\n    constructor(id?:string) {\r\n        // lam gi do\r\n        this._id = id?id:Str.rand(getTimeStamp());\r\n\r\n    }\r\n}\r\n\r\nconst animationContainers: {[s:string]:Animation} = {};\r\nconst registerAnimationTask = (key: string) => {\r\n    if(!objectHasKey(animationContainers, key)) animationContainers[key] = new Animation(key);\r\n\r\n    return animationContainers[key];\r\n};\r\nconst AnimationLoop = new Animation();\r\n\r\nexport default AnimationLoop;\r\nexport {AnimationLoop, registerAnimationTask};\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\r\n\r\nimport { PermissionsService } from '../services';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthorizationGuard implements CanActivate {\r\n  constructor(private permissionsService: PermissionsService) {}\r\n\r\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n    const pageFormRoot = route.pathFromRoot\r\n      .filter((p) => p.routeConfig && p.routeConfig.path !== '')\r\n      .map((p) => '/' + p.routeConfig.path)\r\n      .join('');\r\n    return this.permissionsService.checkAuthorizationSync(`pages.${pageFormRoot}`);\r\n  }\r\n}\r\n","/**\r\n * postprocessing v6.17.1 build Thu Aug 20 2020\r\n * https://github.com/vanruesc/postprocessing\r\n * Copyright 2020 Raoul van Rüschen\r\n * @license Zlib\r\n */\r\nimport { ShaderMaterial, Uniform, Vector2 as Vector2$1, Vector4, PerspectiveCamera, Matrix4, Camera, Scene, Mesh, BufferGeometry, BufferAttribute, WebGLRenderTarget, LinearFilter, UnsignedByteType, RGBFormat, Color, MeshDepthMaterial, RGBADepthPacking, NearestFilter, FloatType, EventDispatcher, MeshNormalMaterial, WebGLMultisampleRenderTarget, DepthTexture, DepthStencilFormat, UnsignedInt248Type, UnsignedIntType, RGBAFormat, DataTexture, LuminanceFormat, RedFormat, RGFormat, RepeatWrapping, Vector3, MeshBasicMaterial, Texture, sRGBEncoding, LinearEncoding, Matrix3, LinearMipmapLinearFilter, LinearMipMapLinearFilter, Loader, LoadingManager } from 'three';\r\n\r\n/**\r\n * A color channel enumeration.\r\n *\r\n * @type {Object}\r\n * @property {Number} RED - Red.\r\n * @property {Number} GREEN - Green.\r\n * @property {Number} BLUE - Blue.\r\n * @property {Number} ALPHA - Alpha.\r\n */\r\n\r\nconst ColorChannel = {\r\n\r\n\tRED: 0,\r\n\tGREEN: 1,\r\n\tBLUE: 2,\r\n\tALPHA: 3\r\n\r\n};\r\n\r\n/**\r\n * The Disposable contract.\r\n *\r\n * Implemented by objects that can free internal resources.\r\n *\r\n * @interface\r\n */\r\n\r\nclass Disposable {\r\n\r\n\t/**\r\n\t * Frees internal resources.\r\n\t */\r\n\r\n\tdispose() {}\r\n\r\n}\r\n\r\nvar fragmentShader = \"uniform sampler2D previousLuminanceBuffer;uniform sampler2D currentLuminanceBuffer;uniform float minLuminance;uniform float deltaTime;uniform float tau;varying vec2 vUv;void main(){float previousLuminance=texture2D(previousLuminanceBuffer,vUv,MIP_LEVEL_1X1).r;float currentLuminance=texture2D(currentLuminanceBuffer,vUv,MIP_LEVEL_1X1).r;previousLuminance=max(minLuminance,previousLuminance);currentLuminance=max(minLuminance,currentLuminance);float adaptedLum=previousLuminance+(currentLuminance-previousLuminance)*(1.0-exp(-deltaTime*tau));gl_FragColor.r=adaptedLum;}\";\r\n\r\nvar vertexShader = \"varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}\";\r\n\r\n/**\r\n * An adaptive luminance shader material.\r\n */\r\n\r\nclass AdaptiveLuminanceMaterial extends ShaderMaterial {\r\n\r\n\t/**\r\n\t * Constructs a new adaptive luminance material.\r\n\t */\r\n\r\n\tconstructor() {\r\n\r\n\t\tsuper({\r\n\r\n\t\t\ttype: \"AdaptiveLuminanceMaterial\",\r\n\r\n\t\t\tdefines: {\r\n\t\t\t\tMIP_LEVEL_1X1: \"0.0\"\r\n\t\t\t},\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\tpreviousLuminanceBuffer: new Uniform(null),\r\n\t\t\t\tcurrentLuminanceBuffer: new Uniform(null),\r\n\t\t\t\tminLuminance: new Uniform(0.01),\r\n\t\t\t\tdeltaTime: new Uniform(0.0),\r\n\t\t\t\ttau: new Uniform(1.0)\r\n\t\t\t},\r\n\r\n\t\t\tfragmentShader,\r\n\t\t\tvertexShader,\r\n\r\n\t\t\tdepthWrite: false,\r\n\t\t\tdepthTest: false\r\n\r\n\t\t});\r\n\r\n\t\t/** @ignore */\r\n\t\tthis.toneMapped = false;\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$1 = \"uniform sampler2D inputBuffer;uniform sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;\\n#if PASS == 1\\nuniform vec4 kernel64[32];\\n#else\\nuniform vec4 kernel16[8];\\n#endif\\nvarying vec2 vUv;void main(){\\n#ifdef FOREGROUND\\nvec2 CoCNearFar=texture2D(cocBuffer,vUv).rg;float CoC=CoCNearFar.r*scale;\\n#else\\nfloat CoC=texture2D(cocBuffer,vUv).g*scale;\\n#endif\\nif(CoC==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{\\n#ifdef FOREGROUND\\nvec2 step=texelSize*max(CoC,CoCNearFar.g*scale);\\n#else\\nvec2 step=texelSize*CoC;\\n#endif\\n#if PASS == 1\\nvec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;\\n#else\\nvec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<8;++i){vec4 kernel=kernel16[i];vec2 uv=step*kernel.xy+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);uv=step*kernel.zw+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;\\n#endif\\n}}\";\r\n\r\n/**\r\n * A bokeh blur material.\r\n *\r\n * This material should be applied twice in a row, with `fill` mode enabled for\r\n * the second pass.\r\n *\r\n * Enabling the `foreground` option causes the shader to combine the near and\r\n * far CoC values around foreground objects.\r\n */\r\n\r\nclass BokehMaterial extends ShaderMaterial {\r\n\r\n\t/**\r\n\t * Constructs a new bokeh material.\r\n\t *\r\n\t * @param {Boolean} [fill=false] - Enables or disables the bokeh highlight fill mode.\r\n\t * @param {Boolean} [foreground=false] - Determines whether this material will be applied to foreground colors.\r\n\t */\r\n\r\n\tconstructor(fill = false, foreground = false) {\r\n\r\n\t\tsuper({\r\n\r\n\t\t\ttype: \"BokehMaterial\",\r\n\r\n\t\t\tdefines: {\r\n\t\t\t\tPASS: fill ? \"2\" : \"1\"\r\n\t\t\t},\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\tkernel64: new Uniform(null),\r\n\t\t\t\tkernel16: new Uniform(null),\r\n\t\t\t\tinputBuffer: new Uniform(null),\r\n\t\t\t\tcocBuffer: new Uniform(null),\r\n\t\t\t\ttexelSize: new Uniform(new Vector2$1()),\r\n\t\t\t\tscale: new Uniform(1.0)\r\n\t\t\t},\r\n\r\n\t\t\tfragmentShader: fragmentShader$1,\r\n\t\t\tvertexShader,\r\n\r\n\t\t\tdepthWrite: false,\r\n\t\t\tdepthTest: false\r\n\r\n\t\t});\r\n\r\n\t\t/** @ignore */\r\n\t\tthis.toneMapped = false;\r\n\r\n\t\tif(foreground) {\r\n\r\n\t\t\tthis.defines.FOREGROUND = \"1\";\r\n\r\n\t\t}\r\n\r\n\t\tthis.generateKernel();\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Generates the blur kernels.\r\n\t *\r\n\t * @private\r\n\t */\r\n\r\n\tgenerateKernel() {\r\n\r\n\t\tconst GOLDEN_ANGLE = 2.39996323;\r\n\t\tconst points64 = new Float32Array(128);\r\n\t\tconst points16 = new Float32Array(32);\r\n\r\n\t\tlet i64 = 0, i16 = 0;\r\n\r\n\t\tfor(let i = 0; i < 80; ++i) {\r\n\r\n\t\t\tconst theta = i * GOLDEN_ANGLE;\r\n\t\t\tconst r = Math.sqrt(i) / Math.sqrt(80);\r\n\t\t\tconst u = r * Math.cos(theta), v = r * Math.sin(theta);\r\n\r\n\t\t\tif(i % 5 === 0) {\r\n\r\n\t\t\t\tpoints16[i16++] = u;\r\n\t\t\t\tpoints16[i16++] = v;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tpoints64[i64++] = u;\r\n\t\t\t\tpoints64[i64++] = v;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Pack points into vec4 instances to reduce the uniform count.\r\n\t\tconst kernel64 = [];\r\n\t\tconst kernel16 = [];\r\n\r\n\t\tfor(let i = 0; i < 128;) {\r\n\r\n\t\t\tkernel64.push(new Vector4(\r\n\t\t\t\tpoints64[i++], points64[i++],\r\n\t\t\t\tpoints64[i++], points64[i++]\r\n\t\t\t));\r\n\r\n\t\t}\r\n\r\n\t\tfor(let i = 0; i < 32;) {\r\n\r\n\t\t\tkernel16.push(new Vector4(\r\n\t\t\t\tpoints16[i++], points16[i++],\r\n\t\t\t\tpoints16[i++], points16[i++]\r\n\t\t\t));\r\n\r\n\t\t}\r\n\r\n\t\tthis.uniforms.kernel64.value = kernel64;\r\n\t\tthis.uniforms.kernel16.value = kernel16;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the texel size.\r\n\t *\r\n\t * @param {Number} x - The texel width.\r\n\t * @param {Number} y - The texel height.\r\n\t */\r\n\r\n\tsetTexelSize(x, y) {\r\n\r\n\t\tthis.uniforms.texelSize.value.set(x, y);\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$2 = \"#include <common>\\n#include <packing>\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D depthBuffer;\\n#else\\nuniform mediump sampler2D depthBuffer;\\n#endif\\nuniform float focusDistance;uniform float focalLength;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){\\n#if DEPTH_PACKING == 3201\\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\\n#else\\nreturn texture2D(depthBuffer,uv).r;\\n#endif\\n}void main(){float depth=readDepth(vUv);\\n#ifdef PERSPECTIVE_CAMERA\\nfloat viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);\\n#else\\nfloat linearDepth=depth;\\n#endif\\nfloat signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focalLength,abs(signedDistance));gl_FragColor.rg=vec2(step(signedDistance,0.0)*magnitude,step(0.0,signedDistance)*magnitude);}\";\r\n\r\n/**\r\n * A CoC shader material.\r\n */\r\n\r\nclass CircleOfConfusionMaterial extends ShaderMaterial {\r\n\r\n\t/**\r\n\t * Constructs a new CoC material.\r\n\t *\r\n\t * @param {Camera} camera - A camera.\r\n\t */\r\n\r\n\tconstructor(camera) {\r\n\r\n\t\tsuper({\r\n\r\n\t\t\ttype: \"CircleOfConfusionMaterial\",\r\n\r\n\t\t\tdefines: {\r\n\t\t\t\tDEPTH_PACKING: \"0\"\r\n\t\t\t},\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\tdepthBuffer: new Uniform(null),\r\n\t\t\t\tfocusDistance: new Uniform(0.0),\r\n\t\t\t\tfocalLength: new Uniform(0.0),\r\n\t\t\t\tcameraNear: new Uniform(0.3),\r\n\t\t\t\tcameraFar: new Uniform(1000)\r\n\t\t\t},\r\n\r\n\t\t\tfragmentShader: fragmentShader$2,\r\n\t\t\tvertexShader,\r\n\r\n\t\t\tdepthWrite: false,\r\n\t\t\tdepthTest: false\r\n\r\n\t\t});\r\n\r\n\t\t/** @ignore */\r\n\t\tthis.toneMapped = false;\r\n\r\n\t\tthis.adoptCameraSettings(camera);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The current depth packing.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget depthPacking() {\r\n\r\n\t\treturn Number(this.defines.DEPTH_PACKING);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the depth packing.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset depthPacking(value) {\r\n\r\n\t\tthis.defines.DEPTH_PACKING = value.toFixed(0);\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Adopts the settings of the given camera.\r\n\t *\r\n\t * @param {Camera} [camera=null] - A camera.\r\n\t */\r\n\r\n\tadoptCameraSettings(camera = null) {\r\n\r\n\t\tif(camera !== null) {\r\n\r\n\t\t\tthis.uniforms.cameraNear.value = camera.near;\r\n\t\t\tthis.uniforms.cameraFar.value = camera.far;\r\n\r\n\t\t\tif(camera instanceof PerspectiveCamera) {\r\n\r\n\t\t\t\tthis.defines.PERSPECTIVE_CAMERA = \"1\";\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tdelete this.defines.PERSPECTIVE_CAMERA;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShaderColor = \"uniform sampler2D inputBuffer;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;void main(){const vec2 threshold=vec2(EDGE_THRESHOLD);vec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);}\";\r\n\r\nvar vertexShader$1 = \"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\\n#if EDGE_DETECTION_MODE != 0\\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\\n#endif\\nvoid main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);\\n#if EDGE_DETECTION_MODE != 0\\nvUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);\\n#endif\\ngl_Position=vec4(position.xy,1.0,1.0);}\";\r\n\r\n/**\r\n * A material that detects edges in a color texture.\r\n *\r\n * @deprecated Use EdgeDetectionMaterial instead.\r\n */\r\n\r\nclass ColorEdgesMaterial extends ShaderMaterial {\r\n\r\n\t/**\r\n\t * Constructs a new color edges material.\r\n\t *\r\n\t * @param {Vector2} [texelSize] - The absolute screen texel size.\r\n\t */\r\n\r\n\tconstructor(texelSize = new Vector2$1()) {\r\n\r\n\t\tsuper({\r\n\r\n\t\t\ttype: \"ColorEdgesMaterial\",\r\n\r\n\t\t\tdefines: {\r\n\t\t\t\tLOCAL_CONTRAST_ADAPTATION_FACTOR: \"2.0\",\r\n\t\t\t\tEDGE_THRESHOLD: \"0.1\"\r\n\t\t\t},\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\tinputBuffer: new Uniform(null),\r\n\t\t\t\ttexelSize: new Uniform(texelSize)\r\n\t\t\t},\r\n\r\n\t\t\tfragmentShader: fragmentShaderColor,\r\n\t\t\tvertexShader: vertexShader$1,\r\n\r\n\t\t\tdepthWrite: false,\r\n\t\t\tdepthTest: false\r\n\r\n\t\t});\r\n\r\n\t\t/** @ignore */\r\n\t\tthis.toneMapped = false;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the local contrast adaptation factor.\r\n\t *\r\n\t * If there is a neighbor edge that has _factor_ times bigger contrast than\r\n\t * the current edge, the edge will be discarded.\r\n\t *\r\n\t * This allows to eliminate spurious crossing edges and is based on the fact\r\n\t * that if there is too much contrast in a direction, the perceptual contrast\r\n\t * in the other neighbors will be hidden.\r\n\t *\r\n\t * @param {Number} factor - The local contrast adaptation factor. Default is 2.0.\r\n\t */\r\n\r\n\tsetLocalContrastAdaptationFactor(factor) {\r\n\r\n\t\tthis.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR = factor.toFixed(\"2\");\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the edge detection sensitivity.\r\n\t *\r\n\t * A lower value results in more edges being detected at the expense of\r\n\t * performance.\r\n\t *\r\n\t * 0.1 is a reasonable value, and allows to catch most visible edges.\r\n\t * 0.05 is a rather overkill value, that allows to catch 'em all.\r\n\t *\r\n\t * If temporal supersampling is used, 0.2 could be a reasonable value, as low\r\n\t * contrast edges are properly filtered by just 2x.\r\n\t *\r\n\t * @param {Number} threshold - The edge detection sensitivity. Range: [0.05, 0.5].\r\n\t */\r\n\r\n\tsetEdgeDetectionThreshold(threshold) {\r\n\r\n\t\tconst t = Math.min(Math.max(threshold, 0.05), 0.5);\r\n\t\tthis.defines.EDGE_THRESHOLD = t.toFixed(\"2\");\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$3 = \"#include <common>\\n#include <dithering_pars_fragment>\\nuniform sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;\\n#include <dithering_fragment>\\n}\";\r\n\r\nvar vertexShader$2 = \"uniform vec2 texelSize;uniform vec2 halfTexelSize;uniform float kernel;uniform float scale;/*Packing multiple texture coordinates into one varying and using a swizzle toextract them in the fragment shader still causes a dependent texture read.*/varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize*vec2(kernel)+halfTexelSize)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}\";\r\n\r\n/**\r\n * An optimised convolution shader material.\r\n *\r\n * This material supports dithering.\r\n *\r\n * Based on the GDC2003 Presentation by Masaki Kawase, Bunkasha Games:\r\n *  Frame Buffer Postprocessing Effects in DOUBLE-S.T.E.A.L (Wreckless)\r\n * and an article by Filip Strugar, Intel:\r\n *  An investigation of fast real-time GPU-based image blur algorithms\r\n *\r\n * Further modified according to Apple's\r\n * [Best Practices for Shaders](https://goo.gl/lmRoM5).\r\n *\r\n * @todo Remove dithering code from fragment shader.\r\n */\r\n\r\nclass ConvolutionMaterial extends ShaderMaterial {\r\n\r\n\t/**\r\n\t * Constructs a new convolution material.\r\n\t *\r\n\t * @param {Vector2} [texelSize] - The absolute screen texel size.\r\n\t */\r\n\r\n\tconstructor(texelSize = new Vector2$1()) {\r\n\r\n\t\tsuper({\r\n\r\n\t\t\ttype: \"ConvolutionMaterial\",\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\tinputBuffer: new Uniform(null),\r\n\t\t\t\ttexelSize: new Uniform(new Vector2$1()),\r\n\t\t\t\thalfTexelSize: new Uniform(new Vector2$1()),\r\n\t\t\t\tkernel: new Uniform(0.0),\r\n\t\t\t\tscale: new Uniform(1.0)\r\n\t\t\t},\r\n\r\n\t\t\tfragmentShader: fragmentShader$3,\r\n\t\t\tvertexShader: vertexShader$2,\r\n\r\n\t\t\tdepthWrite: false,\r\n\t\t\tdepthTest: false\r\n\r\n\t\t});\r\n\r\n\t\t/** @ignore */\r\n\t\tthis.toneMapped = false;\r\n\r\n\t\tthis.setTexelSize(texelSize.x, texelSize.y);\r\n\r\n\t\t/**\r\n\t\t * The current kernel size.\r\n\t\t *\r\n\t\t * @type {KernelSize}\r\n\t\t */\r\n\r\n\t\tthis.kernelSize = KernelSize.LARGE;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the kernel.\r\n\t *\r\n\t * @return {Float32Array} The kernel.\r\n\t */\r\n\r\n\tgetKernel() {\r\n\r\n\t\treturn kernelPresets[this.kernelSize];\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the texel size.\r\n\t *\r\n\t * @param {Number} x - The texel width.\r\n\t * @param {Number} y - The texel height.\r\n\t */\r\n\r\n\tsetTexelSize(x, y) {\r\n\r\n\t\tthis.uniforms.texelSize.value.set(x, y);\r\n\t\tthis.uniforms.halfTexelSize.value.set(x, y).multiplyScalar(0.5);\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * The Kawase blur kernel presets.\r\n *\r\n * @type {Float32Array[]}\r\n * @private\r\n */\r\n\r\nconst kernelPresets = [\r\n\tnew Float32Array([0.0, 0.0]),\r\n\tnew Float32Array([0.0, 1.0, 1.0]),\r\n\tnew Float32Array([0.0, 1.0, 1.0, 2.0]),\r\n\tnew Float32Array([0.0, 1.0, 2.0, 2.0, 3.0]),\r\n\tnew Float32Array([0.0, 1.0, 2.0, 3.0, 4.0, 4.0, 5.0]),\r\n\tnew Float32Array([0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 7.0, 8.0, 9.0, 10.0])\r\n];\r\n\r\n/**\r\n * A kernel size enumeration.\r\n *\r\n * @type {Object}\r\n * @property {Number} VERY_SMALL - A very small kernel that matches a 7x7 Gauss blur kernel.\r\n * @property {Number} SMALL - A small kernel that matches a 15x15 Gauss blur kernel.\r\n * @property {Number} MEDIUM - A medium sized kernel that matches a 23x23 Gauss blur kernel.\r\n * @property {Number} LARGE - A large kernel that matches a 35x35 Gauss blur kernel.\r\n * @property {Number} VERY_LARGE - A very large kernel that matches a 63x63 Gauss blur kernel.\r\n * @property {Number} HUGE - A huge kernel that matches a 127x127 Gauss blur kernel.\r\n */\r\n\r\nconst KernelSize = {\r\n\r\n\tVERY_SMALL: 0,\r\n\tSMALL: 1,\r\n\tMEDIUM: 2,\r\n\tLARGE: 3,\r\n\tVERY_LARGE: 4,\r\n\tHUGE: 5\r\n\r\n};\r\n\r\nvar fragmentShader$4 = \"uniform sampler2D inputBuffer;uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;\\n#include <encodings_fragment>\\n}\";\r\n\r\n/**\r\n * A simple copy shader material.\r\n */\r\n\r\nclass CopyMaterial extends ShaderMaterial {\r\n\r\n\t/**\r\n\t * Constructs a new copy material.\r\n\t */\r\n\r\n\tconstructor() {\r\n\r\n\t\tsuper({\r\n\r\n\t\t\ttype: \"CopyMaterial\",\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\tinputBuffer: new Uniform(null),\r\n\t\t\t\topacity: new Uniform(1.0)\r\n\t\t\t},\r\n\r\n\t\t\tfragmentShader: fragmentShader$4,\r\n\t\t\tvertexShader,\r\n\r\n\t\t\tdepthWrite: false,\r\n\t\t\tdepthTest: false\r\n\r\n\t\t});\r\n\r\n\t\t/** @ignore */\r\n\t\tthis.toneMapped = false;\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$5 = \"#include <packing>\\n#include <clipping_planes_pars_fragment>\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D depthBuffer;\\n#else\\nuniform mediump sampler2D depthBuffer;\\n#endif\\nuniform float cameraNear;uniform float cameraFar;varying float vViewZ;varying vec4 vProjTexCoord;void main(){\\n#include <clipping_planes_fragment>\\nvec2 projTexCoord=(vProjTexCoord.xy/vProjTexCoord.w)*0.5+0.5;projTexCoord=clamp(projTexCoord,0.002,0.998);float fragCoordZ=unpackRGBAToDepth(texture2D(depthBuffer,projTexCoord));\\n#ifdef PERSPECTIVE_CAMERA\\nfloat viewZ=perspectiveDepthToViewZ(fragCoordZ,cameraNear,cameraFar);\\n#else\\nfloat viewZ=orthographicDepthToViewZ(fragCoordZ,cameraNear,cameraFar);\\n#endif\\nfloat depthTest=(-vViewZ>-viewZ)? 1.0 : 0.0;gl_FragColor.rg=vec2(0.0,depthTest);}\";\r\n\r\nvar vertexShader$3 = \"#include <common>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying float vViewZ;varying vec4 vProjTexCoord;void main(){\\n#include <skinbase_vertex>\\n#include <begin_vertex>\\n#include <morphtarget_vertex>\\n#include <skinning_vertex>\\n#include <project_vertex>\\nvViewZ=mvPosition.z;vProjTexCoord=gl_Position;\\n#include <clipping_planes_vertex>\\n}\";\r\n\r\n/**\r\n * A depth comparison shader material.\r\n */\r\n\r\nclass DepthComparisonMaterial extends ShaderMaterial {\r\n\r\n\t/**\r\n\t * Constructs a new depth comparison material.\r\n\t *\r\n\t * @param {Texture} [depthTexture=null] - A depth texture.\r\n\t * @param {PerspectiveCamera} [camera] - A camera.\r\n\t */\r\n\r\n\tconstructor(depthTexture = null, camera) {\r\n\r\n\t\tsuper({\r\n\r\n\t\t\ttype: \"DepthComparisonMaterial\",\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\tdepthBuffer: new Uniform(depthTexture),\r\n\t\t\t\tcameraNear: new Uniform(0.3),\r\n\t\t\t\tcameraFar: new Uniform(1000)\r\n\t\t\t},\r\n\r\n\t\t\tfragmentShader: fragmentShader$5,\r\n\t\t\tvertexShader: vertexShader$3,\r\n\r\n\t\t\tdepthWrite: false,\r\n\t\t\tdepthTest: false,\r\n\r\n\t\t\tmorphTargets: true,\r\n\t\t\tskinning: true\r\n\r\n\t\t});\r\n\r\n\t\t/** @ignore */\r\n\t\tthis.toneMapped = false;\r\n\r\n\t\tthis.adoptCameraSettings(camera);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Adopts the settings of the given camera.\r\n\t *\r\n\t * @param {Camera} [camera=null] - A camera.\r\n\t */\r\n\r\n\tadoptCameraSettings(camera = null) {\r\n\r\n\t\tif(camera !== null) {\r\n\r\n\t\t\tthis.uniforms.cameraNear.value = camera.near;\r\n\t\t\tthis.uniforms.cameraFar.value = camera.far;\r\n\r\n\t\t\tif(camera instanceof PerspectiveCamera) {\r\n\r\n\t\t\t\tthis.defines.PERSPECTIVE_CAMERA = \"1\";\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tdelete this.defines.PERSPECTIVE_CAMERA;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$6 = \"#include <packing>\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D depthBuffer;\\n#else\\nuniform mediump sampler2D depthBuffer;\\n#endif\\n#ifdef DOWNSAMPLE_NORMALS\\nuniform sampler2D normalBuffer;\\n#endif\\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){\\n#if DEPTH_PACKING == 3201\\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\\n#else\\nreturn texture2D(depthBuffer,uv).r;\\n#endif\\n}/***Returns the index of the most representative depth in the 2x2 neighborhood.*/int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])/4.0;float distances[4]=float[](abs(c-samples[0]),abs(c-samples[1]),abs(c-samples[2]),abs(c-samples[3]));float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4]=float[](readDepth(vUv0),readDepth(vUv1),readDepth(vUv2),readDepth(vUv3));int index=findBestDepth(d);\\n#ifdef DOWNSAMPLE_NORMALS\\nvec2 uvs[4]=vec2[](vUv0,vUv1,vUv2,vUv3);vec3 n=texture2D(normalBuffer,uvs[index]).rgb;\\n#else\\nvec3 n=vec3(0.0);\\n#endif\\ngl_FragColor=vec4(n,d[index]);}\";\r\n\r\nvar vertexShader$4 = \"uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}\";\r\n\r\n/**\r\n * A depth downsampling shader material.\r\n *\r\n * Based on an article by Eleni Maria Stea:\r\n * https://eleni.mutantstargoat.com/hikiko/depth-aware-upsampling-6\r\n */\r\n\r\nclass DepthDownsamplingMaterial extends ShaderMaterial {\r\n\r\n\t/**\r\n\t * Constructs a new depth downsampling material.\r\n\t */\r\n\r\n\tconstructor() {\r\n\r\n\t\tsuper({\r\n\r\n\t\t\ttype: \"DepthDownsamplingMaterial\",\r\n\r\n\t\t\tdefines: {\r\n\t\t\t\tDEPTH_PACKING: \"0\"\r\n\t\t\t},\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\tdepthBuffer: new Uniform(null),\r\n\t\t\t\tnormalBuffer: new Uniform(null),\r\n\t\t\t\ttexelSize: new Uniform(new Vector2$1())\r\n\t\t\t},\r\n\r\n\t\t\tfragmentShader: fragmentShader$6,\r\n\t\t\tvertexShader: vertexShader$4,\r\n\r\n\t\t\tdepthWrite: false,\r\n\t\t\tdepthTest: false\r\n\r\n\t\t});\r\n\r\n\t\t/** @ignore */\r\n\t\tthis.toneMapped = false;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The depth packing of the source depth buffer.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget depthPacking() {\r\n\r\n\t\treturn Number(this.defines.DEPTH_PACKING);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the depth packing.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset depthPacking(value) {\r\n\r\n\t\tthis.defines.DEPTH_PACKING = value.toFixed(0);\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the texel size.\r\n\t *\r\n\t * @param {Number} x - The texel width.\r\n\t * @param {Number} y - The texel height.\r\n\t */\r\n\r\n\tsetTexelSize(x, y) {\r\n\r\n\t\tthis.uniforms.texelSize.value.set(x, y);\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$7 = \"#include <common>\\n#include <packing>\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D depthBuffer0;uniform highp sampler2D depthBuffer1;\\n#else\\nuniform mediump sampler2D depthBuffer0;uniform mediump sampler2D depthBuffer1;\\n#endif\\nuniform sampler2D inputBuffer;varying vec2 vUv;void main(){\\n#if DEPTH_PACKING_0 == 3201\\nfloat d0=unpackRGBAToDepth(texture2D(depthBuffer0,vUv));\\n#else\\nfloat d0=texture2D(depthBuffer0,vUv).r;\\n#endif\\n#if DEPTH_PACKING_1 == 3201\\nfloat d1=unpackRGBAToDepth(texture2D(depthBuffer1,vUv));\\n#else\\nfloat d1=texture2D(depthBuffer1,vUv).r;\\n#endif\\nif(d0<d1){discard;}gl_FragColor=texture2D(inputBuffer,vUv);}\";\r\n\r\n/**\r\n * A depth mask shader material.\r\n *\r\n * This material masks a color buffer by comparing two depth textures.\r\n */\r\n\r\nclass DepthMaskMaterial extends ShaderMaterial {\r\n\r\n\t/**\r\n\t * Constructs a new depth mask material.\r\n\t */\r\n\r\n\tconstructor() {\r\n\r\n\t\tsuper({\r\n\r\n\t\t\ttype: \"DepthMaskMaterial\",\r\n\r\n\t\t\tdefines: {\r\n\t\t\t\tDEPTH_PACKING_0: \"0\",\r\n\t\t\t\tDEPTH_PACKING_1: \"0\"\r\n\t\t\t},\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\tdepthBuffer0: new Uniform(null),\r\n\t\t\t\tdepthBuffer1: new Uniform(null),\r\n\t\t\t\tinputBuffer: new Uniform(null)\r\n\t\t\t},\r\n\r\n\t\t\tfragmentShader: fragmentShader$7,\r\n\t\t\tvertexShader,\r\n\r\n\t\t\tdepthWrite: false,\r\n\t\t\tdepthTest: false\r\n\r\n\t\t});\r\n\r\n\t\t/** @ignore */\r\n\t\tthis.toneMapped = false;\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShaderDepth = \"#include <packing>\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D depthBuffer;\\n#else\\nuniform mediump sampler2D depthBuffer;\\n#endif\\nvarying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;float readDepth(const in vec2 uv){\\n#if DEPTH_PACKING == 3201\\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\\n#else\\nreturn texture2D(depthBuffer,uv).r;\\n#endif\\n}/***Gathers the current texel,and the top-left neighbors.*/vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}void main(){const vec2 threshold=vec2(DEPTH_THRESHOLD);vec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);}\";\r\n\r\nvar fragmentShaderLuma = \"#include <common>\\nuniform sampler2D inputBuffer;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;void main(){const vec2 threshold=vec2(EDGE_THRESHOLD);float l=linearToRelativeLuminance(texture2D(inputBuffer,vUv).rgb);float lLeft=linearToRelativeLuminance(texture2D(inputBuffer,vUv0).rgb);float lTop=linearToRelativeLuminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=linearToRelativeLuminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=linearToRelativeLuminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=linearToRelativeLuminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=linearToRelativeLuminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);}\";\r\n\r\n/**\r\n * An edge detection material.\r\n *\r\n * Mainly used for Subpixel Morphological Antialiasing.\r\n */\r\n\r\nclass EdgeDetectionMaterial extends ShaderMaterial {\r\n\r\n\t/**\r\n\t * Constructs a new edge detection material.\r\n\t *\r\n\t * @param {Vector2} [texelSize] - The screen texel size.\r\n\t * @param {EdgeDetectionMode} [mode=EdgeDetectionMode.COLOR] - The edge detection mode.\r\n\t * @todo Remove texelSize parameter.\r\n\t */\r\n\r\n\tconstructor(texelSize = new Vector2$1(), mode = EdgeDetectionMode.COLOR) {\r\n\r\n\t\tsuper({\r\n\r\n\t\t\ttype: \"EdgeDetectionMaterial\",\r\n\r\n\t\t\tdefines: {\r\n\t\t\t\tLOCAL_CONTRAST_ADAPTATION_FACTOR: \"2.0\",\r\n\t\t\t\tEDGE_THRESHOLD: \"0.1\",\r\n\t\t\t\tDEPTH_THRESHOLD: \"0.01\",\r\n\t\t\t\tDEPTH_PACKING: \"0\"\r\n\t\t\t},\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\tinputBuffer: new Uniform(null),\r\n\t\t\t\tdepthBuffer: new Uniform(null),\r\n\t\t\t\ttexelSize: new Uniform(texelSize)\r\n\t\t\t},\r\n\r\n\t\t\tvertexShader: vertexShader$1,\r\n\t\t\tdepthWrite: false,\r\n\t\t\tdepthTest: false\r\n\r\n\t\t});\r\n\r\n\t\t/** @ignore */\r\n\t\tthis.toneMapped = false;\r\n\r\n\t\tthis.setEdgeDetectionMode(mode);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The current depth packing.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget depthPacking() {\r\n\r\n\t\treturn Number(this.defines.DEPTH_PACKING);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the depth packing.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset depthPacking(value) {\r\n\r\n\t\tthis.defines.DEPTH_PACKING = value.toFixed(0);\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the edge detection mode.\r\n\t *\r\n\t * Warning: If you intend to change the edge detection mode at runtime, make\r\n\t * sure that {@link EffectPass.needsDepthTexture} is set to `true` _before_\r\n\t * the EffectPass is added to the composer.\r\n\t *\r\n\t * @param {EdgeDetectionMode} mode - The edge detection mode.\r\n\t */\r\n\r\n\tsetEdgeDetectionMode(mode) {\r\n\r\n\t\tswitch(mode) {\r\n\r\n\t\t\tcase EdgeDetectionMode.DEPTH:\r\n\t\t\t\tthis.fragmentShader = fragmentShaderDepth;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase EdgeDetectionMode.LUMA:\r\n\t\t\t\tthis.fragmentShader = fragmentShaderLuma;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase EdgeDetectionMode.COLOR:\r\n\t\t\tdefault:\r\n\t\t\t\tthis.fragmentShader = fragmentShaderColor;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tthis.defines.EDGE_DETECTION_MODE = mode.toFixed(0);\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the local contrast adaptation factor. Has no effect if the edge\r\n\t * detection mode is set to DEPTH.\r\n\t *\r\n\t * If there is a neighbor edge that has _factor_ times bigger contrast than\r\n\t * the current edge, the edge will be discarded.\r\n\t *\r\n\t * This allows to eliminate spurious crossing edges and is based on the fact\r\n\t * that if there is too much contrast in a direction, the perceptual contrast\r\n\t * in the other neighbors will be hidden.\r\n\t *\r\n\t * @param {Number} factor - The local contrast adaptation factor. Default is 2.0.\r\n\t */\r\n\r\n\tsetLocalContrastAdaptationFactor(factor) {\r\n\r\n\t\tthis.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR = factor.toFixed(\"2\");\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the edge detection sensitivity.\r\n\t *\r\n\t * A lower value results in more edges being detected at the expense of\r\n\t * performance.\r\n\t *\r\n\t * 0.1 is a reasonable value, and allows to catch most visible edges.\r\n\t * 0.05 is a rather overkill value, that allows to catch 'em all.\r\n\t *\r\n\t * If temporal supersampling is used, 0.2 could be a reasonable value, as low\r\n\t * contrast edges are properly filtered by just 2x.\r\n\t *\r\n\t * @param {Number} threshold - The edge detection sensitivity. Range: [0.05, 0.5].\r\n\t */\r\n\r\n\tsetEdgeDetectionThreshold(threshold) {\r\n\r\n\t\tconst t = Math.min(Math.max(threshold, 0.05), 0.5);\r\n\r\n\t\tthis.defines.EDGE_THRESHOLD = t.toFixed(\"2\");\r\n\t\tthis.defines.DEPTH_THRESHOLD = (t * 0.1).toFixed(\"3\");\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * An enumeration of edge detection modes.\r\n *\r\n * @type {Object}\r\n * @property {Number} DEPTH - Depth-based edge detection.\r\n * @property {Number} LUMA - Luminance-based edge detection.\r\n * @property {Number} COLOR - Chroma-based edge detection.\r\n */\r\n\r\nconst EdgeDetectionMode = {\r\n\r\n\tDEPTH: 0,\r\n\tLUMA: 1,\r\n\tCOLOR: 2\r\n\r\n};\r\n\r\nvar fragmentTemplate = \"#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\nuniform sampler2D inputBuffer;\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D depthBuffer;\\n#else\\nuniform mediump sampler2D depthBuffer;\\n#endif\\nuniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;float readDepth(const in vec2 uv){\\n#if DEPTH_PACKING == 3201\\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\\n#else\\nreturn texture2D(depthBuffer,uv).r;\\n#endif\\n}float getViewZ(const in float depth){\\n#ifdef PERSPECTIVE_CAMERA\\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\\n#else\\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\\n#endif\\n}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;\\n#ifdef ENCODE_OUTPUT\\n#include <encodings_fragment>\\n#endif\\n#include <dithering_fragment>\\n}\";\r\n\r\nvar vertexTemplate = \"uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}\";\r\n\r\n/**\r\n * An effect material for compound shaders.\r\n *\r\n * This material supports dithering.\r\n *\r\n * @implements {Resizable}\r\n */\r\n\r\nclass EffectMaterial extends ShaderMaterial {\r\n\r\n\t/**\r\n\t * Constructs a new effect material.\r\n\t *\r\n\t * @param {Map<String, String>} [shaderParts=null] - A collection of shader snippets. See {@link Section}.\r\n\t * @param {Map<String, String>} [defines=null] - A collection of preprocessor macro definitions.\r\n\t * @param {Map<String, Uniform>} [uniforms=null] - A collection of uniforms.\r\n\t * @param {Camera} [camera=null] - A camera.\r\n\t * @param {Boolean} [dithering=false] - Whether dithering should be enabled.\r\n\t */\r\n\r\n\tconstructor(shaderParts = null, defines = null, uniforms = null, camera = null, dithering = false) {\r\n\r\n\t\tsuper({\r\n\r\n\t\t\ttype: \"EffectMaterial\",\r\n\r\n\t\t\tdefines: {\r\n\t\t\t\tDEPTH_PACKING: \"0\",\r\n\t\t\t\tENCODE_OUTPUT: \"1\"\r\n\t\t\t},\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\tinputBuffer: new Uniform(null),\r\n\t\t\t\tdepthBuffer: new Uniform(null),\r\n\t\t\t\tresolution: new Uniform(new Vector2$1()),\r\n\t\t\t\ttexelSize: new Uniform(new Vector2$1()),\r\n\t\t\t\tcameraNear: new Uniform(0.3),\r\n\t\t\t\tcameraFar: new Uniform(1000.0),\r\n\t\t\t\taspect: new Uniform(1.0),\r\n\t\t\t\ttime: new Uniform(0.0)\r\n\t\t\t},\r\n\r\n\t\t\tdepthWrite: false,\r\n\t\t\tdepthTest: false,\r\n\t\t\tdithering\r\n\r\n\t\t});\r\n\r\n\t\t/** @ignore */\r\n\t\tthis.toneMapped = false;\r\n\r\n\t\tif(shaderParts !== null) {\r\n\r\n\t\t\tthis.setShaderParts(shaderParts);\r\n\r\n\t\t}\r\n\r\n\t\tif(defines !== null) {\r\n\r\n\t\t\tthis.setDefines(defines);\r\n\r\n\t\t}\r\n\r\n\t\tif(uniforms !== null) {\r\n\r\n\t\t\tthis.setUniforms(uniforms);\r\n\r\n\t\t}\r\n\r\n\t\tthis.adoptCameraSettings(camera);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The current depth packing.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget depthPacking() {\r\n\r\n\t\treturn Number(this.defines.DEPTH_PACKING);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the depth packing.\r\n\t *\r\n\t * Use `BasicDepthPacking` or `RGBADepthPacking` if your depth texture\r\n\t * contains packed depth.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset depthPacking(value) {\r\n\r\n\t\tthis.defines.DEPTH_PACKING = value.toFixed(0);\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the shader parts.\r\n\t *\r\n\t * @param {Map<String, String>} shaderParts - A collection of shader snippets. See {@link Section}.\r\n\t * @return {EffectMaterial} This material.\r\n\t */\r\n\r\n\tsetShaderParts(shaderParts) {\r\n\r\n\t\tthis.fragmentShader = fragmentTemplate\r\n\t\t\t.replace(Section.FRAGMENT_HEAD, shaderParts.get(Section.FRAGMENT_HEAD))\r\n\t\t\t.replace(Section.FRAGMENT_MAIN_UV, shaderParts.get(Section.FRAGMENT_MAIN_UV))\r\n\t\t\t.replace(Section.FRAGMENT_MAIN_IMAGE, shaderParts.get(Section.FRAGMENT_MAIN_IMAGE));\r\n\r\n\t\tthis.vertexShader = vertexTemplate\r\n\t\t\t.replace(Section.VERTEX_HEAD, shaderParts.get(Section.VERTEX_HEAD))\r\n\t\t\t.replace(Section.VERTEX_MAIN_SUPPORT, shaderParts.get(Section.VERTEX_MAIN_SUPPORT));\r\n\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the shader macros.\r\n\t *\r\n\t * @param {Map<String, String>} defines - A collection of preprocessor macro definitions.\r\n\t * @return {EffectMaterial} This material.\r\n\t */\r\n\r\n\tsetDefines(defines) {\r\n\r\n\t\tfor(const entry of defines.entries()) {\r\n\r\n\t\t\tthis.defines[entry[0]] = entry[1];\r\n\r\n\t\t}\r\n\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the shader uniforms.\r\n\t *\r\n\t * @param {Map<String, Uniform>} uniforms - A collection of uniforms.\r\n\t * @return {EffectMaterial} This material.\r\n\t */\r\n\r\n\tsetUniforms(uniforms) {\r\n\r\n\t\tfor(const entry of uniforms.entries()) {\r\n\r\n\t\t\tthis.uniforms[entry[0]] = entry[1];\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Adopts the settings of the given camera.\r\n\t *\r\n\t * @param {Camera} [camera=null] - A camera.\r\n\t */\r\n\r\n\tadoptCameraSettings(camera = null) {\r\n\r\n\t\tif(camera !== null) {\r\n\r\n\t\t\tthis.uniforms.cameraNear.value = camera.near;\r\n\t\t\tthis.uniforms.cameraFar.value = camera.far;\r\n\r\n\t\t\tif(camera instanceof PerspectiveCamera) {\r\n\r\n\t\t\t\tthis.defines.PERSPECTIVE_CAMERA = \"1\";\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tdelete this.defines.PERSPECTIVE_CAMERA;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the resolution.\r\n\t *\r\n\t * @param {Number} width - The width.\r\n\t * @param {Number} height - The height.\r\n\t */\r\n\r\n\tsetSize(width, height) {\r\n\r\n\t\tconst w = Math.max(width, 1);\r\n\t\tconst h = Math.max(height, 1);\r\n\r\n\t\tthis.uniforms.resolution.value.set(w, h);\r\n\t\tthis.uniforms.texelSize.value.set(1.0 / w, 1.0 / h);\r\n\t\tthis.uniforms.aspect.value = w / h;\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * An enumeration of shader code placeholders used by the {@link EffectPass}.\r\n *\r\n * @type {Object}\r\n * @property {String} FRAGMENT_HEAD - A placeholder for function and variable declarations inside the fragment shader.\r\n * @property {String} FRAGMENT_MAIN_UV - A placeholder for UV transformations inside the fragment shader.\r\n * @property {String} FRAGMENT_MAIN_IMAGE - A placeholder for color calculations inside the fragment shader.\r\n * @property {String} VERTEX_HEAD - A placeholder for function and variable declarations inside the vertex shader.\r\n * @property {String} VERTEX_MAIN_SUPPORT - A placeholder for supporting calculations inside the vertex shader.\r\n */\r\n\r\nconst Section = {\r\n\r\n\tFRAGMENT_HEAD: \"FRAGMENT_HEAD\",\r\n\tFRAGMENT_MAIN_UV: \"FRAGMENT_MAIN_UV\",\r\n\tFRAGMENT_MAIN_IMAGE: \"FRAGMENT_MAIN_IMAGE\",\r\n\tVERTEX_HEAD: \"VERTEX_HEAD\",\r\n\tVERTEX_MAIN_SUPPORT: \"VERTEX_MAIN_SUPPORT\"\r\n\r\n};\r\n\r\nvar fragmentShader$8 = \"#include <common>\\n#include <dithering_pars_fragment>\\nuniform sampler2D inputBuffer;uniform vec2 lightPosition;uniform float exposure;uniform float decay;uniform float density;uniform float weight;uniform float clampMax;varying vec2 vUv;void main(){vec2 coord=vUv;vec2 delta=lightPosition-coord;delta*=1.0/SAMPLES_FLOAT*density;float illuminationDecay=1.0;vec4 color=vec4(0.0);/*Estimate the probability of occlusion at each pixel by summing samplesalong a ray to the light position.*/for(int i=0;i<SAMPLES_INT;++i){coord+=delta;vec4 texel=texture2D(inputBuffer,coord);texel*=illuminationDecay*weight;color+=texel;illuminationDecay*=decay;}gl_FragColor=clamp(color*exposure,0.0,clampMax);\\n#include <dithering_fragment>\\n}\";\r\n\r\n/**\r\n * A crepuscular rays shader material.\r\n *\r\n * This material supports dithering.\r\n *\r\n * References:\r\n *\r\n * Thibaut Despoulain, 2012:\r\n *  [(WebGL) Volumetric Light Approximation in Three.js](\r\n *  http://bkcore.com/blog/3d/webgl-three-js-volumetric-light-godrays.html)\r\n *\r\n * Nvidia, GPU Gems 3, 2008:\r\n *  [Chapter 13. Volumetric Light Scattering as a Post-Process](\r\n *  https://developer.nvidia.com/gpugems/GPUGems3/gpugems3_ch13.html)\r\n *\r\n * @todo Remove dithering code from fragment shader.\r\n */\r\n\r\nclass GodRaysMaterial extends ShaderMaterial {\r\n\r\n\t/**\r\n\t * Constructs a new god rays material.\r\n\t *\r\n\t * @param {Vector2} lightPosition - The light position in screen space.\r\n\t */\r\n\r\n\tconstructor(lightPosition) {\r\n\r\n\t\tsuper({\r\n\r\n\t\t\ttype: \"GodRaysMaterial\",\r\n\r\n\t\t\tdefines: {\r\n\t\t\t\tSAMPLES_INT: \"60\",\r\n\t\t\t\tSAMPLES_FLOAT: \"60.0\"\r\n\t\t\t},\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\tinputBuffer: new Uniform(null),\r\n\t\t\t\tlightPosition: new Uniform(lightPosition),\r\n\t\t\t\tdensity: new Uniform(1.0),\r\n\t\t\t\tdecay: new Uniform(1.0),\r\n\t\t\t\tweight: new Uniform(1.0),\r\n\t\t\t\texposure: new Uniform(1.0),\r\n\t\t\t\tclampMax: new Uniform(1.0)\r\n\t\t\t},\r\n\r\n\t\t\tfragmentShader: fragmentShader$8,\r\n\t\t\tvertexShader,\r\n\r\n\t\t\tdepthWrite: false,\r\n\t\t\tdepthTest: false\r\n\r\n\t\t});\r\n\r\n\t\t/** @ignore */\r\n\t\tthis.toneMapped = false;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The amount of samples per pixel.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget samples() {\r\n\r\n\t\treturn Number(this.defines.SAMPLES_INT);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the amount of samples per pixel.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset samples(value) {\r\n\r\n\t\tconst s = Math.floor(value);\r\n\r\n\t\tthis.defines.SAMPLES_INT = s.toFixed(0);\r\n\t\tthis.defines.SAMPLES_FLOAT = s.toFixed(1);\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$9 = \"#include <common>\\nuniform sampler2D inputBuffer;\\n#ifdef RANGE\\nuniform vec2 range;\\n#elif defined(THRESHOLD)\\nuniform float threshold;uniform float smoothing;\\n#endif\\nvarying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=linearToRelativeLuminance(texel.rgb);\\n#ifdef RANGE\\nfloat low=step(range.x,l);float high=step(l,range.y);l*=low*high;\\n#elif defined(THRESHOLD)\\nl=smoothstep(threshold,threshold+smoothing,l);\\n#endif\\n#ifdef COLOR\\ngl_FragColor=vec4(texel.rgb*l,l);\\n#else\\ngl_FragColor=vec4(l);\\n#endif\\n}\";\r\n\r\n/**\r\n * A luminance shader material.\r\n *\r\n * This shader produces a greyscale luminance map that describes the absolute\r\n * amount of light emitted by a scene. It can also be configured to output\r\n * colours that are scaled with their respective luminance value. Additionally,\r\n * a range may be provided to mask out undesired texels.\r\n *\r\n * The alpha channel always contains the luminance value.\r\n *\r\n * On luminance coefficients:\r\n *  http://www.poynton.com/notes/colour_and_gamma/ColorFAQ.html#RTFToC9\r\n *\r\n * Coefficients for different colour spaces:\r\n *  https://hsto.org/getpro/habr/post_images/2ab/69d/084/2ab69d084f9a597e032624bcd74d57a7.png\r\n *\r\n * Luminance range reference:\r\n *  https://cycling74.com/2007/05/23/your-first-shader/#.Vty9FfkrL4Z\r\n */\r\n\r\nclass LuminanceMaterial extends ShaderMaterial {\r\n\r\n\t/**\r\n\t * Constructs a new luminance material.\r\n\t *\r\n\t * @param {Boolean} [colorOutput=false] - Defines whether the shader should output colors scaled with their luminance value.\r\n\t * @param {Vector2} [luminanceRange] - If provided, the shader will mask out texels that aren't in the specified luminance range.\r\n\t */\r\n\r\n\tconstructor(colorOutput = false, luminanceRange = null) {\r\n\r\n\t\tconst useRange = (luminanceRange !== null);\r\n\r\n\t\tsuper({\r\n\r\n\t\t\ttype: \"LuminanceMaterial\",\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\tinputBuffer: new Uniform(null),\r\n\t\t\t\tthreshold: new Uniform(0.0),\r\n\t\t\t\tsmoothing: new Uniform(1.0),\r\n\t\t\t\trange: new Uniform(useRange ? luminanceRange : new Vector2$1())\r\n\t\t\t},\r\n\r\n\t\t\tfragmentShader: fragmentShader$9,\r\n\t\t\tvertexShader,\r\n\r\n\t\t\tdepthWrite: false,\r\n\t\t\tdepthTest: false\r\n\r\n\t\t});\r\n\r\n\t\t/** @ignore */\r\n\t\tthis.toneMapped = false;\r\n\r\n\t\tthis.colorOutput = colorOutput;\r\n\t\tthis.useThreshold = true;\r\n\t\tthis.useRange = useRange;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The luminance threshold.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget threshold() {\r\n\r\n\t\treturn this.uniforms.threshold.value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the luminance threshold.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset threshold(value) {\r\n\r\n\t\tthis.uniforms.threshold.value = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The luminance threshold smoothing.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget smoothing() {\r\n\r\n\t\treturn this.uniforms.smoothing.value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the luminance threshold smoothing.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset smoothing(value) {\r\n\r\n\t\tthis.uniforms.smoothing.value = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether the luminance threshold is enabled.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget useThreshold() {\r\n\r\n\t\treturn (this.defines.THRESHOLD !== undefined);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables the luminance threshold.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset useThreshold(value) {\r\n\r\n\t\tif(value) {\r\n\r\n\t\t\tthis.defines.THRESHOLD = \"1\";\r\n\r\n\t\t} else {\r\n\r\n\t\t\tdelete this.defines.THRESHOLD;\r\n\r\n\t\t}\r\n\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether color output is enabled.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget colorOutput() {\r\n\r\n\t\treturn (this.defines.COLOR !== undefined);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables color output.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset colorOutput(value) {\r\n\r\n\t\tif(value) {\r\n\r\n\t\t\tthis.defines.COLOR = \"1\";\r\n\r\n\t\t} else {\r\n\r\n\t\t\tdelete this.defines.COLOR;\r\n\r\n\t\t}\r\n\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables color output.\r\n\t *\r\n\t * @deprecated Use colorOutput instead.\r\n\t * @param {Boolean} enabled - Whether color output should be enabled.\r\n\t */\r\n\r\n\tsetColorOutputEnabled(enabled) {\r\n\r\n\t\tthis.colorOutput = enabled;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether luminance masking is enabled.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget useRange() {\r\n\r\n\t\treturn (this.defines.RANGE !== undefined);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables luminance masking.\r\n\t *\r\n\t * If enabled, the threshold will be ignored.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset useRange(value) {\r\n\r\n\t\tif(value) {\r\n\r\n\t\t\tthis.defines.RANGE = \"1\";\r\n\r\n\t\t} else {\r\n\r\n\t\t\tdelete this.defines.RANGE;\r\n\r\n\t\t}\r\n\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether luminance masking is enabled.\r\n\t *\r\n\t * @type {Boolean}\r\n\t * @deprecated Use useRange instead.\r\n\t */\r\n\r\n\tget luminanceRange() {\r\n\r\n\t\treturn this.useRange;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables luminance masking.\r\n\t *\r\n\t * @type {Boolean}\r\n\t * @deprecated Use useRange instead.\r\n\t */\r\n\r\n\tset luminanceRange(value) {\r\n\r\n\t\tthis.useRange = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables the luminance mask.\r\n\t *\r\n\t * @deprecated Use luminanceRange instead.\r\n\t * @param {Boolean} enabled - Whether the luminance mask should be enabled.\r\n\t */\r\n\r\n\tsetLuminanceRangeEnabled(enabled) {\r\n\r\n\t\tthis.useRange = enabled;\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$a = \"uniform sampler2D maskTexture;uniform sampler2D inputBuffer;\\n#if MASK_FUNCTION != 0\\nuniform float strength;\\n#endif\\nvarying vec2 vUv;void main(){\\n#if COLOR_CHANNEL == 0\\nfloat mask=texture2D(maskTexture,vUv).r;\\n#elif COLOR_CHANNEL == 1\\nfloat mask=texture2D(maskTexture,vUv).g;\\n#elif COLOR_CHANNEL == 2\\nfloat mask=texture2D(maskTexture,vUv).b;\\n#else\\nfloat mask=texture2D(maskTexture,vUv).a;\\n#endif\\n#if MASK_FUNCTION == 0\\n#ifdef INVERTED\\nif(mask>0.0){discard;}\\n#else\\nif(mask==0.0){discard;}\\n#endif\\n#else\\nmask=clamp(mask*strength,0.0,1.0);\\n#ifdef INVERTED\\nmask=(1.0-mask);\\n#endif\\n#if MASK_FUNCTION == 1\\ngl_FragColor=mask*texture2D(inputBuffer,vUv);\\n#else\\ngl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);\\n#endif\\n#endif\\n}\";\r\n\r\n/**\r\n * A mask shader material.\r\n *\r\n * This material applies a mask texture to a buffer.\r\n */\r\n\r\nclass MaskMaterial extends ShaderMaterial {\r\n\r\n\t/**\r\n\t * Constructs a new mask material.\r\n\t *\r\n\t * @param {Texture} [maskTexture] - The mask texture.\r\n\t */\r\n\r\n\tconstructor(maskTexture = null) {\r\n\r\n\t\tsuper({\r\n\r\n\t\t\ttype: \"MaskMaterial\",\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\tmaskTexture: new Uniform(maskTexture),\r\n\t\t\t\tinputBuffer: new Uniform(null),\r\n\t\t\t\tstrength: new Uniform(1.0)\r\n\t\t\t},\r\n\r\n\t\t\tfragmentShader: fragmentShader$a,\r\n\t\t\tvertexShader,\r\n\r\n\t\t\tdepthWrite: false,\r\n\t\t\tdepthTest: false\r\n\r\n\t\t});\r\n\r\n\t\t/** @ignore */\r\n\t\tthis.toneMapped = false;\r\n\r\n\t\tthis.colorChannel = ColorChannel.RED;\r\n\t\tthis.maskFunction = MaskFunction.DISCARD;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the mask texture.\r\n\t *\r\n\t * @type {Texture}\r\n\t */\r\n\r\n\tset maskTexture(value) {\r\n\r\n\t\tthis.uniforms.maskTexture.value = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the color channel to use for masking.\r\n\t *\r\n\t * The default channel is `RED`.\r\n\t *\r\n\t * @type {ColorChannel}\r\n\t */\r\n\r\n\tset colorChannel(value) {\r\n\r\n\t\tthis.defines.COLOR_CHANNEL = value.toFixed(0);\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the masking technique.\r\n\t *\r\n\t * The default function is `DISCARD`.\r\n\t *\r\n\t * @type {MaskFunction}\r\n\t */\r\n\r\n\tset maskFunction(value) {\r\n\r\n\t\tthis.defines.MASK_FUNCTION = value.toFixed(0);\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether the masking is inverted.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget inverted() {\r\n\r\n\t\treturn (this.defines.INVERTED !== undefined);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Determines whether the masking should be inverted.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset inverted(value) {\r\n\r\n\t\tif(this.inverted && !value) {\r\n\r\n\t\t\tdelete this.defines.INVERTED;\r\n\r\n\t\t} else if(value) {\r\n\r\n\t\t\tthis.defines.INVERTED = \"1\";\r\n\r\n\t\t}\r\n\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The current mask strength.\r\n\t *\r\n\t * Individual mask values will be clamped to [0.0, 1.0].\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget strength() {\r\n\r\n\t\treturn this.uniforms.strength.value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the strength of the mask.\r\n\t *\r\n\t * Has no effect when the mask function is set to `DISCARD`.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset strength(value) {\r\n\r\n\t\tthis.uniforms.strength.value = value;\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * A mask function enumeration.\r\n *\r\n * @type {Object}\r\n * @property {Number} DISCARD - Discards elements when the respective mask value is zero.\r\n * @property {Number} MULTIPLY - Multiplies the input buffer with the mask texture.\r\n * @property {Number} MULTIPLY_RGB_SET_ALPHA - Multiplies the input RGB values with the mask and sets alpha to the mask value.\r\n */\r\n\r\nconst MaskFunction = {\r\n\r\n\tDISCARD: 0,\r\n\tMULTIPLY: 1,\r\n\tMULTIPLY_RGB_SET_ALPHA: 2\r\n\r\n};\r\n\r\nvar fragmentShader$b = \"uniform sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(inputBuffer,vUv0).rg;vec2 c1=texture2D(inputBuffer,vUv1).rg;vec2 c2=texture2D(inputBuffer,vUv2).rg;vec2 c3=texture2D(inputBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)? vec2(d,0.0): vec2(0.0,d);}\";\r\n\r\nvar vertexShader$5 = \"uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=vec2(uv.x+texelSize.x,uv.y);vUv1=vec2(uv.x-texelSize.x,uv.y);vUv2=vec2(uv.x,uv.y+texelSize.y);vUv3=vec2(uv.x,uv.y-texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}\";\r\n\r\n/**\r\n * An outline shader material.\r\n */\r\n\r\nclass OutlineMaterial extends ShaderMaterial {\r\n\r\n\t/**\r\n\t * Constructs a new outline material.\r\n\t *\r\n\t * @param {Vector2} [texelSize] - The screen texel size.\r\n\t */\r\n\r\n\tconstructor(texelSize = new Vector2$1()) {\r\n\r\n\t\tsuper({\r\n\r\n\t\t\ttype: \"OutlineMaterial\",\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\tinputBuffer: new Uniform(null),\r\n\t\t\t\ttexelSize: new Uniform(new Vector2$1())\r\n\t\t\t},\r\n\r\n\t\t\tfragmentShader: fragmentShader$b,\r\n\t\t\tvertexShader: vertexShader$5,\r\n\r\n\t\t\tdepthWrite: false,\r\n\t\t\tdepthTest: false\r\n\r\n\t\t});\r\n\r\n\t\t/** @ignore */\r\n\t\tthis.toneMapped = false;\r\n\r\n\t\tthis.setTexelSize(texelSize.x, texelSize.y);\r\n\r\n\t\t// @todo Added for backward compatibility.\r\n\t\tthis.uniforms.maskTexture = this.uniforms.inputBuffer;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the texel size.\r\n\t *\r\n\t * @param {Number} x - The texel width.\r\n\t * @param {Number} y - The texel height.\r\n\t */\r\n\r\n\tsetTexelSize(x, y) {\r\n\r\n\t\tthis.uniforms.texelSize.value.set(x, y);\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * An outline shader material.\r\n *\r\n * @deprecated Use OutlineMaterial instead.\r\n */\r\n\r\nconst OutlineEdgesMaterial = OutlineMaterial;\r\n\r\nvar fragmentShader$c = \"#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)\\n#if __VERSION__ < 300\\n#define round(v) floor(v + 0.5)\\n#endif\\nuniform sampler2D inputBuffer;uniform sampler2D areaTexture;uniform sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;/***Moves values to a target vector based on a given conditional vector.*/void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}/***Allows to decode two binary values from a bilinear-filtered access.**Bilinear access for fetching 'e' have a 0.25 offset,and we are interested*in the R and G edges:**+---G---+-------+*|x o R   x|*+-------+-------+**Then,if one of these edge is enabled:*Red:(0.75*X+0.25*1)=>0.25 or 1.0*Green:(0.75*1+0.25*X)=>0.75 or 1.0**This function will unpack the values(mad+mul+round):*wolframalpha.com: round(x*abs(5*x-5*0.75))plot 0 to 1*/vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}/***Diagonal pattern searches.*/vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}/***Calculates the area corresponding to a certain diagonal distance and crossing*edges 'e'.*/vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}/***Searches for diagonal patterns and returns the corresponding weights.*/vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}/***Determines how much length should be added in the last step of the searches.**Takes the bilinearly interpolated edge(see @PSEUDO_GATHER4),and adds 0,1*or 2 depending on which edges and crossing edges are active.*/float searchLength(const in vec2 e,const in float offset){/*The texture is flipped vertically,with left and right cases taking halfof the space horizontally.*/vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}/***Horizontal search for the second pass.*/float searchXLeft(in vec2 texCoord,const in float end){/*@PSEUDO_GATHER4This texCoord has been offset by(-0.25,-0.125)in the vertex shader tosample between edges,thus fetching four edges in a row.Sampling with different offsets in each direction allows to disambiguatewhich edges are active from the four fetched ones.*/vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}/***Vertical search for the second pass.*/float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}/***Determines the areas at each side of the current edge.*/vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}/***Corner detection.*/void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\\n#if !defined(DISABLE_CORNER_DETECTION)\\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);\\n#endif\\n}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\\n#if !defined(DISABLE_CORNER_DETECTION)\\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);\\n#endif\\n}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){\\n#if !defined(DISABLE_DIAG_DETECTION)\\n/*Diagonals have both north and west edges,so searching for them in one ofthe boundaries is enough.*/weights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){\\n#endif\\nvec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;/*Now fetch the left crossing edges,two at a time using bilinearfiltering. Sampling at-0.25(see @CROSSING_OFFSET)enables to discern whatvalue each edge has.*/float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;/*Translate distances to pixel units for better interleave arithmetic andmemory accesses.*/d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);\\n#if !defined(DISABLE_DIAG_DETECTION)\\n}else{e.r=0.0;}\\n#endif\\n}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}\";\r\n\r\nvar vertexShader$6 = \"uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}\";\r\n\r\n/**\r\n * Subpixel Morphological Antialiasing.\r\n *\r\n * This material computes weights for detected edges.\r\n */\r\n\r\nclass SMAAWeightsMaterial extends ShaderMaterial {\r\n\r\n\t/**\r\n\t * Constructs a new SMAA weights material.\r\n\t *\r\n\t * @param {Vector2} [texelSize] - The absolute screen texel size.\r\n\t * @param {Vector2} [resolution] - The resolution.\r\n\t */\r\n\r\n\tconstructor(texelSize = new Vector2$1(), resolution = new Vector2$1()) {\r\n\r\n\t\tsuper({\r\n\r\n\t\t\ttype: \"SMAAWeightsMaterial\",\r\n\r\n\t\t\tdefines: {\r\n\r\n\t\t\t\t// Configurable settings:\r\n\t\t\t\tMAX_SEARCH_STEPS_INT: \"16\",\r\n\t\t\t\tMAX_SEARCH_STEPS_FLOAT: \"16.0\",\r\n\t\t\t\tMAX_SEARCH_STEPS_DIAG_INT: \"8\",\r\n\t\t\t\tMAX_SEARCH_STEPS_DIAG_FLOAT: \"8.0\",\r\n\t\t\t\tCORNER_ROUNDING: \"25\",\r\n\t\t\t\tCORNER_ROUNDING_NORM: \"0.25\",\r\n\r\n\t\t\t\t// Non-configurable settings:\r\n\t\t\t\tAREATEX_MAX_DISTANCE: \"16.0\",\r\n\t\t\t\tAREATEX_MAX_DISTANCE_DIAG: \"20.0\",\r\n\t\t\t\tAREATEX_PIXEL_SIZE: \"(1.0 / vec2(160.0, 560.0))\",\r\n\t\t\t\tAREATEX_SUBTEX_SIZE: \"(1.0 / 7.0)\",\r\n\t\t\t\tSEARCHTEX_SIZE: \"vec2(66.0, 33.0)\",\r\n\t\t\t\tSEARCHTEX_PACKED_SIZE: \"vec2(64.0, 16.0)\"\r\n\r\n\t\t\t},\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\tinputBuffer: new Uniform(null),\r\n\t\t\t\tareaTexture: new Uniform(null),\r\n\t\t\t\tsearchTexture: new Uniform(null),\r\n\t\t\t\ttexelSize: new Uniform(texelSize),\r\n\t\t\t\tresolution: new Uniform(resolution)\r\n\t\t\t},\r\n\r\n\t\t\tfragmentShader: fragmentShader$c,\r\n\t\t\tvertexShader: vertexShader$6,\r\n\r\n\t\t\tdepthWrite: false,\r\n\t\t\tdepthTest: false\r\n\r\n\t\t});\r\n\r\n\t\t/** @ignore */\r\n\t\tthis.toneMapped = false;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the maximum amount of steps performed in the horizontal/vertical\r\n\t * pattern searches, at each side of the pixel.\r\n\t *\r\n\t * In number of pixels, it's actually the double. So the maximum line length\r\n\t * perfectly handled by, for example 16, is 64 (perfectly means that longer\r\n\t * lines won't look as good, but are still antialiased).\r\n\t *\r\n\t * @param {Number} steps - The search steps. Range: [0, 112].\r\n\t */\r\n\r\n\tsetOrthogonalSearchSteps(steps) {\r\n\r\n\t\tconst s = Math.min(Math.max(steps, 0), 112);\r\n\r\n\t\tthis.defines.MAX_SEARCH_STEPS_INT = s.toFixed(\"0\");\r\n\t\tthis.defines.MAX_SEARCH_STEPS_FLOAT = s.toFixed(\"1\");\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Specifies the maximum steps performed in the diagonal pattern searches, at\r\n\t * each side of the pixel. This search jumps one pixel at time.\r\n\t *\r\n\t * On high-end machines this search is cheap (between 0.8x and 0.9x slower for\r\n\t * 16 steps), but it can have a significant impact on older machines.\r\n\t *\r\n\t * @param {Number} steps - The search steps. Range: [0, 20].\r\n\t */\r\n\r\n\tsetDiagonalSearchSteps(steps) {\r\n\r\n\t\tconst s = Math.min(Math.max(steps, 0), 20);\r\n\r\n\t\tthis.defines.MAX_SEARCH_STEPS_DIAG_INT = s.toFixed(\"0\");\r\n\t\tthis.defines.MAX_SEARCH_STEPS_DIAG_FLOAT = s.toFixed(\"1\");\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Specifies how much sharp corners will be rounded.\r\n\t *\r\n\t * @param {Number} rounding - The corner rounding amount. Range: [0, 100].\r\n\t */\r\n\r\n\tsetCornerRounding(rounding) {\r\n\r\n\t\tconst r = Math.min(Math.max(rounding, 0), 100);\r\n\r\n\t\tthis.defines.CORNER_ROUNDING = r.toFixed(\"4\");\r\n\t\tthis.defines.CORNER_ROUNDING_NORM = (r / 100.0).toFixed(\"4\");\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether diagonal pattern detection is enabled.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget diagonalDetection() {\r\n\r\n\t\treturn (this.defines.DISABLE_DIAG_DETECTION === undefined);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables diagonal pattern detection.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset diagonalDetection(value) {\r\n\r\n\t\tif(value) {\r\n\r\n\t\t\tdelete this.defines.DISABLE_DIAG_DETECTION;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.defines.DISABLE_DIAG_DETECTION = \"1\";\r\n\r\n\t\t}\r\n\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether corner rounding is enabled.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget cornerRounding() {\r\n\r\n\t\treturn (this.defines.DISABLE_CORNER_DETECTION === undefined);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables corner rounding.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset cornerRounding(value) {\r\n\r\n\t\tif(value) {\r\n\r\n\t\t\tdelete this.defines.DISABLE_CORNER_DETECTION;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.defines.DISABLE_CORNER_DETECTION = \"1\";\r\n\r\n\t\t}\r\n\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$d = \"#include <common>\\n#include <packing>\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D normalDepthBuffer;\\n#else\\nuniform mediump sampler2D normalDepthBuffer;\\n#endif\\n#ifndef NORMAL_DEPTH\\nuniform sampler2D normalBuffer;float readDepth(const in vec2 uv){\\n#if DEPTH_PACKING == 3201\\nreturn unpackRGBAToDepth(texture2D(normalDepthBuffer,uv));\\n#else\\nreturn texture2D(normalDepthBuffer,uv).r;\\n#endif\\n}\\n#endif\\nuniform sampler2D noiseTexture;uniform mat4 inverseProjectionMatrix;uniform mat4 projectionMatrix;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float minRadiusScale;uniform float intensity;uniform float fade;uniform float bias;uniform vec2 distanceCutoff;uniform vec2 proximityCutoff;varying vec2 vUv;varying vec2 vUv2;float getViewZ(const in float depth){\\n#ifdef PERSPECTIVE_CAMERA\\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\\n#else\\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\\n#endif\\n}vec3 getViewPosition(const in vec2 screenPosition,const in float depth,const in float viewZ){float clipW=projectionMatrix[2][3]*viewZ+projectionMatrix[3][3];vec4 clipPosition=vec4((vec3(screenPosition,depth)-0.5)*2.0,1.0);clipPosition*=clipW;return(inverseProjectionMatrix*clipPosition).xyz;}float getAmbientOcclusion(const in vec3 p,const in vec3 n,const in float depth,const in vec2 uv){\\n#ifdef DISTANCE_SCALING\\nfloat radiusScale=1.0-smoothstep(0.0,distanceCutoff.y,depth);radiusScale=radiusScale*(1.0-minRadiusScale)+minRadiusScale;float radius=RADIUS*radiusScale;\\n#else\\nfloat radius=RADIUS;\\n#endif\\nfloat noise=texture2D(noiseTexture,vUv2).r;float baseAngle=noise*PI2;float inv_samples=1.0/SAMPLES_FLOAT;float rings=SPIRAL_TURNS*PI2;float occlusion=0.0;int taps=0;for(int i=0;i<SAMPLES_INT;++i){float alpha=(float(i)+0.5)*inv_samples;float angle=alpha*rings+baseAngle;vec2 coord=alpha*radius*vec2(cos(angle),sin(angle))*texelSize+uv;if(coord.s<0.0||coord.s>1.0||coord.t<0.0||coord.t>1.0){continue;}\\n#ifdef NORMAL_DEPTH\\nfloat sampleDepth=texture2D(normalDepthBuffer,coord).a;\\n#else\\nfloat sampleDepth=readDepth(coord);\\n#endif\\nfloat viewZ=getViewZ(sampleDepth);\\n#ifdef PERSPECTIVE_CAMERA\\nfloat linearSampleDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);\\n#else\\nfloat linearSampleDepth=sampleDepth;\\n#endif\\nfloat proximity=abs(depth-linearSampleDepth);if(proximity<proximityCutoff.y){float falloff=1.0-smoothstep(proximityCutoff.x,proximityCutoff.y,proximity);vec3 Q=getViewPosition(coord,sampleDepth,viewZ);vec3 v=Q-p;float vv=dot(v,v);float vn=dot(v,n)-bias;float f=max(RADIUS_SQ-vv,0.0)/RADIUS_SQ;occlusion+=(f*f*f*max(vn/(fade+vv),0.0))*falloff;}++taps;}return occlusion/(4.0*max(float(taps),1.0));}void main(){\\n#ifdef NORMAL_DEPTH\\nvec4 normalDepth=texture2D(normalDepthBuffer,vUv);\\n#else\\nvec4 normalDepth=vec4(texture2D(normalBuffer,vUv).rgb,readDepth(vUv));\\n#endif\\nfloat ao=1.0;float depth=normalDepth.a;float viewZ=getViewZ(depth);\\n#ifdef PERSPECTIVE_CAMERA\\nfloat linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);\\n#else\\nfloat linearDepth=depth;\\n#endif\\nif(linearDepth<distanceCutoff.y){vec3 viewPosition=getViewPosition(vUv,depth,viewZ);vec3 viewNormal=unpackRGBToNormal(normalDepth.rgb);ao-=getAmbientOcclusion(viewPosition,viewNormal,linearDepth,vUv);float d=smoothstep(distanceCutoff.x,distanceCutoff.y,linearDepth);ao=mix(ao,1.0,d);ao=clamp(pow(ao,abs(intensity)),0.0,1.0);}gl_FragColor.r=ao;}\";\r\n\r\nvar vertexShader$7 = \"uniform vec2 noiseScale;varying vec2 vUv;varying vec2 vUv2;void main(){vUv=position.xy*0.5+0.5;vUv2=vUv*noiseScale;gl_Position=vec4(position.xy,1.0,1.0);}\";\r\n\r\n/**\r\n * A Screen Space Ambient Occlusion (SSAO) shader material.\r\n */\r\n\r\nclass SSAOMaterial extends ShaderMaterial {\r\n\r\n\t/**\r\n\t * Constructs a new SSAO material.\r\n\t *\r\n\t * @param {Camera} camera - A camera.\r\n\t */\r\n\r\n\tconstructor(camera) {\r\n\r\n\t\tsuper({\r\n\r\n\t\t\ttype: \"SSAOMaterial\",\r\n\r\n\t\t\tdefines: {\r\n\t\t\t\tSAMPLES_INT: \"0\",\r\n\t\t\t\tSAMPLES_FLOAT: \"0.0\",\r\n\t\t\t\tSPIRAL_TURNS: \"0.0\",\r\n\t\t\t\tRADIUS: \"1.0\",\r\n\t\t\t\tRADIUS_SQ: \"1.0\",\r\n\t\t\t\tDISTANCE_SCALING: \"1\",\r\n\t\t\t\tDEPTH_PACKING: \"0\"\r\n\t\t\t},\r\n\r\n\t\t\tuniforms: {\r\n\r\n\t\t\t\tnormalBuffer: new Uniform(null),\r\n\t\t\t\tnormalDepthBuffer: new Uniform(null),\r\n\t\t\t\tnoiseTexture: new Uniform(null),\r\n\r\n\t\t\t\tinverseProjectionMatrix: new Uniform(new Matrix4()),\r\n\t\t\t\tprojectionMatrix: new Uniform(new Matrix4()),\r\n\t\t\t\ttexelSize: new Uniform(new Vector2$1()),\r\n\t\t\t\tcameraNear: new Uniform(0.0),\r\n\t\t\t\tcameraFar: new Uniform(0.0),\r\n\r\n\t\t\t\tdistanceCutoff: new Uniform(new Vector2$1()),\r\n\t\t\t\tproximityCutoff: new Uniform(new Vector2$1()),\r\n\t\t\t\tnoiseScale: new Uniform(new Vector2$1()),\r\n\t\t\t\tminRadiusScale: new Uniform(0.33),\r\n\t\t\t\tintensity: new Uniform(1.0),\r\n\t\t\t\tfade: new Uniform(0.01),\r\n\t\t\t\tbias: new Uniform(0.0)\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfragmentShader: fragmentShader$d,\r\n\t\t\tvertexShader: vertexShader$7,\r\n\r\n\t\t\tdepthWrite: false,\r\n\t\t\tdepthTest: false\r\n\r\n\t\t});\r\n\r\n\t\t/** @ignore */\r\n\t\tthis.toneMapped = false;\r\n\r\n\t\tthis.adoptCameraSettings(camera);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The depth packing of the source depth buffer.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget depthPacking() {\r\n\r\n\t\treturn Number(this.defines.DEPTH_PACKING);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the depth packing.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset depthPacking(value) {\r\n\r\n\t\tthis.defines.DEPTH_PACKING = value.toFixed(0);\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the texel size.\r\n\t *\r\n\t * @param {Number} x - The texel width.\r\n\t * @param {Number} y - The texel height.\r\n\t */\r\n\r\n\tsetTexelSize(x, y) {\r\n\r\n\t\tthis.uniforms.texelSize.value.set(x, y);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Adopts the settings of the given camera.\r\n\t *\r\n\t * @param {Camera} [camera=null] - A camera.\r\n\t */\r\n\r\n\tadoptCameraSettings(camera = null) {\r\n\r\n\t\tif(camera !== null) {\r\n\r\n\t\t\tconst uniforms = this.uniforms;\r\n\r\n\t\t\tuniforms.cameraNear.value = camera.near;\r\n\t\t\tuniforms.cameraFar.value = camera.far;\r\n\r\n\t\t\tif(camera instanceof PerspectiveCamera) {\r\n\r\n\t\t\t\tthis.defines.PERSPECTIVE_CAMERA = \"1\";\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tdelete this.defines.PERSPECTIVE_CAMERA;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * An auto sizing constant.\r\n *\r\n * @type {Number}\r\n * @private\r\n */\r\n\r\nconst AUTO_SIZE = -1;\r\n\r\n/**\r\n * A resizer that can be used to store a base and a target resolution.\r\n *\r\n * The attached resizeable will be updated with the base resolution when the\r\n * target resolution changes. The new calculated resolution can then be\r\n * retrieved via {@link Resizer.width} and {@link Resizer.height}.\r\n */\r\n\r\nclass Resizer {\r\n\r\n\t/**\r\n\t * Constructs a new resizer.\r\n\t *\r\n\t * @param {Resizable} resizeable - A resizable object.\r\n\t * @param {Number} [width=Resizer.AUTO_SIZE] - The width.\r\n\t * @param {Number} [height=Resizer.AUTO_SIZE] - The height.\r\n\t * @param {Number} [scale=1.0] - An alternative resolution scale.\r\n\t */\r\n\r\n\tconstructor(resizable, width = AUTO_SIZE, height = AUTO_SIZE, scale = 1.0) {\r\n\r\n\t\t/**\r\n\t\t * A resizable object.\r\n\t\t *\r\n\t\t * @type {Resizable}\r\n\t\t */\r\n\r\n\t\tthis.resizable = resizable;\r\n\r\n\t\t/**\r\n\t\t * The base size.\r\n\t\t *\r\n\t\t * This size will be passed to the resizable object every time the target\r\n\t\t * width, height or scale is changed.\r\n\t\t *\r\n\t\t * @type {Vector2}\r\n\t\t */\r\n\r\n\t\tthis.base = new Vector2$1(1, 1);\r\n\r\n\t\t/**\r\n\t\t * The target size.\r\n\t\t *\r\n\t\t * @type {Vector2}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.target = new Vector2$1(width, height);\r\n\r\n\t\t/**\r\n\t\t * A scale.\r\n\t\t *\r\n\t\t * If both the width and the height are set to {@link Resizer.AUTO_SIZE},\r\n\t\t * they will be scaled uniformly using this scalar.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.s = scale;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The current resolution scale.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget scale() {\r\n\r\n\t\treturn this.s;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the resolution scale.\r\n\t *\r\n\t * Also sets the width and height to {@link Resizer.AUTO_SIZE}.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset scale(value) {\r\n\r\n\t\tthis.s = value;\r\n\r\n\t\tthis.target.x = AUTO_SIZE;\r\n\t\tthis.target.y = AUTO_SIZE;\r\n\r\n\t\tthis.resizable.setSize(this.base.x, this.base.y);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The calculated width.\r\n\t *\r\n\t * If both the width and the height are set to {@link Resizer.AUTO_SIZE}, the\r\n\t * base width will be returned.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget width() {\r\n\r\n\t\tconst base = this.base;\r\n\t\tconst target = this.target;\r\n\r\n\t\tlet result;\r\n\r\n\t\tif(target.x !== AUTO_SIZE) {\r\n\r\n\t\t\tresult = target.x;\r\n\r\n\t\t} else if(target.y !== AUTO_SIZE) {\r\n\r\n\t\t\tresult = Math.round(target.y * (base.x / base.y));\r\n\r\n\t\t} else {\r\n\r\n\t\t\tresult = Math.round(base.x * this.s);\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the target width.\r\n\t *\r\n\t * Use {@link Resizer.AUTO_SIZE} to automatically calculate the width based\r\n\t * on the height and the original aspect ratio.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset width(value) {\r\n\r\n\t\tthis.target.x = value;\r\n\t\tthis.resizable.setSize(this.base.x, this.base.y);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The calculated height.\r\n\t *\r\n\t * If both the width and the height are set to {@link Resizer.AUTO_SIZE}, the\r\n\t * base height will be returned.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget height() {\r\n\r\n\t\tconst base = this.base;\r\n\t\tconst target = this.target;\r\n\r\n\t\tlet result;\r\n\r\n\t\tif(target.y !== AUTO_SIZE) {\r\n\r\n\t\t\tresult = target.y;\r\n\r\n\t\t} else if(target.x !== AUTO_SIZE) {\r\n\r\n\t\t\tresult = Math.round(target.x / (base.x / base.y));\r\n\r\n\t\t} else {\r\n\r\n\t\t\tresult = Math.round(base.y * this.s);\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the target height.\r\n\t *\r\n\t * Use {@link Resizer.AUTO_SIZE} to automatically calculate the height based\r\n\t * on the width and the original aspect ratio.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset height(value) {\r\n\r\n\t\tthis.target.y = value;\r\n\t\tthis.resizable.setSize(this.base.x, this.base.y);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * An auto sizing constant.\r\n\t *\r\n\t * Can be used to automatically calculate the width or height based on the\r\n\t * original aspect ratio.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tstatic get AUTO_SIZE() {\r\n\r\n\t\treturn AUTO_SIZE;\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * A dummy camera\r\n *\r\n * @type {Camera}\r\n * @private\r\n */\r\n\r\nconst dummyCamera = new Camera();\r\n\r\n/**\r\n * Shared fullscreen geometry.\r\n *\r\n * @type {BufferGeometry}\r\n * @private\r\n */\r\n\r\nlet geometry = null;\r\n\r\n/**\r\n * Returns a shared fullscreen triangle.\r\n *\r\n * The size of the screen is 2x2 units (NDC). A triangle that fills the screen\r\n * needs to be 4 units wide and 4 units tall.\r\n *\r\n * @private\r\n * @return {BufferGeometry} The fullscreen geometry.\r\n */\r\n\r\nfunction getFullscreenTriangle() {\r\n\r\n\tif(geometry === null) {\r\n\r\n\t\tconst vertices = new Float32Array([-1, -1, 0, 3, -1, 0, -1, 3, 0]);\r\n\t\tconst uvs = new Float32Array([0, 0, 2, 0, 0, 2]);\r\n\t\tgeometry = new BufferGeometry();\r\n\r\n\t\t// Added for backward compatibility (setAttribute was added in three r110).\r\n\t\tif(geometry.setAttribute !== undefined) {\r\n\r\n\t\t\tgeometry.setAttribute(\"position\", new BufferAttribute(vertices, 3));\r\n\t\t\tgeometry.setAttribute(\"uv\", new BufferAttribute(uvs, 2));\r\n\r\n\t\t} else {\r\n\r\n\t\t\tgeometry.addAttribute(\"position\", new BufferAttribute(vertices, 3));\r\n\t\t\tgeometry.addAttribute(\"uv\", new BufferAttribute(uvs, 2));\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn geometry;\r\n\r\n}\r\n\r\n/**\r\n * An abstract pass.\r\n *\r\n * Passes that do not rely on the depth buffer should explicitly disable the\r\n * depth test and depth write flags of their fullscreen shader material.\r\n *\r\n * Fullscreen passes use a shared fullscreen triangle:\r\n * https://michaldrobot.com/2014/04/01/gcn-execution-patterns-in-full-screen-passes/\r\n *\r\n * @implements {Initializable}\r\n * @implements {Resizable}\r\n * @implements {Disposable}\r\n */\r\n\r\nclass Pass {\r\n\r\n\t/**\r\n\t * Constructs a new pass.\r\n\t *\r\n\t * @param {String} [name] - The name of this pass. Does not have to be unique.\r\n\t * @param {Scene} [scene] - The scene to render. The default scene contains a single mesh that fills the screen.\r\n\t * @param {Camera} [camera] - A camera. Fullscreen effect passes don't require a camera.\r\n\t */\r\n\r\n\tconstructor(name = \"Pass\", scene = new Scene(), camera = dummyCamera) {\r\n\r\n\t\t/**\r\n\t\t * The name of this pass.\r\n\t\t *\r\n\t\t * @type {String}\r\n\t\t */\r\n\r\n\t\tthis.name = name;\r\n\r\n\t\t/**\r\n\t\t * The scene to render.\r\n\t\t *\r\n\t\t * @type {Scene}\r\n\t\t * @protected\r\n\t\t */\r\n\r\n\t\tthis.scene = scene;\r\n\r\n\t\t/**\r\n\t\t * The camera.\r\n\t\t *\r\n\t\t * @type {Camera}\r\n\t\t * @protected\r\n\t\t */\r\n\r\n\t\tthis.camera = camera;\r\n\r\n\t\t/**\r\n\t\t * A mesh that fills the screen.\r\n\t\t *\r\n\t\t * @type {Mesh}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.screen = null;\r\n\r\n\t\t/**\r\n\t\t * Indicates whether this pass should render to texture.\r\n\t\t *\r\n\t\t * @type {Boolean}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.rtt = true;\r\n\r\n\t\t/**\r\n\t\t * Only relevant for subclassing.\r\n\t\t *\r\n\t\t * Indicates whether the {@link EffectComposer} should swap the frame\r\n\t\t * buffers after this pass has finished rendering.\r\n\t\t *\r\n\t\t * Set this to `false` if this pass doesn't render to the output buffer or\r\n\t\t * the screen. Otherwise, the contents of the input buffer will be lost.\r\n\t\t *\r\n\t\t * @type {Boolean}\r\n\t\t */\r\n\r\n\t\tthis.needsSwap = true;\r\n\r\n\t\t/**\r\n\t\t * Only relevant for subclassing.\r\n\t\t *\r\n\t\t * Indicates whether the {@link EffectComposer} should prepare a depth\r\n\t\t * texture for this pass.\r\n\t\t *\r\n\t\t * Set this to `true` if this pass relies on depth information from a\r\n\t\t * preceding {@link RenderPass}.\r\n\t\t *\r\n\t\t * @type {Boolean}\r\n\t\t */\r\n\r\n\t\tthis.needsDepthTexture = false;\r\n\r\n\t\t/**\r\n\t\t * Indicates whether this pass should be executed.\r\n\t\t *\r\n\t\t * @type {Boolean}\r\n\t\t */\r\n\r\n\t\tthis.enabled = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether this pass should render to screen.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget renderToScreen() {\r\n\r\n\t\treturn !this.rtt;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the render to screen flag.\r\n\t *\r\n\t * If the flag is changed to a different value, the fullscreen material will\r\n\t * be updated as well.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset renderToScreen(value) {\r\n\r\n\t\tif(this.rtt === value) {\r\n\r\n\t\t\tconst material = this.getFullscreenMaterial();\r\n\r\n\t\t\tif(material !== null) {\r\n\r\n\t\t\t\tmaterial.needsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.rtt = !value;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the current fullscreen material.\r\n\t *\r\n\t * @return {Material} The current fullscreen material, or null if there is none.\r\n\t */\r\n\r\n\tgetFullscreenMaterial() {\r\n\r\n\t\treturn (this.screen !== null) ? this.screen.material : null;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the fullscreen material.\r\n\t *\r\n\t * The material will be assigned to a mesh that fills the screen. The mesh\r\n\t * will be created once a material is assigned via this method.\r\n\t *\r\n\t * @protected\r\n\t * @param {Material} material - A fullscreen material.\r\n\t */\r\n\r\n\tsetFullscreenMaterial(material) {\r\n\r\n\t\tlet screen = this.screen;\r\n\r\n\t\tif(screen !== null) {\r\n\r\n\t\t\tscreen.material = material;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tscreen = new Mesh(getFullscreenTriangle(), material);\r\n\t\t\tscreen.frustumCulled = false;\r\n\r\n\t\t\tif(this.scene === null) {\r\n\r\n\t\t\t\tthis.scene = new Scene();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.scene.add(screen);\r\n\t\t\tthis.screen = screen;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the current depth texture.\r\n\t *\r\n\t * @return {Texture} The current depth texture, or null if there is none.\r\n\t */\r\n\r\n\tgetDepthTexture() {\r\n\r\n\t\treturn null;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the depth texture.\r\n\t *\r\n\t * This method will be called automatically by the {@link EffectComposer}.\r\n\t *\r\n\t * You may override this method if your pass relies on the depth information\r\n\t * of a preceding {@link RenderPass}.\r\n\t *\r\n\t * @param {Texture} depthTexture - A depth texture.\r\n\t * @param {Number} [depthPacking=0] - The depth packing.\r\n\t */\r\n\r\n\tsetDepthTexture(depthTexture, depthPacking = 0) {}\r\n\r\n\t/**\r\n\t * Renders the effect.\r\n\t *\r\n\t * This is an abstract method that must be overridden.\r\n\t *\r\n\t * @abstract\r\n\t * @throws {Error} An error is thrown if the method is not overridden.\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\r\n\t */\r\n\r\n\trender(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\r\n\r\n\t\tthrow new Error(\"Render method not implemented!\");\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates this pass with the renderer's size.\r\n\t *\r\n\t * You may override this method in case you want to be informed about the size\r\n\t * of the main frame buffer.\r\n\t *\r\n\t * The {@link EffectComposer} calls this method before this pass is\r\n\t * initialized and every time its own size is updated.\r\n\t *\r\n\t * @param {Number} width - The renderer's width.\r\n\t * @param {Number} height - The renderer's height.\r\n\t * @example this.myRenderTarget.setSize(width, height);\r\n\t */\r\n\r\n\tsetSize(width, height) {}\r\n\r\n\t/**\r\n\t * Performs initialization tasks.\r\n\t *\r\n\t * By overriding this method you gain access to the renderer. You'll also be\r\n\t * able to configure your custom render targets to use the appropriate format\r\n\t * (RGB or RGBA).\r\n\t *\r\n\t * The provided renderer can be used to warm up special off-screen render\r\n\t * targets by performing a preliminary render operation.\r\n\t *\r\n\t * The {@link EffectComposer} calls this method when this pass is added to its\r\n\t * queue, but not before its size has been set.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {Boolean} alpha - Whether the renderer uses the alpha channel or not.\r\n\t * @param {Number} frameBufferType - The type of the main frame buffers.\r\n\t * @example if(!alpha && frameBufferType === UnsignedByteType) { this.myRenderTarget.texture.format = RGBFormat; }\r\n\t */\r\n\r\n\tinitialize(renderer, alpha, frameBufferType) {}\r\n\r\n\t/**\r\n\t * Performs a shallow search for disposable properties and deletes them. The\r\n\t * pass will be inoperative after this method was called!\r\n\t *\r\n\t * The {@link EffectComposer} calls this method when it is being destroyed.\r\n\t * You may, however, use it independently to free memory when you are certain\r\n\t * that you don't need this pass anymore.\r\n\t */\r\n\r\n\tdispose() {\r\n\r\n\t\tconst material = this.getFullscreenMaterial();\r\n\r\n\t\tif(material !== null) {\r\n\r\n\t\t\tmaterial.dispose();\r\n\r\n\t\t}\r\n\r\n\t\tfor(const key of Object.keys(this)) {\r\n\r\n\t\t\tif(this[key] !== null && typeof this[key].dispose === \"function\") {\r\n\r\n\t\t\t\t/** @ignore */\r\n\t\t\t\tthis[key].dispose();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * An efficient, incremental blur pass.\r\n */\r\n\r\nclass BlurPass extends Pass {\r\n\r\n\t/**\r\n\t * Constructs a new blur pass.\r\n\t *\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {Number} [options.resolutionScale=0.5] - Deprecated. Adjust the height or width instead for consistent results.\r\n\t * @param {Number} [options.width=Resizer.AUTO_SIZE] - The blur render width.\r\n\t * @param {Number} [options.height=Resizer.AUTO_SIZE] - The blur render height.\r\n\t * @param {KernelSize} [options.kernelSize=KernelSize.LARGE] - The blur kernel size.\r\n\t */\r\n\r\n\tconstructor({\r\n\t\tresolutionScale = 0.5,\r\n\t\twidth = Resizer.AUTO_SIZE,\r\n\t\theight = Resizer.AUTO_SIZE,\r\n\t\tkernelSize = KernelSize.LARGE\r\n\t} = {}) {\r\n\r\n\t\tsuper(\"BlurPass\");\r\n\r\n\t\t/**\r\n\t\t * A render target.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderTargetA = new WebGLRenderTarget(1, 1, {\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tmagFilter: LinearFilter,\r\n\t\t\tstencilBuffer: false,\r\n\t\t\tdepthBuffer: false\r\n\t\t});\r\n\r\n\t\tthis.renderTargetA.texture.name = \"Blur.Target.A\";\r\n\r\n\t\t/**\r\n\t\t * A second render target.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderTargetB = this.renderTargetA.clone();\r\n\t\tthis.renderTargetB.texture.name = \"Blur.Target.B\";\r\n\r\n\t\t/**\r\n\t\t * The render resolution.\r\n\t\t *\r\n\t\t * It's recommended to set the height or the width to an absolute value for\r\n\t\t * consistent results across different devices and resolutions.\r\n\t\t *\r\n\t\t * @type {Resizer}\r\n\t\t */\r\n\r\n\t\tthis.resolution = new Resizer(this, width, height, resolutionScale);\r\n\r\n\t\t/**\r\n\t\t * A convolution shader material.\r\n\t\t *\r\n\t\t * @type {ConvolutionMaterial}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.convolutionMaterial = new ConvolutionMaterial();\r\n\r\n\t\t/**\r\n\t\t * A convolution shader material that uses dithering.\r\n\t\t *\r\n\t\t * @type {ConvolutionMaterial}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.ditheredConvolutionMaterial = new ConvolutionMaterial();\r\n\t\tthis.ditheredConvolutionMaterial.dithering = true;\r\n\r\n\t\t/**\r\n\t\t * Whether the blurred result should also be dithered using noise.\r\n\t\t *\r\n\t\t * @type {Boolean}\r\n\t\t * @deprecated Set the frameBufferType of the EffectComposer to HalfFloatType instead.\r\n\t\t */\r\n\r\n\t\tthis.dithering = false;\r\n\r\n\t\tthis.kernelSize = kernelSize;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The current width of the internal render targets.\r\n\t *\r\n\t * @type {Number}\r\n\t * @deprecated Use resolution.width instead.\r\n\t */\r\n\r\n\tget width() {\r\n\r\n\t\treturn this.resolution.width;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the render width.\r\n\t *\r\n\t * @type {Number}\r\n\t * @deprecated Use resolution.width instead.\r\n\t */\r\n\r\n\tset width(value) {\r\n\r\n\t\tthis.resolution.width = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The current height of the internal render targets.\r\n\t *\r\n\t * @type {Number}\r\n\t * @deprecated Use resolution.height instead.\r\n\t */\r\n\r\n\tget height() {\r\n\r\n\t\treturn this.resolution.height;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the render height.\r\n\t *\r\n\t * @type {Number}\r\n\t * @deprecated Use resolution.height instead.\r\n\t */\r\n\r\n\tset height(value) {\r\n\r\n\t\tthis.resolution.height = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The current blur scale.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget scale() {\r\n\r\n\t\treturn this.convolutionMaterial.uniforms.scale.value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the blur scale.\r\n\t *\r\n\t * This value influences the overall blur strength and should not be greater\r\n\t * than 1. For larger blurs please increase the {@link kernelSize}!\r\n\t *\r\n\t * Note that the blur strength is closely tied to the resolution. For a smooth\r\n\t * transition from no blur to full blur, set the width or the height to a high\r\n\t * enough value.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset scale(value) {\r\n\r\n\t\tthis.convolutionMaterial.uniforms.scale.value = value;\r\n\t\tthis.ditheredConvolutionMaterial.uniforms.scale.value = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The kernel size.\r\n\t *\r\n\t * @type {KernelSize}\r\n\t */\r\n\r\n\tget kernelSize() {\r\n\r\n\t\treturn this.convolutionMaterial.kernelSize;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the kernel size.\r\n\t *\r\n\t * Larger kernels require more processing power but scale well with larger\r\n\t * render resolutions.\r\n\t *\r\n\t * @type {KernelSize}\r\n\t */\r\n\r\n\tset kernelSize(value) {\r\n\r\n\t\tthis.convolutionMaterial.kernelSize = value;\r\n\t\tthis.ditheredConvolutionMaterial.kernelSize = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the current resolution scale.\r\n\t *\r\n\t * @return {Number} The resolution scale.\r\n\t * @deprecated Adjust the fixed resolution width or height instead.\r\n\t */\r\n\r\n\tgetResolutionScale() {\r\n\r\n\t\treturn this.resolution.scale;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the resolution scale.\r\n\t *\r\n\t * @param {Number} scale - The new resolution scale.\r\n\t * @deprecated Adjust the fixed resolution width or height instead.\r\n\t */\r\n\r\n\tsetResolutionScale(scale) {\r\n\r\n\t\tthis.resolution.scale = scale;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Blurs the input buffer and writes the result to the output buffer. The\r\n\t * input buffer remains intact, unless it's also the output buffer.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\r\n\t */\r\n\r\n\trender(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\r\n\r\n\t\tconst scene = this.scene;\r\n\t\tconst camera = this.camera;\r\n\r\n\t\tconst renderTargetA = this.renderTargetA;\r\n\t\tconst renderTargetB = this.renderTargetB;\r\n\r\n\t\tlet material = this.convolutionMaterial;\r\n\t\tlet uniforms = material.uniforms;\r\n\t\tconst kernel = material.getKernel();\r\n\r\n\t\tlet lastRT = inputBuffer;\r\n\t\tlet destRT;\r\n\t\tlet i, l;\r\n\r\n\t\tthis.setFullscreenMaterial(material);\r\n\r\n\t\t// Apply the multi-pass blur.\r\n\t\tfor(i = 0, l = kernel.length - 1; i < l; ++i) {\r\n\r\n\t\t\t// Alternate between targets.\r\n\t\t\tdestRT = ((i & 1) === 0) ? renderTargetA : renderTargetB;\r\n\r\n\t\t\tuniforms.kernel.value = kernel[i];\r\n\t\t\tuniforms.inputBuffer.value = lastRT.texture;\r\n\t\t\trenderer.setRenderTarget(destRT);\r\n\t\t\trenderer.render(scene, camera);\r\n\r\n\t\t\tlastRT = destRT;\r\n\r\n\t\t}\r\n\r\n\t\tif(this.dithering) {\r\n\r\n\t\t\tmaterial = this.ditheredConvolutionMaterial;\r\n\t\t\tuniforms = material.uniforms;\r\n\t\t\tthis.setFullscreenMaterial(material);\r\n\r\n\t\t}\r\n\r\n\t\tuniforms.kernel.value = kernel[i];\r\n\t\tuniforms.inputBuffer.value = lastRT.texture;\r\n\t\trenderer.setRenderTarget(this.renderToScreen ? null : outputBuffer);\r\n\t\trenderer.render(scene, camera);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the size of this pass.\r\n\t *\r\n\t * @param {Number} width - The width.\r\n\t * @param {Number} height - The height.\r\n\t */\r\n\r\n\tsetSize(width, height) {\r\n\r\n\t\tconst resolution = this.resolution;\r\n\t\tresolution.base.set(width, height);\r\n\r\n\t\tconst w = resolution.width;\r\n\t\tconst h = resolution.height;\r\n\r\n\t\tthis.renderTargetA.setSize(w, h);\r\n\t\tthis.renderTargetB.setSize(w, h);\r\n\r\n\t\tthis.convolutionMaterial.setTexelSize(1.0 / w, 1.0 / h);\r\n\t\tthis.ditheredConvolutionMaterial.setTexelSize(1.0 / w, 1.0 / h);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Performs initialization tasks.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {Boolean} alpha - Whether the renderer uses the alpha channel or not.\r\n\t * @param {Number} frameBufferType - The type of the main frame buffers.\r\n\t */\r\n\r\n\tinitialize(renderer, alpha, frameBufferType) {\r\n\r\n\t\tif(!alpha && frameBufferType === UnsignedByteType) {\r\n\r\n\t\t\tthis.renderTargetA.texture.format = RGBFormat;\r\n\t\t\tthis.renderTargetB.texture.format = RGBFormat;\r\n\r\n\t\t}\r\n\r\n\t\tif(frameBufferType !== undefined) {\r\n\r\n\t\t\tthis.renderTargetA.texture.type = frameBufferType;\r\n\t\t\tthis.renderTargetB.texture.type = frameBufferType;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * An auto sizing flag.\r\n\t *\r\n\t * @type {Number}\r\n\t * @deprecated Use {@link Resizer.AUTO_SIZE} instead.\r\n\t */\r\n\r\n\tstatic get AUTO_SIZE() {\r\n\r\n\t\treturn Resizer.AUTO_SIZE;\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * A pass that disables the stencil test.\r\n */\r\n\r\nclass ClearMaskPass extends Pass {\r\n\r\n\t/**\r\n\t * Constructs a new clear mask pass.\r\n\t */\r\n\r\n\tconstructor() {\r\n\r\n\t\tsuper(\"ClearMaskPass\", null, null);\r\n\r\n\t\tthis.needsSwap = false;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Disables the global stencil test.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\r\n\t */\r\n\r\n\trender(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\r\n\r\n\t\tconst stencil = renderer.state.buffers.stencil;\r\n\r\n\t\tstencil.setLocked(false);\r\n\t\tstencil.setTest(false);\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Stores the original clear color of the renderer.\r\n *\r\n * @type {Color}\r\n * @private\r\n */\r\n\r\nconst color = new Color();\r\n\r\n/**\r\n * A pass that clears the input buffer or the screen.\r\n */\r\n\r\nclass ClearPass extends Pass {\r\n\r\n\t/**\r\n\t * Constructs a new clear pass.\r\n\t *\r\n\t * @param {Boolean} [color=true] - Determines whether the color buffer should be cleared.\r\n\t * @param {Boolean} [depth=true] - Determines whether the depth buffer should be cleared.\r\n\t * @param {Boolean} [stencil=false] - Determines whether the stencil buffer should be cleared.\r\n\t */\r\n\r\n\tconstructor(color = true, depth = true, stencil = false) {\r\n\r\n\t\tsuper(\"ClearPass\", null, null);\r\n\r\n\t\tthis.needsSwap = false;\r\n\r\n\t\t/**\r\n\t\t * Indicates whether the color buffer should be cleared.\r\n\t\t *\r\n\t\t * @type {Boolean}\r\n\t\t */\r\n\r\n\t\tthis.color = color;\r\n\r\n\t\t/**\r\n\t\t * Indicates whether the depth buffer should be cleared.\r\n\t\t *\r\n\t\t * @type {Boolean}\r\n\t\t */\r\n\r\n\t\tthis.depth = depth;\r\n\r\n\t\t/**\r\n\t\t * Indicates whether the stencil buffer should be cleared.\r\n\t\t *\r\n\t\t * @type {Boolean}\r\n\t\t */\r\n\r\n\t\tthis.stencil = stencil;\r\n\r\n\t\t/**\r\n\t\t * An override clear color.\r\n\t\t *\r\n\t\t * The default value is null.\r\n\t\t *\r\n\t\t * @type {Color}\r\n\t\t */\r\n\r\n\t\tthis.overrideClearColor = null;\r\n\r\n\t\t/**\r\n\t\t * An override clear alpha.\r\n\t\t *\r\n\t\t * The default value is -1.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t */\r\n\r\n\t\tthis.overrideClearAlpha = -1.0;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Clears the input buffer or the screen.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\r\n\t */\r\n\r\n\trender(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\r\n\r\n\t\tconst overrideClearColor = this.overrideClearColor;\r\n\t\tconst overrideClearAlpha = this.overrideClearAlpha;\r\n\t\tconst clearAlpha = renderer.getClearAlpha();\r\n\r\n\t\tconst hasOverrideClearColor = (overrideClearColor !== null);\r\n\t\tconst hasOverrideClearAlpha = (overrideClearAlpha >= 0.0);\r\n\r\n\t\tif(hasOverrideClearColor) {\r\n\r\n\t\t\tcolor.copy(renderer.getClearColor());\r\n\t\t\trenderer.setClearColor(overrideClearColor, hasOverrideClearAlpha ?\r\n\t\t\t\toverrideClearAlpha : clearAlpha);\r\n\r\n\t\t} else if(hasOverrideClearAlpha) {\r\n\r\n\t\t\trenderer.setClearAlpha(overrideClearAlpha);\r\n\r\n\t\t}\r\n\r\n\t\trenderer.setRenderTarget(this.renderToScreen ? null : inputBuffer);\r\n\t\trenderer.clear(this.color, this.depth, this.stencil);\r\n\r\n\t\tif(hasOverrideClearColor) {\r\n\r\n\t\t\trenderer.setClearColor(color, clearAlpha);\r\n\r\n\t\t} else if(hasOverrideClearAlpha) {\r\n\r\n\t\t\trenderer.setClearAlpha(clearAlpha);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * A flag that indicates whether the override material workaround is enabled.\r\n *\r\n * @type {Boolean}\r\n * @private\r\n */\r\n\r\nlet workaroundEnabled = false;\r\n\r\n/**\r\n * An override material manager.\r\n *\r\n * Includes a workaround that fixes override materials for skinned meshes and\r\n * instancing. Doesn't fix uniforms such as normal maps and displacement maps.\r\n * Using the workaround may have a negative impact on performance if the scene\r\n * contains a lot of meshes.\r\n *\r\n * @implements {Disposable}\r\n */\r\n\r\nclass OverrideMaterialManager {\r\n\r\n\t/**\r\n\t * Constructs a new override material manager.\r\n\t *\r\n\t * @param {Material} [material=null] - An override material.\r\n\t */\r\n\r\n\tconstructor(material = null) {\r\n\r\n\t\t/**\r\n\t\t * Keeps track of original materials.\r\n\t\t *\r\n\t\t * @type {Map<Object3D, Material>}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.originalMaterials = new Map();\r\n\r\n\t\t/**\r\n\t\t * The override material.\r\n\t\t *\r\n\t\t * @type {Material}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.material = null;\r\n\r\n\t\t/**\r\n\t\t * A clone of the override material.\r\n\t\t *\r\n\t\t * @type {Material}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.materialInstanced = null;\r\n\r\n\t\t/**\r\n\t\t * A clone of the override material.\r\n\t\t *\r\n\t\t * @type {Material}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.materialSkinning = null;\r\n\r\n\t\tthis.setMaterial(material);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the override material.\r\n\t *\r\n\t * @param {Material} material - The material.\r\n\t */\r\n\r\n\tsetMaterial(material) {\r\n\r\n\t\tthis.disposeMaterials();\r\n\r\n\t\tif(material !== null) {\r\n\r\n\t\t\tthis.material = material;\r\n\r\n\t\t\tthis.materialInstanced = material.clone();\r\n\t\t\tthis.materialInstanced.uniforms = Object.assign({}, material.uniforms);\r\n\r\n\t\t\tthis.materialSkinning = material.clone();\r\n\t\t\tthis.materialSkinning.uniforms = Object.assign({}, material.uniforms);\r\n\t\t\tthis.materialSkinning.skinning = true;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Renders the scene with the override material.\r\n\t *\r\n\t * @private\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {Scene} scene - A scene.\r\n\t * @param {Camera} camera - A camera.\r\n\t */\r\n\r\n\trender(renderer, scene, camera) {\r\n\r\n\t\tconst material = this.material;\r\n\t\tconst materialSkinning = this.materialSkinning;\r\n\t\tconst materialInstanced = this.materialInstanced;\r\n\t\tconst originalMaterials = this.originalMaterials;\r\n\r\n\t\t// Ignore shadows.\r\n\t\tconst shadowMapEnabled = renderer.shadowMap.enabled;\r\n\t\trenderer.shadowMap.enabled = false;\r\n\r\n\t\tif(workaroundEnabled) {\r\n\r\n\t\t\tlet meshCount = 0;\r\n\r\n\t\t\t// Replace materials of all meshes with the correct override materials.\r\n\t\t\tscene.traverse((node) => {\r\n\r\n\t\t\t\tif(node.isMesh) {\r\n\r\n\t\t\t\t\toriginalMaterials.set(node, node.material);\r\n\r\n\t\t\t\t\tif(node.isInstancedMesh) {\r\n\r\n\t\t\t\t\t\tnode.material = materialInstanced;\r\n\r\n\t\t\t\t\t} else if(node.isSkinnedMesh) {\r\n\r\n\t\t\t\t\t\tnode.material = materialSkinning;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tnode.material = material;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t++meshCount;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\trenderer.render(scene, camera);\r\n\r\n\t\t\tfor(const entry of originalMaterials) {\r\n\r\n\t\t\t\tentry[0].material = entry[1];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif(meshCount !== originalMaterials.size) {\r\n\r\n\t\t\t\toriginalMaterials.clear();\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst overrideMaterial = scene.overrideMaterial;\r\n\t\t\tscene.overrideMaterial = material;\r\n\t\t\trenderer.render(scene, camera);\r\n\t\t\tscene.overrideMaterial = overrideMaterial;\r\n\r\n\t\t}\r\n\r\n\t\trenderer.shadowMap.enabled = shadowMapEnabled;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Deletes cloned override materials.\r\n\t *\r\n\t * @private\r\n\t */\r\n\r\n\tdisposeMaterials() {\r\n\r\n\t\tif(this.materialInstanced !== null) {\r\n\r\n\t\t\tthis.materialInstanced.dispose();\r\n\r\n\t\t}\r\n\r\n\t\tif(this.materialSkinning !== null) {\r\n\r\n\t\t\tthis.materialSkinning.dispose();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Performs cleanup tasks.\r\n\t */\r\n\r\n\tdispose() {\r\n\r\n\t\tthis.originalMaterials.clear();\r\n\t\tthis.disposeMaterials();\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether the override material workaround is enabled.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tstatic get workaroundEnabled() {\r\n\r\n\t\treturn workaroundEnabled;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables the override material workaround globally.\r\n\t *\r\n\t * This only affects post processing passes and effects.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tstatic set workaroundEnabled(value) {\r\n\r\n\t\tworkaroundEnabled = value;\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * A pass that renders a given scene into the input buffer or to screen.\r\n *\r\n * This pass uses a {@link ClearPass} to clear the target buffer.\r\n */\r\n\r\nclass RenderPass extends Pass {\r\n\r\n\t/**\r\n\t * Constructs a new render pass.\r\n\t *\r\n\t * @param {Scene} scene - The scene to render.\r\n\t * @param {Camera} camera - The camera to use to render the scene.\r\n\t * @param {Material} [overrideMaterial=null] - An override material.\r\n\t */\r\n\r\n\tconstructor(scene, camera, overrideMaterial = null) {\r\n\r\n\t\tsuper(\"RenderPass\", scene, camera);\r\n\r\n\t\tthis.needsSwap = false;\r\n\r\n\t\t/**\r\n\t\t * A clear pass.\r\n\t\t *\r\n\t\t * @type {ClearPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.clearPass = new ClearPass();\r\n\r\n\t\t/**\r\n\t\t * A depth texture.\r\n\t\t *\r\n\t\t * @type {DepthTexture}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.depthTexture = null;\r\n\r\n\t\t/**\r\n\t\t * An override material manager.\r\n\t\t *\r\n\t\t * @type {OverrideMaterialManager}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.overrideMaterialManager = (overrideMaterial === null) ? null :\r\n\t\t\tnew OverrideMaterialManager(overrideMaterial);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether this pass should render to screen.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget renderToScreen() {\r\n\r\n\t\treturn super.renderToScreen;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the render to screen flag.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset renderToScreen(value) {\r\n\r\n\t\tsuper.renderToScreen = value;\r\n\t\tthis.clearPass.renderToScreen = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The current override material.\r\n\t *\r\n\t * @type {Material}\r\n\t */\r\n\r\n\tget overrideMaterial() {\r\n\r\n\t\tconst manager = this.overrideMaterialManager;\r\n\r\n\t\treturn (manager !== null) ? manager.material : null;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the override material.\r\n\t *\r\n\t * @type {Material}\r\n\t */\r\n\r\n\tset overrideMaterial(value) {\r\n\r\n\t\tconst manager = this.overrideMaterialManager;\r\n\r\n\t\tif(value !== null) {\r\n\r\n\t\t\tif(manager !== null) {\r\n\r\n\t\t\t\tmanager.setMaterial(value);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.overrideMaterialManager = new OverrideMaterialManager(value);\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if(manager !== null) {\r\n\r\n\t\t\tmanager.dispose();\r\n\t\t\tthis.overrideMaterialManager = null;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether the target buffer should be cleared before rendering.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget clear() {\r\n\r\n\t\treturn this.clearPass.enabled;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables auto clear.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset clear(value) {\r\n\r\n\t\tthis.clearPass.enabled = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the clear pass.\r\n\t *\r\n\t * @return {ClearPass} The clear pass.\r\n\t */\r\n\r\n\tgetClearPass() {\r\n\r\n\t\treturn this.clearPass;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the current depth texture.\r\n\t *\r\n\t * @return {Texture} The current depth texture, or null if there is none.\r\n\t */\r\n\r\n\tgetDepthTexture() {\r\n\r\n\t\treturn this.depthTexture;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the depth texture.\r\n\t *\r\n\t * The provided texture will be attached to the input buffer unless this pass\r\n\t * renders to screen.\r\n\t *\r\n\t * @param {DepthTexture} depthTexture - A depth texture.\r\n\t * @param {Number} [depthPacking=0] - The depth packing.\r\n\t */\r\n\r\n\tsetDepthTexture(depthTexture, depthPacking = 0) {\r\n\r\n\t\tthis.depthTexture = depthTexture;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Renders the scene.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\r\n\t */\r\n\r\n\trender(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\r\n\r\n\t\tconst scene = this.scene;\r\n\t\tconst camera = this.camera;\r\n\t\tconst renderTarget = this.renderToScreen ? null : inputBuffer;\r\n\r\n\t\tif(this.depthTexture !== null && !this.renderToScreen) {\r\n\r\n\t\t\tinputBuffer.depthTexture = this.depthTexture;\r\n\t\t\toutputBuffer.depthTexture = null;\r\n\r\n\t\t}\r\n\r\n\t\tif(this.clear) {\r\n\r\n\t\t\tthis.clearPass.render(renderer, inputBuffer);\r\n\r\n\t\t}\r\n\r\n\t\trenderer.setRenderTarget(renderTarget);\r\n\r\n\t\tif(this.overrideMaterialManager !== null) {\r\n\r\n\t\t\tthis.overrideMaterialManager.render(renderer, scene, camera);\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderer.render(scene, camera);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * A pass that renders the depth of a given scene into a color buffer.\r\n */\r\n\r\nclass DepthPass extends Pass {\r\n\r\n\t/**\r\n\t * Constructs a new depth pass.\r\n\t *\r\n\t * @param {Scene} scene - The scene to render.\r\n\t * @param {Camera} camera - The camera to use to render the scene.\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {Number} [options.resolutionScale=1.0] - Deprecated. Adjust the height or width instead for consistent results.\r\n\t * @param {Number} [options.width=Resizer.AUTO_SIZE] - The render width.\r\n\t * @param {Number} [options.height=Resizer.AUTO_SIZE] - The render height.\r\n\t * @param {WebGLRenderTarget} [options.renderTarget] - A custom render target.\r\n\t */\r\n\r\n\tconstructor(scene, camera, {\r\n\t\tresolutionScale = 1.0,\r\n\t\twidth = Resizer.AUTO_SIZE,\r\n\t\theight = Resizer.AUTO_SIZE,\r\n\t\trenderTarget\r\n\t} = {}) {\r\n\r\n\t\tsuper(\"DepthPass\");\r\n\r\n\t\tthis.needsSwap = false;\r\n\r\n\t\t/**\r\n\t\t * A render pass.\r\n\t\t *\r\n\t\t * @type {RenderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderPass = new RenderPass(scene, camera, new MeshDepthMaterial({\r\n\t\t\tdepthPacking: RGBADepthPacking,\r\n\t\t\tmorphTargets: true,\r\n\t\t\tskinning: true\r\n\t\t}));\r\n\r\n\t\tconst clearPass = this.renderPass.getClearPass();\r\n\t\tclearPass.overrideClearColor = new Color(0xffffff);\r\n\t\tclearPass.overrideClearAlpha = 1.0;\r\n\r\n\t\t/**\r\n\t\t * A render target that contains the scene depth.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t */\r\n\r\n\t\tthis.renderTarget = renderTarget;\r\n\r\n\t\tif(this.renderTarget === undefined) {\r\n\r\n\t\t\tthis.renderTarget = new WebGLRenderTarget(1, 1, {\r\n\t\t\t\tminFilter: NearestFilter,\r\n\t\t\t\tmagFilter: NearestFilter,\r\n\t\t\t\tstencilBuffer: false\r\n\t\t\t});\r\n\r\n\t\t\tthis.renderTarget.texture.name = \"DepthPass.Target\";\r\n\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * The desired render resolution.\r\n\t\t *\r\n\t\t * Use {@link Resizer.AUTO_SIZE} for the width or height to automatically\r\n\t\t * calculate it based on its counterpart and the original aspect ratio.\r\n\t\t *\r\n\t\t * @type {Resizer}\r\n\t\t */\r\n\r\n\t\tthis.resolution = new Resizer(this, width, height, resolutionScale);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The depth texture.\r\n\t *\r\n\t * @type {Texture}\r\n\t */\r\n\r\n\tget texture() {\r\n\r\n\t\treturn this.renderTarget.texture;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the current resolution scale.\r\n\t *\r\n\t * @return {Number} The resolution scale.\r\n\t * @deprecated Adjust the fixed resolution width or height instead.\r\n\t */\r\n\r\n\tgetResolutionScale() {\r\n\r\n\t\treturn this.resolutionScale;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the resolution scale.\r\n\t *\r\n\t * @param {Number} scale - The new resolution scale.\r\n\t * @deprecated Adjust the fixed resolution width or height instead.\r\n\t */\r\n\r\n\tsetResolutionScale(scale) {\r\n\r\n\t\tthis.resolutionScale = scale;\r\n\t\tthis.setSize(this.resolution.base.x, this.resolution.base.y);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Renders the scene depth.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\r\n\t */\r\n\r\n\trender(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\r\n\r\n\t\tconst renderTarget = this.renderToScreen ? null : this.renderTarget;\r\n\t\tthis.renderPass.render(renderer, renderTarget);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the size of this pass.\r\n\t *\r\n\t * @param {Number} width - The width.\r\n\t * @param {Number} height - The height.\r\n\t */\r\n\r\n\tsetSize(width, height) {\r\n\r\n\t\tconst resolution = this.resolution;\r\n\t\tresolution.base.set(width, height);\r\n\r\n\t\tthis.renderTarget.setSize(resolution.width, resolution.height);\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * A pass that downsamples the scene depth by picking the most representative\r\n * depth in 2x2 texel neighborhoods. If a normal buffer is provided, the\r\n * corresponding normals will be stored as well.\r\n *\r\n * Attention: This pass requires WebGL 2.\r\n */\r\n\r\nclass DepthDownsamplingPass extends Pass {\r\n\r\n\t/**\r\n\t * Constructs a new depth downsampling pass.\r\n\t *\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {Texture} [options.normalBuffer=null] - A texture that contains view space normals. See {@link NormalPass}.\r\n\t * @param {Number} [options.resolutionScale=0.5] - The resolution scale.\r\n\t * @param {Number} [options.width=Resizer.AUTO_SIZE] - The render width.\r\n\t * @param {Number} [options.height=Resizer.AUTO_SIZE] - The render height.\r\n\t */\r\n\r\n\tconstructor({\r\n\t\tnormalBuffer = null,\r\n\t\tresolutionScale = 0.5,\r\n\t\twidth = Resizer.AUTO_SIZE,\r\n\t\theight = Resizer.AUTO_SIZE\r\n\t} = {}) {\r\n\r\n\t\tsuper(\"DepthDownsamplingPass\");\r\n\r\n\t\tthis.setFullscreenMaterial(new DepthDownsamplingMaterial());\r\n\t\tthis.needsDepthTexture = true;\r\n\t\tthis.needsSwap = false;\r\n\r\n\t\tif(normalBuffer !== null) {\r\n\r\n\t\t\tconst material = this.getFullscreenMaterial();\r\n\t\t\tmaterial.uniforms.normalBuffer.value = normalBuffer;\r\n\t\t\tmaterial.defines.DOWNSAMPLE_NORMALS = \"1\";\r\n\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * A render target that contains the downsampled normals and depth.\r\n\t\t *\r\n\t\t * Normals are stored as RGB and depth is stored as alpha.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t */\r\n\r\n\t\tthis.renderTarget = new WebGLRenderTarget(1, 1, {\r\n\t\t\tminFilter: NearestFilter,\r\n\t\t\tmagFilter: NearestFilter,\r\n\t\t\tstencilBuffer: false,\r\n\t\t\tdepthBuffer: false,\r\n\t\t\ttype: FloatType\r\n\t\t});\r\n\r\n\t\tthis.renderTarget.texture.name = \"DepthDownsamplingPass.Target\";\r\n\t\tthis.renderTarget.texture.generateMipmaps = false;\r\n\r\n\t\t/**\r\n\t\t * The resolution of this effect.\r\n\t\t *\r\n\t\t * @type {Resizer}\r\n\t\t */\r\n\r\n\t\tthis.resolution = new Resizer(this, width, height);\r\n\t\tthis.resolution.scale = resolutionScale;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The normal(RGB) + depth(A) texture.\r\n\t *\r\n\t * @type {Texture}\r\n\t */\r\n\r\n\tget texture() {\r\n\r\n\t\treturn this.renderTarget.texture;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the depth texture.\r\n\t *\r\n\t * @param {Texture} depthTexture - A depth texture.\r\n\t * @param {Number} [depthPacking=0] - The depth packing.\r\n\t */\r\n\r\n\tsetDepthTexture(depthTexture, depthPacking = 0) {\r\n\r\n\t\tconst material = this.getFullscreenMaterial();\r\n\t\tmaterial.uniforms.depthBuffer.value = depthTexture;\r\n\t\tmaterial.depthPacking = depthPacking;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Downsamples depth and scene normals.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\r\n\t */\r\n\r\n\trender(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\r\n\r\n\t\trenderer.setRenderTarget(this.renderToScreen ? null : this.renderTarget);\r\n\t\trenderer.render(this.scene, this.camera);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the size of this pass.\r\n\t *\r\n\t * @param {Number} width - The width.\r\n\t * @param {Number} height - The height.\r\n\t */\r\n\r\n\tsetSize(width, height) {\r\n\r\n\t\tconst resolution = this.resolution;\r\n\t\tresolution.base.set(width, height);\r\n\r\n\t\t// Use the full resolution to calculate the depth/normal buffer texel size.\r\n\t\tthis.getFullscreenMaterial().setTexelSize(1.0 / width, 1.0 / height);\r\n\r\n\t\tthis.renderTarget.setSize(resolution.width, resolution.height);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Performs initialization tasks.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {Boolean} alpha - Whether the renderer uses the alpha channel or not.\r\n\t * @param {Number} frameBufferType - The type of the main frame buffers.\r\n\t */\r\n\r\n\tinitialize(renderer, alpha, frameBufferType) {\r\n\r\n\t\tif(!renderer.capabilities.isWebGL2) {\r\n\r\n\t\t\tconsole.error(\"The DepthDownsamplingPass requires WebGL 2\");\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * A blend function enumeration.\r\n *\r\n * @type {Object}\r\n * @property {Number} SKIP - No blending. The effect will not be included in the final shader.\r\n * @property {Number} ADD - Additive blending. Fast, but may produce washed out results.\r\n * @property {Number} ALPHA - Alpha blending. Blends based on the alpha value of the new color.\r\n * @property {Number} AVERAGE - Average blending.\r\n * @property {Number} COLOR_BURN - Color burn.\r\n * @property {Number} COLOR_DODGE - Color dodge.\r\n * @property {Number} DARKEN - Prioritize darker colors.\r\n * @property {Number} DIFFERENCE - Color difference.\r\n * @property {Number} EXCLUSION - Color exclusion.\r\n * @property {Number} LIGHTEN - Prioritize lighter colors.\r\n * @property {Number} MULTIPLY - Color multiplication.\r\n * @property {Number} DIVIDE - Color division.\r\n * @property {Number} NEGATION - Color negation.\r\n * @property {Number} NORMAL - Normal blending. The new color overwrites the old one.\r\n * @property {Number} OVERLAY - Color overlay.\r\n * @property {Number} REFLECT - Color reflection.\r\n * @property {Number} SCREEN - Screen blending. The two colors are effectively projected on a white screen simultaneously.\r\n * @property {Number} SOFT_LIGHT - Soft light blending.\r\n * @property {Number} SUBTRACT - Color subtraction.\r\n */\r\n\r\nconst BlendFunction = {\r\n\r\n\tSKIP: 0,\r\n\tADD: 1,\r\n\tALPHA: 2,\r\n\tAVERAGE: 3,\r\n\tCOLOR_BURN: 4,\r\n\tCOLOR_DODGE: 5,\r\n\tDARKEN: 6,\r\n\tDIFFERENCE: 7,\r\n\tEXCLUSION: 8,\r\n\tLIGHTEN: 9,\r\n\tMULTIPLY: 10,\r\n\tDIVIDE: 11,\r\n\tNEGATION: 12,\r\n\tNORMAL: 13,\r\n\tOVERLAY: 14,\r\n\tREFLECT: 15,\r\n\tSCREEN: 16,\r\n\tSOFT_LIGHT: 17,\r\n\tSUBTRACT: 18\r\n\r\n};\r\n\r\nvar addBlendFunction = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}\";\r\n\r\nvar alphaBlendFunction = \"vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}\";\r\n\r\nvar averageBlendFunction = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}\";\r\n\r\nvar colorBurnBlendFunction = \"float blend(const in float x,const in float y){return(y==0.0)? y : max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}\";\r\n\r\nvar colorDodgeBlendFunction = \"float blend(const in float x,const in float y){return(y==1.0)? y : min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}\";\r\n\r\nvar darkenBlendFunction = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}\";\r\n\r\nvar differenceBlendFunction = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}\";\r\n\r\nvar exclusionBlendFunction = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}\";\r\n\r\nvar lightenBlendFunction = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}\";\r\n\r\nvar multiplyBlendFunction = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}\";\r\n\r\nvar divideBlendFunction = \"float blend(const in float x,const in float y){return(y>0.0)? min(x/y,1.0): 1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}\";\r\n\r\nvar negationBlendFunction = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}\";\r\n\r\nvar normalBlendFunction = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}\";\r\n\r\nvar overlayBlendFunction = \"float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}\";\r\n\r\nvar reflectBlendFunction = \"float blend(const in float x,const in float y){return(y==1.0)? y : min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}\";\r\n\r\nvar screenBlendFunction = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}\";\r\n\r\nvar softLightBlendFunction = \"float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}\";\r\n\r\nvar subtractBlendFunction = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}\";\r\n\r\n/**\r\n * A blend function shader code catalogue.\r\n *\r\n * @type {Map<BlendFunction, String>}\r\n * @private\r\n */\r\n\r\nconst blendFunctions = new Map([\r\n\t[BlendFunction.SKIP, null],\r\n\t[BlendFunction.ADD, addBlendFunction],\r\n\t[BlendFunction.ALPHA, alphaBlendFunction],\r\n\t[BlendFunction.AVERAGE, averageBlendFunction],\r\n\t[BlendFunction.COLOR_BURN, colorBurnBlendFunction],\r\n\t[BlendFunction.COLOR_DODGE, colorDodgeBlendFunction],\r\n\t[BlendFunction.DARKEN, darkenBlendFunction],\r\n\t[BlendFunction.DIFFERENCE, differenceBlendFunction],\r\n\t[BlendFunction.EXCLUSION, exclusionBlendFunction],\r\n\t[BlendFunction.LIGHTEN, lightenBlendFunction],\r\n\t[BlendFunction.MULTIPLY, multiplyBlendFunction],\r\n\t[BlendFunction.DIVIDE, divideBlendFunction],\r\n\t[BlendFunction.NEGATION, negationBlendFunction],\r\n\t[BlendFunction.NORMAL, normalBlendFunction],\r\n\t[BlendFunction.OVERLAY, overlayBlendFunction],\r\n\t[BlendFunction.REFLECT, reflectBlendFunction],\r\n\t[BlendFunction.SCREEN, screenBlendFunction],\r\n\t[BlendFunction.SOFT_LIGHT, softLightBlendFunction],\r\n\t[BlendFunction.SUBTRACT, subtractBlendFunction]\r\n]);\r\n\r\n/**\r\n * A blend mode.\r\n */\r\n\r\nclass BlendMode extends EventDispatcher {\r\n\r\n\t/**\r\n\t * Constructs a new blend mode.\r\n\t *\r\n\t * @param {BlendFunction} blendFunction - The blend function to use.\r\n\t * @param {Number} opacity - The opacity of the color that will be blended with the base color.\r\n\t */\r\n\r\n\tconstructor(blendFunction, opacity = 1.0) {\r\n\r\n\t\tsuper();\r\n\r\n\t\t/**\r\n\t\t * The blend function.\r\n\t\t *\r\n\t\t * @type {BlendFunction}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.blendFunction = blendFunction;\r\n\r\n\t\t/**\r\n\t\t * The opacity of the color that will be blended with the base color.\r\n\t\t *\r\n\t\t * @type {Uniform}\r\n\t\t */\r\n\r\n\t\tthis.opacity = new Uniform(opacity);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the blend function.\r\n\t *\r\n\t * @return {BlendFunction} The blend function.\r\n\t */\r\n\r\n\tgetBlendFunction() {\r\n\r\n\t\treturn this.blendFunction;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the blend function.\r\n\t *\r\n\t * @param {BlendFunction} blendFunction - The blend function.\r\n\t */\r\n\r\n\tsetBlendFunction(blendFunction) {\r\n\r\n\t\tthis.blendFunction = blendFunction;\r\n\t\tthis.dispatchEvent({ type: \"change\" });\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the blend function shader code.\r\n\t *\r\n\t * @return {String} The blend function shader code.\r\n\t */\r\n\r\n\tgetShaderCode() {\r\n\r\n\t\treturn blendFunctions.get(this.blendFunction);\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * An abstract effect.\r\n *\r\n * Effects can be combined using the {@link EffectPass}.\r\n *\r\n * @implements {Initializable}\r\n * @implements {Resizable}\r\n * @implements {Disposable}\r\n */\r\n\r\nclass Effect extends EventDispatcher {\r\n\r\n\t/**\r\n\t * Constructs a new effect.\r\n\t *\r\n\t * @param {String} name - The name of this effect. Doesn't have to be unique.\r\n\t * @param {String} fragmentShader - The fragment shader. This shader is required.\r\n\t * @param {Object} [options] - Additional options.\r\n\t * @param {EffectAttribute} [options.attributes=EffectAttribute.NONE] - The effect attributes that determine the execution priority and resource requirements.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.SCREEN] - The blend function of this effect.\r\n\t * @param {Map<String, String>} [options.defines] - Custom preprocessor macro definitions. Keys are names and values are code.\r\n\t * @param {Map<String, Uniform>} [options.uniforms] - Custom shader uniforms. Keys are names and values are uniforms.\r\n\t * @param {Set<WebGLExtension>} [options.extensions] - WebGL extensions.\r\n\t * @param {String} [options.vertexShader=null] - The vertex shader. Most effects don't need one.\r\n\t */\r\n\r\n\tconstructor(name, fragmentShader, {\r\n\t\tattributes = EffectAttribute.NONE,\r\n\t\tblendFunction = BlendFunction.SCREEN,\r\n\t\tdefines = new Map(),\r\n\t\tuniforms = new Map(),\r\n\t\textensions = null,\r\n\t\tvertexShader = null\r\n\t} = {}) {\r\n\r\n\t\tsuper();\r\n\r\n\t\t/**\r\n\t\t * The name of this effect.\r\n\t\t *\r\n\t\t * @type {String}\r\n\t\t */\r\n\r\n\t\tthis.name = name;\r\n\r\n\t\t/**\r\n\t\t * The effect attributes.\r\n\t\t *\r\n\t\t * @type {EffectAttribute}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.attributes = attributes;\r\n\r\n\t\t/**\r\n\t\t * The fragment shader.\r\n\t\t *\r\n\t\t * @type {String}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.fragmentShader = fragmentShader;\r\n\r\n\t\t/**\r\n\t\t * The vertex shader.\r\n\t\t *\r\n\t\t * @type {String}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.vertexShader = vertexShader;\r\n\r\n\t\t/**\r\n\t\t * Preprocessor macro definitions.\r\n\t\t *\r\n\t\t * Call {@link Effect.setChanged} after changing macro definitions.\r\n\t\t *\r\n\t\t * @type {Map<String, String>}\r\n\t\t */\r\n\r\n\t\tthis.defines = defines;\r\n\r\n\t\t/**\r\n\t\t * Shader uniforms.\r\n\t\t *\r\n\t\t * You may freely modify the values of these uniforms at runtime. However,\r\n\t\t * uniforms should not be removed or added after the effect was created.\r\n\t\t *\r\n\t\t * Call {@link Effect.setChanged} after adding or removing uniforms.\r\n\t\t *\r\n\t\t * @type {Map<String, Uniform>}\r\n\t\t */\r\n\r\n\t\tthis.uniforms = uniforms;\r\n\r\n\t\t/**\r\n\t\t * WebGL extensions that are required by this effect.\r\n\t\t *\r\n\t\t * Call {@link Effect.setChanged} after adding or removing extensions.\r\n\t\t *\r\n\t\t * @type {Set<WebGLExtension>}\r\n\t\t */\r\n\r\n\t\tthis.extensions = extensions;\r\n\r\n\t\t/**\r\n\t\t * The blend mode of this effect.\r\n\t\t *\r\n\t\t * The result of this effect will be blended with the result of the previous\r\n\t\t * effect using this blend mode.\r\n\t\t *\r\n\t\t * @type {BlendMode}\r\n\t\t */\r\n\r\n\t\tthis.blendMode = new BlendMode(blendFunction);\r\n\t\tthis.blendMode.addEventListener(\"change\", (event) => this.setChanged());\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Informs the associated {@link EffectPass} that this effect has changed in\r\n\t * a way that requires a shader recompilation.\r\n\t *\r\n\t * Call this method after changing macro definitions or extensions and after\r\n\t * adding or removing uniforms.\r\n\t *\r\n\t * @protected\r\n\t */\r\n\r\n\tsetChanged() {\r\n\r\n\t\tthis.dispatchEvent({ type: \"change\" });\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the effect attributes.\r\n\t *\r\n\t * @return {EffectAttribute} The attributes.\r\n\t */\r\n\r\n\tgetAttributes() {\r\n\r\n\t\treturn this.attributes;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the effect attributes.\r\n\t *\r\n\t * Effects that have the same attributes will be executed in the order in\r\n\t * which they were registered. Some attributes imply a higher priority.\r\n\t *\r\n\t * @protected\r\n\t * @param {EffectAttribute} attributes - The attributes.\r\n\t */\r\n\r\n\tsetAttributes(attributes) {\r\n\r\n\t\tthis.attributes = attributes;\r\n\t\tthis.setChanged();\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the fragment shader.\r\n\t *\r\n\t * @return {String} The fragment shader.\r\n\t */\r\n\r\n\tgetFragmentShader() {\r\n\r\n\t\treturn this.fragmentShader;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the fragment shader.\r\n\t *\r\n\t * @protected\r\n\t * @param {String} fragmentShader - The fragment shader.\r\n\t */\r\n\r\n\tsetFragmentShader(fragmentShader) {\r\n\r\n\t\tthis.fragmentShader = fragmentShader;\r\n\t\tthis.setChanged();\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the vertex shader.\r\n\t *\r\n\t * @return {String} The vertex shader.\r\n\t */\r\n\r\n\tgetVertexShader() {\r\n\r\n\t\treturn this.vertexShader;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the vertex shader.\r\n\t *\r\n\t * @protected\r\n\t * @param {String} vertexShader - The vertex shader.\r\n\t */\r\n\r\n\tsetVertexShader(vertexShader) {\r\n\r\n\t\tthis.vertexShader = vertexShader;\r\n\t\tthis.setChanged();\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the depth texture.\r\n\t *\r\n\t * You may override this method if your effect requires direct access to the\r\n\t * depth texture that is bound to the associated {@link EffectPass}.\r\n\t *\r\n\t * @param {Texture} depthTexture - A depth texture.\r\n\t * @param {Number} [depthPacking=0] - The depth packing.\r\n\t */\r\n\r\n\tsetDepthTexture(depthTexture, depthPacking = 0) {}\r\n\r\n\t/**\r\n\t * Updates the effect by performing supporting operations.\r\n\t *\r\n\t * This method is called by the {@link EffectPass} right before the main\r\n\t * fullscreen render operation, even if the blend function is set to `SKIP`.\r\n\t *\r\n\t * You may override this method if you need to render additional off-screen\r\n\t * textures or update custom uniforms.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t */\r\n\r\n\tupdate(renderer, inputBuffer, deltaTime) {}\r\n\r\n\t/**\r\n\t * Updates the size of this effect.\r\n\t *\r\n\t * You may override this method in case you want to be informed about the main\r\n\t * render size.\r\n\t *\r\n\t * The {@link EffectPass} calls this method before this effect is initialized\r\n\t * and every time its own size is updated.\r\n\t *\r\n\t * @param {Number} width - The width.\r\n\t * @param {Number} height - The height.\r\n\t * @example this.myRenderTarget.setSize(width, height);\r\n\t */\r\n\r\n\tsetSize(width, height) {}\r\n\r\n\t/**\r\n\t * Performs initialization tasks.\r\n\t *\r\n\t * By overriding this method you gain access to the renderer. You'll also be\r\n\t * able to configure your custom render targets to use the appropriate format\r\n\t * (RGB or RGBA).\r\n\t *\r\n\t * The provided renderer can be used to warm up special off-screen render\r\n\t * targets by performing a preliminary render operation.\r\n\t *\r\n\t * The {@link EffectPass} calls this method during its own initialization\r\n\t * which happens after the size has been set.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {Boolean} alpha - Whether the renderer uses the alpha channel or not.\r\n\t * @param {Number} frameBufferType - The type of the main frame buffers.\r\n\t * @example if(!alpha && frameBufferType === UnsignedByteType) { this.myRenderTarget.texture.format = RGBFormat; }\r\n\t */\r\n\r\n\tinitialize(renderer, alpha, frameBufferType) {}\r\n\r\n\t/**\r\n\t * Performs a shallow search for properties that define a dispose method and\r\n\t * deletes them. The effect will be inoperative after this method was called!\r\n\t *\r\n\t * The {@link EffectPass} calls this method when it is being destroyed. Do not\r\n\t * call this method directly.\r\n\t */\r\n\r\n\tdispose() {\r\n\r\n\t\tfor(const key of Object.keys(this)) {\r\n\r\n\t\t\tif(this[key] !== null && typeof this[key].dispose === \"function\") {\r\n\r\n\t\t\t\t/** @ignore */\r\n\t\t\t\tthis[key].dispose();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * An enumeration of effect attributes.\r\n *\r\n * Attributes can be concatenated using the bitwise OR operator.\r\n *\r\n * @type {Object}\r\n * @property {Number} NONE - No attributes. Most effects don't need to specify any attributes.\r\n * @property {Number} DEPTH - Describes effects that require a depth texture.\r\n * @property {Number} CONVOLUTION - Describes effects that fetch additional samples from the input buffer. There cannot be more than one effect with this attribute per {@link EffectPass}.\r\n * @example const attributes = EffectAttribute.CONVOLUTION | EffectAttribute.DEPTH;\r\n */\r\n\r\nconst EffectAttribute = {\r\n\r\n\tNONE: 0,\r\n\tDEPTH: 1,\r\n\tCONVOLUTION: 2\r\n\r\n};\r\n\r\n/**\r\n * An enumeration of WebGL extensions.\r\n *\r\n * @type {Object}\r\n * @property {String} DERIVATIVES - Enables derivatives by adding the functions dFdx, dFdy and fwidth.\r\n * @property {String} FRAG_DEPTH - Enables gl_FragDepthEXT to set a depth value of a fragment from within the fragment shader.\r\n * @property {String} DRAW_BUFFERS - Enables multiple render targets (MRT) support.\r\n * @property {String} SHADER_TEXTURE_LOD - Enables explicit control of texture LOD.\r\n */\r\n\r\nconst WebGLExtension = {\r\n\r\n\tDERIVATIVES: \"derivatives\",\r\n\tFRAG_DEPTH: \"fragDepth\",\r\n\tDRAW_BUFFERS: \"drawBuffers\",\r\n\tSHADER_TEXTURE_LOD: \"shaderTextureLOD\"\r\n\r\n};\r\n\r\n/**\r\n * Finds and collects substrings that match the given regular expression.\r\n *\r\n * @private\r\n * @param {RegExp} regExp - A regular expression.\r\n * @param {String} string - A string.\r\n * @return {String[]} The matching substrings.\r\n */\r\n\r\nfunction findSubstrings(regExp, string) {\r\n\r\n\tconst substrings = [];\r\n\tlet result;\r\n\r\n\twhile((result = regExp.exec(string)) !== null) {\r\n\r\n\t\tsubstrings.push(result[1]);\r\n\r\n\t}\r\n\r\n\treturn substrings;\r\n\r\n}\r\n\r\n/**\r\n * Prefixes substrings within the given strings.\r\n *\r\n * @private\r\n * @param {String} prefix - A prefix.\r\n * @param {String[]} substrings - The substrings.\r\n * @param {Map<String, String>} strings - A collection of named strings.\r\n */\r\n\r\nfunction prefixSubstrings(prefix, substrings, strings) {\r\n\r\n\tlet prefixed, regExp;\r\n\r\n\tfor(const substring of substrings) {\r\n\r\n\t\tprefixed = \"$1\" + prefix + substring.charAt(0).toUpperCase() + substring.slice(1);\r\n\t\tregExp = new RegExp(\"([^\\\\.])(\\\\b\" + substring + \"\\\\b)\", \"g\");\r\n\r\n\t\tfor(const entry of strings.entries()) {\r\n\r\n\t\t\tif(entry[1] !== null) {\r\n\r\n\t\t\t\tstrings.set(entry[0], entry[1].replace(regExp, prefixed));\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Integrates the given effect.\r\n *\r\n * @private\r\n * @param {String} prefix - A prefix.\r\n * @param {Effect} effect - An effect.\r\n * @param {Map<String, String>} shaderParts - The shader parts.\r\n * @param {Map<BlendFunction, BlendMode>} blendModes - The blend modes.\r\n * @param {Map<String, String>} defines - The macro definitions.\r\n * @param {Map<String, Uniform>} uniforms - The uniforms.\r\n * @param {EffectAttribute} attributes - The global, collective attributes.\r\n * @return {Object} The results.\r\n * @property {String[]} varyings - The varyings used by the given effect.\r\n * @property {Boolean} transformedUv - Indicates whether the effect transforms UV coordinates in the fragment shader.\r\n * @property {Boolean} readDepth - Indicates whether the effect actually uses depth in the fragment shader.\r\n */\r\n\r\nfunction integrateEffect(prefix, effect, shaderParts, blendModes, defines, uniforms, attributes) {\r\n\r\n\tconst functionRegExp = /(?:\\w+\\s+(\\w+)\\([\\w\\s,]*\\)\\s*{[^}]+})/g;\r\n\tconst varyingRegExp = /(?:varying\\s+\\w+\\s+(\\w*))/g;\r\n\r\n\tconst blendMode = effect.blendMode;\r\n\tconst shaders = new Map([\r\n\t\t[\"fragment\", effect.getFragmentShader()],\r\n\t\t[\"vertex\", effect.getVertexShader()]\r\n\t]);\r\n\r\n\tconst mainImageExists = (shaders.get(\"fragment\") !== undefined && shaders.get(\"fragment\").indexOf(\"mainImage\") >= 0);\r\n\tconst mainUvExists = (shaders.get(\"fragment\") !== undefined && shaders.get(\"fragment\").indexOf(\"mainUv\") >= 0);\r\n\r\n\tlet varyings = [], names = [];\r\n\tlet transformedUv = false;\r\n\tlet readDepth = false;\r\n\r\n\tif(shaders.get(\"fragment\") === undefined) {\r\n\r\n\t\tconsole.error(\"Missing fragment shader\", effect);\r\n\r\n\t} else if(mainUvExists && (attributes & EffectAttribute.CONVOLUTION) !== 0) {\r\n\r\n\t\tconsole.error(\"Effects that transform UV coordinates are incompatible with convolution effects\", effect);\r\n\r\n\t} else if(!mainImageExists && !mainUvExists) {\r\n\r\n\t\tconsole.error(\"The fragment shader contains neither a mainImage nor a mainUv function\", effect);\r\n\r\n\t} else {\r\n\r\n\t\tif(mainUvExists) {\r\n\r\n\t\t\tshaderParts.set(Section.FRAGMENT_MAIN_UV, shaderParts.get(Section.FRAGMENT_MAIN_UV) +\r\n\t\t\t\t\"\\t\" + prefix + \"MainUv(UV);\\n\");\r\n\r\n\t\t\ttransformedUv = true;\r\n\r\n\t\t}\r\n\r\n\t\tif(shaders.get(\"vertex\") !== null && shaders.get(\"vertex\").indexOf(\"mainSupport\") >= 0) {\r\n\r\n\t\t\tlet string = \"\\t\" + prefix + \"MainSupport(\";\r\n\r\n\t\t\t// Check if the vertex shader expects uv coordinates.\r\n\t\t\tif(shaders.get(\"vertex\").indexOf(\"uv\") >= 0) {\r\n\r\n\t\t\t\tstring += \"vUv\";\r\n\r\n\t\t\t}\r\n\r\n\t\t\tstring += \");\\n\";\r\n\r\n\t\t\tshaderParts.set(Section.VERTEX_MAIN_SUPPORT,\r\n\t\t\t\tshaderParts.get(Section.VERTEX_MAIN_SUPPORT) + string);\r\n\r\n\t\t\tvaryings = varyings.concat(findSubstrings(varyingRegExp, shaders.get(\"vertex\")));\r\n\t\t\tnames = names.concat(varyings).concat(findSubstrings(functionRegExp, shaders.get(\"vertex\")));\r\n\r\n\t\t}\r\n\r\n\t\t// Assemble all names while ignoring parameters of function-like macros.\r\n\t\tnames = names.concat(findSubstrings(functionRegExp, shaders.get(\"fragment\")))\r\n\t\t\t.concat(Array.from(effect.defines.keys()).map((s) => s.replace(/\\([\\w\\s,]*\\)/g, \"\")))\r\n\t\t\t.concat(Array.from(effect.uniforms.keys()));\r\n\r\n\t\t// Store prefixed uniforms and macros.\r\n\t\teffect.uniforms.forEach((value, key) => uniforms.set(prefix + key.charAt(0).toUpperCase() + key.slice(1), value));\r\n\t\teffect.defines.forEach((value, key) => defines.set(prefix + key.charAt(0).toUpperCase() + key.slice(1), value));\r\n\r\n\t\t// Prefix varyings, functions, uniforms and macros.\r\n\t\tprefixSubstrings(prefix, names, defines);\r\n\t\tprefixSubstrings(prefix, names, shaders);\r\n\r\n\t\t// Collect unique blend modes.\r\n\t\tblendModes.set(blendMode.blendFunction, blendMode);\r\n\r\n\t\tif(mainImageExists) {\r\n\r\n\t\t\tlet string = prefix + \"MainImage(color0, UV, \";\r\n\r\n\t\t\t// The effect may sample depth in a different shader.\r\n\t\t\tif((attributes & EffectAttribute.DEPTH) !== 0 && shaders.get(\"fragment\").indexOf(\"depth\") >= 0) {\r\n\r\n\t\t\t\tstring += \"depth, \";\r\n\t\t\t\treadDepth = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tstring += \"color1);\\n\\t\";\r\n\r\n\t\t\t// Include the blend opacity uniform of this effect.\r\n\t\t\tconst blendOpacity = prefix + \"BlendOpacity\";\r\n\t\t\tuniforms.set(blendOpacity, blendMode.opacity);\r\n\r\n\t\t\t// Blend the result of this effect with the input color.\r\n\t\t\tstring += \"color0 = blend\" + blendMode.getBlendFunction() +\r\n\t\t\t\t\"(color0, color1, \" + blendOpacity + \");\\n\\n\\t\";\r\n\r\n\t\t\tshaderParts.set(Section.FRAGMENT_MAIN_IMAGE,\r\n\t\t\t\tshaderParts.get(Section.FRAGMENT_MAIN_IMAGE) + string);\r\n\r\n\t\t\tshaderParts.set(Section.FRAGMENT_HEAD, shaderParts.get(Section.FRAGMENT_HEAD) +\r\n\t\t\t\t\"uniform float \" + blendOpacity + \";\\n\\n\");\r\n\r\n\t\t}\r\n\r\n\t\t// Include the modified code in the final shader.\r\n\t\tshaderParts.set(Section.FRAGMENT_HEAD, shaderParts.get(Section.FRAGMENT_HEAD) +\r\n\t\t\tshaders.get(\"fragment\") + \"\\n\");\r\n\r\n\t\tif(shaders.get(\"vertex\") !== null) {\r\n\r\n\t\t\tshaderParts.set(Section.VERTEX_HEAD, shaderParts.get(Section.VERTEX_HEAD) +\r\n\t\t\t\tshaders.get(\"vertex\") + \"\\n\");\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn { varyings, transformedUv, readDepth };\r\n\r\n}\r\n\r\n/**\r\n * An effect pass.\r\n *\r\n * Use this pass to combine {@link Effect} instances.\r\n *\r\n * @implements {EventListener}\r\n */\r\n\r\nclass EffectPass extends Pass {\r\n\r\n\t/**\r\n\t * Constructs a new effect pass.\r\n\t *\r\n\t * The provided effects will be organized and merged for optimal performance.\r\n\t *\r\n\t * @param {Camera} camera - The main camera. The camera's type and settings will be available to all effects.\r\n\t * @param {...Effect} effects - The effects that will be rendered by this pass.\r\n\t */\r\n\r\n\tconstructor(camera, ...effects) {\r\n\r\n\t\tsuper(\"EffectPass\");\r\n\r\n\t\tthis.setFullscreenMaterial(new EffectMaterial(null, null, null, camera));\r\n\r\n\t\t/**\r\n\t\t * The effects, sorted by attribute priority, DESC.\r\n\t\t *\r\n\t\t * @type {Effect[]}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.effects = effects.sort((a, b) => (b.attributes - a.attributes));\r\n\r\n\t\t/**\r\n\t\t * Indicates whether this pass should skip rendering.\r\n\t\t *\r\n\t\t * Effects will still be updated, even if this flag is true.\r\n\t\t *\r\n\t\t * @type {Boolean}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.skipRendering = false;\r\n\r\n\t\t/**\r\n\t\t * The amount of shader uniforms that this pass uses.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.uniforms = 0;\r\n\r\n\t\t/**\r\n\t\t * The amount of shader varyings that this pass uses.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.varyings = 0;\r\n\r\n\t\t/**\r\n\t\t * A time offset.\r\n\t\t *\r\n\t\t * Elapsed time will start at this value.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t */\r\n\r\n\t\tthis.minTime = 1.0;\r\n\r\n\t\t/**\r\n\t\t * The maximum time.\r\n\t\t *\r\n\t\t * If the elapsed time exceeds this value, it will be reset.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t */\r\n\r\n\t\tthis.maxTime = Number.POSITIVE_INFINITY;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether this pass encodes its output when rendering to screen.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget encodeOutput() {\r\n\r\n\t\treturn (this.getFullscreenMaterial().defines.ENCODE_OUTPUT !== undefined);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables output encoding.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset encodeOutput(value) {\r\n\r\n\t\tif(this.encodeOutput !== value) {\r\n\r\n\t\t\tconst material = this.getFullscreenMaterial();\r\n\t\t\tmaterial.needsUpdate = true;\r\n\r\n\t\t\tif(value) {\r\n\r\n\t\t\t\tmaterial.defines.ENCODE_OUTPUT = \"1\";\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tdelete material.defines.ENCODE_OUTPUT;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether dithering is enabled.\r\n\t *\r\n\t * Color quantization reduces banding artifacts but degrades performance.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget dithering() {\r\n\r\n\t\treturn this.getFullscreenMaterial().dithering;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables dithering.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset dithering(value) {\r\n\r\n\t\tconst material = this.getFullscreenMaterial();\r\n\r\n\t\tif(material.dithering !== value) {\r\n\r\n\t\t\tmaterial.dithering = value;\r\n\t\t\tmaterial.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Compares required resources with device capabilities.\r\n\t *\r\n\t * @private\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t */\r\n\r\n\tverifyResources(renderer) {\r\n\r\n\t\tconst capabilities = renderer.capabilities;\r\n\t\tlet max = Math.min(capabilities.maxFragmentUniforms, capabilities.maxVertexUniforms);\r\n\r\n\t\tif(this.uniforms > max) {\r\n\r\n\t\t\tconsole.warn(\"The current rendering context doesn't support more than \" +\r\n\t\t\t\tmax + \" uniforms, but \" + this.uniforms + \" were defined\");\r\n\r\n\t\t}\r\n\r\n\t\tmax = capabilities.maxVaryings;\r\n\r\n\t\tif(this.varyings > max) {\r\n\r\n\t\t\tconsole.warn(\"The current rendering context doesn't support more than \" +\r\n\t\t\t\tmax + \" varyings, but \" + this.varyings + \" were defined\");\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the compound shader material.\r\n\t *\r\n\t * @private\r\n\t */\r\n\r\n\tupdateMaterial() {\r\n\r\n\t\tconst blendRegExp = /\\bblend\\b/g;\r\n\r\n\t\tconst shaderParts = new Map([\r\n\t\t\t[Section.FRAGMENT_HEAD, \"\"],\r\n\t\t\t[Section.FRAGMENT_MAIN_UV, \"\"],\r\n\t\t\t[Section.FRAGMENT_MAIN_IMAGE, \"\"],\r\n\t\t\t[Section.VERTEX_HEAD, \"\"],\r\n\t\t\t[Section.VERTEX_MAIN_SUPPORT, \"\"]\r\n\t\t]);\r\n\r\n\t\tconst blendModes = new Map();\r\n\t\tconst defines = new Map();\r\n\t\tconst uniforms = new Map();\r\n\t\tconst extensions = new Set();\r\n\r\n\t\tlet id = 0, varyings = 0, attributes = 0;\r\n\t\tlet transformedUv = false;\r\n\t\tlet readDepth = false;\r\n\t\tlet result;\r\n\r\n\t\tfor(const effect of this.effects) {\r\n\r\n\t\t\tif(effect.blendMode.getBlendFunction() === BlendFunction.SKIP) {\r\n\r\n\t\t\t\t// Check if this effect relies on depth and then continue.\r\n\t\t\t\tattributes |= (effect.getAttributes() & EffectAttribute.DEPTH);\r\n\r\n\t\t\t} else if((attributes & EffectAttribute.CONVOLUTION) !== 0 &&\r\n\t\t\t\t(effect.getAttributes() & EffectAttribute.CONVOLUTION) !== 0) {\r\n\r\n\t\t\t\tconsole.error(\"Convolution effects cannot be merged\", effect);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tattributes |= effect.getAttributes();\r\n\r\n\t\t\t\tresult = integrateEffect((\"e\" + id++), effect, shaderParts, blendModes, defines, uniforms, attributes);\r\n\r\n\t\t\t\tvaryings += result.varyings.length;\r\n\t\t\t\ttransformedUv = transformedUv || result.transformedUv;\r\n\t\t\t\treadDepth = readDepth || result.readDepth;\r\n\r\n\t\t\t\tif(effect.extensions !== null) {\r\n\r\n\t\t\t\t\t// Collect the WebGL extensions that are required by this effect.\r\n\t\t\t\t\tfor(const extension of effect.extensions) {\r\n\r\n\t\t\t\t\t\textensions.add(extension);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Integrate the relevant blend functions.\r\n\t\tfor(const blendMode of blendModes.values()) {\r\n\r\n\t\t\tshaderParts.set(Section.FRAGMENT_HEAD, shaderParts.get(Section.FRAGMENT_HEAD) +\r\n\t\t\t\tblendMode.getShaderCode().replace(blendRegExp, \"blend\" + blendMode.getBlendFunction()) + \"\\n\");\r\n\r\n\t\t}\r\n\r\n\t\t// Check if any effect relies on depth.\r\n\t\tif((attributes & EffectAttribute.DEPTH) !== 0) {\r\n\r\n\t\t\t// Only read depth if any effect actually uses this information.\r\n\t\t\tif(readDepth) {\r\n\r\n\t\t\t\tshaderParts.set(Section.FRAGMENT_MAIN_IMAGE, \"float depth = readDepth(UV);\\n\\n\\t\" +\r\n\t\t\t\t\tshaderParts.get(Section.FRAGMENT_MAIN_IMAGE));\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Only request a depth texture if none has been provided yet.\r\n\t\t\tthis.needsDepthTexture = (this.getDepthTexture() === null);\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.needsDepthTexture = false;\r\n\r\n\t\t}\r\n\r\n\t\t// Check if any effect transforms UVs in the fragment shader.\r\n\t\tif(transformedUv) {\r\n\r\n\t\t\tshaderParts.set(Section.FRAGMENT_MAIN_UV, \"vec2 transformedUv = vUv;\\n\" +\r\n\t\t\t\tshaderParts.get(Section.FRAGMENT_MAIN_UV));\r\n\r\n\t\t\tdefines.set(\"UV\", \"transformedUv\");\r\n\r\n\t\t} else {\r\n\r\n\t\t\tdefines.set(\"UV\", \"vUv\");\r\n\r\n\t\t}\r\n\r\n\t\t// Ensure that leading preprocessor directives start at a new line.\r\n\t\tshaderParts.forEach((value, key, map) => map.set(key, value.trim().replace(/^#/, \"\\n#\")));\r\n\r\n\t\tthis.uniforms = uniforms.size;\r\n\t\tthis.varyings = varyings;\r\n\r\n\t\tthis.skipRendering = (id === 0);\r\n\t\tthis.needsSwap = !this.skipRendering;\r\n\r\n\t\tconst material = this.getFullscreenMaterial();\r\n\t\tmaterial.setShaderParts(shaderParts).setDefines(defines).setUniforms(uniforms);\r\n\t\tmaterial.extensions = {};\r\n\r\n\t\tif(extensions.size > 0) {\r\n\r\n\t\t\t// Enable required WebGL extensions.\r\n\t\t\tfor(const extension of extensions) {\r\n\r\n\t\t\t\tmaterial.extensions[extension] = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.needsUpdate = false;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the shader material.\r\n\t *\r\n\t * Warning: This method triggers a relatively expensive shader recompilation.\r\n\t *\r\n\t * @param {WebGLRenderer} [renderer] - The renderer.\r\n\t */\r\n\r\n\trecompile(renderer) {\r\n\r\n\t\tthis.updateMaterial();\r\n\r\n\t\tif(renderer !== undefined) {\r\n\r\n\t\t\tthis.verifyResources(renderer);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the current depth texture.\r\n\t *\r\n\t * @return {Texture} The current depth texture, or null if there is none.\r\n\t */\r\n\r\n\tgetDepthTexture() {\r\n\r\n\t\treturn this.getFullscreenMaterial().uniforms.depthBuffer.value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the depth texture.\r\n\t *\r\n\t * @param {Texture} depthTexture - A depth texture.\r\n\t * @param {Number} [depthPacking=0] - The depth packing.\r\n\t */\r\n\r\n\tsetDepthTexture(depthTexture, depthPacking = 0) {\r\n\r\n\t\tconst material = this.getFullscreenMaterial();\r\n\t\tmaterial.uniforms.depthBuffer.value = depthTexture;\r\n\t\tmaterial.depthPacking = depthPacking;\r\n\t\tmaterial.needsUpdate = true;\r\n\r\n\t\tfor(const effect of this.effects) {\r\n\r\n\t\t\teffect.setDepthTexture(depthTexture, depthPacking);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Renders the effect.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\r\n\t */\r\n\r\n\trender(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\r\n\r\n\t\tconst material = this.getFullscreenMaterial();\r\n\t\tconst time = material.uniforms.time.value + deltaTime;\r\n\r\n\t\tif(this.needsUpdate) {\r\n\r\n\t\t\tthis.recompile(renderer);\r\n\r\n\t\t}\r\n\r\n\t\tfor(const effect of this.effects) {\r\n\r\n\t\t\teffect.update(renderer, inputBuffer, deltaTime);\r\n\r\n\t\t}\r\n\r\n\t\tif(!this.skipRendering || this.renderToScreen) {\r\n\r\n\t\t\tmaterial.uniforms.inputBuffer.value = inputBuffer.texture;\r\n\t\t\tmaterial.uniforms.time.value = (time <= this.maxTime) ? time : this.minTime;\r\n\t\t\trenderer.setRenderTarget(this.renderToScreen ? null : outputBuffer);\r\n\t\t\trenderer.render(this.scene, this.camera);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the size of this pass.\r\n\t *\r\n\t * @param {Number} width - The width.\r\n\t * @param {Number} height - The height.\r\n\t */\r\n\r\n\tsetSize(width, height) {\r\n\r\n\t\tthis.getFullscreenMaterial().setSize(width, height);\r\n\r\n\t\tfor(const effect of this.effects) {\r\n\r\n\t\t\teffect.setSize(width, height);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Performs initialization tasks.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {Boolean} alpha - Whether the renderer uses the alpha channel or not.\r\n\t * @param {Number} frameBufferType - The type of the main frame buffers.\r\n\t */\r\n\r\n\tinitialize(renderer, alpha, frameBufferType) {\r\n\r\n\t\tthis.capabilities = renderer.capabilities;\r\n\r\n\t\t// Initialize effects before building the shader.\r\n\t\tfor(const effect of this.effects) {\r\n\r\n\t\t\teffect.initialize(renderer, alpha, frameBufferType);\r\n\t\t\teffect.addEventListener(\"change\", (event) => this.handleEvent(event));\r\n\r\n\t\t}\r\n\r\n\t\t// Initialize the fullscreen material.\r\n\t\tthis.updateMaterial();\r\n\t\tthis.verifyResources(renderer);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Deletes disposable objects.\r\n\t *\r\n\t * This pass will be inoperative after this method was called!\r\n\t */\r\n\r\n\tdispose() {\r\n\r\n\t\tsuper.dispose();\r\n\r\n\t\tfor(const effect of this.effects) {\r\n\r\n\t\t\teffect.dispose();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Handles events.\r\n\t *\r\n\t * @param {Event} event - An event.\r\n\t */\r\n\r\n\thandleEvent(event) {\r\n\r\n\t\tswitch(event.type) {\r\n\r\n\t\t\tcase \"change\":\r\n\t\t\t\tthis.needsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * A stencil mask pass.\r\n *\r\n * This pass requires that the input and output buffers have a stencil buffer.\r\n * You can enable the stencil buffer via the {@link EffectComposer} constructor.\r\n */\r\n\r\nclass MaskPass extends Pass {\r\n\r\n\t/**\r\n\t * Constructs a new mask pass.\r\n\t *\r\n\t * @param {Scene} scene - The scene to render.\r\n\t * @param {Camera} camera - The camera to use.\r\n\t */\r\n\r\n\tconstructor(scene, camera) {\r\n\r\n\t\tsuper(\"MaskPass\", scene, camera);\r\n\r\n\t\tthis.needsSwap = false;\r\n\r\n\t\t/**\r\n\t\t * A clear pass.\r\n\t\t *\r\n\t\t * @type {ClearPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.clearPass = new ClearPass(false, false, true);\r\n\r\n\t\t/**\r\n\t\t * Inverse flag.\r\n\t\t *\r\n\t\t * @type {Boolean}\r\n\t\t */\r\n\r\n\t\tthis.inverse = false;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether this pass should clear the stencil buffer.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget clear() {\r\n\r\n\t\treturn this.clearPass.enabled;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables auto clear.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset clear(value) {\r\n\r\n\t\tthis.clearPass.enabled = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Renders the effect.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\r\n\t */\r\n\r\n\trender(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\r\n\r\n\t\tconst context = renderer.getContext();\r\n\t\tconst buffers = renderer.state.buffers;\r\n\r\n\t\tconst scene = this.scene;\r\n\t\tconst camera = this.camera;\r\n\t\tconst clearPass = this.clearPass;\r\n\r\n\t\tconst writeValue = this.inverse ? 0 : 1;\r\n\t\tconst clearValue = 1 - writeValue;\r\n\r\n\t\t// Don't update color or depth.\r\n\t\tbuffers.color.setMask(false);\r\n\t\tbuffers.depth.setMask(false);\r\n\r\n\t\t// Lock the buffers.\r\n\t\tbuffers.color.setLocked(true);\r\n\t\tbuffers.depth.setLocked(true);\r\n\r\n\t\t// Configure the stencil.\r\n\t\tbuffers.stencil.setTest(true);\r\n\t\tbuffers.stencil.setOp(context.REPLACE, context.REPLACE, context.REPLACE);\r\n\t\tbuffers.stencil.setFunc(context.ALWAYS, writeValue, 0xffffffff);\r\n\t\tbuffers.stencil.setClear(clearValue);\r\n\t\tbuffers.stencil.setLocked(true);\r\n\r\n\t\t// Clear the stencil.\r\n\t\tif(this.clear) {\r\n\r\n\t\t\tif(this.renderToScreen) {\r\n\r\n\t\t\t\tclearPass.render(renderer, null);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tclearPass.render(renderer, inputBuffer);\r\n\t\t\t\tclearPass.render(renderer, outputBuffer);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Draw the mask.\r\n\t\tif(this.renderToScreen) {\r\n\r\n\t\t\trenderer.setRenderTarget(null);\r\n\t\t\trenderer.render(scene, camera);\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderer.setRenderTarget(inputBuffer);\r\n\t\t\trenderer.render(scene, camera);\r\n\t\t\trenderer.setRenderTarget(outputBuffer);\r\n\t\t\trenderer.render(scene, camera);\r\n\r\n\t\t}\r\n\r\n\t\t// Unlock the buffers.\r\n\t\tbuffers.color.setLocked(false);\r\n\t\tbuffers.depth.setLocked(false);\r\n\r\n\t\t// Only render where the stencil is set to 1.\r\n\t\tbuffers.stencil.setLocked(false);\r\n\t\tbuffers.stencil.setFunc(context.EQUAL, 1, 0xffffffff);\r\n\t\tbuffers.stencil.setOp(context.KEEP, context.KEEP, context.KEEP);\r\n\t\tbuffers.stencil.setLocked(true);\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * A pass that renders the normals of a given scene.\r\n */\r\n\r\nclass NormalPass extends Pass {\r\n\r\n\t/**\r\n\t * Constructs a new normal pass.\r\n\t *\r\n\t * @param {Scene} scene - The scene to render.\r\n\t * @param {Camera} camera - The camera to use to render the scene.\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {Number} [options.resolutionScale=1.0] - Deprecated. Adjust the height or width instead for consistent results.\r\n\t * @param {Number} [options.width=Resizer.AUTO_SIZE] - The render width.\r\n\t * @param {Number} [options.height=Resizer.AUTO_SIZE] - The render height.\r\n\t * @param {WebGLRenderTarget} [options.renderTarget] - A custom render target.\r\n\t */\r\n\r\n\tconstructor(scene, camera, {\r\n\t\tresolutionScale = 1.0,\r\n\t\twidth = Resizer.AUTO_SIZE,\r\n\t\theight = Resizer.AUTO_SIZE,\r\n\t\trenderTarget\r\n\t} = {}) {\r\n\r\n\t\tsuper(\"NormalPass\");\r\n\r\n\t\tthis.needsSwap = false;\r\n\r\n\t\t/**\r\n\t\t * A render pass.\r\n\t\t *\r\n\t\t * @type {RenderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderPass = new RenderPass(scene, camera, new MeshNormalMaterial({\r\n\t\t\tmorphTargets: true,\r\n\t\t\tmorphNormals: true,\r\n\t\t\tskinning: true\r\n\t\t}));\r\n\r\n\t\tconst clearPass = this.renderPass.getClearPass();\r\n\t\tclearPass.overrideClearColor = new Color(0x7777ff);\r\n\t\tclearPass.overrideClearAlpha = 1.0;\r\n\r\n\t\t/**\r\n\t\t * A render target that contains the scene normals.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t */\r\n\r\n\t\tthis.renderTarget = renderTarget;\r\n\r\n\t\tif(this.renderTarget === undefined) {\r\n\r\n\t\t\tthis.renderTarget = new WebGLRenderTarget(1, 1, {\r\n\t\t\t\tminFilter: NearestFilter,\r\n\t\t\t\tmagFilter: NearestFilter,\r\n\t\t\t\tformat: RGBFormat,\r\n\t\t\t\tstencilBuffer: false\r\n\t\t\t});\r\n\r\n\t\t\tthis.renderTarget.texture.name = \"NormalPass.Target\";\r\n\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * The desired render resolution.\r\n\t\t *\r\n\t\t * Use {@link Resizer.AUTO_SIZE} for the width or height to automatically\r\n\t\t * calculate it based on its counterpart and the original aspect ratio.\r\n\t\t *\r\n\t\t * @type {Resizer}\r\n\t\t */\r\n\r\n\t\tthis.resolution = new Resizer(this, width, height, resolutionScale);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The normal texture.\r\n\t *\r\n\t * @type {Texture}\r\n\t */\r\n\r\n\tget texture() {\r\n\r\n\t\treturn this.renderTarget.texture;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the current resolution scale.\r\n\t *\r\n\t * @return {Number} The resolution scale.\r\n\t * @deprecated Adjust the fixed resolution width or height instead.\r\n\t */\r\n\r\n\tgetResolutionScale() {\r\n\r\n\t\treturn this.resolutionScale;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the resolution scale.\r\n\t *\r\n\t * @param {Number} scale - The new resolution scale.\r\n\t * @deprecated Adjust the fixed resolution width or height instead.\r\n\t */\r\n\r\n\tsetResolutionScale(scale) {\r\n\r\n\t\tthis.resolutionScale = scale;\r\n\t\tthis.setSize(this.resolution.base.x, this.resolution.base.y);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Renders the scene normals.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\r\n\t */\r\n\r\n\trender(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\r\n\r\n\t\tconst renderTarget = this.renderToScreen ? null : this.renderTarget;\r\n\t\tthis.renderPass.render(renderer, renderTarget, renderTarget);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the size of this pass.\r\n\t *\r\n\t * @param {Number} width - The width.\r\n\t * @param {Number} height - The height.\r\n\t */\r\n\r\n\tsetSize(width, height) {\r\n\r\n\t\tconst resolution = this.resolution;\r\n\t\tresolution.base.set(width, height);\r\n\r\n\t\tthis.renderTarget.setSize(resolution.width, resolution.height);\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * A pass that renders the result from a previous pass to another render target.\r\n */\r\n\r\nclass SavePass extends Pass {\r\n\r\n\t/**\r\n\t * Constructs a new save pass.\r\n\t *\r\n\t * @param {WebGLRenderTarget} [renderTarget] - A render target.\r\n\t * @param {Boolean} [resize=true] - Whether the render target should adjust to the size of the input buffer.\r\n\t */\r\n\r\n\tconstructor(renderTarget, resize = true) {\r\n\r\n\t\tsuper(\"SavePass\");\r\n\r\n\t\tthis.setFullscreenMaterial(new CopyMaterial());\r\n\r\n\t\tthis.needsSwap = false;\r\n\r\n\t\t/**\r\n\t\t * The render target.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t */\r\n\r\n\t\tthis.renderTarget = renderTarget;\r\n\r\n\t\tif(renderTarget === undefined) {\r\n\r\n\t\t\tthis.renderTarget = new WebGLRenderTarget(1, 1, {\r\n\t\t\t\tminFilter: LinearFilter,\r\n\t\t\t\tmagFilter: LinearFilter,\r\n\t\t\t\tstencilBuffer: false,\r\n\t\t\t\tdepthBuffer: false\r\n\t\t\t});\r\n\r\n\t\t\tthis.renderTarget.texture.name = \"SavePass.Target\";\r\n\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Indicates whether the render target should be resized automatically.\r\n\t\t *\r\n\t\t * @type {Boolean}\r\n\t\t */\r\n\r\n\t\tthis.resize = resize;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Saves the input buffer.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\r\n\t */\r\n\r\n\trender(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\r\n\r\n\t\tthis.getFullscreenMaterial().uniforms.inputBuffer.value = inputBuffer.texture;\r\n\r\n\t\trenderer.setRenderTarget(this.renderToScreen ? null : this.renderTarget);\r\n\t\trenderer.render(this.scene, this.camera);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the size of this pass.\r\n\t *\r\n\t * @param {Number} width - The width.\r\n\t * @param {Number} height - The height.\r\n\t */\r\n\r\n\tsetSize(width, height) {\r\n\r\n\t\tif(this.resize) {\r\n\r\n\t\t\tconst w = Math.max(width, 1);\r\n\t\t\tconst h = Math.max(height, 1);\r\n\r\n\t\t\tthis.renderTarget.setSize(w, h);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Performs initialization tasks.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - A renderer.\r\n\t * @param {Boolean} alpha - Whether the renderer uses the alpha channel.\r\n\t * @param {Number} frameBufferType - The type of the main frame buffers.\r\n\t */\r\n\r\n\tinitialize(renderer, alpha, frameBufferType) {\r\n\r\n\t\tif(!alpha && frameBufferType === UnsignedByteType) {\r\n\r\n\t\t\tthis.renderTarget.texture.format = RGBFormat;\r\n\r\n\t\t}\r\n\r\n\t\tif(frameBufferType !== undefined) {\r\n\r\n\t\t\tthis.renderTarget.texture.type = frameBufferType;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * A shader pass.\r\n *\r\n * Renders any shader material as a fullscreen effect.\r\n *\r\n * This pass should not be used to create multiple chained effects. For a more\r\n * efficient solution, please refer to the {@link EffectPass}.\r\n */\r\n\r\nclass ShaderPass extends Pass {\r\n\r\n\t/**\r\n\t * Constructs a new shader pass.\r\n\t *\r\n\t * @param {ShaderMaterial} material - A shader material.\r\n\t * @param {String} [input=\"inputBuffer\"] - The name of the input buffer uniform.\r\n\t */\r\n\r\n\tconstructor(material, input = \"inputBuffer\") {\r\n\r\n\t\tsuper(\"ShaderPass\");\r\n\r\n\t\tthis.setFullscreenMaterial(material);\r\n\r\n\t\t/**\r\n\t\t * The input buffer uniform.\r\n\t\t *\r\n\t\t * @type {String}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.uniform = null;\r\n\t\tthis.setInput(input);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the name of the input buffer uniform.\r\n\t *\r\n\t * Most fullscreen materials modify texels from an input texture. This pass\r\n\t * automatically assigns the main input buffer to the uniform identified by\r\n\t * the given name.\r\n\t *\r\n\t * @param {String} input - The name of the input buffer uniform.\r\n\t */\r\n\r\n\tsetInput(input) {\r\n\r\n\t\tconst material = this.getFullscreenMaterial();\r\n\r\n\t\tthis.uniform = null;\r\n\r\n\t\tif(material !== null) {\r\n\r\n\t\t\tconst uniforms = material.uniforms;\r\n\r\n\t\t\tif(uniforms !== undefined && uniforms[input] !== undefined) {\r\n\r\n\t\t\t\tthis.uniform = uniforms[input];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Renders the effect.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\r\n\t */\r\n\r\n\trender(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\r\n\r\n\t\tif(this.uniform !== null && inputBuffer !== null) {\r\n\r\n\t\t\tthis.uniform.value = inputBuffer.texture;\r\n\r\n\t\t}\r\n\r\n\t\trenderer.setRenderTarget(this.renderToScreen ? null : outputBuffer);\r\n\t\trenderer.render(this.scene, this.camera);\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * The EffectComposer may be used in place of a normal WebGLRenderer.\r\n *\r\n * The auto clear behaviour of the provided renderer will be disabled to prevent\r\n * unnecessary clear operations.\r\n *\r\n * It is common practice to use a {@link RenderPass} as the first pass to\r\n * automatically clear the buffers and render a scene for further processing.\r\n *\r\n * @implements {Resizable}\r\n * @implements {Disposable}\r\n */\r\n\r\nclass EffectComposer {\r\n\r\n\t/**\r\n\t * Constructs a new effect composer.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer that should be used.\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {Boolean} [options.depthBuffer=true] - Whether the main render targets should have a depth buffer.\r\n\t * @param {Boolean} [options.stencilBuffer=false] - Whether the main render targets should have a stencil buffer.\r\n\t * @param {Number} [options.multisampling=0] - The number of samples used for multisample antialiasing. Requires WebGL 2.\r\n\t * @param {Boolean} [options.frameBufferType] - The type of the internal frame buffers. It's recommended to use HalfFloatType if possible.\r\n\t */\r\n\r\n\tconstructor(renderer = null, {\r\n\t\tdepthBuffer = true,\r\n\t\tstencilBuffer = false,\r\n\t\tmultisampling = 0,\r\n\t\tframeBufferType\r\n\t} = {}) {\r\n\r\n\t\t/**\r\n\t\t * The renderer.\r\n\t\t *\r\n\t\t * @type {WebGLRenderer}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderer = renderer;\r\n\r\n\t\t/**\r\n\t\t * The input buffer.\r\n\t\t *\r\n\t\t * Reading from and writing to the same render target should be avoided.\r\n\t\t * Therefore, two seperate yet identical buffers are used.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.inputBuffer = null;\r\n\r\n\t\t/**\r\n\t\t * The output buffer.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.outputBuffer = null;\r\n\r\n\t\tif(this.renderer !== null) {\r\n\r\n\t\t\tthis.renderer.autoClear = false;\r\n\t\t\tthis.inputBuffer = this.createBuffer(depthBuffer, stencilBuffer, frameBufferType, multisampling);\r\n\t\t\tthis.outputBuffer = this.inputBuffer.clone();\r\n\t\t\tthis.enableExtensions();\r\n\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * A copy pass used for copying masked scenes.\r\n\t\t *\r\n\t\t * @type {ShaderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.copyPass = new ShaderPass(new CopyMaterial());\r\n\r\n\t\t/**\r\n\t\t * A depth texture.\r\n\t\t *\r\n\t\t * @type {DepthTexture}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.depthTexture = null;\r\n\r\n\t\t/**\r\n\t\t * The passes.\r\n\t\t *\r\n\t\t * @type {Pass[]}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.passes = [];\r\n\r\n\t\t/**\r\n\t\t * Determines whether the last pass automatically renders to screen.\r\n\t\t *\r\n\t\t * @type {Boolean}\r\n\t\t */\r\n\r\n\t\tthis.autoRenderToScreen = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The current amount of samples used for multisample antialiasing.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget multisampling() {\r\n\r\n\t\treturn (this.inputBuffer instanceof WebGLMultisampleRenderTarget) ?\r\n\t\t\tthis.inputBuffer.samples : 0;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the amount of MSAA samples.\r\n\t *\r\n\t * Requires WebGL 2. Set to zero to disable multisampling.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset multisampling(value) {\r\n\r\n\t\tconst buffer = this.inputBuffer;\r\n\t\tconst multisampling = this.multisampling;\r\n\r\n\t\tif(multisampling > 0 && value > 0) {\r\n\r\n\t\t\tthis.inputBuffer.samples = value;\r\n\t\t\tthis.outputBuffer.samples = value;\r\n\r\n\t\t} else if(multisampling !== value) {\r\n\r\n\t\t\tthis.inputBuffer.dispose();\r\n\t\t\tthis.outputBuffer.dispose();\r\n\r\n\t\t\t// Enable or disable MSAA.\r\n\t\t\tthis.inputBuffer = this.createBuffer(\r\n\t\t\t\tbuffer.depthBuffer,\r\n\t\t\t\tbuffer.stencilBuffer,\r\n\t\t\t\tbuffer.texture.type,\r\n\t\t\t\tvalue\r\n\t\t\t);\r\n\r\n\t\t\tthis.outputBuffer = this.inputBuffer.clone();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the WebGL renderer.\r\n\t *\r\n\t * You may replace the renderer at any time by using\r\n\t * {@link EffectComposer#replaceRenderer}.\r\n\t *\r\n\t * @return {WebGLRenderer} The renderer.\r\n\t */\r\n\r\n\tgetRenderer() {\r\n\r\n\t\treturn this.renderer;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Explicitly enables required WebGL extensions.\r\n\t *\r\n\t * @private\r\n\t */\r\n\r\n\tenableExtensions() {\r\n\r\n\t\tconst frameBufferType = this.inputBuffer.texture.type;\r\n\t\tconst capabilities = this.renderer.capabilities;\r\n\t\tconst context = this.renderer.getContext();\r\n\r\n\t\tif(frameBufferType !== UnsignedByteType) {\r\n\r\n\t\t\tif(capabilities.isWebGL2) {\r\n\r\n\t\t\t\tcontext.getExtension(\"EXT_color_buffer_float\");\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tcontext.getExtension(\"EXT_color_buffer_half_float\");\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Replaces the current renderer with the given one.\r\n\t *\r\n\t * The auto clear mechanism of the provided renderer will be disabled. If the\r\n\t * new render size differs from the previous one, all passes will be updated.\r\n\t *\r\n\t * By default, the DOM element of the current renderer will automatically be\r\n\t * removed from its parent node and the DOM element of the new renderer will\r\n\t * take its place.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The new renderer.\r\n\t * @param {Boolean} updateDOM - Indicates whether the old canvas should be replaced by the new one in the DOM.\r\n\t * @return {WebGLRenderer} The old renderer.\r\n\t */\r\n\r\n\treplaceRenderer(renderer, updateDOM = true) {\r\n\r\n\t\tconst oldRenderer = this.renderer;\r\n\r\n\t\tif(oldRenderer !== null && oldRenderer !== renderer) {\r\n\r\n\t\t\tconst oldSize = oldRenderer.getSize(new Vector2$1());\r\n\t\t\tconst newSize = renderer.getSize(new Vector2$1());\r\n\t\t\tconst parent = oldRenderer.domElement.parentNode;\r\n\r\n\t\t\tthis.renderer = renderer;\r\n\t\t\tthis.renderer.autoClear = false;\r\n\r\n\t\t\tif(!oldSize.equals(newSize)) {\r\n\r\n\t\t\t\tthis.setSize();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif(updateDOM && parent !== null) {\r\n\r\n\t\t\t\tparent.removeChild(oldRenderer.domElement);\r\n\t\t\t\tparent.appendChild(renderer.domElement);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.enableExtensions();\r\n\r\n\t\t}\r\n\r\n\t\treturn oldRenderer;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Creates a depth texture attachment that will be provided to all passes.\r\n\t *\r\n\t * Note: When a shader reads from a depth texture and writes to a render\r\n\t * target that uses the same depth texture attachment, the depth information\r\n\t * will be lost. This happens even if `depthWrite` is disabled.\r\n\t *\r\n\t * @private\r\n\t * @return {DepthTexture} The depth texture.\r\n\t */\r\n\r\n\tcreateDepthTexture() {\r\n\r\n\t\tconst depthTexture = this.depthTexture = new DepthTexture();\r\n\r\n\t\tif(this.inputBuffer.stencilBuffer) {\r\n\r\n\t\t\tdepthTexture.format = DepthStencilFormat;\r\n\t\t\tdepthTexture.type = UnsignedInt248Type;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tdepthTexture.type = UnsignedIntType;\r\n\r\n\t\t}\r\n\r\n\t\treturn depthTexture;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Deletes the current depth texture.\r\n\t *\r\n\t * @private\r\n\t */\r\n\r\n\tdeleteDepthTexture() {\r\n\r\n\t\tif(this.depthTexture !== null) {\r\n\r\n\t\t\tthis.depthTexture.dispose();\r\n\t\t\tthis.depthTexture = null;\r\n\r\n\t\t\tthis.inputBuffer.depthTexture = null;\r\n\t\t\tthis.outputBuffer.depthTexture = null;\r\n\r\n\t\t\tfor(const pass of this.passes) {\r\n\r\n\t\t\t\tpass.setDepthTexture(null);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Creates a new render target by replicating the renderer's canvas.\r\n\t *\r\n\t * The created render target uses a linear filter for texel minification and\r\n\t * magnification. Its render texture format depends on whether the renderer\r\n\t * uses the alpha channel. Mipmaps are disabled.\r\n\t *\r\n\t * Note: The buffer format will also be set to RGBA if the frame buffer type\r\n\t * is HalfFloatType because RGB16F buffers are not renderable.\r\n\t *\r\n\t * @param {Boolean} depthBuffer - Whether the render target should have a depth buffer.\r\n\t * @param {Boolean} stencilBuffer - Whether the render target should have a stencil buffer.\r\n\t * @param {Number} type - The frame buffer type.\r\n\t * @param {Number} multisampling - The number of samples to use for antialiasing.\r\n\t * @return {WebGLRenderTarget} A new render target that equals the renderer's canvas.\r\n\t */\r\n\r\n\tcreateBuffer(depthBuffer, stencilBuffer, type, multisampling) {\r\n\r\n\t\tconst size = this.renderer.getDrawingBufferSize(new Vector2$1());\r\n\t\tconst alpha = this.renderer.getContext().getContextAttributes().alpha;\r\n\r\n\t\tconst options = {\r\n\t\t\tformat: (!alpha && type === UnsignedByteType) ? RGBFormat : RGBAFormat,\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tmagFilter: LinearFilter,\r\n\t\t\tstencilBuffer,\r\n\t\t\tdepthBuffer,\r\n\t\t\ttype\r\n\t\t};\r\n\r\n\t\tconst renderTarget = (multisampling > 0) ?\r\n\t\t\tnew WebGLMultisampleRenderTarget(size.width, size.height, options) :\r\n\t\t\tnew WebGLRenderTarget(size.width, size.height, options);\r\n\r\n\t\tif(multisampling > 0) {\r\n\r\n\t\t\trenderTarget.samples = multisampling;\r\n\r\n\t\t}\r\n\r\n\t\trenderTarget.texture.name = \"EffectComposer.Buffer\";\r\n\t\trenderTarget.texture.generateMipmaps = false;\r\n\r\n\t\treturn renderTarget;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Adds a pass, optionally at a specific index.\r\n\t *\r\n\t * @param {Pass} pass - A new pass.\r\n\t * @param {Number} [index] - An index at which the pass should be inserted.\r\n\t */\r\n\r\n\taddPass(pass, index) {\r\n\r\n\t\tconst passes = this.passes;\r\n\t\tconst renderer = this.renderer;\r\n\t\tconst alpha = renderer.getContext().getContextAttributes().alpha;\r\n\t\tconst frameBufferType = this.inputBuffer.texture.type;\r\n\t\tconst drawingBufferSize = renderer.getDrawingBufferSize(new Vector2$1());\r\n\r\n\t\tpass.setSize(drawingBufferSize.width, drawingBufferSize.height);\r\n\t\tpass.initialize(renderer, alpha, frameBufferType);\r\n\r\n\t\tif(this.autoRenderToScreen) {\r\n\r\n\t\t\tif(passes.length > 0) {\r\n\r\n\t\t\t\tpasses[passes.length - 1].renderToScreen = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif(pass.renderToScreen) {\r\n\r\n\t\t\t\tthis.autoRenderToScreen = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif(index !== undefined) {\r\n\r\n\t\t\tpasses.splice(index, 0, pass);\r\n\r\n\t\t} else {\r\n\r\n\t\t\tpasses.push(pass);\r\n\r\n\t\t}\r\n\r\n\t\tif(this.autoRenderToScreen) {\r\n\r\n\t\t\tpasses[passes.length - 1].renderToScreen = true;\r\n\r\n\t\t}\r\n\r\n\t\tif(pass.needsDepthTexture || this.depthTexture !== null) {\r\n\r\n\t\t\tif(this.depthTexture === null) {\r\n\r\n\t\t\t\tconst depthTexture = this.createDepthTexture();\r\n\r\n\t\t\t\tfor(pass of passes) {\r\n\r\n\t\t\t\t\tpass.setDepthTexture(depthTexture);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tpass.setDepthTexture(this.depthTexture);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Removes a pass.\r\n\t *\r\n\t * @param {Pass} pass - The pass.\r\n\t */\r\n\r\n\tremovePass(pass) {\r\n\r\n\t\tconst passes = this.passes;\r\n\t\tconst index = passes.indexOf(pass);\r\n\t\tconst removed = (passes.splice(index, 1).length > 0);\r\n\r\n\t\tif(removed) {\r\n\r\n\t\t\tif(this.depthTexture !== null) {\r\n\r\n\t\t\t\t// Check if the depth texture is still required.\r\n\t\t\t\tconst reducer = (a, b) => (a || b.needsDepthTexture);\r\n\t\t\t\tconst depthTextureRequired = passes.reduce(reducer, false);\r\n\r\n\t\t\t\tif(!depthTextureRequired) {\r\n\r\n\t\t\t\t\tthis.deleteDepthTexture();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif(this.autoRenderToScreen) {\r\n\r\n\t\t\t\t// Check if the removed pass was the last one.\r\n\t\t\t\tif(index === passes.length) {\r\n\r\n\t\t\t\t\tpass.renderToScreen = false;\r\n\r\n\t\t\t\t\tif(passes.length > 0) {\r\n\r\n\t\t\t\t\t\tpasses[passes.length - 1].renderToScreen = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Removes all passes without deleting them.\r\n\t */\r\n\r\n\tremoveAllPasses() {\r\n\r\n\t\tconst passes = this.passes;\r\n\r\n\t\tthis.deleteDepthTexture();\r\n\r\n\t\tif(passes.length > 0) {\r\n\r\n\t\t\tif(this.autoRenderToScreen) {\r\n\r\n\t\t\t\tpasses[passes.length - 1].renderToScreen = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.passes = [];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Renders all enabled passes in the order in which they were added.\r\n\t *\r\n\t * @param {Number} deltaTime - The time since the last frame in seconds.\r\n\t */\r\n\r\n\trender(deltaTime) {\r\n\r\n\t\tconst renderer = this.renderer;\r\n\t\tconst copyPass = this.copyPass;\r\n\r\n\t\tlet inputBuffer = this.inputBuffer;\r\n\t\tlet outputBuffer = this.outputBuffer;\r\n\r\n\t\tlet stencilTest = false;\r\n\t\tlet context, stencil, buffer;\r\n\r\n\t\tfor(const pass of this.passes) {\r\n\r\n\t\t\tif(pass.enabled) {\r\n\r\n\t\t\t\tpass.render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest);\r\n\r\n\t\t\t\tif(pass.needsSwap) {\r\n\r\n\t\t\t\t\tif(stencilTest) {\r\n\r\n\t\t\t\t\t\tcopyPass.renderToScreen = pass.renderToScreen;\r\n\t\t\t\t\t\tcontext = renderer.getContext();\r\n\t\t\t\t\t\tstencil = renderer.state.buffers.stencil;\r\n\r\n\t\t\t\t\t\t// Preserve the unaffected pixels.\r\n\t\t\t\t\t\tstencil.setFunc(context.NOTEQUAL, 1, 0xffffffff);\r\n\t\t\t\t\t\tcopyPass.render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest);\r\n\t\t\t\t\t\tstencil.setFunc(context.EQUAL, 1, 0xffffffff);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbuffer = inputBuffer;\r\n\t\t\t\t\tinputBuffer = outputBuffer;\r\n\t\t\t\t\toutputBuffer = buffer;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(pass instanceof MaskPass) {\r\n\r\n\t\t\t\t\tstencilTest = true;\r\n\r\n\t\t\t\t} else if(pass instanceof ClearMaskPass) {\r\n\r\n\t\t\t\t\tstencilTest = false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the size of the buffers and the renderer's output canvas.\r\n\t *\r\n\t * Every pass will be informed of the new size. It's up to each pass how that\r\n\t * information is used.\r\n\t *\r\n\t * If no width or height is specified, the render targets and passes will be\r\n\t * updated with the current size of the renderer.\r\n\t *\r\n\t * @param {Number} [width] - The width.\r\n\t * @param {Number} [height] - The height.\r\n\t * @param {Boolean} [updateStyle] - Determines whether the style of the canvas should be updated.\r\n\t */\r\n\r\n\tsetSize(width, height, updateStyle) {\r\n\r\n\t\tconst renderer = this.renderer;\r\n\r\n\t\tif(width === undefined || height === undefined) {\r\n\r\n\t\t\tconst size = renderer.getSize(new Vector2$1());\r\n\t\t\twidth = size.width; height = size.height;\r\n\r\n\t\t}\r\n\r\n\t\t// Update the logical render size.\r\n\t\trenderer.setSize(width, height, updateStyle);\r\n\r\n\t\t// The drawing buffer size takes the device pixel ratio into account.\r\n\t\tconst drawingBufferSize = renderer.getDrawingBufferSize(new Vector2$1());\r\n\r\n\t\tthis.inputBuffer.setSize(drawingBufferSize.width, drawingBufferSize.height);\r\n\t\tthis.outputBuffer.setSize(drawingBufferSize.width, drawingBufferSize.height);\r\n\r\n\t\tfor(const pass of this.passes) {\r\n\r\n\t\t\tpass.setSize(drawingBufferSize.width, drawingBufferSize.height);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Resets this composer by deleting all passes and creating new buffers.\r\n\t */\r\n\r\n\treset() {\r\n\r\n\t\tconst renderTarget = this.inputBuffer.clone();\r\n\r\n\t\tthis.dispose();\r\n\r\n\t\t// Reanimate.\r\n\t\tthis.inputBuffer = renderTarget;\r\n\t\tthis.outputBuffer = renderTarget.clone();\r\n\t\tthis.depthTexture = null;\r\n\t\tthis.copyPass = new ShaderPass(new CopyMaterial());\r\n\t\tthis.autoRenderToScreen = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Destroys this composer and all passes.\r\n\t *\r\n\t * This method deallocates all disposable objects created by the passes. It\r\n\t * also deletes the main frame buffers of this composer.\r\n\t */\r\n\r\n\tdispose() {\r\n\r\n\t\tfor(const pass of this.passes) {\r\n\r\n\t\t\tpass.dispose();\r\n\r\n\t\t}\r\n\r\n\t\tthis.passes = [];\r\n\r\n\t\tif(this.inputBuffer !== null) {\r\n\r\n\t\t\tthis.inputBuffer.dispose();\r\n\t\t\tthis.inputBuffer = null;\r\n\r\n\t\t}\r\n\r\n\t\tif(this.outputBuffer !== null) {\r\n\r\n\t\t\tthis.outputBuffer.dispose();\r\n\t\t\tthis.outputBuffer = null;\r\n\r\n\t\t}\r\n\r\n\t\tif(this.depthTexture !== null) {\r\n\r\n\t\t\tthis.depthTexture.dispose();\r\n\r\n\t\t}\r\n\r\n\t\tthis.copyPass.dispose();\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * The initializable contract.\r\n *\r\n * Implemented by objects that can be initialized.\r\n *\r\n * @interface\r\n */\r\n\r\nclass Initializable {\r\n\r\n\t/**\r\n\t * Performs initialization tasks.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - A renderer.\r\n\t * @param {Boolean} alpha - Whether the renderer uses the alpha channel.\r\n\t * @param {Number} frameBufferType - The type of the main frame buffers.\r\n\t */\r\n\r\n\tinitialize(renderer, alpha, frameBufferType) {}\r\n\r\n}\r\n\r\n/**\r\n * The Resizable contract.\r\n *\r\n * Implemented by objects that can be resized.\r\n *\r\n * @interface\r\n */\r\n\r\nclass Resizable {\r\n\r\n\t/**\r\n\t * Sets the size of this object.\r\n\t *\r\n\t * @param {Number} width - The new width.\r\n\t * @param {Number} height - The new height.\r\n\t */\r\n\r\n\tsetSize(width, height) {}\r\n\r\n}\r\n\r\n/**\r\n * An object selection.\r\n *\r\n * Object selections use render layers to facilitate quick and efficient\r\n * visibility changes.\r\n */\r\n\r\nclass Selection extends Set {\r\n\r\n\t/**\r\n\t * Constructs a new selection.\r\n\t *\r\n\t * @param {Iterable<Object3D>} [iterable] - A collection of objects that should be added to this selection.\r\n\t * @param {Number} [layer=10] - A dedicated render layer for selected objects.\r\n\t */\r\n\r\n\tconstructor(iterable, layer = 10) {\r\n\r\n\t\tsuper();\r\n\r\n\t\t/**\r\n\t\t * The current render layer for selected objects.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.currentLayer = layer;\r\n\r\n\t\tif(iterable !== undefined) {\r\n\r\n\t\t\tthis.set(iterable);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * A dedicated render layer for selected objects.\r\n\t *\r\n\t * This layer is set to 10 by default. If this collides with your own custom\r\n\t * layers, please change it to a free layer before rendering!\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget layer() {\r\n\r\n\t\treturn this.currentLayer;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the render layer of selected objects.\r\n\t *\r\n\t * The current selection will be updated accordingly.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset layer(value) {\r\n\r\n\t\tconst currentLayer = this.currentLayer;\r\n\r\n\t\tfor(const object of this) {\r\n\r\n\t\t\tobject.layers.disable(currentLayer);\r\n\t\t\tobject.layers.enable(value);\r\n\r\n\t\t}\r\n\r\n\t\tthis.currentLayer = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Clears this selection.\r\n\t *\r\n\t * @return {Selection} This selection.\r\n\t */\r\n\r\n\tclear() {\r\n\r\n\t\tconst layer = this.layer;\r\n\r\n\t\tfor(const object of this) {\r\n\r\n\t\t\tobject.layers.disable(layer);\r\n\r\n\t\t}\r\n\r\n\t\treturn super.clear();\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Clears this selection and adds the given objects.\r\n\t *\r\n\t * @param {Iterable<Object3D>} objects - The objects that should be selected. This array will be copied.\r\n\t * @return {Selection} This selection.\r\n\t */\r\n\r\n\tset(objects) {\r\n\r\n\t\tthis.clear();\r\n\r\n\t\tfor(const object of objects) {\r\n\r\n\t\t\tthis.add(object);\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * An alias for {@link has}.\r\n\t *\r\n\t * @param {Object3D} object - An object.\r\n\t * @return {Number} Returns 0 if the given object is currently selected, or -1 otherwise.\r\n\t * @deprecated Added for backward compatibility. Use has instead.\r\n\t */\r\n\r\n\tindexOf(object) {\r\n\r\n\t\treturn this.has(object) ? 0 : -1;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Adds an object to this selection.\r\n\t *\r\n\t * @param {Object3D} object - The object that should be selected.\r\n\t * @return {Selection} This selection.\r\n\t */\r\n\r\n\tadd(object) {\r\n\r\n\t\tobject.layers.enable(this.layer);\r\n\t\tsuper.add(object);\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Removes an object from this selection.\r\n\t *\r\n\t * @param {Object3D} object - The object that should be deselected.\r\n\t * @return {Boolean} Returns true if an object has successfully been removed from this selection; otherwise false.\r\n\t */\r\n\r\n\tdelete(object) {\r\n\r\n\t\tif(this.has(object)) {\r\n\r\n\t\t\tobject.layers.disable(this.layer);\r\n\r\n\t\t}\r\n\r\n\t\treturn super.delete(object);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the visibility of all selected objects.\r\n\t *\r\n\t * This method enables or disables render layer 0 of all selected objects.\r\n\t *\r\n\t * @param {Boolean} visible - Whether the selected objects should be visible.\r\n\t * @return {Selection} This selection.\r\n\t */\r\n\r\n\tsetVisible(visible) {\r\n\r\n\t\tfor(const object of this) {\r\n\r\n\t\t\tif(visible) {\r\n\r\n\t\t\t\tobject.layers.enable(0);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tobject.layers.disable(0);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$e = \"uniform sampler2D texture;uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=clamp(texture2D(texture,uv)*intensity,0.0,1.0);}\";\r\n\r\n/**\r\n * A bloom effect.\r\n *\r\n * This effect uses the fast Kawase convolution technique and a luminance filter\r\n * to blur bright highlights.\r\n */\r\n\r\nclass BloomEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new bloom effect.\r\n\t *\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.SCREEN] - The blend function of this effect.\r\n\t * @param {Number} [options.luminanceThreshold=0.9] - The luminance threshold. Raise this value to mask out darker elements in the scene. Range is [0, 1].\r\n\t * @param {Number} [options.luminanceSmoothing=0.025] - Controls the smoothness of the luminance threshold. Range is [0, 1].\r\n\t * @param {Number} [options.resolutionScale=0.5] - Deprecated. Use height or width instead.\r\n\t * @param {Number} [options.intensity=1.0] - The intensity.\r\n\t * @param {Number} [options.width=Resizer.AUTO_SIZE] - The render width.\r\n\t * @param {Number} [options.height=Resizer.AUTO_SIZE] - The render height.\r\n\t * @param {KernelSize} [options.kernelSize=KernelSize.LARGE] - The blur kernel size.\r\n\t */\r\n\r\n\tconstructor({\r\n\t\tblendFunction = BlendFunction.SCREEN,\r\n\t\tluminanceThreshold = 0.9,\r\n\t\tluminanceSmoothing = 0.025,\r\n\t\tresolutionScale = 0.5,\r\n\t\tintensity = 1.0,\r\n\t\twidth = Resizer.AUTO_SIZE,\r\n\t\theight = Resizer.AUTO_SIZE,\r\n\t\tkernelSize = KernelSize.LARGE\r\n\t} = {}) {\r\n\r\n\t\tsuper(\"BloomEffect\", fragmentShader$e, {\r\n\r\n\t\t\tblendFunction,\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"texture\", new Uniform(null)],\r\n\t\t\t\t[\"intensity\", new Uniform(intensity)]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * A render target.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderTarget = new WebGLRenderTarget(1, 1, {\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tmagFilter: LinearFilter,\r\n\t\t\tstencilBuffer: false,\r\n\t\t\tdepthBuffer: false\r\n\t\t});\r\n\r\n\t\tthis.renderTarget.texture.name = \"Bloom.Target\";\r\n\t\tthis.renderTarget.texture.generateMipmaps = false;\r\n\r\n\t\tthis.uniforms.get(\"texture\").value = this.renderTarget.texture;\r\n\r\n\t\t/**\r\n\t\t * A blur pass.\r\n\t\t *\r\n\t\t * @type {BlurPass}\r\n\t\t */\r\n\r\n\t\tthis.blurPass = new BlurPass({ resolutionScale, width, height, kernelSize });\r\n\t\tthis.blurPass.resolution.resizable = this;\r\n\r\n\t\t/**\r\n\t\t * A luminance shader pass.\r\n\t\t *\r\n\t\t * You may disable this pass to deactivate luminance filtering.\r\n\t\t *\r\n\t\t * @type {ShaderPass}\r\n\t\t */\r\n\r\n\t\tthis.luminancePass = new ShaderPass(new LuminanceMaterial(true));\r\n\r\n\t\tthis.luminanceMaterial.threshold = luminanceThreshold;\r\n\t\tthis.luminanceMaterial.smoothing = luminanceSmoothing;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * A texture that contains the intermediate result of this effect.\r\n\t *\r\n\t * This texture will be applied to the scene colors unless the blend function\r\n\t * is set to `SKIP`.\r\n\t *\r\n\t * @type {Texture}\r\n\t */\r\n\r\n\tget texture() {\r\n\r\n\t\treturn this.renderTarget.texture;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The luminance material.\r\n\t *\r\n\t * @type {LuminanceMaterial}\r\n\t */\r\n\r\n\tget luminanceMaterial() {\r\n\r\n\t\treturn this.luminancePass.getFullscreenMaterial();\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The resolution of this effect.\r\n\t *\r\n\t * @type {Resizer}\r\n\t */\r\n\r\n\tget resolution() {\r\n\r\n\t\treturn this.blurPass.resolution;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The current width of the internal render targets.\r\n\t *\r\n\t * @type {Number}\r\n\t * @deprecated Use resolution.width instead.\r\n\t */\r\n\r\n\tget width() {\r\n\r\n\t\treturn this.resolution.width;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the render width.\r\n\t *\r\n\t * @type {Number}\r\n\t * @deprecated Use resolution.width instead.\r\n\t */\r\n\r\n\tset width(value) {\r\n\r\n\t\tthis.resolution.width = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The current height of the internal render targets.\r\n\t *\r\n\t * @type {Number}\r\n\t * @deprecated Use resolution.height instead.\r\n\t */\r\n\r\n\tget height() {\r\n\r\n\t\treturn this.resolution.height;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the render height.\r\n\t *\r\n\t * @type {Number}\r\n\t * @deprecated Use resolution.height instead.\r\n\t */\r\n\r\n\tset height(value) {\r\n\r\n\t\tthis.resolution.height = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether dithering is enabled.\r\n\t *\r\n\t * @type {Boolean}\r\n\t * @deprecated Set the frameBufferType of the EffectComposer to HalfFloatType instead.\r\n\t */\r\n\r\n\tget dithering() {\r\n\r\n\t\treturn this.blurPass.dithering;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables dithering.\r\n\t *\r\n\t * @type {Boolean}\r\n\t * @deprecated Set the frameBufferType of the EffectComposer to HalfFloatType instead.\r\n\t */\r\n\r\n\tset dithering(value) {\r\n\r\n\t\tthis.blurPass.dithering = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The blur kernel size.\r\n\t *\r\n\t * @type {KernelSize}\r\n\t * @deprecated Use blurPass.kernelSize instead.\r\n\t */\r\n\r\n\tget kernelSize() {\r\n\r\n\t\treturn this.blurPass.kernelSize;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @type {KernelSize}\r\n\t * @deprecated Use blurPass.kernelSize instead.\r\n\t */\r\n\r\n\tset kernelSize(value) {\r\n\r\n\t\tthis.blurPass.kernelSize = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @type {Number}\r\n\t * @deprecated Use luminanceMaterial.threshold and luminanceMaterial.smoothing instead.\r\n\t */\r\n\r\n\tget distinction() {\r\n\r\n\t\tconsole.warn(this.name, \"The distinction field has been removed, use luminanceMaterial.threshold and luminanceMaterial.smoothing instead.\");\r\n\r\n\t\treturn 1.0;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @type {Number}\r\n\t * @deprecated Use luminanceMaterial.threshold and luminanceMaterial.smoothing instead.\r\n\t */\r\n\r\n\tset distinction(value) {\r\n\r\n\t\tconsole.warn(this.name, \"The distinction field has been removed, use luminanceMaterial.threshold and luminanceMaterial.smoothing instead.\");\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The bloom intensity.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget intensity() {\r\n\r\n\t\treturn this.uniforms.get(\"intensity\").value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the bloom intensity.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset intensity(value) {\r\n\r\n\t\tthis.uniforms.get(\"intensity\").value = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the current resolution scale.\r\n\t *\r\n\t * @return {Number} The resolution scale.\r\n\t * @deprecated Adjust the fixed resolution width or height instead.\r\n\t */\r\n\r\n\tgetResolutionScale() {\r\n\r\n\t\treturn this.resolution.scale;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the resolution scale.\r\n\t *\r\n\t * @param {Number} scale - The new resolution scale.\r\n\t * @deprecated Adjust the fixed resolution width or height instead.\r\n\t */\r\n\r\n\tsetResolutionScale(scale) {\r\n\r\n\t\tthis.resolution.scale = scale;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates this effect.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t */\r\n\r\n\tupdate(renderer, inputBuffer, deltaTime) {\r\n\r\n\t\tconst renderTarget = this.renderTarget;\r\n\r\n\t\tif(this.luminancePass.enabled) {\r\n\r\n\t\t\tthis.luminancePass.render(renderer, inputBuffer, renderTarget);\r\n\t\t\tthis.blurPass.render(renderer, renderTarget, renderTarget);\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.blurPass.render(renderer, inputBuffer, renderTarget);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the size of internal render targets.\r\n\t *\r\n\t * @param {Number} width - The width.\r\n\t * @param {Number} height - The height.\r\n\t */\r\n\r\n\tsetSize(width, height) {\r\n\r\n\t\tthis.blurPass.setSize(width, height);\r\n\t\tthis.renderTarget.setSize(this.resolution.width, this.resolution.height);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Performs initialization tasks.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {Boolean} alpha - Whether the renderer uses the alpha channel or not.\r\n\t * @param {Number} frameBufferType - The type of the main frame buffers.\r\n\t */\r\n\r\n\tinitialize(renderer, alpha, frameBufferType) {\r\n\r\n\t\tthis.blurPass.initialize(renderer, alpha, frameBufferType);\r\n\r\n\t\tif(!alpha && frameBufferType === UnsignedByteType) {\r\n\r\n\t\t\tthis.renderTarget.texture.format = RGBFormat;\r\n\r\n\t\t}\r\n\r\n\t\tif(frameBufferType !== undefined) {\r\n\r\n\t\t\tthis.renderTarget.texture.type = frameBufferType;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$f = \"uniform float focus;uniform float dof;uniform float aperture;uniform float maxBlur;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec2 aspectCorrection=vec2(1.0,aspect);\\n#ifdef PERSPECTIVE_CAMERA\\nfloat viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);\\n#else\\nfloat linearDepth=depth;\\n#endif\\nfloat focusNear=clamp(focus-dof,0.0,1.0);float focusFar=clamp(focus+dof,0.0,1.0);float low=step(linearDepth,focusNear);float high=step(focusFar,linearDepth);float factor=(linearDepth-focusNear)*low+(linearDepth-focusFar)*high;vec2 dofBlur=vec2(clamp(factor*aperture,-maxBlur,maxBlur));vec2 dofblur9=dofBlur*0.9;vec2 dofblur7=dofBlur*0.7;vec2 dofblur4=dofBlur*0.4;vec4 color=inputColor;color+=texture2D(inputBuffer,uv+(vec2(0.0,0.4)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.15,0.37)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.29,0.29)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(-0.37,0.15)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.40,0.0)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.37,-0.15)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.29,-0.29)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(-0.15,-0.37)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.0,-0.4)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(-0.15,0.37)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(-0.29,0.29)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.37,0.15)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(-0.4,0.0)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(-0.37,-0.15)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(-0.29,-0.29)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.15,-0.37)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.15,0.37)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(-0.37,0.15)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(0.37,-0.15)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(-0.15,-0.37)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(-0.15,0.37)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(0.37,0.15)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(-0.37,-0.15)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(0.15,-0.37)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(0.29,0.29)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(0.40,0.0)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(0.29,-0.29)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(0.0,-0.4)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(-0.29,0.29)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(-0.4,0.0)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(-0.29,-0.29)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(0.0,0.4)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(0.29,0.29)*aspectCorrection)*dofblur4);color+=texture2D(inputBuffer,uv+(vec2(0.4,0.0)*aspectCorrection)*dofblur4);color+=texture2D(inputBuffer,uv+(vec2(0.29,-0.29)*aspectCorrection)*dofblur4);color+=texture2D(inputBuffer,uv+(vec2(0.0,-0.4)*aspectCorrection)*dofblur4);color+=texture2D(inputBuffer,uv+(vec2(-0.29,0.29)*aspectCorrection)*dofblur4);color+=texture2D(inputBuffer,uv+(vec2(-0.4,0.0)*aspectCorrection)*dofblur4);color+=texture2D(inputBuffer,uv+(vec2(-0.29,-0.29)*aspectCorrection)*dofblur4);color+=texture2D(inputBuffer,uv+(vec2(0.0,0.4)*aspectCorrection)*dofblur4);outputColor=color/41.0;}\";\r\n\r\n/**\r\n * A depth of field (bokeh) effect.\r\n *\r\n * Original shader code by Martins Upitis:\r\n *  http://artmartinsh.blogspot.com/2010/02/glsl-lens-blur-filter-with-bokeh.html\r\n *\r\n * @deprecated Use DepthOfFieldEffect instead.\r\n */\r\n\r\nclass BokehEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new bokeh effect.\r\n\t *\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.NORMAL] - The blend function of this effect.\r\n\t * @param {Number} [options.focus=0.5] - The focus distance ratio, ranging from 0.0 to 1.0.\r\n\t * @param {Number} [options.dof=0.02] - Depth of field. An area in front of and behind the focal point that still appears sharp.\r\n\t * @param {Number} [options.aperture=0.015] - Camera aperture scale. Bigger values for stronger blur and shallower depth of field.\r\n\t * @param {Number} [options.maxBlur=1.0] - The maximum blur strength.\r\n\t */\r\n\r\n\tconstructor({ blendFunction = BlendFunction.NORMAL, focus = 0.5, dof = 0.02, aperture = 0.015, maxBlur = 1.0 } = {}) {\r\n\r\n\t\tsuper(\"BokehEffect\", fragmentShader$f, {\r\n\r\n\t\t\tblendFunction,\r\n\t\t\tattributes: EffectAttribute.CONVOLUTION | EffectAttribute.DEPTH,\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"focus\", new Uniform(focus)],\r\n\t\t\t\t[\"dof\", new Uniform(dof)],\r\n\t\t\t\t[\"aperture\", new Uniform(aperture)],\r\n\t\t\t\t[\"maxBlur\", new Uniform(maxBlur)]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$g = \"uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(min(color+vec3(0.5),1.0),inputColor.a);}\";\r\n\r\n/**\r\n * A brightness/contrast effect.\r\n *\r\n * Reference: https://github.com/evanw/glfx.js\r\n */\r\n\r\nclass BrightnessContrastEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new brightness/contrast effect.\r\n\t *\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.NORMAL] - The blend function of this effect.\r\n\t * @param {Number} [options.brightness=0.0] - The brightness factor, ranging from -1 to 1, where 0 means no change.\r\n\t * @param {Number} [options.contrast=0.0] - The contrast factor, ranging from -1 to 1, where 0 means no change.\r\n\t */\r\n\r\n\tconstructor({ blendFunction = BlendFunction.NORMAL, brightness = 0.0, contrast = 0.0 } = {}) {\r\n\r\n\t\tsuper(\"BrightnessContrastEffect\", fragmentShader$g, {\r\n\r\n\t\t\tblendFunction,\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"brightness\", new Uniform(brightness)],\r\n\t\t\t\t[\"contrast\", new Uniform(contrast)]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$h = \"void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float sum=inputColor.r+inputColor.g+inputColor.b;outputColor=vec4(vec3(sum/3.0),inputColor.a);}\";\r\n\r\n/**\r\n * A color average effect.\r\n */\r\n\r\nclass ColorAverageEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new color average effect.\r\n\t *\r\n\t * @param {BlendFunction} [blendFunction=BlendFunction.NORMAL] - The blend function of this effect.\r\n\t */\r\n\r\n\tconstructor(blendFunction = BlendFunction.NORMAL) {\r\n\r\n\t\tsuper(\"ColorAverageEffect\", fragmentShader$h, { blendFunction });\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$i = \"uniform float factor;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(floor(inputColor.rgb*factor+0.5)/factor,inputColor.a);}\";\r\n\r\n/**\r\n * A color depth effect.\r\n *\r\n * Simulates a hardware limitation to achieve a retro feel.\r\n */\r\n\r\nclass ColorDepthEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new color depth effect.\r\n\t *\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.NORMAL] - The blend function of this effect.\r\n\t * @param {Number} [options.bits=16] - The color bit depth.\r\n\t */\r\n\r\n\tconstructor({ blendFunction = BlendFunction.NORMAL, bits = 16 } = {}) {\r\n\r\n\t\tsuper(\"ColorDepthEffect\", fragmentShader$i, {\r\n\r\n\t\t\tblendFunction,\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"factor\", new Uniform(1.0)]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * The current amount of bits.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.bits = 0;\r\n\r\n\t\tthis.setBitDepth(bits);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the current color bit depth.\r\n\t *\r\n\t * @return {Number} The color bit depth.\r\n\t */\r\n\r\n\tgetBitDepth() {\r\n\r\n\t\treturn this.bits;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the virtual amount of color bits.\r\n\t *\r\n\t * Each color channel will use a third of the available bits. The alpha\r\n\t * channel remains unaffected.\r\n\t *\r\n\t * Note that the real color depth will not be altered by this effect.\r\n\t *\r\n\t * @param {Number} bits - The new color bit depth.\r\n\t */\r\n\r\n\tsetBitDepth(bits) {\r\n\r\n\t\tthis.bits = bits;\r\n\t\tthis.uniforms.get(\"factor\").value = Math.pow(2.0, bits / 3.0);\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$j = \"varying vec2 vUvR;varying vec2 vUvB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 color=inputColor;\\n#ifdef ALPHA\\nvec2 ra=texture2D(inputBuffer,vUvR).ra;vec2 ba=texture2D(inputBuffer,vUvB).ba;color.r=ra.x;color.b=ba.x;color.a=max(max(ra.y,ba.y),inputColor.a);\\n#else\\ncolor.r=texture2D(inputBuffer,vUvR).r;color.b=texture2D(inputBuffer,vUvB).b;\\n#endif\\noutputColor=color;}\";\r\n\r\nvar vertexShader$8 = \"uniform vec2 offset;varying vec2 vUvR;varying vec2 vUvB;void mainSupport(const in vec2 uv){vUvR=uv+offset;vUvB=uv-offset;}\";\r\n\r\n/**\r\n * A chromatic aberration effect.\r\n */\r\n\r\nclass ChromaticAberrationEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new chromatic aberration effect.\r\n\t *\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.NORMAL] - The blend function of this effect.\r\n\t * @param {Vector2} [options.offset] - The color offset.\r\n\t */\r\n\r\n\tconstructor({ blendFunction = BlendFunction.NORMAL, offset = new Vector2$1(0.001, 0.0005) } = {}) {\r\n\r\n\t\tsuper(\"ChromaticAberrationEffect\", fragmentShader$j, {\r\n\r\n\t\t\tvertexShader: vertexShader$8,\r\n\t\t\tblendFunction,\r\n\t\t\tattributes: EffectAttribute.CONVOLUTION,\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"offset\", new Uniform(offset)]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The color offset.\r\n\t *\r\n\t * @type {Vector2}\r\n\t */\r\n\r\n\tget offset() {\r\n\r\n\t\treturn this.uniforms.get(\"offset\").value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @type {Vector2}\r\n\t */\r\n\r\n\tset offset(value) {\r\n\r\n\t\tthis.uniforms.get(\"offset\").value = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Performs initialization tasks.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {Boolean} alpha - Whether the renderer uses the alpha channel or not.\r\n\t * @param {Number} frameBufferType - The type of the main frame buffers.\r\n\t */\r\n\r\n\tinitialize(renderer, alpha, frameBufferType) {\r\n\r\n\t\tif(alpha) {\r\n\r\n\t\t\tthis.defines.set(\"ALPHA\", \"1\");\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.defines.delete(\"ALPHA\");\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$k = \"void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){\\n#ifdef INVERTED\\nvec3 color=vec3(1.0-depth);\\n#else\\nvec3 color=vec3(depth);\\n#endif\\noutputColor=vec4(color,inputColor.a);}\";\r\n\r\n/**\r\n * A depth visualization effect.\r\n *\r\n * Useful for debugging.\r\n */\r\n\r\nclass DepthEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new depth effect.\r\n\t *\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.NORMAL] - The blend function of this effect.\r\n\t * @param {Boolean} [options.inverted=false] - Whether the depth values should be inverted.\r\n\t */\r\n\r\n\tconstructor({ blendFunction = BlendFunction.NORMAL, inverted = false } = {}) {\r\n\r\n\t\tsuper(\"DepthEffect\", fragmentShader$k, {\r\n\r\n\t\t\tblendFunction,\r\n\t\t\tattributes: EffectAttribute.DEPTH\r\n\r\n\t\t});\r\n\r\n\t\tthis.inverted = inverted;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether depth should be inverted.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget inverted() {\r\n\r\n\t\treturn this.defines.has(\"INVERTED\");\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables depth inversion.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset inverted(value) {\r\n\r\n\t\tif(this.inverted !== value) {\r\n\r\n\t\t\tif(value) {\r\n\r\n\t\t\t\tthis.defines.set(\"INVERTED\", \"1\");\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.defines.delete(\"INVERTED\");\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.setChanged();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$l = \"uniform sampler2D nearColorBuffer;uniform sampler2D farColorBuffer;uniform sampler2D nearCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);float CoCNear=texture2D(nearCoCBuffer,uv).r;CoCNear=min(CoCNear*scale,1.0);vec4 result=inputColor*(1.0-colorFar.a)+colorFar;result=mix(result,colorNear,CoCNear);outputColor=result;}\";\r\n\r\n/**\r\n * A depth of field effect.\r\n *\r\n * Based on a graphics study by Adrian Courrèges and an article by Steve Avery:\r\n *  https://www.adriancourreges.com/blog/2016/09/09/doom-2016-graphics-study/\r\n *  https://pixelmischiefblog.wordpress.com/2016/11/25/bokeh-depth-of-field/\r\n */\r\n\r\nclass DepthOfFieldEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new depth of field effect.\r\n\t *\r\n\t * @param {Camera} camera - The main camera.\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.NORMAL] - The blend function of this effect.\r\n\t * @param {Number} [options.focusDistance=0.0] - The normalized focus distance. Range is [0.0, 1.0].\r\n\t * @param {Number} [options.focalLength=0.05] - The focal length. Range is [0.0, 1.0].\r\n\t * @param {Number} [options.bokehScale=1.0] - The scale of the bokeh blur.\r\n\t * @param {Number} [options.width=Resizer.AUTO_SIZE] - The render width.\r\n\t * @param {Number} [options.height=Resizer.AUTO_SIZE] - The render height.\r\n\t */\r\n\r\n\tconstructor(camera, {\r\n\t\tblendFunction = BlendFunction.NORMAL,\r\n\t\tfocusDistance = 0.0,\r\n\t\tfocalLength = 0.1,\r\n\t\tbokehScale = 1.0,\r\n\t\twidth = Resizer.AUTO_SIZE,\r\n\t\theight = Resizer.AUTO_SIZE\r\n\t} = {}) {\r\n\r\n\t\tsuper(\"DepthOfFieldEffect\", fragmentShader$l, {\r\n\r\n\t\t\tblendFunction,\r\n\t\t\tattributes: EffectAttribute.DEPTH,\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"nearColorBuffer\", new Uniform(null)],\r\n\t\t\t\t[\"farColorBuffer\", new Uniform(null)],\r\n\t\t\t\t[\"nearCoCBuffer\", new Uniform(null)],\r\n\t\t\t\t[\"scale\", new Uniform(1.0)]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * The main camera.\r\n\t\t *\r\n\t\t * @type {Camera}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.camera = camera;\r\n\r\n\t\t/**\r\n\t\t * A render target for intermediate results.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderTarget = new WebGLRenderTarget(1, 1, {\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tmagFilter: LinearFilter,\r\n\t\t\tstencilBuffer: false,\r\n\t\t\tdepthBuffer: false\r\n\t\t});\r\n\r\n\t\tthis.renderTarget.texture.name = \"DoF.Intermediate\";\r\n\t\tthis.renderTarget.texture.generateMipmaps = false;\r\n\r\n\t\t/**\r\n\t\t * A render target for masked background colors (premultiplied with CoC).\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderTargetMasked = this.renderTarget.clone();\r\n\t\tthis.renderTargetMasked.texture.name = \"DoF.Masked.Far\";\r\n\r\n\t\t/**\r\n\t\t * A render target for the blurred foreground colors.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderTargetNear = this.renderTarget.clone();\r\n\t\tthis.renderTargetNear.texture.name = \"DoF.Bokeh.Near\";\r\n\r\n\t\tthis.uniforms.get(\"nearColorBuffer\").value = this.renderTargetNear.texture;\r\n\r\n\t\t/**\r\n\t\t * A render target for the blurred background colors.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderTargetFar = this.renderTarget.clone();\r\n\t\tthis.renderTargetFar.texture.name = \"DoF.Bokeh.Far\";\r\n\r\n\t\tthis.uniforms.get(\"farColorBuffer\").value = this.renderTargetFar.texture;\r\n\r\n\t\t/**\r\n\t\t * A render target for the circle of confusion.\r\n\t\t *\r\n\t\t * - Negative values are stored in the `RED` channel (foreground).\r\n\t\t * - Positive values are stored in the `GREEN` channel (background).\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderTargetCoC = this.renderTarget.clone();\r\n\t\tthis.renderTargetCoC.texture.format = RGBFormat;\r\n\t\tthis.renderTargetCoC.texture.name = \"DoF.CoC\";\r\n\r\n\t\t/**\r\n\t\t * A render target that stores a blurred copy of the circle of confusion.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderTargetCoCBlurred = this.renderTargetCoC.clone();\r\n\t\tthis.renderTargetCoCBlurred.texture.name = \"DoF.CoC.Blurred\";\r\n\r\n\t\tthis.uniforms.get(\"nearCoCBuffer\").value = this.renderTargetCoCBlurred.texture;\r\n\r\n\t\t/**\r\n\t\t * A circle of confusion pass.\r\n\t\t *\r\n\t\t * @type {ShaderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.cocPass = new ShaderPass(new CircleOfConfusionMaterial(camera));\r\n\t\tconst cocMaterial = this.circleOfConfusionMaterial;\r\n\t\tcocMaterial.uniforms.focusDistance.value = focusDistance;\r\n\t\tcocMaterial.uniforms.focalLength.value = focalLength;\r\n\r\n\t\t/**\r\n\t\t * This pass blurs the foreground CoC buffer to soften edges.\r\n\t\t *\r\n\t\t * @type {BlurPass}\r\n\t\t */\r\n\r\n\t\tthis.blurPass = new BlurPass({ width, height, kernelSize: KernelSize.MEDIUM });\r\n\t\tthis.blurPass.resolution.resizable = this;\r\n\r\n\t\t/**\r\n\t\t * A mask pass.\r\n\t\t *\r\n\t\t * @type {ShaderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.maskPass = new ShaderPass(new MaskMaterial(this.renderTargetCoC.texture));\r\n\t\tconst maskMaterial = this.maskPass.getFullscreenMaterial();\r\n\t\tmaskMaterial.maskFunction = MaskFunction.MULTIPLY_RGB_SET_ALPHA;\r\n\t\tmaskMaterial.colorChannel = ColorChannel.GREEN;\r\n\r\n\t\t/**\r\n\t\t * A bokeh blur pass for the foreground colors.\r\n\t\t *\r\n\t\t * @type {ShaderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.bokehNearBasePass = new ShaderPass(new BokehMaterial(false, true));\r\n\r\n\t\t/**\r\n\t\t * A bokeh fill pass for the foreground colors.\r\n\t\t *\r\n\t\t * @type {ShaderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.bokehNearFillPass = new ShaderPass(new BokehMaterial(true, true));\r\n\r\n\t\t/**\r\n\t\t * A bokeh blur pass for the background colors.\r\n\t\t *\r\n\t\t * @type {ShaderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.bokehFarBasePass = new ShaderPass(new BokehMaterial(false, false));\r\n\r\n\t\t/**\r\n\t\t * A bokeh fill pass for the background colors.\r\n\t\t *\r\n\t\t * @type {ShaderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.bokehFarFillPass = new ShaderPass(new BokehMaterial(true, false));\r\n\r\n\t\tthis.bokehScale = bokehScale;\r\n\r\n\t\t/**\r\n\t\t * A target position that should be kept in focus.\r\n\t\t *\r\n\t\t * Set this to `null` to disable auto focus.\r\n\t\t *\r\n\t\t * @type {Vector3}\r\n\t\t */\r\n\r\n\t\tthis.target = null;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The circle of confusion material.\r\n\t *\r\n\t * @type {CircleOfConfusionMaterial}\r\n\t */\r\n\r\n\tget circleOfConfusionMaterial() {\r\n\r\n\t\treturn this.cocPass.getFullscreenMaterial();\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The resolution of this effect.\r\n\t *\r\n\t * @type {Resizer}\r\n\t */\r\n\r\n\tget resolution() {\r\n\r\n\t\treturn this.blurPass.resolution;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The current bokeh scale.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget bokehScale() {\r\n\r\n\t\treturn this.uniforms.get(\"scale\").value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the bokeh scale.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset bokehScale(value) {\r\n\r\n\t\tconst passes = [\r\n\t\t\tthis.bokehNearBasePass,\r\n\t\t\tthis.bokehNearFillPass,\r\n\t\t\tthis.bokehFarBasePass,\r\n\t\t\tthis.bokehFarFillPass\r\n\t\t];\r\n\r\n\t\tpasses.map((p) => p.getFullscreenMaterial().uniforms.scale).forEach((u) => {\r\n\r\n\t\t\tu.value = value;\r\n\r\n\t\t});\r\n\r\n\t\tthis.maskPass.getFullscreenMaterial().uniforms.strength.value = value;\r\n\t\tthis.uniforms.get(\"scale\").value = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Calculates the focus distance from the camera to the given position.\r\n\t *\r\n\t * @param {Vector3} target - The target.\r\n\t * @return {Number} The normalized focus distance.\r\n\t */\r\n\r\n\tcalculateFocusDistance(target) {\r\n\r\n\t\tconst camera = this.camera;\r\n\t\tconst viewDistance = camera.far - camera.near;\r\n\t\tconst distance = camera.position.distanceTo(target);\r\n\r\n\t\treturn Math.min(Math.max((distance / viewDistance), 0.0), 1.0);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the depth texture.\r\n\t *\r\n\t * @param {Texture} depthTexture - A depth texture.\r\n\t * @param {Number} [depthPacking=0] - The depth packing.\r\n\t */\r\n\r\n\tsetDepthTexture(depthTexture, depthPacking = 0) {\r\n\r\n\t\tconst material = this.circleOfConfusionMaterial;\r\n\t\tmaterial.uniforms.depthBuffer.value = depthTexture;\r\n\t\tmaterial.depthPacking = depthPacking;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates this effect.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t */\r\n\r\n\tupdate(renderer, inputBuffer, deltaTime) {\r\n\r\n\t\tconst renderTarget = this.renderTarget;\r\n\t\tconst renderTargetCoC = this.renderTargetCoC;\r\n\t\tconst renderTargetCoCBlurred = this.renderTargetCoCBlurred;\r\n\t\tconst renderTargetMasked = this.renderTargetMasked;\r\n\r\n\t\tconst bokehFarBasePass = this.bokehFarBasePass;\r\n\t\tconst bokehFarFillPass = this.bokehFarFillPass;\r\n\t\tconst farBaseUniforms = bokehFarBasePass.getFullscreenMaterial().uniforms;\r\n\t\tconst farFillUniforms = bokehFarFillPass.getFullscreenMaterial().uniforms;\r\n\r\n\t\tconst bokehNearBasePass = this.bokehNearBasePass;\r\n\t\tconst bokehNearFillPass = this.bokehNearFillPass;\r\n\t\tconst nearBaseUniforms = bokehNearBasePass.getFullscreenMaterial().uniforms;\r\n\t\tconst nearFillUniforms = bokehNearFillPass.getFullscreenMaterial().uniforms;\r\n\r\n\t\t// Auto focus.\r\n\t\tif(this.target !== null) {\r\n\r\n\t\t\tconst distance = this.calculateFocusDistance(this.target);\r\n\t\t\tthis.circleOfConfusionMaterial.uniforms.focusDistance.value = distance;\r\n\r\n\t\t}\r\n\r\n\t\t// Render the CoC and create a blurred version for soft near field blending.\r\n\t\tthis.cocPass.render(renderer, null, renderTargetCoC);\r\n\t\tthis.blurPass.render(renderer, renderTargetCoC, renderTargetCoCBlurred);\r\n\r\n\t\t// Prevent sharp colors from bleeding onto the background.\r\n\t\tthis.maskPass.render(renderer, inputBuffer, renderTargetMasked);\r\n\r\n\t\t// Use the sharp CoC buffer and render the background bokeh.\r\n\t\tfarBaseUniforms.cocBuffer.value = farFillUniforms.cocBuffer.value = renderTargetCoC.texture;\r\n\t\tbokehFarBasePass.render(renderer, renderTargetMasked, renderTarget);\r\n\t\tbokehFarFillPass.render(renderer, renderTarget, this.renderTargetFar);\r\n\r\n\t\t// Use the blurred CoC buffer and render the foreground bokeh.\r\n\t\tnearBaseUniforms.cocBuffer.value = nearFillUniforms.cocBuffer.value = renderTargetCoCBlurred.texture;\r\n\t\tbokehNearBasePass.render(renderer, inputBuffer, renderTarget);\r\n\t\tbokehNearFillPass.render(renderer, renderTarget, this.renderTargetNear);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the size of internal render targets.\r\n\t *\r\n\t * @param {Number} width - The width.\r\n\t * @param {Number} height - The height.\r\n\t */\r\n\r\n\tsetSize(width, height) {\r\n\r\n\t\tconst resolution = this.resolution;\r\n\r\n\t\tlet resizables = [\r\n\t\t\tthis.cocPass,\r\n\t\t\tthis.blurPass,\r\n\t\t\tthis.maskPass,\r\n\t\t\tthis.bokehNearBasePass,\r\n\t\t\tthis.bokehNearFillPass,\r\n\t\t\tthis.bokehFarBasePass,\r\n\t\t\tthis.bokehFarFillPass\r\n\t\t];\r\n\r\n\t\t// These buffers require full resolution to prevent bleeding artifacts.\r\n\t\tresizables.push(this.renderTargetCoC, this.renderTargetMasked);\r\n\t\tresizables.forEach((r) => r.setSize(width, height));\r\n\r\n\t\tconst w = resolution.width;\r\n\t\tconst h = resolution.height;\r\n\r\n\t\tresizables = [\r\n\t\t\tthis.renderTarget,\r\n\t\t\tthis.renderTargetNear,\r\n\t\t\tthis.renderTargetFar,\r\n\t\t\tthis.renderTargetCoCBlurred\r\n\t\t];\r\n\r\n\t\tresizables.forEach((r) => r.setSize(w, h));\r\n\r\n\t\t// The bokeh blur passes operate on the low resolution buffers.\r\n\t\tconst passes = [\r\n\t\t\tthis.bokehNearBasePass,\r\n\t\t\tthis.bokehNearFillPass,\r\n\t\t\tthis.bokehFarBasePass,\r\n\t\t\tthis.bokehFarFillPass\r\n\t\t];\r\n\r\n\t\tpasses.forEach((p) => p.getFullscreenMaterial().setTexelSize(1.0 / w, 1.0 / h));\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Performs initialization tasks.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {Boolean} alpha - Whether the renderer uses the alpha channel or not.\r\n\t * @param {Number} frameBufferType - The type of the main frame buffers.\r\n\t */\r\n\r\n\tinitialize(renderer, alpha, frameBufferType) {\r\n\r\n\t\tconst initializables = [\r\n\t\t\tthis.cocPass,\r\n\t\t\tthis.maskPass,\r\n\t\t\tthis.bokehNearBasePass,\r\n\t\t\tthis.bokehNearFillPass,\r\n\t\t\tthis.bokehFarBasePass,\r\n\t\t\tthis.bokehFarFillPass\r\n\t\t];\r\n\r\n\t\tinitializables.forEach((i) => i.initialize(renderer, alpha, frameBufferType));\r\n\r\n\t\t// The blur pass operates on the CoC buffer.\r\n\t\tthis.blurPass.initialize(renderer, alpha, UnsignedByteType);\r\n\r\n\t\tif(!alpha && frameBufferType === UnsignedByteType) {\r\n\r\n\t\t\tthis.renderTargetNear.texture.type = RGBFormat;\r\n\r\n\t\t}\r\n\r\n\t\tif(frameBufferType !== undefined) {\r\n\r\n\t\t\tthis.renderTarget.texture.type = frameBufferType;\r\n\t\t\tthis.renderTargetNear.texture.type = frameBufferType;\r\n\t\t\tthis.renderTargetFar.texture.type = frameBufferType;\r\n\t\t\tthis.renderTargetMasked.texture.type = frameBufferType;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$m = \"uniform vec2 angle;uniform float scale;float pattern(const in vec2 uv){vec2 point=scale*vec2(dot(angle.yx,vec2(uv.x,-uv.y)),dot(angle,uv));return(sin(point.x)*sin(point.y))*4.0;}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(inputColor.rgb*10.0-5.0+pattern(uv*resolution));outputColor=vec4(color,inputColor.a);}\";\r\n\r\n/**\r\n * A dot screen effect.\r\n */\r\n\r\nclass DotScreenEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new dot screen effect.\r\n\t *\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.NORMAL] - The blend function of this effect.\r\n\t * @param {Number} [options.angle=1.57] - The angle of the dot pattern.\r\n\t * @param {Number} [options.scale=1.0] - The scale of the dot pattern.\r\n\t */\r\n\r\n\tconstructor({ blendFunction = BlendFunction.NORMAL, angle = Math.PI * 0.5, scale = 1.0 } = {}) {\r\n\r\n\t\tsuper(\"DotScreenEffect\", fragmentShader$m, {\r\n\r\n\t\t\tblendFunction,\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"angle\", new Uniform(new Vector2$1())],\r\n\t\t\t\t[\"scale\", new Uniform(scale)]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t\tthis.setAngle(angle);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the pattern angle.\r\n\t *\r\n\t * @param {Number} [angle] - The angle of the dot pattern.\r\n\t */\r\n\r\n\tsetAngle(angle) {\r\n\r\n\t\tthis.uniforms.get(\"angle\").value.set(Math.sin(angle), Math.cos(angle));\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$n = \"uniform float gamma;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=LinearToGamma(max(inputColor,0.0),gamma);}\";\r\n\r\n/**\r\n * A gamma correction effect.\r\n *\r\n * @deprecated Set WebGLRenderer.outputEncoding to sRGBEncoding or GammaEncoding instead.\r\n */\r\n\r\nclass GammaCorrectionEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new gamma correction effect.\r\n\t *\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.NORMAL] - The blend function of this effect.\r\n\t * @param {Number} [options.gamma=2.0] - The gamma factor.\r\n\t */\r\n\r\n\tconstructor({ blendFunction = BlendFunction.NORMAL, gamma = 2.0 } = {}) {\r\n\r\n\t\tsuper(\"GammaCorrectionEffect\", fragmentShader$n, {\r\n\r\n\t\t\tblendFunction,\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"gamma\", new Uniform(gamma)]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Generates noise.\r\n *\r\n * @private\r\n * @param {Number} size - The linear texture size.\r\n * @param {Number} format - The texture format.\r\n * @param {Number} type - The texture type.\r\n * @return {TypedArray} The noise data.\r\n */\r\n\r\nfunction getNoise(size, format, type) {\r\n\r\n\tconst channels = new Map([\r\n\t\t[LuminanceFormat, 1],\r\n\t\t[RedFormat, 1],\r\n\t\t[RGFormat, 2],\r\n\t\t[RGBFormat, 3],\r\n\t\t[RGBAFormat, 4]\r\n\t]);\r\n\r\n\tlet data;\r\n\r\n\tif(!channels.has(format)) {\r\n\r\n\t\tconsole.error(\"Invalid noise texture format\");\r\n\r\n\t}\r\n\r\n\tif(type === UnsignedByteType) {\r\n\r\n\t\tdata = new Uint8Array(size * channels.get(format));\r\n\r\n\t\tfor(let i = 0, l = data.length; i < l; ++i) {\r\n\r\n\t\t\tdata[i] = Math.random() * 255;\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tdata = new Float32Array(size * channels.get(format));\r\n\r\n\t\tfor(let i = 0, l = data.length; i < l; ++i) {\r\n\r\n\t\t\tdata[i] = Math.random();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n}\r\n\r\n/**\r\n * A simple noise texture.\r\n */\r\n\r\nclass NoiseTexture extends DataTexture {\r\n\r\n\t/**\r\n\t * Constructs a new noise texture.\r\n\t *\r\n\t * The texture format can be either `LuminanceFormat`, `RGBFormat` or\r\n\t * `RGBAFormat`. Additionally, the formats `RedFormat` and `RGFormat` can be\r\n\t * used in a WebGL 2 context.\r\n\t *\r\n\t * @param {Number} width - The width.\r\n\t * @param {Number} height - The height.\r\n\t * @param {Number} [format=LuminanceFormat] - The texture format.\r\n\t * @param {Number} [type=UnsignedByteType] - The texture type.\r\n\t */\r\n\r\n\tconstructor(width, height, format = LuminanceFormat, type = UnsignedByteType) {\r\n\r\n\t\tsuper(getNoise(width * height, format, type), width, height, format, type);\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$o = \"uniform sampler2D perturbationMap;uniform bool active;uniform float columns;uniform float random;uniform vec2 seed;uniform vec2 distortion;void mainUv(inout vec2 uv){if(active){if(uv.y<distortion.x+columns&&uv.y>distortion.x-columns*random){float sx=clamp(ceil(seed.x),0.0,1.0);uv.y=sx*(1.0-(uv.y+distortion.y))+(1.0-sx)*distortion.y;}if(uv.x<distortion.y+columns&&uv.x>distortion.y-columns*random){float sy=clamp(ceil(seed.y),0.0,1.0);uv.x=sy*distortion.x+(1.0-sy)*(1.0-(uv.x+distortion.x));}vec2 normal=texture2D(perturbationMap,uv*random*random).rg;uv+=normal*seed*(random*0.2);}}\";\r\n\r\n/**\r\n * A label for generated data textures.\r\n *\r\n * @type {String}\r\n * @private\r\n */\r\n\r\nconst tag = \"Glitch.Generated\";\r\n\r\n/**\r\n * Returns a random float in the specified range.\r\n *\r\n * @private\r\n * @param {Number} low - The lowest possible value.\r\n * @param {Number} high - The highest possible value.\r\n * @return {Number} The random value.\r\n */\r\n\r\nfunction randomFloat(low, high) {\r\n\r\n\treturn low + Math.random() * (high - low);\r\n\r\n}\r\n\r\n/**\r\n * A glitch effect.\r\n *\r\n * This effect can influence the {@link ChromaticAberrationEffect}.\r\n *\r\n * Reference: https://github.com/staffantan/unityglitch\r\n *\r\n * Warning: This effect cannot be merged with convolution effects.\r\n */\r\n\r\nclass GlitchEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new glitch effect.\r\n\t *\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.NORMAL] - The blend function of this effect.\r\n\t * @param {Vector2} [options.chromaticAberrationOffset] - A chromatic aberration offset. If provided, the glitch effect will influence this offset.\r\n\t * @param {Vector2} [options.delay] - The minimum and maximum delay between glitch activations in seconds.\r\n\t * @param {Vector2} [options.duration] - The minimum and maximum duration of a glitch in seconds.\r\n\t * @param {Vector2} [options.strength] - The strength of weak and strong glitches.\r\n\t * @param {Texture} [options.perturbationMap] - A perturbation map. If none is provided, a noise texture will be created.\r\n\t * @param {Number} [options.dtSize=64] - The size of the generated noise map. Will be ignored if a perturbation map is provided.\r\n\t * @param {Number} [options.columns=0.05] - The scale of the blocky glitch columns.\r\n\t * @param {Number} [options.ratio=0.85] - The threshold for strong glitches.\r\n\t */\r\n\r\n\tconstructor({\r\n\t\tblendFunction = BlendFunction.NORMAL,\r\n\t\tchromaticAberrationOffset = null,\r\n\t\tdelay = new Vector2$1(1.5, 3.5),\r\n\t\tduration = new Vector2$1(0.6, 1.0),\r\n\t\tstrength = new Vector2$1(0.3, 1.0),\r\n\t\tcolumns = 0.05,\r\n\t\tratio = 0.85,\r\n\t\tperturbationMap = null,\r\n\t\tdtSize = 64\r\n\t} = {}) {\r\n\r\n\t\tsuper(\"GlitchEffect\", fragmentShader$o, {\r\n\r\n\t\t\tblendFunction,\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"perturbationMap\", new Uniform(null)],\r\n\t\t\t\t[\"columns\", new Uniform(columns)],\r\n\t\t\t\t[\"active\", new Uniform(false)],\r\n\t\t\t\t[\"random\", new Uniform(1.0)],\r\n\t\t\t\t[\"seed\", new Uniform(new Vector2$1())],\r\n\t\t\t\t[\"distortion\", new Uniform(new Vector2$1())]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t\tthis.setPerturbationMap((perturbationMap === null) ?\r\n\t\t\tthis.generatePerturbationMap(dtSize) :\r\n\t\t\tperturbationMap\r\n\t\t);\r\n\r\n\t\t/**\r\n\t\t * The minimum and maximum delay between glitch activations in seconds.\r\n\t\t *\r\n\t\t * @type {Vector2}\r\n\t\t */\r\n\r\n\t\tthis.delay = delay;\r\n\r\n\t\t/**\r\n\t\t * The minimum and maximum duration of a glitch in seconds.\r\n\t\t *\r\n\t\t * @type {Vector2}\r\n\t\t */\r\n\r\n\t\tthis.duration = duration;\r\n\r\n\t\t/**\r\n\t\t * A random glitch break point.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.breakPoint = new Vector2$1(\r\n\t\t\trandomFloat(this.delay.x, this.delay.y),\r\n\t\t\trandomFloat(this.duration.x, this.duration.y)\r\n\t\t);\r\n\r\n\t\t/**\r\n\t\t * A time accumulator.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.time = 0;\r\n\r\n\t\t/**\r\n\t\t * Random seeds.\r\n\t\t *\r\n\t\t * @type {Vector2}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.seed = this.uniforms.get(\"seed\").value;\r\n\r\n\t\t/**\r\n\t\t * A distortion vector.\r\n\t\t *\r\n\t\t * @type {Vector2}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.distortion = this.uniforms.get(\"distortion\").value;\r\n\r\n\t\t/**\r\n\t\t * The effect mode.\r\n\t\t *\r\n\t\t * @type {GlitchMode}\r\n\t\t */\r\n\r\n\t\tthis.mode = GlitchMode.SPORADIC;\r\n\r\n\t\t/**\r\n\t\t * The strength of weak and strong glitches.\r\n\t\t *\r\n\t\t * @type {Vector2}\r\n\t\t */\r\n\r\n\t\tthis.strength = strength;\r\n\r\n\t\t/**\r\n\t\t * The threshold for strong glitches, ranging from 0 to 1 where 0 means no\r\n\t\t * weak glitches and 1 means no strong ones. The default ratio of 0.85\r\n\t\t * offers a decent balance.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t */\r\n\r\n\t\tthis.ratio = ratio;\r\n\r\n\t\t/**\r\n\t\t * The chromatic aberration offset.\r\n\t\t *\r\n\t\t * @type {Vector2}\r\n\t\t */\r\n\r\n\t\tthis.chromaticAberrationOffset = chromaticAberrationOffset;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether the glitch effect is currently active.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget active() {\r\n\r\n\t\treturn this.uniforms.get(\"active\").value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the current perturbation map.\r\n\t *\r\n\t * @return {Texture} The current perturbation map.\r\n\t */\r\n\r\n\tgetPerturbationMap() {\r\n\r\n\t\treturn this.uniforms.get(\"perturbationMap\").value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Replaces the current perturbation map with the given one.\r\n\t *\r\n\t * The current map will be disposed if it was generated by this effect.\r\n\t *\r\n\t * @param {Texture} map - The new perturbation map.\r\n\t */\r\n\r\n\tsetPerturbationMap(map) {\r\n\r\n\t\tconst currentMap = this.getPerturbationMap();\r\n\r\n\t\tif(currentMap !== null && currentMap.name === tag) {\r\n\r\n\t\t\tcurrentMap.dispose();\r\n\r\n\t\t}\r\n\r\n\t\tmap.minFilter = map.magFilter = NearestFilter;\r\n\t\tmap.wrapS = map.wrapT = RepeatWrapping;\r\n\t\tmap.generateMipmaps = false;\r\n\r\n\t\tthis.uniforms.get(\"perturbationMap\").value = map;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Generates a perturbation map.\r\n\t *\r\n\t * @param {Number} [size=64] - The texture size.\r\n\t * @return {DataTexture} The perturbation map.\r\n\t */\r\n\r\n\tgeneratePerturbationMap(size = 64) {\r\n\r\n\t\tconst map = new NoiseTexture(size, size, RGBFormat);\r\n\t\tmap.name = tag;\r\n\r\n\t\treturn map;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates this effect.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t */\r\n\r\n\tupdate(renderer, inputBuffer, deltaTime) {\r\n\r\n\t\tconst mode = this.mode;\r\n\t\tconst breakPoint = this.breakPoint;\r\n\t\tconst offset = this.chromaticAberrationOffset;\r\n\t\tconst s = this.strength;\r\n\r\n\t\tlet time = this.time;\r\n\t\tlet active = false;\r\n\t\tlet r = 0.0, a = 0.0;\r\n\t\tlet trigger;\r\n\r\n\t\tif(mode !== GlitchMode.DISABLED) {\r\n\r\n\t\t\tif(mode === GlitchMode.SPORADIC) {\r\n\r\n\t\t\t\ttime += deltaTime;\r\n\t\t\t\ttrigger = (time > breakPoint.x);\r\n\r\n\t\t\t\tif(time >= (breakPoint.x + breakPoint.y)) {\r\n\r\n\t\t\t\t\tbreakPoint.set(\r\n\t\t\t\t\t\trandomFloat(this.delay.x, this.delay.y),\r\n\t\t\t\t\t\trandomFloat(this.duration.x, this.duration.y)\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\ttime = 0;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tr = Math.random();\r\n\t\t\tthis.uniforms.get(\"random\").value = r;\r\n\r\n\t\t\tif((trigger && r > this.ratio) || mode === GlitchMode.CONSTANT_WILD) {\r\n\r\n\t\t\t\tactive = true;\r\n\r\n\t\t\t\tr *= s.y * 0.03;\r\n\t\t\t\ta = randomFloat(-Math.PI, Math.PI);\r\n\r\n\t\t\t\tthis.seed.set(randomFloat(-s.y, s.y), randomFloat(-s.y, s.y));\r\n\t\t\t\tthis.distortion.set(randomFloat(0.0, 1.0), randomFloat(0.0, 1.0));\r\n\r\n\t\t\t} else if(trigger || mode === GlitchMode.CONSTANT_MILD) {\r\n\r\n\t\t\t\tactive = true;\r\n\r\n\t\t\t\tr *= s.x * 0.03;\r\n\t\t\t\ta = randomFloat(-Math.PI, Math.PI);\r\n\r\n\t\t\t\tthis.seed.set(randomFloat(-s.x, s.x), randomFloat(-s.x, s.x));\r\n\t\t\t\tthis.distortion.set(randomFloat(0.0, 1.0), randomFloat(0.0, 1.0));\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.time = time;\r\n\r\n\t\t}\r\n\r\n\t\tif(offset !== null) {\r\n\r\n\t\t\tif(active) {\r\n\r\n\t\t\t\toffset.set(Math.cos(a), Math.sin(a)).multiplyScalar(r);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\toffset.set(0.0, 0.0);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.uniforms.get(\"active\").value = active;\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * A glitch mode enumeration.\r\n *\r\n * @type {Object}\r\n * @property {Number} DISABLED - No glitches.\r\n * @property {Number} SPORADIC - Sporadic glitches.\r\n * @property {Number} CONSTANT_MILD - Constant mild glitches.\r\n * @property {Number} CONSTANT_WILD - Constant wild glitches.\r\n */\r\n\r\nconst GlitchMode = {\r\n\r\n\tDISABLED: 0,\r\n\tSPORADIC: 1,\r\n\tCONSTANT_MILD: 2,\r\n\tCONSTANT_WILD: 3\r\n\r\n};\r\n\r\nvar fragmentShader$p = \"uniform sampler2D texture;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(texture,uv);}\";\r\n\r\n/**\r\n * A vector.\r\n *\r\n * @type {Vector3}\r\n * @private\r\n */\r\n\r\nconst v = new Vector3();\r\n\r\n/**\r\n * A matrix.\r\n *\r\n * @type {Matrix4}\r\n * @private\r\n */\r\n\r\nconst m = new Matrix4();\r\n\r\n/**\r\n * A god rays effect.\r\n */\r\n\r\nclass GodRaysEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new god rays effect.\r\n\t *\r\n\t * @param {Camera} camera - The main camera.\r\n\t * @param {Mesh|Points} lightSource - The light source. Must not write depth and has to be flagged as transparent.\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.SCREEN] - The blend function of this effect.\r\n\t * @param {Number} [options.samples=60.0] - The number of samples per pixel.\r\n\t * @param {Number} [options.density=0.96] - The density of the light rays.\r\n\t * @param {Number} [options.decay=0.9] - An illumination decay factor.\r\n\t * @param {Number} [options.weight=0.4] - A light ray weight factor.\r\n\t * @param {Number} [options.exposure=0.6] - A constant attenuation coefficient.\r\n\t * @param {Number} [options.clampMax=1.0] - An upper bound for the saturation of the overall effect.\r\n\t * @param {Number} [options.resolutionScale=0.5] - Deprecated. Use height or width instead.\r\n\t * @param {Number} [options.width=Resizer.AUTO_SIZE] - The render width.\r\n\t * @param {Number} [options.height=Resizer.AUTO_SIZE] - The render height.\r\n\t * @param {KernelSize} [options.kernelSize=KernelSize.SMALL] - The blur kernel size. Has no effect if blur is disabled.\r\n\t * @param {Boolean} [options.blur=true] - Whether the god rays should be blurred to reduce artifacts.\r\n\t */\r\n\r\n\tconstructor(camera, lightSource, {\r\n\t\tblendFunction = BlendFunction.SCREEN,\r\n\t\tsamples = 60.0,\r\n\t\tdensity = 0.96,\r\n\t\tdecay = 0.9,\r\n\t\tweight = 0.4,\r\n\t\texposure = 0.6,\r\n\t\tclampMax = 1.0,\r\n\t\tresolutionScale = 0.5,\r\n\t\twidth = Resizer.AUTO_SIZE,\r\n\t\theight = Resizer.AUTO_SIZE,\r\n\t\tkernelSize = KernelSize.SMALL,\r\n\t\tblur = true\r\n\t} = {}) {\r\n\r\n\t\tsuper(\"GodRaysEffect\", fragmentShader$p, {\r\n\r\n\t\t\tblendFunction,\r\n\t\t\tattributes: EffectAttribute.DEPTH,\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"texture\", new Uniform(null)]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * The main camera.\r\n\t\t *\r\n\t\t * @type {Camera}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.camera = camera;\r\n\r\n\t\t/**\r\n\t\t * The light source.\r\n\t\t *\r\n\t\t * @type {Mesh|Points}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.lightSource = lightSource;\r\n\t\tthis.lightSource.material.depthWrite = false;\r\n\t\tthis.lightSource.material.transparent = true;\r\n\r\n\t\t/**\r\n\t\t * A scene that only contains the light source.\r\n\t\t *\r\n\t\t * @type {Scene}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.lightScene = new Scene();\r\n\r\n\t\t/**\r\n\t\t * The light position in screen space.\r\n\t\t *\r\n\t\t * @type {Vector3}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.screenPosition = new Vector2$1();\r\n\r\n\t\t/**\r\n\t\t * A render target.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderTargetA = new WebGLRenderTarget(1, 1, {\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tmagFilter: LinearFilter,\r\n\t\t\tstencilBuffer: false,\r\n\t\t\tdepthBuffer: false\r\n\t\t});\r\n\r\n\t\tthis.renderTargetA.texture.name = \"GodRays.Target.A\";\r\n\r\n\t\t/**\r\n\t\t * A render target.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderTargetB = this.renderTargetA.clone();\r\n\t\tthis.renderTargetB.texture.name = \"GodRays.Target.B\";\r\n\t\tthis.uniforms.get(\"texture\").value = this.renderTargetB.texture;\r\n\r\n\t\t/**\r\n\t\t * A render target for the light scene.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderTargetLight = this.renderTargetA.clone();\r\n\t\tthis.renderTargetLight.texture.name = \"GodRays.Light\";\r\n\t\tthis.renderTargetLight.depthBuffer = true;\r\n\t\tthis.renderTargetLight.depthTexture = new DepthTexture();\r\n\r\n\t\t/**\r\n\t\t * A pass that only renders the light source.\r\n\t\t *\r\n\t\t * @type {RenderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderPassLight = new RenderPass(this.lightScene, camera);\r\n\t\tthis.renderPassLight.getClearPass().overrideClearColor = new Color(0x000000);\r\n\r\n\t\t/**\r\n\t\t * A clear pass.\r\n\t\t *\r\n\t\t * @type {ClearPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.clearPass = new ClearPass(true, false, false);\r\n\t\tthis.clearPass.overrideClearColor = new Color(0x000000);\r\n\r\n\t\t/**\r\n\t\t * A blur pass that reduces aliasing artifacts and makes the light softer.\r\n\t\t *\r\n\t\t * Disable this pass to improve performance.\r\n\t\t *\r\n\t\t * @type {BlurPass}\r\n\t\t */\r\n\r\n\t\tthis.blurPass = new BlurPass({ resolutionScale, width, height, kernelSize });\r\n\t\tthis.blurPass.resolution.resizable = this;\r\n\r\n\t\t/**\r\n\t\t * A depth mask pass.\r\n\t\t *\r\n\t\t * @type {ShaderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.depthMaskPass = new ShaderPass(((depthTexture) => {\r\n\r\n\t\t\tconst material = new DepthMaskMaterial();\r\n\t\t\tmaterial.uniforms.depthBuffer1.value = depthTexture;\r\n\r\n\t\t\treturn material;\r\n\r\n\t\t})(this.renderTargetLight.depthTexture));\r\n\r\n\t\t/**\r\n\t\t * A god rays blur pass.\r\n\t\t *\r\n\t\t * @type {ShaderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.godRaysPass = new ShaderPass((() => {\r\n\r\n\t\t\tconst material = new GodRaysMaterial(this.screenPosition);\r\n\t\t\tmaterial.uniforms.density.value = density;\r\n\t\t\tmaterial.uniforms.decay.value = decay;\r\n\t\t\tmaterial.uniforms.weight.value = weight;\r\n\t\t\tmaterial.uniforms.exposure.value = exposure;\r\n\t\t\tmaterial.uniforms.clampMax.value = clampMax;\r\n\r\n\t\t\treturn material;\r\n\r\n\t\t})());\r\n\r\n\t\tthis.samples = samples;\r\n\t\tthis.blur = blur;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * A texture that contains the intermediate result of this effect.\r\n\t *\r\n\t * This texture will be applied to the scene colors unless the blend function\r\n\t * is set to `SKIP`.\r\n\t *\r\n\t * @type {Texture}\r\n\t */\r\n\r\n\tget texture() {\r\n\r\n\t\treturn this.renderTargetB.texture;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The internal god rays material.\r\n\t *\r\n\t * @type {GodRaysMaterial}\r\n\t */\r\n\r\n\tget godRaysMaterial() {\r\n\r\n\t\treturn this.godRaysPass.getFullscreenMaterial();\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The resolution of this effect.\r\n\t *\r\n\t * @type {Resizer}\r\n\t */\r\n\r\n\tget resolution() {\r\n\r\n\t\treturn this.blurPass.resolution;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The current width of the internal render targets.\r\n\t *\r\n\t * @type {Number}\r\n\t * @deprecated Use resolution.width instead.\r\n\t */\r\n\r\n\tget width() {\r\n\r\n\t\treturn this.resolution.width;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the render width.\r\n\t *\r\n\t * @type {Number}\r\n\t * @deprecated Use resolution.width instead.\r\n\t */\r\n\r\n\tset width(value) {\r\n\r\n\t\tthis.resolution.width = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The current height of the internal render targets.\r\n\t *\r\n\t * @type {Number}\r\n\t * @deprecated Use resolution.height instead.\r\n\t */\r\n\r\n\tget height() {\r\n\r\n\t\treturn this.resolution.height;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the render height.\r\n\t *\r\n\t * @type {Number}\r\n\t * @deprecated Use resolution.height instead.\r\n\t */\r\n\r\n\tset height(value) {\r\n\r\n\t\tthis.resolution.height = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether dithering is enabled.\r\n\t *\r\n\t * @type {Boolean}\r\n\t * @deprecated Set the frameBufferType of the EffectComposer to HalfFloatType instead.\r\n\t */\r\n\r\n\tget dithering() {\r\n\r\n\t\treturn this.godRaysMaterial.dithering;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables dithering.\r\n\t *\r\n\t * @type {Boolean}\r\n\t * @deprecated Set the frameBufferType of the EffectComposer to HalfFloatType instead.\r\n\t */\r\n\r\n\tset dithering(value) {\r\n\r\n\t\tconst material = this.godRaysMaterial;\r\n\r\n\t\tmaterial.dithering = value;\r\n\t\tmaterial.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether the god rays should be blurred to reduce artifacts.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget blur() {\r\n\r\n\t\treturn this.blurPass.enabled;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset blur(value) {\r\n\r\n\t\tthis.blurPass.enabled = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The blur kernel size.\r\n\t *\r\n\t * @type {KernelSize}\r\n\t * @deprecated Use blurPass.kernelSize instead.\r\n\t */\r\n\r\n\tget kernelSize() {\r\n\r\n\t\treturn this.blurPass.kernelSize;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the blur kernel size.\r\n\t *\r\n\t * @type {KernelSize}\r\n\t * @deprecated Use blurPass.kernelSize instead.\r\n\t */\r\n\r\n\tset kernelSize(value) {\r\n\r\n\t\tthis.blurPass.kernelSize = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the current resolution scale.\r\n\t *\r\n\t * @return {Number} The resolution scale.\r\n\t * @deprecated Adjust the fixed resolution width or height instead.\r\n\t */\r\n\r\n\tgetResolutionScale() {\r\n\r\n\t\treturn this.resolution.scale;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the resolution scale.\r\n\t *\r\n\t * @param {Number} scale - The new resolution scale.\r\n\t * @deprecated Adjust the fixed resolution width or height instead.\r\n\t */\r\n\r\n\tsetResolutionScale(scale) {\r\n\r\n\t\tthis.resolution.scale = scale;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The number of samples per pixel.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget samples() {\r\n\r\n\t\treturn this.godRaysMaterial.samples;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * A higher sample count improves quality at the cost of performance.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset samples(value) {\r\n\r\n\t\tthis.godRaysMaterial.samples = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the depth texture.\r\n\t *\r\n\t * @param {Texture} depthTexture - A depth texture.\r\n\t * @param {Number} [depthPacking=0] - The depth packing.\r\n\t */\r\n\r\n\tsetDepthTexture(depthTexture, depthPacking = 0) {\r\n\r\n\t\tconst material = this.depthMaskPass.getFullscreenMaterial();\r\n\t\tmaterial.uniforms.depthBuffer0.value = depthTexture;\r\n\t\tmaterial.defines.DEPTH_PACKING_0 = depthPacking.toFixed(0);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates this effect.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t */\r\n\r\n\tupdate(renderer, inputBuffer, deltaTime) {\r\n\r\n\t\tconst lightSource = this.lightSource;\r\n\t\tconst parent = lightSource.parent;\r\n\t\tconst matrixAutoUpdate = lightSource.matrixAutoUpdate;\r\n\r\n\t\tconst renderTargetA = this.renderTargetA;\r\n\t\tconst renderTargetLight = this.renderTargetLight;\r\n\r\n\t\t// Enable depth write for the light scene render pass.\r\n\t\tlightSource.material.depthWrite = true;\r\n\r\n\t\t// Update the world matrix.\r\n\t\tlightSource.matrixAutoUpdate = false;\r\n\t\tlightSource.updateWorldMatrix(true, false);\r\n\r\n\t\tif(parent !== null) {\r\n\r\n\t\t\tif(!matrixAutoUpdate) {\r\n\r\n\t\t\t\t// Remember the local transformation to restore it later.\r\n\t\t\t\tm.copy(lightSource.matrix);\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Apply parent transformations.\r\n\t\t\tlightSource.matrix.copy(lightSource.matrixWorld);\r\n\r\n\t\t}\r\n\r\n\t\t// Render the light source and mask it based on depth.\r\n\t\tthis.lightScene.add(lightSource);\r\n\t\tthis.renderPassLight.render(renderer, renderTargetLight);\r\n\t\tthis.clearPass.render(renderer, renderTargetA);\r\n\t\tthis.depthMaskPass.render(renderer, renderTargetLight, renderTargetA);\r\n\r\n\t\t// Restore the original values.\r\n\t\tlightSource.material.depthWrite = false;\r\n\t\tlightSource.matrixAutoUpdate = matrixAutoUpdate;\r\n\r\n\t\tif(parent !== null) {\r\n\r\n\t\t\tif(!matrixAutoUpdate) {\r\n\r\n\t\t\t\tlightSource.matrix.copy(m);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tparent.add(lightSource);\r\n\r\n\t\t}\r\n\r\n\t\t// Calculate the screen light position.\r\n\t\tv.setFromMatrixPosition(lightSource.matrixWorld).project(this.camera);\r\n\r\n\t\t// Translate to [0.0, 1.0] and clamp to screen with a bias of 1.0.\r\n\t\tthis.screenPosition.set(\r\n\t\t\tMath.min(Math.max((v.x + 1.0) * 0.5, -1.0), 2.0),\r\n\t\t\tMath.min(Math.max((v.y + 1.0) * 0.5, -1.0), 2.0)\r\n\t\t);\r\n\r\n\t\tif(this.blur) {\r\n\r\n\t\t\t// Blur the masked scene to reduce artifacts.\r\n\t\t\tthis.blurPass.render(renderer, renderTargetA, renderTargetA);\r\n\r\n\t\t}\r\n\r\n\t\t// Blur the masked scene along radial lines towards the light source.\r\n\t\tthis.godRaysPass.render(renderer, renderTargetA, this.renderTargetB);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the size of internal render targets.\r\n\t *\r\n\t * @param {Number} width - The width.\r\n\t * @param {Number} height - The height.\r\n\t */\r\n\r\n\tsetSize(width, height) {\r\n\r\n\t\tthis.blurPass.setSize(width, height);\r\n\t\tthis.renderPassLight.setSize(width, height);\r\n\t\tthis.depthMaskPass.setSize(width, height);\r\n\t\tthis.godRaysPass.setSize(width, height);\r\n\r\n\t\tconst w = this.resolution.width;\r\n\t\tconst h = this.resolution.height;\r\n\r\n\t\tthis.renderTargetA.setSize(w, h);\r\n\t\tthis.renderTargetB.setSize(w, h);\r\n\t\tthis.renderTargetLight.setSize(w, h);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Performs initialization tasks.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {Boolean} alpha - Whether the renderer uses the alpha channel or not.\r\n\t * @param {Number} frameBufferType - The type of the main frame buffers.\r\n\t */\r\n\r\n\tinitialize(renderer, alpha, frameBufferType) {\r\n\r\n\t\tthis.blurPass.initialize(renderer, alpha, frameBufferType);\r\n\t\tthis.renderPassLight.initialize(renderer, alpha, frameBufferType);\r\n\t\tthis.depthMaskPass.initialize(renderer, alpha, frameBufferType);\r\n\t\tthis.godRaysPass.initialize(renderer, alpha, frameBufferType);\r\n\r\n\t\tif(!alpha && frameBufferType === UnsignedByteType) {\r\n\r\n\t\t\tthis.renderTargetA.texture.format = RGBFormat;\r\n\t\t\tthis.renderTargetB.texture.format = RGBFormat;\r\n\t\t\tthis.renderTargetLight.texture.format = RGBFormat;\r\n\r\n\t\t}\r\n\r\n\t\tif(frameBufferType !== undefined) {\r\n\r\n\t\t\tthis.renderTargetA.texture.type = frameBufferType;\r\n\t\t\tthis.renderTargetB.texture.type = frameBufferType;\r\n\t\t\tthis.renderTargetLight.texture.type = frameBufferType;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$q = \"uniform vec2 scale;uniform float lineWidth;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float grid=0.5-max(abs(mod(uv.x*scale.x,1.0)-0.5),abs(mod(uv.y*scale.y,1.0)-0.5));outputColor=vec4(vec3(smoothstep(0.0,lineWidth,grid)),inputColor.a);}\";\r\n\r\n/**\r\n * A grid effect.\r\n */\r\n\r\nclass GridEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new grid effect.\r\n\t *\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.OVERLAY] - The blend function of this effect.\r\n\t * @param {Number} [options.scale=1.0] - The scale of the grid pattern.\r\n\t * @param {Number} [options.lineWidth=0.0] - The line width of the grid pattern.\r\n\t */\r\n\r\n\tconstructor({ blendFunction = BlendFunction.OVERLAY, scale = 1.0, lineWidth = 0.0 } = {}) {\r\n\r\n\t\tsuper(\"GridEffect\", fragmentShader$q, {\r\n\r\n\t\t\tblendFunction,\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"scale\", new Uniform(new Vector2$1())],\r\n\t\t\t\t[\"lineWidth\", new Uniform(lineWidth)]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * The original resolution.\r\n\t\t *\r\n\t\t * @type {Vector2}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.resolution = new Vector2$1();\r\n\r\n\t\t/**\r\n\t\t * The grid scale, relative to the screen height.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.scale = Math.max(scale, 1e-6);\r\n\r\n\t\t/**\r\n\t\t * The grid line width.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.lineWidth = Math.max(lineWidth, 0.0);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the current grid scale.\r\n\t *\r\n\t * @return {Number} The grid scale.\r\n\t */\r\n\r\n\tgetScale() {\r\n\r\n\t\treturn this.scale;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the grid scale.\r\n\t *\r\n\t * @param {Number} scale - The new grid scale.\r\n\t */\r\n\r\n\tsetScale(scale) {\r\n\r\n\t\tthis.scale = scale;\r\n\t\tthis.setSize(this.resolution.x, this.resolution.y);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the current grid line width.\r\n\t *\r\n\t * @return {Number} The grid line width.\r\n\t */\r\n\r\n\tgetLineWidth() {\r\n\r\n\t\treturn this.lineWidth;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the grid line width.\r\n\t *\r\n\t * @param {Number} lineWidth - The new grid line width.\r\n\t */\r\n\r\n\tsetLineWidth(lineWidth) {\r\n\r\n\t\tthis.lineWidth = lineWidth;\r\n\t\tthis.setSize(this.resolution.x, this.resolution.y);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the size of this pass.\r\n\t *\r\n\t * @param {Number} width - The width.\r\n\t * @param {Number} height - The height.\r\n\t */\r\n\r\n\tsetSize(width, height) {\r\n\r\n\t\tthis.resolution.set(width, height);\r\n\r\n\t\tconst aspect = width / height;\r\n\t\tconst scale = this.scale * (height * 0.125);\r\n\r\n\t\tthis.uniforms.get(\"scale\").value.set(aspect * scale, scale);\r\n\t\tthis.uniforms.get(\"lineWidth\").value = (scale / height) + this.lineWidth;\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$r = \"uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}\";\r\n\r\n/**\r\n * A hue/saturation effect.\r\n *\r\n * Reference: https://github.com/evanw/glfx.js\r\n */\r\n\r\nclass HueSaturationEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new hue/saturation effect.\r\n\t *\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.NORMAL] - The blend function of this effect.\r\n\t * @param {Number} [options.hue=0.0] - The hue in radians.\r\n\t * @param {Number} [options.saturation=0.0] - The saturation factor, ranging from -1 to 1, where 0 means no change.\r\n\t */\r\n\r\n\tconstructor({ blendFunction = BlendFunction.NORMAL, hue = 0.0, saturation = 0.0 } = {}) {\r\n\r\n\t\tsuper(\"HueSaturationEffect\", fragmentShader$r, {\r\n\r\n\t\t\tblendFunction,\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"hue\", new Uniform(new Vector3())],\r\n\t\t\t\t[\"saturation\", new Uniform(saturation)]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t\tthis.setHue(hue);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the hue.\r\n\t *\r\n\t * @param {Number} hue - The hue in radians.\r\n\t */\r\n\r\n\tsetHue(hue) {\r\n\r\n\t\tconst s = Math.sin(hue), c = Math.cos(hue);\r\n\r\n\t\tthis.uniforms.get(\"hue\").value.set(\r\n\t\t\t2.0 * c, -Math.sqrt(3.0) * s - c, Math.sqrt(3.0) * s - c\r\n\t\t).addScalar(1.0).divideScalar(3.0);\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$s = \"void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));\\n#ifdef PREMULTIPLY\\noutputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);\\n#else\\noutputColor=vec4(noise,inputColor.a);\\n#endif\\n}\";\r\n\r\n/**\r\n * A noise effect.\r\n */\r\n\r\nclass NoiseEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new noise effect.\r\n\t *\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.SCREEN] - The blend function of this effect.\r\n\t * @param {Boolean} [options.premultiply=false] - Whether the noise should be multiplied with the input color.\r\n\t */\r\n\r\n\tconstructor({ blendFunction = BlendFunction.SCREEN, premultiply = false } = {}) {\r\n\r\n\t\tsuper(\"NoiseEffect\", fragmentShader$s, { blendFunction });\r\n\r\n\t\tthis.premultiply = premultiply;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether the noise should be multiplied with the input color.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget premultiply() {\r\n\r\n\t\treturn this.defines.has(\"PREMULTIPLY\");\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables noise premultiplication.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset premultiply(value) {\r\n\r\n\t\tif(this.premultiply !== value) {\r\n\r\n\t\t\tif(value) {\r\n\r\n\t\t\t\tthis.defines.set(\"PREMULTIPLY\", \"1\");\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.defines.delete(\"PREMULTIPLY\");\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.setChanged();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$t = \"uniform sampler2D edgeTexture;uniform sampler2D maskTexture;uniform vec3 visibleEdgeColor;uniform vec3 hiddenEdgeColor;uniform float pulse;uniform float edgeStrength;\\n#ifdef USE_PATTERN\\nuniform sampler2D patternTexture;varying vec2 vUvPattern;\\n#endif\\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 edge=texture2D(edgeTexture,uv).rg;vec2 mask=texture2D(maskTexture,uv).rg;\\n#ifndef X_RAY\\nedge.y=0.0;\\n#endif\\nedge*=(edgeStrength*mask.x*pulse);vec3 color=edge.x*visibleEdgeColor+edge.y*hiddenEdgeColor;float visibilityFactor=0.0;\\n#ifdef USE_PATTERN\\nvec4 patternColor=texture2D(patternTexture,vUvPattern);\\n#ifdef X_RAY\\nfloat hiddenFactor=0.5;\\n#else\\nfloat hiddenFactor=0.0;\\n#endif\\nvisibilityFactor=(1.0-mask.y>0.0)? 1.0 : hiddenFactor;visibilityFactor*=(1.0-mask.x)*patternColor.a;color+=visibilityFactor*patternColor.rgb;\\n#endif\\nfloat alpha=max(max(edge.x,edge.y),visibilityFactor);\\n#ifdef ALPHA\\noutputColor=vec4(color,alpha);\\n#else\\noutputColor=vec4(color,max(alpha,inputColor.a));\\n#endif\\n}\";\r\n\r\nvar vertexShader$9 = \"uniform float patternScale;varying vec2 vUvPattern;void mainSupport(const in vec2 uv){vUvPattern=uv*vec2(aspect,1.0)*patternScale;}\";\r\n\r\n/**\r\n * An outline effect.\r\n */\r\n\r\nclass OutlineEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new outline effect.\r\n\t *\r\n\t * If you want dark outlines, remember to use an appropriate blend function.\r\n\t *\r\n\t * @param {Scene} scene - The main scene.\r\n\t * @param {Camera} camera - The main camera.\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.SCREEN] - The blend function.  Set this to `BlendFunction.ALPHA` for dark outlines.\r\n\t * @param {Number} [options.patternTexture=null] - A pattern texture.\r\n\t * @param {Number} [options.edgeStrength=1.0] - The edge strength.\r\n\t * @param {Number} [options.pulseSpeed=0.0] - The pulse speed. A value of zero disables the pulse effect.\r\n\t * @param {Number} [options.visibleEdgeColor=0xffffff] - The color of visible edges.\r\n\t * @param {Number} [options.hiddenEdgeColor=0x22090a] - The color of hidden edges.\r\n\t * @param {Number} [options.resolutionScale=0.5] - Deprecated. Use height or width instead.\r\n\t * @param {Number} [options.width=Resizer.AUTO_SIZE] - The render width.\r\n\t * @param {Number} [options.height=Resizer.AUTO_SIZE] - The render height.\r\n\t * @param {KernelSize} [options.kernelSize=KernelSize.VERY_SMALL] - The blur kernel size.\r\n\t * @param {Boolean} [options.blur=false] - Whether the outline should be blurred.\r\n\t * @param {Boolean} [options.xRay=true] - Whether occluded parts of selected objects should be visible.\r\n\t */\r\n\r\n\tconstructor(scene, camera, {\r\n\t\tblendFunction = BlendFunction.SCREEN,\r\n\t\tpatternTexture = null,\r\n\t\tedgeStrength = 1.0,\r\n\t\tpulseSpeed = 0.0,\r\n\t\tvisibleEdgeColor = 0xffffff,\r\n\t\thiddenEdgeColor = 0x22090a,\r\n\t\tresolutionScale = 0.5,\r\n\t\twidth = Resizer.AUTO_SIZE,\r\n\t\theight = Resizer.AUTO_SIZE,\r\n\t\tkernelSize = KernelSize.VERY_SMALL,\r\n\t\tblur = false,\r\n\t\txRay = true\r\n\t} = {}) {\r\n\r\n\t\tsuper(\"OutlineEffect\", fragmentShader$t, {\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"maskTexture\", new Uniform(null)],\r\n\t\t\t\t[\"edgeTexture\", new Uniform(null)],\r\n\t\t\t\t[\"edgeStrength\", new Uniform(edgeStrength)],\r\n\t\t\t\t[\"visibleEdgeColor\", new Uniform(new Color(visibleEdgeColor))],\r\n\t\t\t\t[\"hiddenEdgeColor\", new Uniform(new Color(hiddenEdgeColor))],\r\n\t\t\t\t[\"pulse\", new Uniform(1.0)],\r\n\t\t\t\t[\"patternScale\", new Uniform(1.0)],\r\n\t\t\t\t[\"patternTexture\", new Uniform(null)]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t\t// Handle alpha blending.\r\n\t\tthis.blendMode.addEventListener(\"change\", (event) => {\r\n\r\n\t\t\tif(this.blendMode.getBlendFunction() === BlendFunction.ALPHA) {\r\n\r\n\t\t\t\tthis.defines.set(\"ALPHA\", \"1\");\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.defines.delete(\"ALPHA\");\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.setChanged();\r\n\r\n\t\t});\r\n\r\n\t\tthis.blendMode.setBlendFunction(blendFunction);\r\n\t\tthis.setPatternTexture(patternTexture);\r\n\t\tthis.xRay = xRay;\r\n\r\n\t\t/**\r\n\t\t * The main scene.\r\n\t\t *\r\n\t\t * @type {Scene}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.scene = scene;\r\n\r\n\t\t/**\r\n\t\t * The main camera.\r\n\t\t *\r\n\t\t * @type {Camera}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.camera = camera;\r\n\r\n\t\t/**\r\n\t\t * A render target for the outline mask.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderTargetMask = new WebGLRenderTarget(1, 1, {\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tmagFilter: LinearFilter,\r\n\t\t\tstencilBuffer: false,\r\n\t\t\tformat: RGBFormat\r\n\t\t});\r\n\r\n\t\tthis.renderTargetMask.texture.name = \"Outline.Mask\";\r\n\r\n\t\tthis.uniforms.get(\"maskTexture\").value = this.renderTargetMask.texture;\r\n\r\n\t\t/**\r\n\t\t * A render target for the edge detection.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderTargetOutline = this.renderTargetMask.clone();\r\n\t\tthis.renderTargetOutline.texture.name = \"Outline.Edges\";\r\n\t\tthis.renderTargetOutline.depthBuffer = false;\r\n\r\n\t\t/**\r\n\t\t * A render target for the blurred outline overlay.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderTargetBlurredOutline = this.renderTargetOutline.clone();\r\n\t\tthis.renderTargetBlurredOutline.texture.name = \"Outline.BlurredEdges\";\r\n\r\n\t\t/**\r\n\t\t * A clear pass.\r\n\t\t *\r\n\t\t * @type {ClearPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.clearPass = new ClearPass();\r\n\t\tthis.clearPass.overrideClearColor = new Color(0x000000);\r\n\t\tthis.clearPass.overrideClearAlpha = 1.0;\r\n\r\n\t\t/**\r\n\t\t * A depth pass.\r\n\t\t *\r\n\t\t * @type {DepthPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.depthPass = new DepthPass(scene, camera);\r\n\r\n\t\t/**\r\n\t\t * A depth comparison mask pass.\r\n\t\t *\r\n\t\t * @type {RenderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.maskPass = new RenderPass(scene, camera,\r\n\t\t\tnew DepthComparisonMaterial(this.depthPass.texture, camera));\r\n\r\n\t\tconst clearPass = this.maskPass.getClearPass();\r\n\t\tclearPass.overrideClearColor = new Color(0xffffff);\r\n\t\tclearPass.overrideClearAlpha = 1.0;\r\n\r\n\t\t/**\r\n\t\t * A blur pass.\r\n\t\t *\r\n\t\t * @type {BlurPass}\r\n\t\t */\r\n\r\n\t\tthis.blurPass = new BlurPass({ resolutionScale, width, height, kernelSize });\r\n\t\tthis.blurPass.resolution.resizable = this;\r\n\t\tthis.blur = blur;\r\n\r\n\t\t/**\r\n\t\t * An outline detection pass.\r\n\t\t *\r\n\t\t * @type {ShaderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.outlinePass = new ShaderPass(new OutlineMaterial());\r\n\t\tthis.outlinePass.getFullscreenMaterial().uniforms.inputBuffer.value = this.renderTargetMask.texture;\r\n\r\n\t\t/**\r\n\t\t * The current animation time.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.time = 0.0;\r\n\r\n\t\t/**\r\n\t\t * A selection of objects that will be outlined.\r\n\t\t *\r\n\t\t * @type {Selection}\r\n\t\t */\r\n\r\n\t\tthis.selection = new Selection();\r\n\r\n\t\t/**\r\n\t\t * The pulse speed. A value of zero disables the pulse effect.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t */\r\n\r\n\t\tthis.pulseSpeed = pulseSpeed;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The resolution of this effect.\r\n\t *\r\n\t * @type {Resizer}\r\n\t */\r\n\r\n\tget resolution() {\r\n\r\n\t\treturn this.blurPass.resolution;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The current width of the internal render targets.\r\n\t *\r\n\t * @type {Number}\r\n\t * @deprecated Use resolution.width instead.\r\n\t */\r\n\r\n\tget width() {\r\n\r\n\t\treturn this.resolution.width;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the render width.\r\n\t *\r\n\t * @type {Number}\r\n\t * @deprecated Use resolution.width instead.\r\n\t */\r\n\r\n\tset width(value) {\r\n\r\n\t\tthis.resolution.width = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The current height of the internal render targets.\r\n\t *\r\n\t * @type {Number}\r\n\t * @deprecated Use resolution.height instead.\r\n\t */\r\n\r\n\tget height() {\r\n\r\n\t\treturn this.resolution.height;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the render height.\r\n\t *\r\n\t * @type {Number}\r\n\t * @deprecated Use resolution.height instead.\r\n\t */\r\n\r\n\tset height(value) {\r\n\r\n\t\tthis.resolution.height = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @type {Number}\r\n\t * @deprecated Use selection.layer instead.\r\n\t */\r\n\r\n\tget selectionLayer() {\r\n\r\n\t\treturn this.selection.layer;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @type {Number}\r\n\t * @deprecated Use selection.layer instead.\r\n\t */\r\n\r\n\tset selectionLayer(value) {\r\n\r\n\t\tthis.selection.layer = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether dithering is enabled.\r\n\t *\r\n\t * @type {Boolean}\r\n\t * @deprecated Set the frameBufferType of the EffectComposer to HalfFloatType instead.\r\n\t */\r\n\r\n\tget dithering() {\r\n\r\n\t\treturn this.blurPass.dithering;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables dithering.\r\n\t *\r\n\t * @type {Boolean}\r\n\t * @deprecated Set the frameBufferType of the EffectComposer to HalfFloatType instead.\r\n\t */\r\n\r\n\tset dithering(value) {\r\n\r\n\t\tthis.blurPass.dithering = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The blur kernel size.\r\n\t *\r\n\t * @type {KernelSize}\r\n\t * @deprecated Use blurPass.kernelSize instead.\r\n\t */\r\n\r\n\tget kernelSize() {\r\n\r\n\t\treturn this.blurPass.kernelSize;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the kernel size.\r\n\t *\r\n\t * @type {KernelSize}\r\n\t * @deprecated Use blurPass.kernelSize instead.\r\n\t */\r\n\r\n\tset kernelSize(value) {\r\n\r\n\t\tthis.blurPass.kernelSize = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether the outlines should be blurred.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget blur() {\r\n\r\n\t\treturn this.blurPass.enabled;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset blur(value) {\r\n\r\n\t\tthis.blurPass.enabled = value;\r\n\r\n\t\tthis.uniforms.get(\"edgeTexture\").value = value ?\r\n\t\t\tthis.renderTargetBlurredOutline.texture :\r\n\t\t\tthis.renderTargetOutline.texture;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether X-Ray outlines are enabled.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget xRay() {\r\n\r\n\t\treturn this.defines.has(\"X_RAY\");\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables X-Ray outlines.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset xRay(value) {\r\n\r\n\t\tif(this.xRay !== value) {\r\n\r\n\t\t\tif(value) {\r\n\r\n\t\t\t\tthis.defines.set(\"X_RAY\", \"1\");\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.defines.delete(\"X_RAY\");\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.setChanged();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the pattern texture.\r\n\t *\r\n\t * @param {Texture} texture - The new texture.\r\n\t */\r\n\r\n\tsetPatternTexture(texture) {\r\n\r\n\t\tif(texture !== null) {\r\n\r\n\t\t\ttexture.wrapS = texture.wrapT = RepeatWrapping;\r\n\r\n\t\t\tthis.defines.set(\"USE_PATTERN\", \"1\");\r\n\t\t\tthis.uniforms.get(\"patternTexture\").value = texture;\r\n\t\t\tthis.setVertexShader(vertexShader$9);\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.defines.delete(\"USE_PATTERN\");\r\n\t\t\tthis.uniforms.get(\"patternTexture\").value = null;\r\n\t\t\tthis.setVertexShader(null);\r\n\r\n\t\t}\r\n\r\n\t\tthis.setChanged();\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the current resolution scale.\r\n\t *\r\n\t * @return {Number} The resolution scale.\r\n\t * @deprecated Adjust the fixed resolution width or height instead.\r\n\t */\r\n\r\n\tgetResolutionScale() {\r\n\r\n\t\treturn this.resolution.scale;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the resolution scale.\r\n\t *\r\n\t * @param {Number} scale - The new resolution scale.\r\n\t * @deprecated Adjust the fixed resolution width or height instead.\r\n\t */\r\n\r\n\tsetResolutionScale(scale) {\r\n\r\n\t\tthis.resolution.scale = scale;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Clears the current selection and selects a list of objects.\r\n\t *\r\n\t * @param {Object3D[]} objects - The objects that should be outlined. This array will be copied.\r\n\t * @return {OutlinePass} This pass.\r\n\t * @deprecated Use selection.set instead.\r\n\t */\r\n\r\n\tsetSelection(objects) {\r\n\r\n\t\tthis.selection.set(objects);\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Clears the list of selected objects.\r\n\t *\r\n\t * @return {OutlinePass} This pass.\r\n\t * @deprecated Use selection.clear instead.\r\n\t */\r\n\r\n\tclearSelection() {\r\n\r\n\t\tthis.selection.clear();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Selects an object.\r\n\t *\r\n\t * @param {Object3D} object - The object that should be outlined.\r\n\t * @return {OutlinePass} This pass.\r\n\t * @deprecated Use selection.add instead.\r\n\t */\r\n\r\n\tselectObject(object) {\r\n\r\n\t\tthis.selection.add(object);\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Deselects an object.\r\n\t *\r\n\t * @param {Object3D} object - The object that should no longer be outlined.\r\n\t * @return {OutlinePass} This pass.\r\n\t * @deprecated Use selection.delete instead.\r\n\t */\r\n\r\n\tdeselectObject(object) {\r\n\r\n\t\tthis.selection.delete(object);\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates this effect.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t */\r\n\r\n\tupdate(renderer, inputBuffer, deltaTime) {\r\n\r\n\t\tconst scene = this.scene;\r\n\t\tconst camera = this.camera;\r\n\t\tconst selection = this.selection;\r\n\t\tconst pulse = this.uniforms.get(\"pulse\");\r\n\r\n\t\tconst background = scene.background;\r\n\t\tconst mask = camera.layers.mask;\r\n\r\n\t\tif(selection.size > 0) {\r\n\r\n\t\t\tscene.background = null;\r\n\t\t\tpulse.value = 1.0;\r\n\r\n\t\t\tif(this.pulseSpeed > 0.0) {\r\n\r\n\t\t\t\tpulse.value = 0.625 + Math.cos(this.time * this.pulseSpeed * 10.0) * 0.375;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.time += deltaTime;\r\n\r\n\t\t\t// Render a custom depth texture and ignore selected objects.\r\n\t\t\tselection.setVisible(false);\r\n\t\t\tthis.depthPass.render(renderer);\r\n\t\t\tselection.setVisible(true);\r\n\r\n\t\t\t// Compare the depth of the selected objects with the depth texture.\r\n\t\t\tcamera.layers.set(selection.layer);\r\n\t\t\tthis.maskPass.render(renderer, this.renderTargetMask);\r\n\r\n\t\t\t// Restore the camera layer mask and the scene background.\r\n\t\t\tcamera.layers.mask = mask;\r\n\t\t\tscene.background = background;\r\n\r\n\t\t\t// Detect the outline.\r\n\t\t\tthis.outlinePass.render(renderer, null, this.renderTargetOutline);\r\n\r\n\t\t\tif(this.blur) {\r\n\r\n\t\t\t\tthis.blurPass.render(renderer, this.renderTargetOutline, this.renderTargetBlurredOutline);\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if(this.time > 0.0) {\r\n\r\n\t\t\tthis.clearPass.render(renderer, this.renderTargetMask);\r\n\t\t\tthis.time = 0.0;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the size of internal render targets.\r\n\t *\r\n\t * @param {Number} width - The width.\r\n\t * @param {Number} height - The height.\r\n\t */\r\n\r\n\tsetSize(width, height) {\r\n\r\n\t\tthis.blurPass.setSize(width, height);\r\n\t\tthis.renderTargetMask.setSize(width, height);\r\n\r\n\t\tconst w = this.resolution.width;\r\n\t\tconst h = this.resolution.height;\r\n\r\n\t\tthis.depthPass.setSize(w, h);\r\n\t\tthis.renderTargetOutline.setSize(w, h);\r\n\t\tthis.renderTargetBlurredOutline.setSize(w, h);\r\n\t\tthis.outlinePass.getFullscreenMaterial().setTexelSize(1.0 / w, 1.0 / h);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Performs initialization tasks.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {Boolean} alpha - Whether the renderer uses the alpha channel or not.\r\n\t * @param {Number} frameBufferType - The type of the main frame buffers.\r\n\t */\r\n\r\n\tinitialize(renderer, alpha, frameBufferType) {\r\n\r\n\t\t// No need for high precision: the blur pass operates on a mask texture.\r\n\t\tthis.blurPass.initialize(renderer, alpha, UnsignedByteType);\r\n\r\n\t\tif(frameBufferType !== undefined) {\r\n\r\n\t\t\t// These passes ignore the buffer type.\r\n\t\t\tthis.depthPass.initialize(renderer, alpha, frameBufferType);\r\n\t\t\tthis.maskPass.initialize(renderer, alpha, frameBufferType);\r\n\t\t\tthis.outlinePass.initialize(renderer, alpha, frameBufferType);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$u = \"uniform bool active;uniform vec2 d;void mainUv(inout vec2 uv){if(active){uv=vec2(d.x*(floor(uv.x/d.x)+0.5),d.y*(floor(uv.y/d.y)+0.5));}}\";\r\n\r\n/**\r\n * A pixelation effect.\r\n *\r\n * Warning: This effect cannot be merged with convolution effects.\r\n */\r\n\r\nclass PixelationEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new pixelation effect.\r\n\t *\r\n\t * @param {Object} [granularity=30.0] - The pixel granularity.\r\n\t */\r\n\r\n\tconstructor(granularity = 30.0) {\r\n\r\n\t\tsuper(\"PixelationEffect\", fragmentShader$u, {\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"active\", new Uniform(false)],\r\n\t\t\t\t[\"d\", new Uniform(new Vector2$1())]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * The original resolution.\r\n\t\t *\r\n\t\t * @type {Vector2}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.resolution = new Vector2$1();\r\n\r\n\t\t/**\r\n\t\t * The pixel granularity.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.granularity = granularity;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the pixel granularity.\r\n\t *\r\n\t * @return {Number} The granularity.\r\n\t */\r\n\r\n\tgetGranularity() {\r\n\r\n\t\treturn this.granularity;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the pixel granularity.\r\n\t *\r\n\t * A higher value yields coarser visuals.\r\n\t *\r\n\t * @param {Number} granularity - The new granularity.\r\n\t */\r\n\r\n\tsetGranularity(granularity) {\r\n\r\n\t\tgranularity = Math.floor(granularity);\r\n\r\n\t\tif(granularity % 2 > 0) {\r\n\r\n\t\t\tgranularity += 1;\r\n\r\n\t\t}\r\n\r\n\t\tconst uniforms = this.uniforms;\r\n\t\tuniforms.get(\"active\").value = (granularity > 0.0);\r\n\t\tuniforms.get(\"d\").value.set(granularity, granularity).divide(this.resolution);\r\n\r\n\t\tthis.granularity = granularity;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the granularity.\r\n\t *\r\n\t * @param {Number} width - The width.\r\n\t * @param {Number} height - The height.\r\n\t */\r\n\r\n\tsetSize(width, height) {\r\n\r\n\t\tthis.resolution.set(width, height);\r\n\t\tthis.setGranularity(this.granularity);\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$v = \"uniform float focus;uniform float focalLength;uniform float fStop;uniform float maxBlur;uniform float luminanceThreshold;uniform float luminanceGain;uniform float bias;uniform float fringe;\\n#ifdef MANUAL_DOF\\nuniform vec4 dof;\\n#endif\\n#ifdef PENTAGON\\nfloat pentagon(const in vec2 coords){const vec4 HS0=vec4(1.0,0.0,0.0,1.0);const vec4 HS1=vec4(0.309016994,0.951056516,0.0,1.0);const vec4 HS2=vec4(-0.809016994,0.587785252,0.0,1.0);const vec4 HS3=vec4(-0.809016994,-0.587785252,0.0,1.0);const vec4 HS4=vec4(0.309016994,-0.951056516,0.0,1.0);const vec4 HS5=vec4(0.0,0.0,1.0,1.0);const vec4 ONE=vec4(1.0);const float P_FEATHER=0.4;const float N_FEATHER=-P_FEATHER;float inOrOut=-4.0;vec4 P=vec4(coords,vec2(RINGS_FLOAT-1.3));vec4 dist=vec4(dot(P,HS0),dot(P,HS1),dot(P,HS2),dot(P,HS3));dist=smoothstep(N_FEATHER,P_FEATHER,dist);inOrOut+=dot(dist,ONE);dist.x=dot(P,HS4);dist.y=HS5.w-abs(P.z);dist=smoothstep(N_FEATHER,P_FEATHER,dist);inOrOut+=dist.x;return clamp(inOrOut,0.0,1.0);}\\n#endif\\nvec3 processTexel(const in vec2 coords,const in float blur){vec2 scale=texelSize*fringe*blur;vec3 c=vec3(texture2D(inputBuffer,coords+vec2(0.0,1.0)*scale).r,texture2D(inputBuffer,coords+vec2(-0.866,-0.5)*scale).g,texture2D(inputBuffer,coords+vec2(0.866,-0.5)*scale).b);float luminance=linearToRelativeLuminance(c);float threshold=max((luminance-luminanceThreshold)*luminanceGain,0.0);return c+mix(vec3(0.0),c,threshold*blur);}float gather(const in float i,const in float j,const in float ringSamples,const in vec2 uv,const in vec2 blurFactor,const in float blur,inout vec3 color){float step=PI2/ringSamples;vec2 wh=vec2(cos(j*step)*i,sin(j*step)*i);\\n#ifdef PENTAGON\\nfloat p=pentagon(wh);\\n#else\\nfloat p=1.0;\\n#endif\\ncolor+=processTexel(wh*blurFactor+uv,blur)*mix(1.0,i/RINGS_FLOAT,bias)*p;return mix(1.0,i/RINGS_FLOAT,bias)*p;}void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){\\n#ifdef PERSPECTIVE_CAMERA\\nfloat viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);\\n#else\\nfloat linearDepth=depth;\\n#endif\\n#ifdef MANUAL_DOF\\nfloat focalPlane=linearDepth-focus;float farDoF=(focalPlane-dof.z)/dof.w;float nearDoF=(-focalPlane-dof.x)/dof.y;float blur=(focalPlane>0.0)? farDoF : nearDoF;\\n#else\\nconst float CIRCLE_OF_CONFUSION=0.03;float focalPlaneMM=focus*1000.0;float depthMM=linearDepth*1000.0;float focalPlane=(depthMM*focalLength)/(depthMM-focalLength);float farDoF=(focalPlaneMM*focalLength)/(focalPlaneMM-focalLength);float nearDoF=(focalPlaneMM-focalLength)/(focalPlaneMM*fStop*CIRCLE_OF_CONFUSION);float blur=abs(focalPlane-farDoF)*nearDoF;\\n#endif\\nconst int MAX_RING_SAMPLES=RINGS_INT*SAMPLES_INT;blur=clamp(blur,0.0,1.0);vec3 color=inputColor.rgb;if(blur>=0.05){vec2 blurFactor=blur*maxBlur*texelSize;float s=1.0;int ringSamples;for(int i=1;i<=RINGS_INT;i++){ringSamples=i*SAMPLES_INT;for(int j=0;j<MAX_RING_SAMPLES;j++){if(j>=ringSamples){break;}s+=gather(float(i),float(j),float(ringSamples),uv,blurFactor,blur,color);}}color/=s;}\\n#ifdef SHOW_FOCUS\\nfloat edge=0.002*linearDepth;float m=clamp(smoothstep(0.0,edge,blur),0.0,1.0);float e=clamp(smoothstep(1.0-edge,1.0,blur),0.0,1.0);color=mix(color,vec3(1.0,0.5,0.0),(1.0-m)*0.6);color=mix(color,vec3(0.0,0.5,1.0),((1.0-e)-(1.0-m))*0.2);\\n#endif\\noutputColor=vec4(color,inputColor.a);}\";\r\n\r\n/**\r\n * Depth of Field shader v2.4.\r\n *\r\n * Yields more realistic results but is also more demanding.\r\n *\r\n * Original shader code by Martins Upitis:\r\n *  http://blenderartists.org/forum/showthread.php?237488-GLSL-depth-of-field-with-bokeh-v2-4-(update)\r\n *\r\n * @deprecated Use DepthOfFieldEffect instead.\r\n */\r\n\r\nclass RealisticBokehEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new bokeh effect.\r\n\t *\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.NORMAL] - The blend function of this effect.\r\n\t * @param {Number} [options.focus=1.0] - The focus distance in world units.\r\n\t * @param {Number} [options.focalLength=24.0] - The focal length of the main camera.\r\n\t * @param {Number} [options.fStop=0.9] - The ratio of the lens focal length to the diameter of the entrance pupil (aperture).\r\n\t * @param {Number} [options.luminanceThreshold=0.5] - A luminance threshold.\r\n\t * @param {Number} [options.luminanceGain=2.0] - A luminance gain factor.\r\n\t * @param {Number} [options.bias=0.5] - A blur bias.\r\n\t * @param {Number} [options.fringe=0.7] - A blur offset.\r\n\t * @param {Number} [options.maxBlur=1.0] - The maximum blur strength.\r\n\t * @param {Boolean} [options.rings=3] - The number of blur iterations.\r\n\t * @param {Boolean} [options.samples=2] - The amount of samples taken per ring.\r\n\t * @param {Boolean} [options.showFocus=false] - Whether the focal point should be highlighted. Useful for debugging.\r\n\t * @param {Boolean} [options.manualDoF=false] - Enables manual control over the depth of field.\r\n\t * @param {Boolean} [options.pentagon=false] - Enables pentagonal blur shapes. Requires a high number of rings and samples.\r\n\t */\r\n\r\n\tconstructor({\r\n\t\tblendFunction = BlendFunction.NORMAL,\r\n\t\tfocus = 1.0,\r\n\t\tfocalLength = 24.0,\r\n\t\tfStop = 0.9,\r\n\t\tluminanceThreshold = 0.5,\r\n\t\tluminanceGain = 2.0,\r\n\t\tbias = 0.5,\r\n\t\tfringe = 0.7,\r\n\t\tmaxBlur = 1.0,\r\n\t\trings = 3,\r\n\t\tsamples = 2,\r\n\t\tshowFocus = false,\r\n\t\tmanualDoF = false,\r\n\t\tpentagon = false\r\n\t} = {}) {\r\n\r\n\t\tsuper(\"RealisticBokehEffect\", fragmentShader$v, {\r\n\r\n\t\t\tblendFunction,\r\n\t\t\tattributes: EffectAttribute.CONVOLUTION | EffectAttribute.DEPTH,\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"focus\", new Uniform(focus)],\r\n\t\t\t\t[\"focalLength\", new Uniform(focalLength)],\r\n\t\t\t\t[\"fStop\", new Uniform(fStop)],\r\n\t\t\t\t[\"luminanceThreshold\", new Uniform(luminanceThreshold)],\r\n\t\t\t\t[\"luminanceGain\", new Uniform(luminanceGain)],\r\n\t\t\t\t[\"bias\", new Uniform(bias)],\r\n\t\t\t\t[\"fringe\", new Uniform(fringe)],\r\n\t\t\t\t[\"maxBlur\", new Uniform(maxBlur)],\r\n\t\t\t\t[\"dof\", new Uniform(null)]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t\tthis.rings = rings;\r\n\t\tthis.samples = samples;\r\n\t\tthis.showFocus = showFocus;\r\n\t\tthis.manualDoF = manualDoF;\r\n\t\tthis.pentagon = pentagon;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The amount of blur iterations.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget rings() {\r\n\r\n\t\treturn Number.parseInt(this.defines.get(\"RINGS_INT\"));\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the amount of blur iterations.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset rings(value) {\r\n\r\n\t\tconst r = Math.floor(value);\r\n\t\tthis.defines.set(\"RINGS_INT\", r.toFixed(0));\r\n\t\tthis.defines.set(\"RINGS_FLOAT\", r.toFixed(1));\r\n\r\n\t\tthis.setChanged();\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The amount of blur samples per ring.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget samples() {\r\n\r\n\t\treturn Number.parseInt(this.defines.get(\"SAMPLES_INT\"));\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the amount of blur samples per ring.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset samples(value) {\r\n\r\n\t\tconst s = Math.floor(value);\r\n\t\tthis.defines.set(\"SAMPLES_INT\", s.toFixed(0));\r\n\t\tthis.defines.set(\"SAMPLES_FLOAT\", s.toFixed(1));\r\n\r\n\t\tthis.setChanged();\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether the focal point will be highlighted.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget showFocus() {\r\n\r\n\t\treturn this.defines.has(\"SHOW_FOCUS\");\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables focal point highlighting.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset showFocus(value) {\r\n\r\n\t\tif(this.showFocus !== value) {\r\n\r\n\t\t\tif(value) {\r\n\r\n\t\t\t\tthis.defines.set(\"SHOW_FOCUS\", \"1\");\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.defines.delete(\"SHOW_FOCUS\");\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.setChanged();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether the Depth of Field should be calculated manually.\r\n\t *\r\n\t * If enabled, the Depth of Field can be adjusted via the `dof` uniform.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget manualDoF() {\r\n\r\n\t\treturn this.defines.has(\"MANUAL_DOF\");\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables manual Depth of Field.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset manualDoF(value) {\r\n\r\n\t\tif(this.manualDoF !== value) {\r\n\r\n\t\t\tif(value) {\r\n\r\n\t\t\t\tthis.defines.set(\"MANUAL_DOF\", \"1\");\r\n\t\t\t\tthis.uniforms.get(\"dof\").value = new Vector4(0.2, 1.0, 0.2, 2.0);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.defines.delete(\"MANUAL_DOF\");\r\n\t\t\t\tthis.uniforms.get(\"dof\").value = null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.setChanged();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether the blur shape should be pentagonal.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget pentagon() {\r\n\r\n\t\treturn this.defines.has(\"PENTAGON\");\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables pentagonal blur.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset pentagon(value) {\r\n\r\n\t\tif(this.pentagon !== value) {\r\n\r\n\t\t\tif(value) {\r\n\r\n\t\t\t\tthis.defines.set(\"PENTAGON\", \"1\");\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.defines.delete(\"PENTAGON\");\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.setChanged();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$w = \"uniform float count;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 sl=vec2(sin(uv.y*count),cos(uv.y*count));vec3 scanlines=vec3(sl.x,sl.y,sl.x);outputColor=vec4(scanlines,inputColor.a);}\";\r\n\r\n/**\r\n * A scanline effect.\r\n *\r\n * Based on an implementation by Georg 'Leviathan' Steinrohder (CC BY 3.0):\r\n * http://www.truevision3d.com/forums/showcase/staticnoise_colorblackwhite_scanline_shaders-t18698.0.html\r\n */\r\n\r\nclass ScanlineEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new scanline effect.\r\n\t *\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.OVERLAY] - The blend function of this effect.\r\n\t * @param {Number} [options.density=1.25] - The scanline density.\r\n\t */\r\n\r\n\tconstructor({ blendFunction = BlendFunction.OVERLAY, density = 1.25 } = {}) {\r\n\r\n\t\tsuper(\"ScanlineEffect\", fragmentShader$w, {\r\n\r\n\t\t\tblendFunction,\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"count\", new Uniform(0.0)]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * The original resolution.\r\n\t\t *\r\n\t\t * @type {Vector2}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.resolution = new Vector2$1();\r\n\r\n\t\t/**\r\n\t\t * The amount of scanlines, relative to the screen height.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.density = density;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the current scanline density.\r\n\t *\r\n\t * @return {Number} The scanline density.\r\n\t */\r\n\r\n\tgetDensity() {\r\n\r\n\t\treturn this.density;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the scanline density.\r\n\t *\r\n\t * @param {Number} density - The new scanline density.\r\n\t */\r\n\r\n\tsetDensity(density) {\r\n\r\n\t\tthis.density = density;\r\n\t\tthis.setSize(this.resolution.x, this.resolution.y);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the size of this pass.\r\n\t *\r\n\t * @param {Number} width - The width.\r\n\t * @param {Number} height - The height.\r\n\t */\r\n\r\n\tsetSize(width, height) {\r\n\r\n\t\tthis.resolution.set(width, height);\r\n\t\tthis.uniforms.get(\"count\").value = Math.round(height * this.density);\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$x = \"uniform bool active;uniform vec2 center;uniform float waveSize;uniform float radius;uniform float maxRadius;uniform float amplitude;varying float vSize;void mainUv(inout vec2 uv){if(active){vec2 aspectCorrection=vec2(aspect,1.0);vec2 difference=uv*aspectCorrection-center*aspectCorrection;float distance=sqrt(dot(difference,difference))*vSize;if(distance>radius){if(distance<radius+waveSize){float angle=(distance-radius)*PI2/waveSize;float cosSin=(1.0-cos(angle))*0.5;float extent=maxRadius+waveSize;float decay=max(extent-distance*distance,0.0)/extent;uv-=((cosSin*amplitude*difference)/distance)*decay;}}}}\";\r\n\r\nvar vertexShader$a = \"uniform float size;uniform float cameraDistance;varying float vSize;void mainSupport(){vSize=(0.1*cameraDistance)/size;}\";\r\n\r\n/**\r\n * Half PI.\r\n *\r\n * @type {Number}\r\n * @private\r\n */\r\n\r\nconst HALF_PI = Math.PI * 0.5;\r\n\r\n/**\r\n * A vector.\r\n *\r\n * @type {Vector3}\r\n * @private\r\n */\r\n\r\nconst v$1 = new Vector3();\r\n\r\n/**\r\n * A vector.\r\n *\r\n * @type {Vector3}\r\n * @private\r\n */\r\n\r\nconst ab = new Vector3();\r\n\r\n/**\r\n * A shock wave effect.\r\n *\r\n * Based on a Gist by Jean-Philippe Sarda:\r\n *  https://gist.github.com/jpsarda/33cea67a9f2ecb0a0eda\r\n *\r\n * Warning: This effect cannot be merged with convolution effects.\r\n */\r\n\r\nclass ShockWaveEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new shock wave effect.\r\n\t *\r\n\t * @param {Camera} camera - The main camera.\r\n\t * @param {Vector3} [epicenter] - The world position of the shock wave epicenter.\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {Number} [options.speed=2.0] - The animation speed.\r\n\t * @param {Number} [options.maxRadius=1.0] - The extent of the shock wave.\r\n\t * @param {Number} [options.waveSize=0.2] - The wave size.\r\n\t * @param {Number} [options.amplitude=0.05] - The distortion amplitude.\r\n\t */\r\n\r\n\tconstructor(camera, epicenter = new Vector3(), {\r\n\t\tspeed = 2.0,\r\n\t\tmaxRadius = 1.0,\r\n\t\twaveSize = 0.2,\r\n\t\tamplitude = 0.05\r\n\t} = {}) {\r\n\r\n\t\tsuper(\"ShockWaveEffect\", fragmentShader$x, {\r\n\r\n\t\t\tvertexShader: vertexShader$a,\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"active\", new Uniform(false)],\r\n\t\t\t\t[\"center\", new Uniform(new Vector2$1(0.5, 0.5))],\r\n\t\t\t\t[\"cameraDistance\", new Uniform(1.0)],\r\n\t\t\t\t[\"size\", new Uniform(1.0)],\r\n\t\t\t\t[\"radius\", new Uniform(-waveSize)],\r\n\t\t\t\t[\"maxRadius\", new Uniform(maxRadius)],\r\n\t\t\t\t[\"waveSize\", new Uniform(waveSize)],\r\n\t\t\t\t[\"amplitude\", new Uniform(amplitude)]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * The main camera.\r\n\t\t *\r\n\t\t * @type {Camera}\r\n\t\t */\r\n\r\n\t\tthis.camera = camera;\r\n\r\n\t\t/**\r\n\t\t * The epicenter.\r\n\t\t *\r\n\t\t * @type {Vector3}\r\n\t\t * @example shockWavePass.epicenter = myMesh.position;\r\n\t\t */\r\n\r\n\t\tthis.epicenter = epicenter;\r\n\r\n\t\t/**\r\n\t\t * The object position in screen space.\r\n\t\t *\r\n\t\t * @type {Vector3}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.screenPosition = this.uniforms.get(\"center\").value;\r\n\r\n\t\t/**\r\n\t\t * The speed of the shock wave animation.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t */\r\n\r\n\t\tthis.speed = speed;\r\n\r\n\t\t/**\r\n\t\t * A time accumulator.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.time = 0.0;\r\n\r\n\t\t/**\r\n\t\t * Indicates whether the shock wave animation is active.\r\n\t\t *\r\n\t\t * @type {Boolean}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.active = false;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Emits the shock wave.\r\n\t */\r\n\r\n\texplode() {\r\n\r\n\t\tthis.time = 0.0;\r\n\t\tthis.active = true;\r\n\t\tthis.uniforms.get(\"active\").value = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates this effect.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {Number} [delta] - The time between the last frame and the current one in seconds.\r\n\t */\r\n\r\n\tupdate(renderer, inputBuffer, delta) {\r\n\r\n\t\tconst epicenter = this.epicenter;\r\n\t\tconst camera = this.camera;\r\n\t\tconst uniforms = this.uniforms;\r\n\t\tconst uniformActive = uniforms.get(\"active\");\r\n\r\n\t\tif(this.active) {\r\n\r\n\t\t\tconst waveSize = uniforms.get(\"waveSize\").value;\r\n\r\n\t\t\t// Calculate direction vectors.\r\n\t\t\tcamera.getWorldDirection(v$1);\r\n\t\t\tab.copy(camera.position).sub(epicenter);\r\n\r\n\t\t\t// Don't render the effect if the object is behind the camera.\r\n\t\t\tuniformActive.value = (v$1.angleTo(ab) > HALF_PI);\r\n\r\n\t\t\tif(uniformActive.value) {\r\n\r\n\t\t\t\t// Scale the effect based on distance to the object.\r\n\t\t\t\tuniforms.get(\"cameraDistance\").value = camera.position.distanceTo(epicenter);\r\n\r\n\t\t\t\t// Calculate the screen position of the epicenter.\r\n\t\t\t\tv$1.copy(epicenter).project(camera);\r\n\t\t\t\tthis.screenPosition.set((v$1.x + 1.0) * 0.5, (v$1.y + 1.0) * 0.5);\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Update the shock wave radius based on time.\r\n\t\t\tthis.time += delta * this.speed;\r\n\t\t\tconst radius = this.time - waveSize;\r\n\t\t\tuniforms.get(\"radius\").value = radius;\r\n\r\n\t\t\tif(radius >= (uniforms.get(\"maxRadius\").value + waveSize) * 2.0) {\r\n\r\n\t\t\t\tthis.active = false;\r\n\t\t\t\tuniformActive.value = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * A selective bloom effect.\r\n *\r\n * This effect applies bloom only to selected objects by using layers. Make sure\r\n * to enable the selection layer for all relevant lights:\r\n *\r\n * `lights.forEach((l) => l.layers.enable(bloomEffect.selection.layer));`\r\n *\r\n * Attention: If you don't need to limit bloom to a subset of objects, consider\r\n * using the {@link BloomEffect} instead for better performance.\r\n */\r\n\r\nclass SelectiveBloomEffect extends BloomEffect {\r\n\r\n\t/**\r\n\t * Constructs a new selective bloom effect.\r\n\t *\r\n\t * @param {Scene} scene - The main scene.\r\n\t * @param {Camera} camera - The main camera.\r\n\t * @param {Object} [options] - The options. See {@link BloomEffect} for details.\r\n\t */\r\n\r\n\tconstructor(scene, camera, options) {\r\n\r\n\t\tsuper(options);\r\n\r\n\t\t/**\r\n\t\t * The main scene.\r\n\t\t *\r\n\t\t * @type {Scene}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.scene = scene;\r\n\r\n\t\t/**\r\n\t\t * The main camera.\r\n\t\t *\r\n\t\t * @type {Camera}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.camera = camera;\r\n\r\n\t\t/**\r\n\t\t * A clear pass.\r\n\t\t *\r\n\t\t * @type {ClearPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.clearPass = new ClearPass(true, true, false);\r\n\t\tthis.clearPass.overrideClearColor = new Color(0x000000);\r\n\r\n\t\t/**\r\n\t\t * A render pass.\r\n\t\t *\r\n\t\t * @type {RenderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderPass = new RenderPass(scene, camera);\r\n\t\tthis.renderPass.clear = false;\r\n\r\n\t\t/**\r\n\t\t * A render pass that renders all objects solid black.\r\n\t\t *\r\n\t\t * @type {RenderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.blackoutPass = new RenderPass(scene, camera, new MeshBasicMaterial({ color: 0x000000 }));\r\n\t\tthis.blackoutPass.clear = false;\r\n\r\n\t\t/**\r\n\t\t * A render pass that only renders the background of the main scene.\r\n\t\t *\r\n\t\t * @type {RenderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.backgroundPass = (() => {\r\n\r\n\t\t\tconst backgroundScene = new Scene();\r\n\t\t\tconst pass = new RenderPass(backgroundScene, camera);\r\n\r\n\t\t\tbackgroundScene.background = scene.background;\r\n\t\t\tpass.clear = false;\r\n\r\n\t\t\treturn pass;\r\n\r\n\t\t})();\r\n\r\n\t\t/**\r\n\t\t * A render target.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderTargetSelection = new WebGLRenderTarget(1, 1, {\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tmagFilter: LinearFilter,\r\n\t\t\tstencilBuffer: false,\r\n\t\t\tdepthBuffer: true\r\n\t\t});\r\n\r\n\t\tthis.renderTargetSelection.texture.name = \"Bloom.Selection\";\r\n\t\tthis.renderTargetSelection.texture.generateMipmaps = false;\r\n\r\n\t\t/**\r\n\t\t * A selection of objects.\r\n\t\t *\r\n\t\t * @type {Selection}\r\n\t\t */\r\n\r\n\t\tthis.selection = new Selection();\r\n\r\n\t\t/**\r\n\t\t * Indicates whether the selection should be considered inverted.\r\n\t\t *\r\n\t\t * @type {Boolean}\r\n\t\t */\r\n\r\n\t\tthis.inverted = false;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether the scene background should be ignored.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget ignoreBackground() {\r\n\r\n\t\treturn !this.backgroundPass.enabled;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables background rendering.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset ignoreBackground(value) {\r\n\r\n\t\tthis.backgroundPass.enabled = !value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates this effect.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t */\r\n\r\n\tupdate(renderer, inputBuffer, deltaTime) {\r\n\r\n\t\tconst scene = this.scene;\r\n\t\tconst camera = this.camera;\r\n\t\tconst selection = this.selection;\r\n\t\tconst renderTarget = this.renderTargetSelection;\r\n\r\n\t\tconst background = scene.background;\r\n\t\tconst mask = camera.layers.mask;\r\n\r\n\t\tthis.clearPass.render(renderer, renderTarget);\r\n\r\n\t\tif(!this.ignoreBackground) {\r\n\r\n\t\t\tthis.backgroundPass.render(renderer, renderTarget);\r\n\r\n\t\t}\r\n\r\n\t\tscene.background = null;\r\n\r\n\t\tif(this.inverted) {\r\n\r\n\t\t\tcamera.layers.set(selection.layer);\r\n\t\t\tthis.blackoutPass.render(renderer, renderTarget);\r\n\t\t\tcamera.layers.mask = mask;\r\n\r\n\t\t\tselection.setVisible(false);\r\n\t\t\tthis.renderPass.render(renderer, renderTarget);\r\n\t\t\tselection.setVisible(true);\r\n\r\n\t\t} else {\r\n\r\n\t\t\tselection.setVisible(false);\r\n\t\t\tthis.blackoutPass.render(renderer, renderTarget);\r\n\t\t\tselection.setVisible(true);\r\n\r\n\t\t\tcamera.layers.set(selection.layer);\r\n\t\t\tthis.renderPass.render(renderer, renderTarget);\r\n\t\t\tcamera.layers.mask = mask;\r\n\r\n\t\t}\r\n\r\n\t\tscene.background = background;\r\n\t\tsuper.update(renderer, renderTarget, deltaTime);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the size of internal render targets.\r\n\t *\r\n\t * @param {Number} width - The width.\r\n\t * @param {Number} height - The height.\r\n\t */\r\n\r\n\tsetSize(width, height) {\r\n\r\n\t\tsuper.setSize(width, height);\r\n\r\n\t\tthis.backgroundPass.setSize(width, height);\r\n\t\tthis.blackoutPass.setSize(width, height);\r\n\t\tthis.renderPass.setSize(width, height);\r\n\r\n\t\tthis.renderTargetSelection.setSize(\r\n\t\t\tthis.resolution.width,\r\n\t\t\tthis.resolution.height\r\n\t\t);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Performs initialization tasks.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {Boolean} alpha - Whether the renderer uses the alpha channel.\r\n\t * @param {Number} frameBufferType - The type of the main frame buffers.\r\n\t */\r\n\r\n\tinitialize(renderer, alpha, frameBufferType) {\r\n\r\n\t\tsuper.initialize(renderer, alpha, frameBufferType);\r\n\r\n\t\tthis.backgroundPass.initialize(renderer, alpha, frameBufferType);\r\n\t\tthis.blackoutPass.initialize(renderer, alpha, frameBufferType);\r\n\t\tthis.renderPass.initialize(renderer, alpha, frameBufferType);\r\n\r\n\t\tif(!alpha && frameBufferType === UnsignedByteType) {\r\n\r\n\t\t\tthis.renderTargetSelection.texture.format = RGBFormat;\r\n\r\n\t\t}\r\n\r\n\t\tif(frameBufferType !== undefined) {\r\n\r\n\t\t\tthis.renderTargetSelection.texture.type = frameBufferType;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$y = \"uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,vec3(1.0-0.607*intensity,0.769*intensity,0.189*intensity)),dot(inputColor.rgb,vec3(0.349*intensity,1.0-0.314*intensity,0.168*intensity)),dot(inputColor.rgb,vec3(0.272*intensity,0.534*intensity,1.0-0.869*intensity)));outputColor=vec4(color,inputColor.a);}\";\r\n\r\n/**\r\n * A sepia effect.\r\n */\r\n\r\nclass SepiaEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new sepia effect.\r\n\t *\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.NORMAL] - The blend function of this effect.\r\n\t * @param {Number} [options.intensity=1.0] - The intensity of the effect.\r\n\t */\r\n\r\n\tconstructor({ blendFunction = BlendFunction.NORMAL, intensity = 1.0 } = {}) {\r\n\r\n\t\tsuper(\"SepiaEffect\", fragmentShader$y, {\r\n\r\n\t\t\tblendFunction,\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"intensity\", new Uniform(intensity)]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n}\r\n\r\n// Generated with SMAASearchImageData.generate().toCanvas().toDataURL(), cropped, high dynamic range.\r\nvar searchImageDataURL = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC\";\r\n\r\n// Generated with SMAAAreaImageData.generate().toCanvas().toDataURL().\r\nvar areaImageDataURL = \"data:image/png;base64,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\";\r\n\r\nvar fragmentShader$z = \"uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;/***Moves values to a target vector based on a given conditional vector.*/void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}\";\r\n\r\nvar vertexShader$b = \"varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}\";\r\n\r\n/**\r\n * Subpixel Morphological Antialiasing (SMAA).\r\n *\r\n * https://github.com/iryoku/smaa/releases/tag/v2.8\r\n */\r\n\r\nclass SMAAEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new SMAA effect.\r\n\t *\r\n\t * @param {Image} searchImage - The SMAA search image. Preload this image using the {@link SMAAImageLoader}.\r\n\t * @param {Image} areaImage - The SMAA area image. Preload this image using the {@link SMAAImageLoader}.\r\n\t * @param {SMAAPreset} [preset=SMAAPreset.HIGH] - An SMAA quality preset.\r\n\t * @param {EdgeDetectionMode} [edgeDetectionMode=EdgeDetectionMode.COLOR] - The edge detection mode.\r\n\t */\r\n\r\n\tconstructor(searchImage, areaImage, preset = SMAAPreset.HIGH, edgeDetectionMode = EdgeDetectionMode.COLOR) {\r\n\r\n\t\tsuper(\"SMAAEffect\", fragmentShader$z, {\r\n\r\n\t\t\tvertexShader: vertexShader$b,\r\n\t\t\tblendFunction: BlendFunction.NORMAL,\r\n\t\t\tattributes: EffectAttribute.CONVOLUTION,\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"weightMap\", new Uniform(null)]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * A render target for the edge detection.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderTargetEdges = new WebGLRenderTarget(1, 1, {\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tstencilBuffer: false,\r\n\t\t\tdepthBuffer: false,\r\n\t\t\tformat: RGBFormat\r\n\t\t});\r\n\r\n\t\tthis.renderTargetEdges.texture.name = \"SMAA.Edges\";\r\n\r\n\t\t/**\r\n\t\t * A render target for the edge weights.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderTargetWeights = this.renderTargetEdges.clone();\r\n\r\n\t\tthis.renderTargetWeights.texture.name = \"SMAA.Weights\";\r\n\t\tthis.renderTargetWeights.texture.format = RGBAFormat;\r\n\r\n\t\tthis.uniforms.get(\"weightMap\").value = this.renderTargetWeights.texture;\r\n\r\n\t\t/**\r\n\t\t * A clear pass for the edges buffer.\r\n\t\t *\r\n\t\t * @type {ClearPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.clearPass = new ClearPass(true, false, false);\r\n\t\tthis.clearPass.overrideClearColor = new Color(0x000000);\r\n\t\tthis.clearPass.overrideClearAlpha = 1.0;\r\n\r\n\t\t/**\r\n\t\t * An edge detection pass.\r\n\t\t *\r\n\t\t * @type {ShaderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.edgeDetectionPass = new ShaderPass(\r\n\t\t\tnew EdgeDetectionMaterial(new Vector2$1(), edgeDetectionMode)\r\n\t\t);\r\n\r\n\t\tif(edgeDetectionMode === EdgeDetectionMode.DEPTH) {\r\n\r\n\t\t\tthis.setAttributes(this.getAttributes() | EffectAttribute.DEPTH);\r\n\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * An SMAA weights pass.\r\n\t\t *\r\n\t\t * @type {ShaderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.weightsPass = new ShaderPass(new SMAAWeightsMaterial());\r\n\r\n\t\tthis.weightsPass.getFullscreenMaterial().uniforms.searchTexture.value = (() => {\r\n\r\n\t\t\tconst searchTexture = new Texture(searchImage);\r\n\t\t\tsearchTexture.name = \"SMAA.Search\";\r\n\t\t\tsearchTexture.magFilter = NearestFilter;\r\n\t\t\tsearchTexture.minFilter = NearestFilter;\r\n\t\t\tsearchTexture.format = RGBAFormat;\r\n\t\t\tsearchTexture.generateMipmaps = false;\r\n\t\t\tsearchTexture.needsUpdate = true;\r\n\t\t\tsearchTexture.flipY = true;\r\n\r\n\t\t\treturn searchTexture;\r\n\r\n\t\t})();\r\n\r\n\t\tthis.weightsPass.getFullscreenMaterial().uniforms.areaTexture.value = (() => {\r\n\r\n\t\t\tconst areaTexture = new Texture(areaImage);\r\n\t\t\tareaTexture.name = \"SMAA.Area\";\r\n\t\t\tareaTexture.minFilter = LinearFilter;\r\n\t\t\tareaTexture.format = RGBAFormat;\r\n\t\t\tareaTexture.generateMipmaps = false;\r\n\t\t\tareaTexture.needsUpdate = true;\r\n\t\t\tareaTexture.flipY = false;\r\n\r\n\t\t\treturn areaTexture;\r\n\r\n\t\t})();\r\n\r\n\t\tthis.applyPreset(preset);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The internal edge detection material.\r\n\t *\r\n\t * @type {EdgeDetectionMaterial}\r\n\t */\r\n\r\n\tget edgeDetectionMaterial() {\r\n\r\n\t\treturn this.edgeDetectionPass.getFullscreenMaterial();\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The internal edge detection material.\r\n\t *\r\n\t * @type {EdgeDetectionMaterial}\r\n\t * @deprecated Use edgeDetectionMaterial instead.\r\n\t */\r\n\r\n\tget colorEdgesMaterial() {\r\n\r\n\t\treturn this.edgeDetectionMaterial;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The internal edge weights material.\r\n\t *\r\n\t * @type {SMAAWeightsMaterial}\r\n\t */\r\n\r\n\tget weightsMaterial() {\r\n\r\n\t\treturn this.weightsPass.getFullscreenMaterial();\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the edge detection sensitivity.\r\n\t *\r\n\t * See {@link EdgeDetectionMaterial#setEdgeDetectionThreshold} for more details.\r\n\t *\r\n\t * @deprecated Use applyPreset or edgeDetectionMaterial instead.\r\n\t * @param {Number} threshold - The edge detection sensitivity. Range: [0.05, 0.5].\r\n\t */\r\n\r\n\tsetEdgeDetectionThreshold(threshold) {\r\n\r\n\t\tthis.edgeDetectionPass.getFullscreenMaterial().setEdgeDetectionThreshold(threshold);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the maximum amount of horizontal/vertical search steps.\r\n\t *\r\n\t * See {@link SMAAWeightsMaterial#setOrthogonalSearchSteps} for more details.\r\n\t *\r\n\t * @deprecated Use applyPreset or weightsMaterial instead.\r\n\t * @param {Number} steps - The search steps. Range: [0, 112].\r\n\t */\r\n\r\n\tsetOrthogonalSearchSteps(steps) {\r\n\r\n\t\tthis.weightsPass.getFullscreenMaterial().setOrthogonalSearchSteps(steps);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Applies the given quality preset.\r\n\t *\r\n\t * @param {SMAAPreset} preset - The preset.\r\n\t */\r\n\r\n\tapplyPreset(preset) {\r\n\r\n\t\tconst edgeDetectionMaterial = this.edgeDetectionMaterial;\r\n\t\tconst weightsMaterial = this.weightsMaterial;\r\n\r\n\t\tswitch(preset) {\r\n\r\n\t\t\tcase SMAAPreset.LOW:\r\n\t\t\t\tedgeDetectionMaterial.setEdgeDetectionThreshold(0.15);\r\n\t\t\t\tweightsMaterial.setOrthogonalSearchSteps(4);\r\n\t\t\t\tweightsMaterial.diagonalDetection = false;\r\n\t\t\t\tweightsMaterial.cornerRounding = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase SMAAPreset.MEDIUM:\r\n\t\t\t\tedgeDetectionMaterial.setEdgeDetectionThreshold(0.1);\r\n\t\t\t\tweightsMaterial.setOrthogonalSearchSteps(8);\r\n\t\t\t\tweightsMaterial.diagonalDetection = false;\r\n\t\t\t\tweightsMaterial.cornerRounding = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase SMAAPreset.HIGH:\r\n\t\t\t\tedgeDetectionMaterial.setEdgeDetectionThreshold(0.1);\r\n\t\t\t\tweightsMaterial.setOrthogonalSearchSteps(16);\r\n\t\t\t\tweightsMaterial.setDiagonalSearchSteps(8);\r\n\t\t\t\tweightsMaterial.setCornerRounding(25);\r\n\t\t\t\tweightsMaterial.diagonalDetection = true;\r\n\t\t\t\tweightsMaterial.cornerRounding = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase SMAAPreset.ULTRA:\r\n\t\t\t\tedgeDetectionMaterial.setEdgeDetectionThreshold(0.05);\r\n\t\t\t\tweightsMaterial.setOrthogonalSearchSteps(32);\r\n\t\t\t\tweightsMaterial.setDiagonalSearchSteps(16);\r\n\t\t\t\tweightsMaterial.setCornerRounding(25);\r\n\t\t\t\tweightsMaterial.diagonalDetection = true;\r\n\t\t\t\tweightsMaterial.cornerRounding = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the depth texture.\r\n\t *\r\n\t * @param {Texture} depthTexture - A depth texture.\r\n\t * @param {Number} [depthPacking=0] - The depth packing.\r\n\t */\r\n\r\n\tsetDepthTexture(depthTexture, depthPacking = 0) {\r\n\r\n\t\tconst material = this.edgeDetectionMaterial;\r\n\t\tmaterial.uniforms.depthBuffer.value = depthTexture;\r\n\t\tmaterial.depthPacking = depthPacking;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates this effect.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t */\r\n\r\n\tupdate(renderer, inputBuffer, deltaTime) {\r\n\r\n\t\tthis.clearPass.render(renderer, this.renderTargetEdges);\r\n\t\tthis.edgeDetectionPass.render(renderer, inputBuffer, this.renderTargetEdges);\r\n\t\tthis.weightsPass.render(renderer, this.renderTargetEdges, this.renderTargetWeights);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the size of internal render targets.\r\n\t *\r\n\t * @param {Number} width - The width.\r\n\t * @param {Number} height - The height.\r\n\t */\r\n\r\n\tsetSize(width, height) {\r\n\r\n\t\tconst edgeDetectionMaterial = this.edgeDetectionPass.getFullscreenMaterial();\r\n\t\tconst weightsMaterial = this.weightsPass.getFullscreenMaterial();\r\n\r\n\t\tthis.renderTargetEdges.setSize(width, height);\r\n\t\tthis.renderTargetWeights.setSize(width, height);\r\n\r\n\t\tweightsMaterial.uniforms.resolution.value.set(width, height);\r\n\t\tweightsMaterial.uniforms.texelSize.value.set(1.0 / width, 1.0 / height);\r\n\t\tedgeDetectionMaterial.uniforms.texelSize.value.copy(weightsMaterial.uniforms.texelSize.value);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Deletes internal render targets and textures.\r\n\t */\r\n\r\n\tdispose() {\r\n\r\n\t\tconst uniforms = this.weightsPass.getFullscreenMaterial().uniforms;\r\n\t\tuniforms.searchTexture.value.dispose();\r\n\t\tuniforms.areaTexture.value.dispose();\r\n\r\n\t\tsuper.dispose();\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The SMAA search image, encoded as a base64 data URL.\r\n\t *\r\n\t * Use this image data to create an Image instance and use it together with\r\n\t * the area image to create an {@link SMAAEffect}.\r\n\t *\r\n\t * @type {String}\r\n\t * @deprecated Use SMAAImageLoader instead.\r\n\t * @example\r\n\t * const searchImage = new Image();\r\n\t * searchImage.addEventListener(\"load\", progress);\r\n\t * searchImage.src = SMAAEffect.searchImageDataURL;\r\n\t */\r\n\r\n\tstatic get searchImageDataURL() {\r\n\r\n\t\treturn searchImageDataURL;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The SMAA area image, encoded as a base64 data URL.\r\n\t *\r\n\t * Use this image data to create an Image instance and use it together with\r\n\t * the search image to create an {@link SMAAEffect}.\r\n\t *\r\n\t * @type {String}\r\n\t * @deprecated Use SMAAImageLoader instead.\r\n\t * @example\r\n\t * const areaImage = new Image();\r\n\t * areaImage.addEventListener(\"load\", progress);\r\n\t * areaImage.src = SMAAEffect.areaImageDataURL;\r\n\t */\r\n\r\n\tstatic get areaImageDataURL() {\r\n\r\n\t\treturn areaImageDataURL;\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * An enumeration of SMAA presets.\r\n *\r\n * @type {Object}\r\n * @property {Number} LOW - Results in around 60% of the maximum quality.\r\n * @property {Number} MEDIUM - Results in around 80% of the maximum quality.\r\n * @property {Number} HIGH - Results in around 95% of the maximum quality.\r\n * @property {Number} ULTRA - Results in around 99% of the maximum quality.\r\n */\r\n\r\nconst SMAAPreset = {\r\n\r\n\tLOW: 0,\r\n\tMEDIUM: 1,\r\n\tHIGH: 2,\r\n\tULTRA: 3\r\n\r\n};\r\n\r\nvar fragmentShader$A = \"uniform sampler2D aoBuffer;uniform float luminanceInfluence;\\n#ifdef DEPTH_AWARE_UPSAMPLING\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D normalDepthBuffer;\\n#else\\nuniform mediump sampler2D normalDepthBuffer;\\n#endif\\n#endif\\n#ifdef COLORIZE\\nuniform vec3 color;\\n#endif\\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){float aoLinear=texture2D(aoBuffer,uv).r;\\n#if defined(DEPTH_AWARE_UPSAMPLING) && __VERSION__ == 300\\nvec4 normalDepth[4]=vec4[](textureOffset(normalDepthBuffer,uv,ivec2(0,0)),textureOffset(normalDepthBuffer,uv,ivec2(0,1)),textureOffset(normalDepthBuffer,uv,ivec2(1,0)),textureOffset(normalDepthBuffer,uv,ivec2(1,1)));float dot01=dot(normalDepth[0].rgb,normalDepth[1].rgb);float dot02=dot(normalDepth[0].rgb,normalDepth[2].rgb);float dot03=dot(normalDepth[0].rgb,normalDepth[3].rgb);float minDot=min(dot01,min(dot02,dot03));float s=step(THRESHOLD,minDot);float smallestDistance=1.0;int index;for(int i=0;i<4;++i){float distance=abs(depth-normalDepth[i].a);if(distance<smallestDistance){smallestDistance=distance;index=i;}}ivec2 offsets[4]=ivec2[](ivec2(0,0),ivec2(0,1),ivec2(1,0),ivec2(1,1));ivec2 coord=ivec2(uv*vec2(textureSize(aoBuffer,0)))+offsets[index];float aoNearest=texelFetch(aoBuffer,coord,0).r;float ao=mix(aoNearest,aoLinear,s);\\n#else\\nfloat ao=aoLinear;\\n#endif\\nfloat l=linearToRelativeLuminance(inputColor.rgb);ao=mix(ao,1.0,l*luminanceInfluence);\\n#ifdef COLORIZE\\noutputColor=vec4(1.0-(1.0-ao)*(1.0-color),inputColor.a);\\n#else\\noutputColor=vec4(vec3(ao),inputColor.a);\\n#endif\\n}\";\r\n\r\n/**\r\n * The size of the generated noise texture.\r\n *\r\n * @type {Number}\r\n * @private\r\n */\r\n\r\nconst NOISE_TEXTURE_SIZE = 64;\r\n\r\n/**\r\n * A Screen Space Ambient Occlusion (SSAO) effect.\r\n *\r\n * For high quality visuals use two SSAO effect instances in a row with\r\n * different radii, one for rough AO and one for fine details.\r\n *\r\n * This effect supports depth-aware upsampling and should be rendered at a lower\r\n * resolution. The resolution should match that of the downsampled normals and\r\n * depth. If you intend to render SSAO at full resolution, do not provide a\r\n * downsampled `normalDepthBuffer` and make sure to disable\r\n * `depthAwareUpsampling`.\r\n *\r\n * It's recommended to specify a relative render resolution using the\r\n * `resolutionScale` constructor parameter to avoid undesired sampling patterns.\r\n *\r\n * Based on \"Scalable Ambient Obscurance\" by Morgan McGuire et al. and\r\n * \"Depth-aware upsampling experiments\" by Eleni Maria Stea:\r\n * https://research.nvidia.com/publication/scalable-ambient-obscurance\r\n * https://eleni.mutantstargoat.com/hikiko/on-depth-aware-upsampling\r\n */\r\n\r\nclass SSAOEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new SSAO effect.\r\n\t *\r\n\t * @todo Move normalBuffer to options.\r\n\t * @param {Camera} camera - The main camera.\r\n\t * @param {Texture} normalBuffer - A texture that contains the scene normals. May be null if a normalDepthBuffer is provided. See {@link NormalPass}.\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.MULTIPLY] - The blend function of this effect.\r\n\t * @param {Boolean} [options.distanceScaling=true] - Enables or disables distance-based radius scaling.\r\n\t * @param {Boolean} [options.depthAwareUpsampling=true] - Enables or disables depth-aware upsampling. Has no effect if WebGL 2 is not supported.\r\n\t * @param {Texture} [options.normalDepthBuffer=null] - A texture that contains downsampled scene normals and depth. See {@link DepthDownsamplingPass}.\r\n\t * @param {Number} [options.samples=9] - The amount of samples per pixel. Should not be a multiple of the ring count.\r\n\t * @param {Number} [options.rings=7] - The amount of spiral turns in the occlusion sampling pattern. Should be a prime number.\r\n\t * @param {Number} [options.distanceThreshold=0.97] - A global distance threshold at which the occlusion effect starts to fade out. Range [0.0, 1.0].\r\n\t * @param {Number} [options.distanceFalloff=0.03] - The distance falloff. Influences the smoothness of the overall occlusion cutoff. Range [0.0, 1.0].\r\n\t * @param {Number} [options.rangeThreshold=0.0005] - A local occlusion range threshold at which the occlusion starts to fade out. Range [0.0, 1.0].\r\n\t * @param {Number} [options.rangeFalloff=0.001] - The occlusion range falloff. Influences the smoothness of the proximity cutoff. Range [0.0, 1.0].\r\n\t * @param {Number} [options.minRadiusScale=0.33] - The minimum radius scale. Has no effect if distance scaling is disabled.\r\n\t * @param {Number} [options.luminanceInfluence=0.7] - Determines how much the luminance of the scene influences the ambient occlusion.\r\n\t * @param {Number} [options.radius=0.1825] - The occlusion sampling radius, expressed as a resolution independent scale. Range [1e-6, 1.0].\r\n\t * @param {Number} [options.intensity=1.0] - The intensity of the ambient occlusion.\r\n\t * @param {Number} [options.bias=0.025] - An occlusion bias. Eliminates artifacts caused by depth discontinuities.\r\n\t * @param {Number} [options.fade=0.01] - Influences the smoothness of the shadows. A lower value results in higher contrast.\r\n\t * @param {Color} [options.color=null] - The color of the ambient occlusion.\r\n\t * @param {Number} [options.resolutionScale=1.0] - The resolution scale.\r\n\t * @param {Number} [options.width=Resizer.AUTO_SIZE] - The render width.\r\n\t * @param {Number} [options.height=Resizer.AUTO_SIZE] - The render height.\r\n\t */\r\n\r\n\tconstructor(camera, normalBuffer, {\r\n\t\tblendFunction = BlendFunction.MULTIPLY,\r\n\t\tdistanceScaling = true,\r\n\t\tdepthAwareUpsampling = true,\r\n\t\tnormalDepthBuffer = null,\r\n\t\tsamples = 9,\r\n\t\trings = 7,\r\n\t\tdistanceThreshold = 0.97,\r\n\t\tdistanceFalloff = 0.03,\r\n\t\trangeThreshold = 0.0005,\r\n\t\trangeFalloff = 0.001,\r\n\t\tminRadiusScale = 0.33,\r\n\t\tluminanceInfluence = 0.7,\r\n\t\tradius = 0.1825,\r\n\t\tintensity = 1.0,\r\n\t\tbias = 0.025,\r\n\t\tfade = 0.01,\r\n\t\tcolor = null,\r\n\t\tresolutionScale = 1.0,\r\n\t\twidth = Resizer.AUTO_SIZE,\r\n\t\theight = Resizer.AUTO_SIZE\r\n\t} = {}) {\r\n\r\n\t\tsuper(\"SSAOEffect\", fragmentShader$A, {\r\n\r\n\t\t\tblendFunction,\r\n\t\t\tattributes: EffectAttribute.DEPTH,\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"aoBuffer\", new Uniform(null)],\r\n\t\t\t\t[\"normalDepthBuffer\", new Uniform(null)],\r\n\t\t\t\t[\"luminanceInfluence\", new Uniform(luminanceInfluence)],\r\n\t\t\t\t[\"color\", new Uniform(null)],\r\n\t\t\t\t[\"scale\", new Uniform(0.0)] // Unused.\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * A render target for the ambient occlusion shadows.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderTargetAO = new WebGLRenderTarget(1, 1, {\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tmagFilter: LinearFilter,\r\n\t\t\tstencilBuffer: false,\r\n\t\t\tdepthBuffer: false,\r\n\t\t\tformat: RGBFormat\r\n\t\t});\r\n\r\n\t\tthis.renderTargetAO.texture.name = \"AO.Target\";\r\n\t\tthis.renderTargetAO.texture.generateMipmaps = false;\r\n\r\n\t\tthis.uniforms.get(\"aoBuffer\").value = this.renderTargetAO.texture;\r\n\r\n\t\t/**\r\n\t\t * The resolution of this effect.\r\n\t\t *\r\n\t\t * @type {Resizer}\r\n\t\t */\r\n\r\n\t\tthis.resolution = new Resizer(this, width, height, resolutionScale);\r\n\r\n\t\t/**\r\n\t\t * The current radius relative to the render height.\r\n\t\t *\r\n\t\t * @type {Camera}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.r = 1.0;\r\n\r\n\t\t/**\r\n\t\t * The main camera.\r\n\t\t *\r\n\t\t * @type {Camera}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.camera = camera;\r\n\r\n\t\t/**\r\n\t\t * An SSAO pass.\r\n\t\t *\r\n\t\t * @type {ShaderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.ssaoPass = new ShaderPass((() => {\r\n\r\n\t\t\tconst noiseTexture = new NoiseTexture(NOISE_TEXTURE_SIZE, NOISE_TEXTURE_SIZE);\r\n\t\t\tnoiseTexture.wrapS = noiseTexture.wrapT = RepeatWrapping;\r\n\r\n\t\t\tconst material = new SSAOMaterial(camera);\r\n\t\t\tmaterial.uniforms.noiseTexture.value = noiseTexture;\r\n\t\t\tmaterial.uniforms.intensity.value = intensity;\r\n\t\t\tmaterial.uniforms.minRadiusScale.value = minRadiusScale;\r\n\t\t\tmaterial.uniforms.fade.value = fade;\r\n\t\t\tmaterial.uniforms.bias.value = bias;\r\n\r\n\t\t\tif(normalDepthBuffer !== null) {\r\n\r\n\t\t\t\tmaterial.uniforms.normalDepthBuffer.value = normalDepthBuffer;\r\n\t\t\t\tmaterial.defines.NORMAL_DEPTH = \"1\";\r\n\r\n\t\t\t\tif(depthAwareUpsampling) {\r\n\r\n\t\t\t\t\tthis.depthAwareUpsampling = depthAwareUpsampling;\r\n\t\t\t\t\tthis.uniforms.get(\"normalDepthBuffer\").value = normalDepthBuffer;\r\n\t\t\t\t\tthis.defines.set(\"THRESHOLD\", \"0.997\");\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tmaterial.uniforms.normalBuffer.value = normalBuffer;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn material;\r\n\r\n\t\t})());\r\n\r\n\t\tthis.distanceScaling = distanceScaling;\r\n\t\tthis.samples = samples;\r\n\t\tthis.rings = rings;\r\n\t\tthis.color = color;\r\n\r\n\t\t// @todo Special case treatment added for backwards-compatibility.\r\n\t\tthis.radius = (radius > 1.0) ? (radius / 100.0) : radius;\r\n\r\n\t\tthis.setDistanceCutoff(distanceThreshold, distanceFalloff);\r\n\t\tthis.setProximityCutoff(rangeThreshold, rangeFalloff);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The SSAO material.\r\n\t *\r\n\t * @type {SSAOMaterial}\r\n\t */\r\n\r\n\tget ssaoMaterial() {\r\n\r\n\t\treturn this.ssaoPass.getFullscreenMaterial();\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The amount of occlusion samples per pixel.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget samples() {\r\n\r\n\t\treturn Number(this.ssaoMaterial.defines.SAMPLES_INT);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the amount of occlusion samples per pixel.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset samples(value) {\r\n\r\n\t\tconst material = this.ssaoMaterial;\r\n\t\tmaterial.defines.SAMPLES_INT = value.toFixed(0);\r\n\t\tmaterial.defines.SAMPLES_FLOAT = value.toFixed(1);\r\n\t\tmaterial.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The amount of spiral turns in the occlusion sampling pattern.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget rings() {\r\n\r\n\t\treturn Number(this.ssaoMaterial.defines.SPIRAL_TURNS);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the amount of spiral turns in the occlusion sampling pattern.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset rings(value) {\r\n\r\n\t\tconst material = this.ssaoMaterial;\r\n\t\tmaterial.defines.SPIRAL_TURNS = value.toFixed(1);\r\n\t\tmaterial.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The occlusion sampling radius.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget radius() {\r\n\r\n\t\treturn this.r;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the occlusion sampling radius. Range [1e-6, 1.0].\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset radius(value) {\r\n\r\n\t\tthis.r = Math.min(Math.max(value, 1e-6), 1.0);\r\n\r\n\t\tconst radius = this.r * this.resolution.height;\r\n\t\tconst material = this.ssaoMaterial;\r\n\t\tmaterial.defines.RADIUS = radius.toFixed(11);\r\n\t\tmaterial.defines.RADIUS_SQ = (radius * radius).toFixed(11);\r\n\t\tmaterial.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether depth-aware upsampling is enabled.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget depthAwareUpsampling() {\r\n\r\n\t\treturn this.defines.has(\"DEPTH_AWARE_UPSAMPLING\");\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables depth-aware upsampling.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset depthAwareUpsampling(value) {\r\n\r\n\t\tif(this.depthAwareUpsampling !== value) {\r\n\r\n\t\t\tif(value) {\r\n\r\n\t\t\t\tthis.defines.set(\"DEPTH_AWARE_UPSAMPLING\", \"1\");\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.defines.delete(\"DEPTH_AWARE_UPSAMPLING\");\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.setChanged();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether distance-based radius scaling is enabled.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget distanceScaling() {\r\n\r\n\t\treturn (this.ssaoMaterial.defines.DISTANCE_SCALING !== undefined);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables distance-based radius scaling.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset distanceScaling(value) {\r\n\r\n\t\tif(this.distanceScaling !== value) {\r\n\r\n\t\t\tconst material = this.ssaoMaterial;\r\n\r\n\t\t\tif(value) {\r\n\r\n\t\t\t\tmaterial.defines.DISTANCE_SCALING = \"1\";\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tdelete material.defines.DISTANCE_SCALING;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterial.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The color of the ambient occlusion.\r\n\t *\r\n\t * @type {Color}\r\n\t */\r\n\r\n\tget color() {\r\n\r\n\t\treturn this.uniforms.get(\"color\").value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the color of the ambient occlusion.\r\n\t *\r\n\t * Set to `null` to disable colorization.\r\n\t *\r\n\t * @type {Color}\r\n\t */\r\n\r\n\tset color(value) {\r\n\r\n\t\tconst uniforms = this.uniforms;\r\n\t\tconst defines = this.defines;\r\n\r\n\t\tif(value !== null) {\r\n\r\n\t\t\tif(defines.has(\"COLORIZE\")) {\r\n\r\n\t\t\t\tuniforms.get(\"color\").value.set(value);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tdefines.set(\"COLORIZE\", \"1\");\r\n\t\t\t\tuniforms.get(\"color\").value = new Color(value);\r\n\t\t\t\tthis.setChanged();\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if(defines.has(\"COLORIZE\")) {\r\n\r\n\t\t\tdefines.delete(\"COLORIZE\");\r\n\t\t\tuniforms.get(\"color\").value = null;\r\n\t\t\tthis.setChanged();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the occlusion distance cutoff.\r\n\t *\r\n\t * @param {Number} threshold - The distance threshold. Range [0.0, 1.0].\r\n\t * @param {Number} falloff - The falloff. Range [0.0, 1.0].\r\n\t */\r\n\r\n\tsetDistanceCutoff(threshold, falloff) {\r\n\r\n\t\tthis.ssaoMaterial.uniforms.distanceCutoff.value.set(\r\n\t\t\tMath.min(Math.max(threshold, 0.0), 1.0),\r\n\t\t\tMath.min(Math.max(threshold + falloff, 0.0), 1.0)\r\n\t\t);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the occlusion proximity cutoff.\r\n\t *\r\n\t * @param {Number} threshold - The range threshold. Range [0.0, 1.0].\r\n\t * @param {Number} falloff - The falloff. Range [0.0, 1.0].\r\n\t */\r\n\r\n\tsetProximityCutoff(threshold, falloff) {\r\n\r\n\t\tthis.ssaoMaterial.uniforms.proximityCutoff.value.set(\r\n\t\t\tMath.min(Math.max(threshold, 0.0), 1.0),\r\n\t\t\tMath.min(Math.max(threshold + falloff, 0.0), 1.0)\r\n\t\t);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the depth texture.\r\n\t *\r\n\t * @param {Texture} depthTexture - A depth texture.\r\n\t * @param {Number} [depthPacking=0] - The depth packing.\r\n\t */\r\n\r\n\tsetDepthTexture(depthTexture, depthPacking = 0) {\r\n\r\n\t\tconst material = this.ssaoMaterial;\r\n\r\n\t\tif(material.defines.NORMAL_DEPTH === undefined) {\r\n\r\n\t\t\tmaterial.uniforms.normalDepthBuffer.value = depthTexture;\r\n\t\t\tmaterial.depthPacking = depthPacking;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates this effect.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t */\r\n\r\n\tupdate(renderer, inputBuffer, deltaTime) {\r\n\r\n\t\tthis.ssaoPass.render(renderer, null, this.renderTargetAO);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the camera projection matrix uniforms and the size of internal\r\n\t * render targets.\r\n\t *\r\n\t * @param {Number} width - The width.\r\n\t * @param {Number} height - The height.\r\n\t */\r\n\r\n\tsetSize(width, height) {\r\n\r\n\t\tconst resolution = this.resolution;\r\n\t\tresolution.base.set(width, height);\r\n\r\n\t\tconst w = resolution.width;\r\n\t\tconst h = resolution.height;\r\n\r\n\t\tthis.renderTargetAO.setSize(w, h);\r\n\t\tthis.ssaoMaterial.setTexelSize(1.0 / w, 1.0 / h);\r\n\r\n\t\tconst camera = this.camera;\r\n\t\tconst uniforms = this.ssaoMaterial.uniforms;\r\n\t\tuniforms.noiseScale.value.set(w, h).divideScalar(NOISE_TEXTURE_SIZE);\r\n\t\tuniforms.inverseProjectionMatrix.value.getInverse(camera.projectionMatrix);\r\n\t\tuniforms.projectionMatrix.value.copy(camera.projectionMatrix);\r\n\r\n\t\t// Update the absolute radius.\r\n\t\tthis.radius = this.r;\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$B = \"uniform sampler2D texture;\\n#if defined(ASPECT_CORRECTION) || defined(UV_TRANSFORM)\\nvarying vec2 vUv2;\\n#endif\\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){\\n#if defined(ASPECT_CORRECTION) || defined(UV_TRANSFORM)\\nvec4 texel=texelToLinear(texture2D(texture,vUv2));\\n#else\\nvec4 texel=texelToLinear(texture2D(texture,uv));\\n#endif\\noutputColor=TEXEL;}\";\r\n\r\nvar vertexShader$c = \"#ifdef ASPECT_CORRECTION\\nuniform float scale;\\n#else\\nuniform mat3 uvTransform;\\n#endif\\nvarying vec2 vUv2;void mainSupport(const in vec2 uv){\\n#ifdef ASPECT_CORRECTION\\nvUv2=uv*vec2(aspect,1.0)*scale;\\n#else\\nvUv2=(uvTransform*vec3(uv,1.0)).xy;\\n#endif\\n}\";\r\n\r\n/**\r\n * A texture effect.\r\n */\r\n\r\nclass TextureEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new texture effect.\r\n\t *\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.NORMAL] - The blend function of this effect.\r\n\t * @param {Texture} [options.texture] - A texture.\r\n\t * @param {Boolean} [options.aspectCorrection=false] - Deprecated. Enable uvTransform instead and adjust the texture's offset, repeat and center.\r\n\t */\r\n\r\n\tconstructor({ blendFunction = BlendFunction.NORMAL, texture = null, aspectCorrection = false } = {}) {\r\n\r\n\t\tsuper(\"TextureEffect\", fragmentShader$B, {\r\n\r\n\t\t\tblendFunction,\r\n\r\n\t\t\tdefines: new Map([\r\n\t\t\t\t[\"TEXEL\", \"texel\"]\r\n\t\t\t]),\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"texture\", new Uniform(null)],\r\n\t\t\t\t[\"scale\", new Uniform(1.0)],\r\n\t\t\t\t[\"uvTransform\", new Uniform(null)]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t\tthis.texture = texture;\r\n\t\tthis.aspectCorrection = aspectCorrection;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The texture.\r\n\t *\r\n\t * @type {Texture}\r\n\t */\r\n\r\n\tget texture() {\r\n\r\n\t\treturn this.uniforms.get(\"texture\").value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the texture.\r\n\t *\r\n\t * @type {Texture}\r\n\t */\r\n\r\n\tset texture(value) {\r\n\r\n\t\tconst currentTexture = this.texture;\r\n\r\n\t\tif(currentTexture !== value) {\r\n\r\n\t\t\tconst previousEncoding = (currentTexture !== null) ? currentTexture.encoding : null;\r\n\t\t\tthis.uniforms.get(\"texture\").value = value;\r\n\r\n\t\t\tif(value !== null) {\r\n\r\n\t\t\t\tif(value.encoding === sRGBEncoding) {\r\n\r\n\t\t\t\t\tthis.defines.set(\"texelToLinear(texel)\", \"sRGBToLinear(texel)\");\r\n\r\n\t\t\t\t} else if(value.encoding === LinearEncoding) {\r\n\r\n\t\t\t\t\tthis.defines.set(\"texelToLinear(texel)\", \"texel\");\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.log(\"Unsupported encoding: \" + value.encoding);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(previousEncoding !== value.encoding) {\r\n\r\n\t\t\t\t\tthis.setChanged();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether aspect correction is enabled.\r\n\t *\r\n\t * If enabled, the texture can be scaled using the `scale` uniform.\r\n\t *\r\n\t * @type {Number}\r\n\t * @deprecated Use uvTransform instead for full control over the texture coordinates.\r\n\t */\r\n\r\n\tget aspectCorrection() {\r\n\r\n\t\treturn this.defines.has(\"ASPECT_CORRECTION\");\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables aspect correction.\r\n\t *\r\n\t * @type {Number}\r\n\t * @deprecated Use uvTransform instead for full control over the texture coordinates.\r\n\t */\r\n\r\n\tset aspectCorrection(value) {\r\n\r\n\t\tif(this.aspectCorrection !== value) {\r\n\r\n\t\t\tif(value) {\r\n\r\n\t\t\t\tif(this.uvTransform) {\r\n\r\n\t\t\t\t\tthis.uvTransform = false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.defines.set(\"ASPECT_CORRECTION\", \"1\");\r\n\t\t\t\tthis.setVertexShader(vertexShader$c);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.defines.delete(\"ASPECT_CORRECTION\");\r\n\t\t\t\tthis.setVertexShader(null);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.setChanged();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether the texture UV coordinates will be transformed using the\r\n\t * transformation matrix of the texture.\r\n\t *\r\n\t * Cannot be used if aspect correction is enabled.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget uvTransform() {\r\n\r\n\t\treturn this.defines.has(\"UV_TRANSFORM\");\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables texture UV transformation.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset uvTransform(value) {\r\n\r\n\t\tif(this.uvTransform !== value) {\r\n\r\n\t\t\tif(value) {\r\n\r\n\t\t\t\tif(this.aspectCorrection) {\r\n\r\n\t\t\t\t\tthis.aspectCorrection = false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.defines.set(\"UV_TRANSFORM\", \"1\");\r\n\t\t\t\tthis.uniforms.get(\"uvTransform\").value = new Matrix3();\r\n\t\t\t\tthis.setVertexShader(vertexShader$c);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.defines.delete(\"UV_TRANSFORM\");\r\n\t\t\t\tthis.uniforms.get(\"uvTransform\").value = null;\r\n\t\t\t\tthis.setVertexShader(null);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.setChanged();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the swizzles that will be applied to the `r`, `g`, `b`, and `a`\r\n\t * components of a texel before it is written to the output color.\r\n\t *\r\n\t * @param {ColorChannel} r - The swizzle for the `r` component.\r\n\t * @param {ColorChannel} [g=r] - The swizzle for the `g` component.\r\n\t * @param {ColorChannel} [b=r] - The swizzle for the `b` component.\r\n\t * @param {ColorChannel} [a=r] - The swizzle for the `a` component.\r\n\t */\r\n\r\n\tsetTextureSwizzleRGBA(r, g = r, b = r, a = r) {\r\n\r\n\t\tconst rgba = \"rgba\";\r\n\t\tlet swizzle = \"\";\r\n\r\n\t\tif(r !== ColorChannel.RED || g !== ColorChannel.GREEN ||\r\n\t\t\tb !== ColorChannel.BLUE || a !== ColorChannel.ALPHA) {\r\n\r\n\t\t\tswizzle = [\".\", rgba[r], rgba[g], rgba[b], rgba[a]].join(\"\");\r\n\r\n\t\t}\r\n\r\n\t\tthis.defines.set(\"TEXEL\", \"texel\" + swizzle);\r\n\t\tthis.setChanged();\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates this effect.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t */\r\n\r\n\tupdate(renderer, inputBuffer, deltaTime) {\r\n\r\n\t\tconst texture = this.uniforms.get(\"texture\").value;\r\n\r\n\t\tif(this.uvTransform && texture.matrixAutoUpdate) {\r\n\r\n\t\t\ttexture.updateMatrix();\r\n\t\t\tthis.uniforms.get(\"uvTransform\").value.copy(texture.matrix);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$C = \"uniform sampler2D luminanceMap;uniform float middleGrey;uniform float maxLuminance;uniform float averageLuminance;vec3 toneMap(vec3 c){\\n#ifdef ADAPTED_LUMINANCE\\nfloat lumAvg=texture2D(luminanceMap,vec2(0.5)).r;\\n#else\\nfloat lumAvg=averageLuminance;\\n#endif\\nfloat lumPixel=linearToRelativeLuminance(c);float lumScaled=(lumPixel*middleGrey)/lumAvg;float lumCompressed=(lumScaled*(1.0+(lumScaled/(maxLuminance*maxLuminance))))/(1.0+lumScaled);return lumCompressed*c;}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(toneMap(inputColor.rgb),inputColor.a);}\";\r\n\r\n/**\r\n * A tone mapping effect that supports adaptive luminosity.\r\n *\r\n * If adaptivity is enabled, this effect generates a texture that represents the\r\n * luminosity of the current scene and adjusts it over time to simulate the\r\n * optic nerve responding to the amount of light it is receiving.\r\n *\r\n * Reference:\r\n *  GDC2007 - Wolfgang Engel, Post-Processing Pipeline\r\n *  http://perso.univ-lyon1.fr/jean-claude.iehl/Public/educ/GAMA/2007/gdc07/Post-Processing_Pipeline.pdf\r\n */\r\n\r\nclass ToneMappingEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new tone mapping effect.\r\n\t *\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.NORMAL] - The blend function of this effect.\r\n\t * @param {Boolean} [options.adaptive=true] - Whether the tone mapping should use an adaptive luminance map.\r\n\t * @param {Number} [options.resolution=256] - The render texture resolution of the luminance map.\r\n\t * @param {Number} [options.middleGrey=0.6] - The middle grey factor.\r\n\t * @param {Number} [options.maxLuminance=16.0] - The maximum luminance.\r\n\t * @param {Number} [options.averageLuminance=1.0] - The average luminance.\r\n\t * @param {Number} [options.adaptationRate=1.0] - The luminance adaptation rate.\r\n\t */\r\n\r\n\tconstructor({\r\n\t\tblendFunction = BlendFunction.NORMAL,\r\n\t\tadaptive = true,\r\n\t\tresolution = 256,\r\n\t\tmiddleGrey = 0.6,\r\n\t\tmaxLuminance = 16.0,\r\n\t\taverageLuminance = 1.0,\r\n\t\tadaptationRate = 2.0\r\n\t} = {}) {\r\n\r\n\t\tsuper(\"ToneMappingEffect\", fragmentShader$C, {\r\n\r\n\t\t\tblendFunction,\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"luminanceMap\", new Uniform(null)],\r\n\t\t\t\t[\"middleGrey\", new Uniform(middleGrey)],\r\n\t\t\t\t[\"maxLuminance\", new Uniform(maxLuminance)],\r\n\t\t\t\t[\"averageLuminance\", new Uniform(averageLuminance)]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * The render target for the current luminance.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t * @todo Remove LinearMipMapLinearFilter in next major release.\r\n\t\t */\r\n\r\n\t\tthis.renderTargetLuminance = new WebGLRenderTarget(1, 1, {\r\n\t\t\tminFilter: (LinearMipmapLinearFilter !== undefined) ? LinearMipmapLinearFilter : LinearMipMapLinearFilter,\r\n\t\t\tmagFilter: LinearFilter,\r\n\t\t\tstencilBuffer: false,\r\n\t\t\tdepthBuffer: false,\r\n\t\t\tformat: RGBFormat\r\n\t\t});\r\n\r\n\t\tthis.renderTargetLuminance.texture.name = \"ToneMapping.Luminance\";\r\n\t\tthis.renderTargetLuminance.texture.generateMipmaps = true;\r\n\r\n\t\t/**\r\n\t\t * The render target for adapted luminance.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderTargetAdapted = this.renderTargetLuminance.clone();\r\n\t\tthis.renderTargetAdapted.texture.name = \"ToneMapping.AdaptedLuminance\";\r\n\t\tthis.renderTargetAdapted.texture.generateMipmaps = false;\r\n\t\tthis.renderTargetAdapted.texture.minFilter = LinearFilter;\r\n\r\n\t\t/**\r\n\t\t * A render target that holds a copy of the adapted luminance.\r\n\t\t *\r\n\t\t * @type {WebGLRenderTarget}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.renderTargetPrevious = this.renderTargetAdapted.clone();\r\n\t\tthis.renderTargetPrevious.texture.name = \"ToneMapping.PreviousLuminance\";\r\n\r\n\t\t/**\r\n\t\t * A save pass.\r\n\t\t *\r\n\t\t * @type {SavePass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.savePass = new SavePass(this.renderTargetPrevious, false);\r\n\r\n\t\t/**\r\n\t\t * A luminance shader pass.\r\n\t\t *\r\n\t\t * @type {ShaderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.luminancePass = new ShaderPass(new LuminanceMaterial());\r\n\r\n\t\tconst luminanceMaterial = this.luminancePass.getFullscreenMaterial();\r\n\t\tluminanceMaterial.useThreshold = false;\r\n\r\n\t\t/**\r\n\t\t * An adaptive luminance shader pass.\r\n\t\t *\r\n\t\t * @type {ShaderPass}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.adaptiveLuminancePass = new ShaderPass(new AdaptiveLuminanceMaterial());\r\n\r\n\t\tconst uniforms = this.adaptiveLuminancePass.getFullscreenMaterial().uniforms;\r\n\t\tuniforms.previousLuminanceBuffer.value = this.renderTargetPrevious.texture;\r\n\t\tuniforms.currentLuminanceBuffer.value = this.renderTargetLuminance.texture;\r\n\r\n\t\tthis.adaptationRate = adaptationRate;\r\n\t\tthis.resolution = resolution;\r\n\t\tthis.adaptive = adaptive;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The resolution of the render targets.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget resolution() {\r\n\r\n\t\treturn this.renderTargetLuminance.width;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the resolution of the internal render targets.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset resolution(value) {\r\n\r\n\t\t// Round the given value to the next power of two.\r\n\t\tconst exponent = Math.max(0, Math.ceil(Math.log2(value)));\r\n\t\tconst size = Math.pow(2, exponent);\r\n\r\n\t\tthis.renderTargetLuminance.setSize(size, size);\r\n\t\tthis.renderTargetPrevious.setSize(size, size);\r\n\t\tthis.renderTargetAdapted.setSize(size, size);\r\n\r\n\t\tconst material = this.adaptiveLuminancePass.getFullscreenMaterial();\r\n\t\tmaterial.defines.MIP_LEVEL_1X1 = exponent.toFixed(1);\r\n\t\tmaterial.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether this pass uses adaptive luminance.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget adaptive() {\r\n\r\n\t\treturn this.defines.has(\"ADAPTED_LUMINANCE\");\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables adaptive luminance.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset adaptive(value) {\r\n\r\n\t\tif(this.adaptive !== value) {\r\n\r\n\t\t\tif(value) {\r\n\r\n\t\t\t\tthis.defines.set(\"ADAPTED_LUMINANCE\", \"1\");\r\n\t\t\t\tthis.uniforms.get(\"luminanceMap\").value = this.renderTargetAdapted.texture;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.defines.delete(\"ADAPTED_LUMINANCE\");\r\n\t\t\t\tthis.uniforms.get(\"luminanceMap\").value = null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.setChanged();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * The luminance adaptation rate.\r\n\t *\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tget adaptationRate() {\r\n\r\n\t\treturn this.adaptiveLuminancePass.getFullscreenMaterial().uniforms.tau.value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @type {Number}\r\n\t */\r\n\r\n\tset adaptationRate(value) {\r\n\r\n\t\tthis.adaptiveLuminancePass.getFullscreenMaterial().uniforms.tau.value = value;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @type {Number}\r\n\t * @deprecated\r\n\t */\r\n\r\n\tget distinction() {\r\n\r\n\t\tconsole.warn(this.name, \"The distinction field has been removed.\");\r\n\r\n\t\treturn 1.0;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @type {Number}\r\n\t * @deprecated\r\n\t */\r\n\r\n\tset distinction(value) {\r\n\r\n\t\tconsole.warn(this.name, \"The distinction field has been removed.\");\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates this effect.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\r\n\t * @param {Number} [deltaTime] - The time between the last frame and the current one in seconds.\r\n\t */\r\n\r\n\tupdate(renderer, inputBuffer, deltaTime) {\r\n\r\n\t\tif(this.adaptive) {\r\n\r\n\t\t\t// Render the luminance of the current scene into a mipmap render target.\r\n\t\t\tthis.luminancePass.render(renderer, inputBuffer, this.renderTargetLuminance);\r\n\r\n\t\t\t// Use the frame delta to adapt the luminance over time.\r\n\t\t\tconst uniforms = this.adaptiveLuminancePass.getFullscreenMaterial().uniforms;\r\n\t\t\tuniforms.deltaTime.value = deltaTime;\r\n\t\t\tthis.adaptiveLuminancePass.render(renderer, null, this.renderTargetAdapted);\r\n\r\n\t\t\t// Save the adapted luminance for the next frame.\r\n\t\t\tthis.savePass.render(renderer, this.renderTargetAdapted);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the size of internal render targets.\r\n\t *\r\n\t * @param {Number} width - The width.\r\n\t * @param {Number} height - The height.\r\n\t */\r\n\r\n\tsetSize(width, height) {\r\n\r\n\t\tthis.savePass.setSize(width, height);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Performs initialization tasks.\r\n\t *\r\n\t * @param {WebGLRenderer} renderer - The renderer.\r\n\t * @param {Boolean} alpha - Whether the renderer uses the alpha channel or not.\r\n\t * @param {Number} frameBufferType - The type of the main frame buffers.\r\n\t */\r\n\r\n\tinitialize(renderer, alpha, frameBufferType) {\r\n\r\n\t\tconst clearPass = new ClearPass(true, false, false);\r\n\t\tclearPass.overrideClearColor = new Color(0x7fffff);\r\n\t\tclearPass.render(renderer, this.renderTargetPrevious);\r\n\t\tclearPass.dispose();\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar fragmentShader$D = \"uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;\\n#ifdef ESKIL\\nvec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));\\n#else\\nfloat d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));\\n#endif\\noutputColor=vec4(color,inputColor.a);}\";\r\n\r\n/**\r\n * A vignette effect.\r\n */\r\n\r\nclass VignetteEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new vignette effect.\r\n\t *\r\n\t * @param {Object} [options] - The options.\r\n\t * @param {BlendFunction} [options.blendFunction=BlendFunction.NORMAL] - The blend function of this effect.\r\n\t * @param {Boolean} [options.eskil=false] - Enables Eskil's vignette technique.\r\n\t * @param {Number} [options.offset=0.5] - The vignette offset.\r\n\t * @param {Number} [options.darkness=0.5] - The vignette darkness.\r\n\t */\r\n\r\n\tconstructor(options = {}) {\r\n\r\n\t\tconst settings = Object.assign({\r\n\t\t\tblendFunction: BlendFunction.NORMAL,\r\n\t\t\teskil: false,\r\n\t\t\toffset: 0.5,\r\n\t\t\tdarkness: 0.5\r\n\t\t}, options);\r\n\r\n\t\tsuper(\"VignetteEffect\", fragmentShader$D, {\r\n\r\n\t\t\tblendFunction: settings.blendFunction,\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"offset\", new Uniform(settings.offset)],\r\n\t\t\t\t[\"darkness\", new Uniform(settings.darkness)]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t\tthis.eskil = settings.eskil;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether Eskil's vignette technique is enabled.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tget eskil() {\r\n\r\n\t\treturn this.defines.has(\"ESKIL\");\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Enables or disables Eskil's vignette technique.\r\n\t *\r\n\t * @type {Boolean}\r\n\t */\r\n\r\n\tset eskil(value) {\r\n\r\n\t\tif(this.eskil !== value) {\r\n\r\n\t\t\tif(value) {\r\n\r\n\t\t\t\tthis.defines.set(\"ESKIL\", \"1\");\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.defines.delete(\"ESKIL\");\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.setChanged();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Creates a new canvas from raw image data.\r\n *\r\n * @private\r\n * @param {Number} width - The image width.\r\n * @param {Number} height - The image height.\r\n * @param {Uint8ClampedArray} data - The image data.\r\n * @return {Canvas} The canvas.\r\n */\r\n\r\nfunction createCanvas(width, height, data) {\r\n\r\n\tconst canvas = document.createElementNS(\"http://www.w3.org/1999/xhtml\", \"canvas\");\r\n\tconst context = canvas.getContext(\"2d\");\r\n\r\n\tconst imageData = context.createImageData(width, height);\r\n\timageData.data.set(data);\r\n\r\n\tcanvas.width = width;\r\n\tcanvas.height = height;\r\n\r\n\tcontext.putImageData(imageData, 0, 0);\r\n\r\n\treturn canvas;\r\n\r\n}\r\n\r\n/**\r\n * A container for raw image data.\r\n */\r\n\r\nclass RawImageData {\r\n\r\n\t/**\r\n\t * Constructs a new image data container.\r\n\t *\r\n\t * @param {Number} [width=0] - The width of the image.\r\n\t * @param {Number} [height=0] - The height of the image.\r\n\t * @param {Uint8ClampedArray} [data=null] - The image data.\r\n\t */\r\n\r\n\tconstructor(width = 0, height = 0, data = null) {\r\n\r\n\t\t/**\r\n\t\t * The width of the image.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t */\r\n\r\n\t\tthis.width = width;\r\n\r\n\t\t/**\r\n\t\t * The height of the image.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t */\r\n\r\n\t\tthis.height = height;\r\n\r\n\t\t/**\r\n\t\t * The image data.\r\n\t\t *\r\n\t\t * @type {Uint8ClampedArray}\r\n\t\t */\r\n\r\n\t\tthis.data = data;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Creates a canvas from this image data.\r\n\t *\r\n\t * @return {Canvas} The canvas or null if it couldn't be created.\r\n\t */\r\n\r\n\ttoCanvas() {\r\n\r\n\t\treturn (typeof document === \"undefined\") ? null : createCanvas(\r\n\t\t\tthis.width,\r\n\t\t\tthis.height,\r\n\t\t\tthis.data\r\n\t\t);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Creates a new image data container.\r\n\t *\r\n\t * @param {Object} data - Raw image data.\r\n\t * @return {RawImageData} The image data.\r\n\t */\r\n\r\n\tstatic from(data) {\r\n\r\n\t\treturn new RawImageData(data.width, data.height, data.data);\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar workerProgram = \"!function(){\\\"use strict\\\";function e(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function t(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\\\"value\\\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}var n=function(){function t(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e(this,t),this.width=a,this.height=n,this.data=s}return a(t,[{key:\\\"toCanvas\\\",value:function(){return\\\"undefined\\\"==typeof document?null:(e=this.width,t=this.height,a=this.data,n=document.createElementNS(\\\"http://www.w3.org/1999/xhtml\\\",\\\"canvas\\\"),s=n.getContext(\\\"2d\\\"),(r=s.createImageData(e,t)).data.set(a),n.width=e,n.height=t,s.putImageData(r,0,0),n);var e,t,a,n,s,r}}],[{key:\\\"from\\\",value:function(e){return new t(e.width,e.height,e.data)}}]),t}(),s=function(){function t(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e(this,t),this.x=a,this.y=n}return a(t,[{key:\\\"set\\\",value:function(e,t){return this.x=e,this.y=t,this}},{key:\\\"equals\\\",value:function(e){return this===e||this.x===e.x&&this.y===e.y}}]),t}(),r=function t(){e(this,t),this.min=new s,this.max=new s},i=new r,y=new r,c=16,u=30,h=new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),o=[new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125])],w=[new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4])],x=[new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3])];function f(e,t,a){return e+(t-e)*a}function l(e,t){var a,n=t.min,s=t.max,r=.5*Math.sqrt(2*n.x),i=.5*Math.sqrt(2*n.y),y=.5*Math.sqrt(2*s.x),c=.5*Math.sqrt(2*s.y),u=(a=e/32,Math.min(Math.max(a,0),1));return n.set(f(r,n.x,u),f(i,n.y,u)),s.set(f(y,s.x,u),f(c,s.y,u)),t}function b(e,t,a,n){var s,r,i,y,c=t.x-e.x,u=t.y-e.y,h=a,o=a+1,w=e.y+u*(h-e.x)/c,x=e.y+u*(o-e.x)/c;return h>=e.x&&h<t.x||o>e.x&&o<=t.x?Math.sign(w)===Math.sign(x)||Math.abs(w)<1e-4||Math.abs(x)<1e-4?(s=(w+x)/2)<0?n.set(Math.abs(s),0):n.set(0,Math.abs(s)):(r=(y=-e.y*c/u+e.x)>e.x?w*(y-Math.trunc(y))/2:0,i=y<t.x?x*(1-(y-Math.trunc(y)))/2:0,(s=Math.abs(r)>Math.abs(i)?r:-i)<0?n.set(Math.abs(r),Math.abs(i)):n.set(Math.abs(i),Math.abs(r))):n.set(0,0),n}function A(e,t,a,n,s){var r=i.min,c=i.max,u=y.min,h=y.max,o=y,w=.5+n,x=.5+n-1,f=t+a+1;switch(e){case 0:s.set(0,0);break;case 1:t<=a?b(r.set(0,x),c.set(f/2,0),t,s):s.set(0,0);break;case 2:t>=a?b(r.set(f/2,0),c.set(f,x),t,s):s.set(0,0);break;case 3:b(r.set(0,x),c.set(f/2,0),t,u),b(r.set(f/2,0),c.set(f,x),t,h),l(f,o),s.set(u.x+h.x,u.y+h.y);break;case 4:t<=a?b(r.set(0,w),c.set(f/2,0),t,s):s.set(0,0);break;case 5:s.set(0,0);break;case 6:Math.abs(n)>0?(b(r.set(0,w),c.set(f,x),t,u),b(r.set(0,w),c.set(f/2,0),t,h),b(r.set(f/2,0),c.set(f,x),t,s),h.set(h.x+s.x,h.y+s.y),s.set((u.x+h.x)/2,(u.y+h.y)/2)):b(r.set(0,w),c.set(f,x),t,s);break;case 7:b(r.set(0,w),c.set(f,x),t,s);break;case 8:t>=a?b(r.set(f/2,0),c.set(f,w),t,s):s.set(0,0);break;case 9:Math.abs(n)>0?(b(r.set(0,x),c.set(f,w),t,u),b(r.set(0,x),c.set(f/2,0),t,h),b(r.set(f/2,0),c.set(f,w),t,s),h.set(h.x+s.x,h.y+s.y),s.set((u.x+h.x)/2,(u.y+h.y)/2)):b(r.set(0,x),c.set(f,w),t,s);break;case 10:s.set(0,0);break;case 11:b(r.set(0,x),c.set(f,w),t,s);break;case 12:b(r.set(0,w),c.set(f/2,0),t,u),b(r.set(f/2,0),c.set(f,w),t,h),l(f,o),s.set(u.x+h.x,u.y+h.y);break;case 13:b(r.set(0,x),c.set(f,w),t,s);break;case 14:b(r.set(0,w),c.set(f,x),t,s);break;case 15:s.set(0,0)}return s}function v(e,t,a,n){var s=e.equals(t);if(!s){var r=(e.x+t.x)/2,i=(e.y+t.y)/2;s=(t.y-e.y)*(a-r)+(e.x-t.x)*(n-i)>0}return s}function k(e,t,a,n){var s,r,i;for(s=0,i=0;i<u;++i)for(r=0;r<u;++r)v(e,t,a+r/29,n+i/29)&&++s;return s/900}function U(e,t,a,n,s,r){var i=x[e],y=i[0],c=i[1];return y>0&&(t.x+=s[0],t.y+=s[1]),c>0&&(a.x+=s[0],a.y+=s[1]),r.set(1-k(t,a,1+n,0+n),k(t,a,1+n,1+n))}function d(e,t,a,n,s){var r=i.min,c=i.max,u=y.min,h=y.max,o=t+a+1;switch(e){case 0:U(e,r.set(1,1),c.set(1+o,1+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 1:U(e,r.set(1,0),c.set(0+o,0+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 2:U(e,r.set(0,0),c.set(1+o,0+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 3:U(e,r.set(1,0),c.set(1+o,0+o),t,n,s);break;case 4:U(e,r.set(1,1),c.set(0+o,0+o),t,n,u),U(e,r.set(1,1),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 5:U(e,r.set(1,1),c.set(0+o,0+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 6:U(e,r.set(1,1),c.set(1+o,0+o),t,n,s);break;case 7:U(e,r.set(1,1),c.set(1+o,0+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 8:U(e,r.set(0,0),c.set(1+o,1+o),t,n,u),U(e,r.set(1,0),c.set(1+o,1+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 9:U(e,r.set(1,0),c.set(1+o,1+o),t,n,s);break;case 10:U(e,r.set(0,0),c.set(1+o,1+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 11:U(e,r.set(1,0),c.set(1+o,1+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 12:U(e,r.set(1,1),c.set(1+o,1+o),t,n,s);break;case 13:U(e,r.set(1,1),c.set(1+o,1+o),t,n,u),U(e,r.set(1,0),c.set(1+o,1+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 14:U(e,r.set(1,1),c.set(1+o,1+o),t,n,u),U(e,r.set(1,1),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 15:U(e,r.set(1,1),c.set(1+o,1+o),t,n,u),U(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2)}return s}function g(e,t,a){var n,r,i,y,c,u,h,o,w=new s;for(n=0,r=e.length;n<r;++n)for(h=(u=e[n]).data,o=u.width,y=0;y<o;++y)for(i=0;i<o;++i)a?A(n,i,y,t,w):d(n,i,y,t,w),h[c=2*(y*o+i)]=255*w.x,h[c+1]=255*w.y}function m(e,t,a,n,r,i){var y,c,u,h,o,w,x,f,l,b,A=new s,v=i.data,k=i.width;for(y=0,c=t.length;y<c;++y)for(x=a[y],l=(f=t[y]).data,b=f.width,h=0;h<n;++h)for(u=0;u<n;++u)A.set(x[0]*n+e.x+u,x[1]*n+e.y+h),w=r?2*(h*h*b+u*u):2*(h*b+u),v[o=4*(A.y*k+A.x)]=l[w],v[o+1]=l[w+1],v[o+2]=0,v[o+3]=255}var M=function(){function t(){e(this,t)}return a(t,null,[{key:\\\"generate\\\",value:function(){var e,t,a=5*h.length*c,r=new Uint8ClampedArray(160*a*4),i=new n(160,a,r),y=Math.pow(15,2)+1,u=[],f=[],l=new s;for(e=0;e<16;++e)u.push(new n(y,y,new Uint8ClampedArray(y*y*2),2)),f.push(new n(20,20,new Uint8ClampedArray(800),2));for(e=0,t=h.length;e<t;++e)g(u,h[e],!0),l.set(0,80*e),m(l,u,w,c,!0,i);for(e=0,t=o.length;e<t;++e)g(f,o[e],!1),l.set(80,80*e),m(l,f,x,20,!1,i);return i}}]),t}(),p=new Map([[q([0,0,0,0]),[0,0,0,0]],[q([0,0,0,1]),[0,0,0,1]],[q([0,0,1,0]),[0,0,1,0]],[q([0,0,1,1]),[0,0,1,1]],[q([0,1,0,0]),[0,1,0,0]],[q([0,1,0,1]),[0,1,0,1]],[q([0,1,1,0]),[0,1,1,0]],[q([0,1,1,1]),[0,1,1,1]],[q([1,0,0,0]),[1,0,0,0]],[q([1,0,0,1]),[1,0,0,1]],[q([1,0,1,0]),[1,0,1,0]],[q([1,0,1,1]),[1,0,1,1]],[q([1,1,0,0]),[1,1,0,0]],[q([1,1,0,1]),[1,1,0,1]],[q([1,1,1,0]),[1,1,1,0]],[q([1,1,1,1]),[1,1,1,1]]]);function C(e,t,a){return e+(t-e)*a}function q(e){var t=C(e[0],e[1],.75),a=C(e[2],e[3],.75);return C(t,a,.875)}function F(e,t){var a=0;return 1===t[3]&&1!==e[1]&&1!==e[3]&&(a+=1),1===a&&1===t[2]&&1!==e[0]&&1!==e[2]&&(a+=1),a}var D=function(){function t(){e(this,t)}return a(t,null,[{key:\\\"generate\\\",value:function(){var e,t,a,s,r,i,y,c,u,h,o=new Uint8ClampedArray(2178),w=new Uint8ClampedArray(4096);for(t=0;t<33;++t)for(e=0;e<66;++e)a=.03125*e,s=.03125*t,p.has(a)&&p.has(s)&&(i=p.get(a),y=p.get(s),o[r=66*t+e]=127*(c=i,h=void 0,h=0,1===(u=y)[3]&&(h+=1),1===h&&1===u[2]&&1!==c[1]&&1!==c[3]&&(h+=1),h),o[r+33]=127*F(i,y));for(r=0,t=17;t<33;++t)for(e=0;e<64;++e,r+=4)w[r]=o[66*t+e],w[r+3]=255;return new n(64,16,w)}}]),t}();self.addEventListener(\\\"message\\\",(function(e){var t=M.generate(),a=D.generate();postMessage({areaImageData:t,searchImageData:a},[t.data.buffer,a.data.buffer]),close()}))}();\\n\";\r\n\r\n/**\r\n * Generates the SMAA data images.\r\n *\r\n * @private\r\n * @param {Boolean} [disableCache=false] - Determines whether the generated image data should be cached.\r\n * @return {Promise} A promise that returns the search image and area image as a data URL pair.\r\n */\r\n\r\nfunction generate(disableCache = false) {\r\n\r\n\tconst workerURL = URL.createObjectURL(new Blob([workerProgram], { type: \"text/javascript\" }));\r\n\tconst worker = new Worker(workerURL);\r\n\r\n\treturn new Promise((resolve, reject) => {\r\n\r\n\t\tworker.addEventListener(\"error\", (event) => reject(event.error));\r\n\t\tworker.addEventListener(\"message\", (event) => {\r\n\r\n\t\t\tconst searchImageData = RawImageData.from(event.data.searchImageData);\r\n\t\t\tconst areaImageData = RawImageData.from(event.data.areaImageData);\r\n\r\n\t\t\tconst urls = [\r\n\t\t\t\tsearchImageData.toCanvas().toDataURL(),\r\n\t\t\t\tareaImageData.toCanvas().toDataURL()\r\n\t\t\t];\r\n\r\n\t\t\tif(!disableCache && window.localStorage !== undefined) {\r\n\r\n\t\t\t\tlocalStorage.setItem(\"smaa-search\", urls[0]);\r\n\t\t\t\tlocalStorage.setItem(\"smaa-area\", urls[1]);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tURL.revokeObjectURL(workerURL);\r\n\t\t\tresolve(urls);\r\n\r\n\t\t});\r\n\r\n\t\tworker.postMessage(null);\r\n\r\n\t});\r\n\r\n}\r\n\r\n/**\r\n * An SMAA image loader.\r\n *\r\n * This loader uses a worker thread to generate the search and area images. The\r\n * Generated data URLs will be cached using localStorage, if available. To\r\n * disable caching, please refer to {@link SMAAImageLoader.disableCache}.\r\n *\r\n * @experimental Added for testing, API might change in patch or minor releases. Requires three >= r108.\r\n */\r\n\r\nclass SMAAImageLoader extends Loader {\r\n\r\n\t/**\r\n\t * Constructs a new SMAA image loader.\r\n\t *\r\n\t * @param {LoadingManager} [manager] - A loading manager.\r\n\t */\r\n\r\n\tconstructor(manager) {\r\n\r\n\t\tsuper(manager);\r\n\r\n\t\t/**\r\n\t\t * Indicates whether data image caching is disabled.\r\n\t\t *\r\n\t\t * @type {Boolean}\r\n\t\t */\r\n\r\n\t\tthis.disableCache = false;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Loads the SMAA data images.\r\n\t *\r\n\t * @param {Function} [onLoad] - A function to call when the loading process is done.\r\n\t * @param {Function} [onError] - A function to call when an error occurs.\r\n\t * @return {Promise} A promise that returns the search image and area image as a pair.\r\n\t */\r\n\r\n\tload(onLoad = () => {}, onError = () => {}) {\r\n\r\n\t\t// Conform to the signature (url, onLoad, onProgress, onError).\r\n\t\tif(arguments.length === 4) {\r\n\r\n\t\t\tonLoad = arguments[1];\r\n\t\t\tonError = arguments[3];\r\n\r\n\t\t} else if(arguments.length === 3 || typeof arguments[0] !== \"function\") {\r\n\r\n\t\t\tonLoad = arguments[1];\r\n\t\t\tonError = () => {};\r\n\r\n\t\t}\r\n\r\n\t\tconst externalManager = this.manager;\r\n\t\tconst internalManager = new LoadingManager();\r\n\r\n\t\texternalManager.itemStart(\"smaa-search\");\r\n\t\texternalManager.itemStart(\"smaa-area\");\r\n\t\tinternalManager.itemStart(\"smaa-search\");\r\n\t\tinternalManager.itemStart(\"smaa-area\");\r\n\r\n\t\treturn new Promise((resolve, reject) => {\r\n\r\n\t\t\tconst cachedURLs = (!this.disableCache && window.localStorage !== undefined) ? [\r\n\t\t\t\tlocalStorage.getItem(\"smaa-search\"),\r\n\t\t\t\tlocalStorage.getItem(\"smaa-area\")\r\n\t\t\t] : [null, null];\r\n\r\n\t\t\tconst promise = (cachedURLs[0] !== null && cachedURLs[1] !== null) ?\r\n\t\t\t\tPromise.resolve(cachedURLs) : generate(this.disableCache);\r\n\r\n\t\t\tpromise.then((urls) => {\r\n\r\n\t\t\t\tconst result = [new Image(), new Image()];\r\n\r\n\t\t\t\tinternalManager.onLoad = () => {\r\n\r\n\t\t\t\t\tonLoad(result);\r\n\t\t\t\t\tresolve(result);\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t\tresult[0].addEventListener(\"load\", () => {\r\n\r\n\t\t\t\t\texternalManager.itemEnd(\"smaa-search\");\r\n\t\t\t\t\tinternalManager.itemEnd(\"smaa-search\");\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\tresult[1].addEventListener(\"load\", () => {\r\n\r\n\t\t\t\t\texternalManager.itemEnd(\"smaa-area\");\r\n\t\t\t\t\tinternalManager.itemEnd(\"smaa-area\");\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\tresult[0].src = urls[0];\r\n\t\t\t\tresult[1].src = urls[1];\r\n\r\n\t\t\t}).catch((error) => {\r\n\r\n\t\t\t\texternalManager.itemError(\"smaa-search\");\r\n\t\t\t\texternalManager.itemError(\"smaa-area\");\r\n\r\n\t\t\t\tonError(error);\r\n\t\t\t\treject(error);\r\n\r\n\t\t\t});\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * A 2D vector.\r\n *\r\n * @private\r\n */\r\n\r\nclass Vector2 {\r\n\r\n\t/**\r\n\t * Constructs a new vector.\r\n\t *\r\n\t * @param {Number} [x=0] - The initial x value.\r\n\t * @param {Number} [y=0] - The initial y value.\r\n\t */\r\n\r\n\tconstructor(x = 0, y = 0) {\r\n\r\n\t\t/**\r\n\t\t * The X component.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t */\r\n\r\n\t\tthis.x = x;\r\n\r\n\t\t/**\r\n\t\t * The Y component.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t */\r\n\r\n\t\tthis.y = y;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the components of this vector.\r\n\t *\r\n\t * @param {Number} x - The new x value.\r\n\t * @param {Number} y - The new y value.\r\n\t * @return {Vector2} This vector.\r\n\t */\r\n\r\n\tset(x, y) {\r\n\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Checks if the given vector equals this vector.\r\n\t *\r\n\t * @param {Vector2} v - A vector.\r\n\t * @return {Boolean} Whether this vector equals the given one.\r\n\t */\r\n\r\n\tequals(v) {\r\n\r\n\t\treturn (this === v || (this.x === v.x && this.y === v.y));\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * A 2D box.\r\n *\r\n * @private\r\n */\r\n\r\nclass Box2 {\r\n\r\n\t/**\r\n\t * Constructs a new box.\r\n\t */\r\n\r\n\tconstructor() {\r\n\r\n\t\tthis.min = new Vector2();\r\n\t\tthis.max = new Vector2();\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * A box.\r\n *\r\n * @type {Box2}\r\n * @private\r\n */\r\n\r\nconst b0 = new Box2();\r\n\r\n/**\r\n * A box.\r\n *\r\n * @type {Box2}\r\n * @private\r\n */\r\n\r\nconst b1 = new Box2();\r\n\r\n/**\r\n * The orthogonal texture size.\r\n *\r\n * @type {Number}\r\n * @private\r\n */\r\n\r\nconst ORTHOGONAL_SIZE = 16;\r\n\r\n/**\r\n * The diagonal texture size.\r\n *\r\n * @type {Number}\r\n * @private\r\n */\r\n\r\nconst DIAGONAL_SIZE = 20;\r\n\r\n/**\r\n * The number of samples for calculating areas in the diagonal textures.\r\n * Diagonal areas are calculated using brute force sampling.\r\n *\r\n * @type {Number}\r\n * @private\r\n */\r\n\r\nconst DIAGONAL_SAMPLES = 30;\r\n\r\n/**\r\n * The maximum distance for smoothing U-shapes.\r\n *\r\n * @type {Number}\r\n * @private\r\n */\r\n\r\nconst SMOOTH_MAX_DISTANCE = 32;\r\n\r\n/**\r\n * Subsampling offsets for orthogonal areas.\r\n *\r\n * @type {Float32Array}\r\n * @private\r\n */\r\n\r\nconst orthogonalSubsamplingOffsets = new Float32Array([\r\n\t0.0, -0.25, 0.25, -0.125, 0.125, -0.375, 0.375\r\n]);\r\n\r\n/**\r\n * Subsampling offset pairs for diagonal areas.\r\n *\r\n * @type {Float32Array[]}\r\n * @private\r\n */\r\n\r\nconst diagonalSubsamplingOffsets = [\r\n\r\n\tnew Float32Array([0.0, 0.0]),\r\n\tnew Float32Array([0.25, -0.25]),\r\n\tnew Float32Array([-0.25, 0.25]),\r\n\tnew Float32Array([0.125, -0.125]),\r\n\tnew Float32Array([-0.125, 0.125])\r\n\r\n];\r\n\r\n/**\r\n * Orthogonal pattern positioning coordinates.\r\n *\r\n * Used for placing each pattern subtexture into a specific spot.\r\n *\r\n * @type {Uint8Array[]}\r\n * @private\r\n */\r\n\r\nconst orthogonalEdges = [\r\n\r\n\tnew Uint8Array([0, 0]),\r\n\tnew Uint8Array([3, 0]),\r\n\tnew Uint8Array([0, 3]),\r\n\tnew Uint8Array([3, 3]),\r\n\r\n\tnew Uint8Array([1, 0]),\r\n\tnew Uint8Array([4, 0]),\r\n\tnew Uint8Array([1, 3]),\r\n\tnew Uint8Array([4, 3]),\r\n\r\n\tnew Uint8Array([0, 1]),\r\n\tnew Uint8Array([3, 1]),\r\n\tnew Uint8Array([0, 4]),\r\n\tnew Uint8Array([3, 4]),\r\n\r\n\tnew Uint8Array([1, 1]),\r\n\tnew Uint8Array([4, 1]),\r\n\tnew Uint8Array([1, 4]),\r\n\tnew Uint8Array([4, 4])\r\n\r\n];\r\n\r\n/**\r\n * Diagonal pattern positioning coordinates.\r\n *\r\n * Used for placing each pattern subtexture into a specific spot.\r\n *\r\n * @type {Uint8Array[]}\r\n * @private\r\n */\r\n\r\nconst diagonalEdges = [\r\n\r\n\tnew Uint8Array([0, 0]),\r\n\tnew Uint8Array([1, 0]),\r\n\tnew Uint8Array([0, 2]),\r\n\tnew Uint8Array([1, 2]),\r\n\r\n\tnew Uint8Array([2, 0]),\r\n\tnew Uint8Array([3, 0]),\r\n\tnew Uint8Array([2, 2]),\r\n\tnew Uint8Array([3, 2]),\r\n\r\n\tnew Uint8Array([0, 1]),\r\n\tnew Uint8Array([1, 1]),\r\n\tnew Uint8Array([0, 3]),\r\n\tnew Uint8Array([1, 3]),\r\n\r\n\tnew Uint8Array([2, 1]),\r\n\tnew Uint8Array([3, 1]),\r\n\tnew Uint8Array([2, 3]),\r\n\tnew Uint8Array([3, 3])\r\n\r\n];\r\n\r\n/**\r\n * Linearly interpolates between two values.\r\n *\r\n * @private\r\n * @param {Number} a - The initial value.\r\n * @param {Number} b - The target value.\r\n * @param {Number} p - The interpolation value.\r\n * @return {Number} The interpolated value.\r\n */\r\n\r\nfunction lerp(a, b, p) {\r\n\r\n\treturn a + (b - a) * p;\r\n\r\n}\r\n\r\n/**\r\n * Clamps a value to the range [0, 1].\r\n *\r\n * @private\r\n * @param {Number} a - The value.\r\n * @return {Number} The saturated value.\r\n */\r\n\r\nfunction saturate(a) {\r\n\r\n\treturn Math.min(Math.max(a, 0.0), 1.0);\r\n\r\n}\r\n\r\n/**\r\n * A smoothing function for small U-patterns.\r\n *\r\n * @private\r\n * @param {Number} d - A smoothing factor.\r\n * @param {Box2} b - The area that should be smoothed.\r\n * @return {Box2} The smoothed area.\r\n */\r\n\r\nfunction smoothArea(d, b) {\r\n\r\n\tconst a1 = b.min;\r\n\tconst a2 = b.max;\r\n\r\n\tconst b1X = Math.sqrt(a1.x * 2.0) * 0.5;\r\n\tconst b1Y = Math.sqrt(a1.y * 2.0) * 0.5;\r\n\tconst b2X = Math.sqrt(a2.x * 2.0) * 0.5;\r\n\tconst b2Y = Math.sqrt(a2.y * 2.0) * 0.5;\r\n\r\n\tconst p = saturate(d / SMOOTH_MAX_DISTANCE);\r\n\r\n\ta1.set(lerp(b1X, a1.x, p), lerp(b1Y, a1.y, p));\r\n\ta2.set(lerp(b2X, a2.x, p), lerp(b2Y, a2.y, p));\r\n\r\n\treturn b;\r\n\r\n}\r\n\r\n/**\r\n * Calculates the area under the line p1 -> p2, for the pixels (x, x + 1).\r\n *\r\n * @private\r\n * @param {Vector2} p1 - The starting point of the line.\r\n * @param {Vector2} p2 - The ending point of the line.\r\n * @param {Number} x - The pixel index.\r\n * @param {Vector2} result - A target vector to store the area in.\r\n * @return {Vector2} The area.\r\n */\r\n\r\nfunction calculateOrthogonalArea(p1, p2, x, result) {\r\n\r\n\tconst dX = p2.x - p1.x;\r\n\tconst dY = p2.y - p1.y;\r\n\r\n\tconst x1 = x;\r\n\tconst x2 = x + 1.0;\r\n\r\n\tconst y1 = p1.y + dY * (x1 - p1.x) / dX;\r\n\tconst y2 = p1.y + dY * (x2 - p1.x) / dX;\r\n\r\n\tlet a, a1, a2, t;\r\n\r\n\t// Check if x is inside the area.\r\n\tif((x1 >= p1.x && x1 < p2.x) || (x2 > p1.x && x2 <= p2.x)) {\r\n\r\n\t\t// Check if this is a trapezoid.\r\n\t\tif(Math.sign(y1) === Math.sign(y2) || Math.abs(y1) < 1e-4 || Math.abs(y2) < 1e-4) {\r\n\r\n\t\t\ta = (y1 + y2) / 2.0;\r\n\r\n\t\t\tif(a < 0.0) {\r\n\r\n\t\t\t\tresult.set(Math.abs(a), 0.0);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tresult.set(0.0, Math.abs(a));\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// Two triangles.\r\n\t\t\tt = -p1.y * dX / dY + p1.x;\r\n\r\n\t\t\ta1 = (t > p1.x) ? y1 * (t - Math.trunc(t)) / 2.0 : 0.0;\r\n\t\t\ta2 = (t < p2.x) ? y2 * (1.0 - (t - Math.trunc(t))) / 2.0 : 0.0;\r\n\r\n\t\t\ta = (Math.abs(a1) > Math.abs(a2)) ? a1 : -a2;\r\n\r\n\t\t\tif(a < 0.0) {\r\n\r\n\t\t\t\tresult.set(Math.abs(a1), Math.abs(a2));\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tresult.set(Math.abs(a2), Math.abs(a1));\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tresult.set(0, 0);\r\n\r\n\t}\r\n\r\n\treturn result;\r\n\r\n}\r\n\r\n/**\r\n * Calculates the area for a given pattern and distances to the left and to the\r\n * right, biased by an offset.\r\n *\r\n * @private\r\n * @param {Number} pattern - A pattern index.\r\n * @param {Number} left - The left distance.\r\n * @param {Number} right - The right distance.\r\n * @param {Number} offset - An offset.\r\n * @param {Vector2} result - A target vector to store the area in.\r\n * @return {Vector2} The orthogonal area.\r\n */\r\n\r\nfunction calculateOrthogonalAreaForPattern(pattern, left, right, offset, result) {\r\n\r\n\tconst p1 = b0.min;\r\n\tconst p2 = b0.max;\r\n\tconst a1 = b1.min;\r\n\tconst a2 = b1.max;\r\n\tconst a = b1;\r\n\r\n\t/* o1           |\r\n\t *      .-------´\r\n\t * o2   |\r\n\t *\r\n\t *      <---d--->\r\n\t */\r\n\r\n\tconst o1 = 0.5 + offset;\r\n\tconst o2 = 0.5 + offset - 1.0;\r\n\tconst d = left + right + 1;\r\n\r\n\tswitch(pattern) {\r\n\r\n\t\tcase 0: {\r\n\r\n\t\t\t//    ------\r\n\r\n\t\t\tresult.set(0, 0);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 1: {\r\n\r\n\t\t\t/*   .------\r\n\t\t\t *   |\r\n\t\t\t *\r\n\t\t\t * The offset is only applied to L patterns in the crossing edge side to\r\n\t\t\t * make it converge with the unfiltered pattern 0.\r\n\t\t\t * The pattern 0 must not be filtered to avoid artifacts.\r\n\t\t\t */\r\n\r\n\t\t\tif(left <= right) {\r\n\r\n\t\t\t\tcalculateOrthogonalArea(p1.set(0.0, o2), p2.set(d / 2.0, 0.0), left, result);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tresult.set(0, 0);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 2: {\r\n\r\n\t\t\t/*    ------.\r\n\t\t\t *          |\r\n\t\t\t */\r\n\r\n\t\t\tif(left >= right) {\r\n\r\n\t\t\t\tcalculateOrthogonalArea(p1.set(d / 2.0, 0.0), p2.set(d, o2), left, result);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tresult.set(0, 0);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 3: {\r\n\r\n\t\t\t/*   .------.\r\n\t\t\t *   |      |\r\n\t\t\t */\r\n\r\n\t\t\tcalculateOrthogonalArea(p1.set(0.0, o2), p2.set(d / 2.0, 0.0), left, a1);\r\n\t\t\tcalculateOrthogonalArea(p1.set(d / 2.0, 0.0), p2.set(d, o2), left, a2);\r\n\r\n\t\t\tsmoothArea(d, a);\r\n\r\n\t\t\tresult.set(a1.x + a2.x, a1.y + a2.y);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 4: {\r\n\r\n\t\t\t/*   |\r\n\t\t\t *   `------\r\n\t\t\t */\r\n\r\n\t\t\tif(left <= right) {\r\n\r\n\t\t\t\tcalculateOrthogonalArea(p1.set(0.0, o1), p2.set(d / 2.0, 0.0), left, result);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tresult.set(0, 0);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 5: {\r\n\r\n\t\t\t/*   |\r\n\t\t\t *   +------\r\n\t\t\t *   |\r\n\t\t\t */\r\n\r\n\t\t\tresult.set(0, 0);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 6: {\r\n\r\n\t\t\t/*   |\r\n\t\t\t *   `------.\r\n\t\t\t *          |\r\n\t\t\t *\r\n\t\t\t * A problem of not offseting L patterns (see above) is that for certain\r\n\t\t\t * max search distances, the pixels in the center of a Z pattern will\r\n\t\t\t * detect the full Z pattern, while the pixels in the sides will detect an\r\n\t\t\t * L pattern. To avoid discontinuities, the full offsetted Z\r\n\t\t\t * revectorization is blended with partially offsetted L patterns.\r\n\t\t\t */\r\n\r\n\t\t\tif(Math.abs(offset) > 0.0) {\r\n\r\n\t\t\t\tcalculateOrthogonalArea(p1.set(0.0, o1), p2.set(d, o2), left, a1);\r\n\t\t\t\tcalculateOrthogonalArea(p1.set(0.0, o1), p2.set(d / 2.0, 0.0), left, a2);\r\n\t\t\t\tcalculateOrthogonalArea(p1.set(d / 2.0, 0.0), p2.set(d, o2), left, result);\r\n\t\t\t\ta2.set(a2.x + result.x, a2.y + result.y);\r\n\r\n\t\t\t\tresult.set((a1.x + a2.x) / 2.0, (a1.y + a2.y) / 2.0);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tcalculateOrthogonalArea(p1.set(0.0, o1), p2.set(d, o2), left, result);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 7: {\r\n\r\n\t\t\t/*   |\r\n\t\t\t *   +------.\r\n\t\t\t *   |      |\r\n\t\t\t */\r\n\r\n\t\t\tcalculateOrthogonalArea(p1.set(0.0, o1), p2.set(d, o2), left, result);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 8: {\r\n\r\n\t\t\t/*          |\r\n\t\t\t *    ------´\r\n\t\t\t */\r\n\r\n\t\t\tif(left >= right) {\r\n\r\n\t\t\t\tcalculateOrthogonalArea(p1.set(d / 2.0, 0.0), p2.set(d, o1), left, result);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tresult.set(0, 0);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 9: {\r\n\r\n\t\t\t/*          |\r\n\t\t\t *   .------´\r\n\t\t\t *   |\r\n\t\t\t */\r\n\r\n\t\t\tif(Math.abs(offset) > 0.0) {\r\n\r\n\t\t\t\tcalculateOrthogonalArea(p1.set(0.0, o2), p2.set(d, o1), left, a1);\r\n\t\t\t\tcalculateOrthogonalArea(p1.set(0.0, o2), p2.set(d / 2.0, 0.0), left, a2);\r\n\t\t\t\tcalculateOrthogonalArea(p1.set(d / 2.0, 0.0), p2.set(d, o1), left, result);\r\n\t\t\t\ta2.set(a2.x + result.x, a2.y + result.y);\r\n\r\n\t\t\t\tresult.set((a1.x + a2.x) / 2.0, (a1.y + a2.y) / 2.0);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tcalculateOrthogonalArea(p1.set(0.0, o2), p2.set(d, o1), left, result);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 10: {\r\n\r\n\t\t\t/*          |\r\n\t\t\t *    ------+\r\n\t\t\t *          |\r\n\t\t\t */\r\n\r\n\t\t\tresult.set(0, 0);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 11: {\r\n\r\n\t\t\t/*          |\r\n\t\t\t *   .------+\r\n\t\t\t *   |      |\r\n\t\t\t */\r\n\r\n\t\t\tcalculateOrthogonalArea(p1.set(0.0, o2), p2.set(d, o1), left, result);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 12: {\r\n\r\n\t\t\t/*   |      |\r\n\t\t\t *   `------´\r\n\t\t\t */\r\n\r\n\t\t\tcalculateOrthogonalArea(p1.set(0.0, o1), p2.set(d / 2.0, 0.0), left, a1);\r\n\t\t\tcalculateOrthogonalArea(p1.set(d / 2.0, 0.0), p2.set(d, o1), left, a2);\r\n\r\n\t\t\tsmoothArea(d, a);\r\n\r\n\t\t\tresult.set(a1.x + a2.x, a1.y + a2.y);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 13: {\r\n\r\n\t\t\t/*   |      |\r\n\t\t\t *   +------´\r\n\t\t\t *   |\r\n\t\t\t */\r\n\r\n\t\t\tcalculateOrthogonalArea(p1.set(0.0, o2), p2.set(d, o1), left, result);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 14: {\r\n\r\n\t\t\t/*   |      |\r\n\t\t\t *   `------+\r\n\t\t\t *          |\r\n\t\t\t */\r\n\r\n\t\t\tcalculateOrthogonalArea(p1.set(0.0, o1), p2.set(d, o2), left, result);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 15: {\r\n\r\n\t\t\t/*   |      |\r\n\t\t\t *   +------+\r\n\t\t\t *   |      |\r\n\t\t\t */\r\n\r\n\t\t\tresult.set(0, 0);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn result;\r\n\r\n}\r\n\r\n/**\r\n * Determines whether the given pixel is inside the specified area.\r\n *\r\n * @private\r\n * @param {Vector2} p1 - The lower bounds of the area.\r\n * @param {Vector2} p2 - The upper bounds of the area.\r\n * @param {Vector2} x - The X-coordinates.\r\n * @param {Vector2} y - The Y-coordinates.\r\n * @return {Vector2} Whether the pixel lies inside the area.\r\n */\r\n\r\nfunction isInsideArea(p1, p2, x, y) {\r\n\r\n\tlet result = p1.equals(p2);\r\n\r\n\tif(!result) {\r\n\r\n\t\tlet xm = (p1.x + p2.x) / 2.0;\r\n\t\tlet ym = (p1.y + p2.y) / 2.0;\r\n\r\n\t\tlet a = p2.y - p1.y;\r\n\t\tlet b = p1.x - p2.x;\r\n\r\n\t\tlet c = a * (x - xm) + b * (y - ym);\r\n\r\n\t\tresult = (c > 0.0);\r\n\r\n\t}\r\n\r\n\treturn result;\r\n\r\n}\r\n\r\n/**\r\n * Calculates the area under the line p1 -> p2 for the pixel p using brute force\r\n * sampling.\r\n *\r\n * @private\r\n * @param {Vector2} p1 - The lower bounds of the area.\r\n * @param {Vector2} p2 - The upper bounds of the area.\r\n * @param {Number} pX - The X-coordinates.\r\n * @param {Number} pY - The Y-coordinates.\r\n * @return {Number} The amount of pixels inside the area relative to the total amount of sampled pixels.\r\n */\r\n\r\nfunction calculateDiagonalAreaForPixel(p1, p2, pX, pY) {\r\n\r\n\tlet a;\r\n\tlet x, y;\r\n\tlet offsetX, offsetY;\r\n\r\n\tfor(a = 0, y = 0; y < DIAGONAL_SAMPLES; ++y) {\r\n\r\n\t\tfor(x = 0; x < DIAGONAL_SAMPLES; ++x) {\r\n\r\n\t\t\toffsetX = x / (DIAGONAL_SAMPLES - 1.0);\r\n\t\t\toffsetY = y / (DIAGONAL_SAMPLES - 1.0);\r\n\r\n\t\t\tif(isInsideArea(p1, p2, pX + offsetX, pY + offsetY)) {\r\n\r\n\t\t\t\t++a;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn a / (DIAGONAL_SAMPLES * DIAGONAL_SAMPLES);\r\n\r\n}\r\n\r\n/**\r\n * Calculates the area under the line p1 -> p2. This includes the pixel and its\r\n * opposite.\r\n *\r\n * @private\r\n * @param {Number} pattern - A pattern index.\r\n * @param {Vector2} p1 - The lower bounds of the area.\r\n * @param {Vector2} p2 - The upper bounds of the area.\r\n * @param {Number} left - The left distance.\r\n * @param {Float32Array} offset - An offset.\r\n * @param {Vector2} result - A target vector to store the area in.\r\n * @return {Vector2} The area.\r\n */\r\n\r\nfunction calculateDiagonalArea(pattern, p1, p2, left, offset, result) {\r\n\r\n\tconst e = diagonalEdges[pattern];\r\n\tconst e1 = e[0];\r\n\tconst e2 = e[1];\r\n\r\n\tif(e1 > 0) {\r\n\r\n\t\tp1.x += offset[0];\r\n\t\tp1.y += offset[1];\r\n\r\n\t}\r\n\r\n\tif(e2 > 0) {\r\n\r\n\t\tp2.x += offset[0];\r\n\t\tp2.y += offset[1];\r\n\r\n\t}\r\n\r\n\treturn result.set(\r\n\t\t1.0 - calculateDiagonalAreaForPixel(p1, p2, 1.0 + left, 0.0 + left),\r\n\t\tcalculateDiagonalAreaForPixel(p1, p2, 1.0 + left, 1.0 + left)\r\n\t);\r\n\r\n}\r\n\r\n/**\r\n * Calculates the area for a given pattern and distances to the left and to the\r\n * right, biased by an offset.\r\n *\r\n * @private\r\n * @param {Number} pattern - A pattern index.\r\n * @param {Number} left - The left distance.\r\n * @param {Number} right - The right distance.\r\n * @param {Float32Array} offset - An offset.\r\n * @param {Vector2} result - A target vector to store the area in.\r\n * @return {Vector2} The orthogonal area.\r\n */\r\n\r\nfunction calculateDiagonalAreaForPattern(pattern, left, right, offset, result) {\r\n\r\n\tconst p1 = b0.min;\r\n\tconst p2 = b0.max;\r\n\tconst a1 = b1.min;\r\n\tconst a2 = b1.max;\r\n\r\n\tconst d = left + right + 1;\r\n\r\n\t/* There is some Black Magic involved in the diagonal area calculations.\r\n\t *\r\n\t * Unlike orthogonal patterns, the \"null\" pattern (one without crossing edges)\r\n\t * must be filtered, and the ends of both the \"null\" and L patterns are not\r\n\t * known: L and U patterns have different endings, and the adjacent pattern is\r\n\t * unknown. Therefore, a blend of both possibilities is computed.\r\n\t */\r\n\r\n\tswitch(pattern) {\r\n\r\n\t\tcase 0: {\r\n\r\n\t\t\t/*         .-´\r\n\t\t\t *       .-´\r\n\t\t\t *     .-´\r\n\t\t\t *   .-´\r\n\t\t\t *   ´\r\n\t\t\t */\r\n\r\n\t\t\t// First possibility.\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 1.0), p2.set(1.0 + d, 1.0 + d), left, offset, a1);\r\n\r\n\t\t\t// Second possibility.\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 0.0), p2.set(1.0 + d, 0.0 + d), left, offset, a2);\r\n\r\n\t\t\t// Blend both possibilities together.\r\n\t\t\tresult.set((a1.x + a2.x) / 2.0, (a1.y + a2.y) / 2.0);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 1: {\r\n\r\n\t\t\t/*         .-´\r\n\t\t\t *       .-´\r\n\t\t\t *     .-´\r\n\t\t\t *   .-´\r\n\t\t\t *   |\r\n\t\t\t *   |\r\n\t\t\t */\r\n\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 0.0), p2.set(0.0 + d, 0.0 + d), left, offset, a1);\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 0.0), p2.set(1.0 + d, 0.0 + d), left, offset, a2);\r\n\r\n\t\t\tresult.set((a1.x + a2.x) / 2.0, (a1.y + a2.y) / 2.0);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 2: {\r\n\r\n\t\t\t/*         .----\r\n\t\t\t *       .-´\r\n\t\t\t *     .-´\r\n\t\t\t *   .-´\r\n\t\t\t *   ´\r\n\t\t\t */\r\n\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(0.0, 0.0), p2.set(1.0 + d, 0.0 + d), left, offset, a1);\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 0.0), p2.set(1.0 + d, 0.0 + d), left, offset, a2);\r\n\r\n\t\t\tresult.set((a1.x + a2.x) / 2.0, (a1.y + a2.y) / 2.0);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 3: {\r\n\r\n\t\t\t/*\r\n\t\t\t *         .----\r\n\t\t\t *       .-´\r\n\t\t\t *     .-´\r\n\t\t\t *   .-´\r\n\t\t\t *   |\r\n\t\t\t *   |\r\n\t\t\t */\r\n\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 0.0), p2.set(1.0 + d, 0.0 + d), left, offset, result);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 4: {\r\n\r\n\t\t\t/*         .-´\r\n\t\t\t *       .-´\r\n\t\t\t *     .-´\r\n\t\t\t * ----´\r\n\t\t\t */\r\n\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 1.0), p2.set(0.0 + d, 0.0 + d), left, offset, a1);\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 1.0), p2.set(1.0 + d, 0.0 + d), left, offset, a2);\r\n\r\n\t\t\tresult.set((a1.x + a2.x) / 2.0, (a1.y + a2.y) / 2.0);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 5: {\r\n\r\n\t\t\t/*         .-´\r\n\t\t\t *       .-´\r\n\t\t\t *     .-´\r\n\t\t\t * --.-´\r\n\t\t\t *   |\r\n\t\t\t *   |\r\n\t\t\t */\r\n\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 1.0), p2.set(0.0 + d, 0.0 + d), left, offset, a1);\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 0.0), p2.set(1.0 + d, 0.0 + d), left, offset, a2);\r\n\r\n\t\t\tresult.set((a1.x + a2.x) / 2.0, (a1.y + a2.y) / 2.0);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 6: {\r\n\r\n\t\t\t/*         .----\r\n\t\t\t *       .-´\r\n\t\t\t *     .-´\r\n\t\t\t * ----´\r\n\t\t\t */\r\n\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 1.0), p2.set(1.0 + d, 0.0 + d), left, offset, result);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 7: {\r\n\r\n\t\t\t/*         .----\r\n\t\t\t *       .-´\r\n\t\t\t *     .-´\r\n\t\t\t * --.-´\r\n\t\t\t *   |\r\n\t\t\t *   |\r\n\t\t\t */\r\n\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 1.0), p2.set(1.0 + d, 0.0 + d), left, offset, a1);\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 0.0), p2.set(1.0 + d, 0.0 + d), left, offset, a2);\r\n\r\n\t\t\tresult.set((a1.x + a2.x) / 2.0, (a1.y + a2.y) / 2.0);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 8: {\r\n\r\n\t\t\t/*         |\r\n\t\t\t *         |\r\n\t\t\t *       .-´\r\n\t\t\t *     .-´\r\n\t\t\t *   .-´\r\n\t\t\t *   ´\r\n\t\t\t */\r\n\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(0.0, 0.0), p2.set(1.0 + d, 1.0 + d), left, offset, a1);\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 0.0), p2.set(1.0 + d, 1.0 + d), left, offset, a2);\r\n\r\n\t\t\tresult.set((a1.x + a2.x) / 2.0, (a1.y + a2.y) / 2.0);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 9: {\r\n\r\n\t\t\t/*         |\r\n\t\t\t *         |\r\n\t\t\t *       .-´\r\n\t\t\t *     .-´\r\n\t\t\t *   .-´\r\n\t\t\t *   |\r\n\t\t\t *   |\r\n\t\t\t */\r\n\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 0.0), p2.set(1.0 + d, 1.0 + d), left, offset, result);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 10: {\r\n\r\n\t\t\t/*         |\r\n\t\t\t *         .----\r\n\t\t\t *       .-´\r\n\t\t\t *     .-´\r\n\t\t\t *   .-´\r\n\t\t\t *   ´\r\n\t\t\t */\r\n\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(0.0, 0.0), p2.set(1.0 + d, 1.0 + d), left, offset, a1);\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 0.0), p2.set(1.0 + d, 0.0 + d), left, offset, a2);\r\n\r\n\t\t\tresult.set((a1.x + a2.x) / 2.0, (a1.y + a2.y) / 2.0);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 11: {\r\n\r\n\t\t\t/*         |\r\n\t\t\t *         .----\r\n\t\t\t *       .-´\r\n\t\t\t *     .-´\r\n\t\t\t *   .-´\r\n\t\t\t *   |\r\n\t\t\t *   |\r\n\t\t\t */\r\n\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 0.0), p2.set(1.0 + d, 1.0 + d), left, offset, a1);\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 0.0), p2.set(1.0 + d, 0.0 + d), left, offset, a2);\r\n\r\n\t\t\tresult.set((a1.x + a2.x) / 2.0, (a1.y + a2.y) / 2.0);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 12: {\r\n\r\n\t\t\t/*         |\r\n\t\t\t *         |\r\n\t\t\t *       .-´\r\n\t\t\t *     .-´\r\n\t\t\t * ----´\r\n\t\t\t */\r\n\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 1.0), p2.set(1.0 + d, 1.0 + d), left, offset, result);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 13: {\r\n\r\n\t\t\t/*         |\r\n\t\t\t *         |\r\n\t\t\t *       .-´\r\n\t\t\t *     .-´\r\n\t\t\t * --.-´\r\n\t\t\t *   |\r\n\t\t\t *   |\r\n\t\t\t */\r\n\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 1.0), p2.set(1.0 + d, 1.0 + d), left, offset, a1);\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 0.0), p2.set(1.0 + d, 1.0 + d), left, offset, a2);\r\n\r\n\t\t\tresult.set((a1.x + a2.x) / 2.0, (a1.y + a2.y) / 2.0);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 14: {\r\n\r\n\t\t\t/*         |\r\n\t\t\t *         .----\r\n\t\t\t *       .-´\r\n\t\t\t *     .-´\r\n\t\t\t * ----´\r\n\t\t\t */\r\n\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 1.0), p2.set(1.0 + d, 1.0 + d), left, offset, a1);\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 1.0), p2.set(1.0 + d, 0.0 + d), left, offset, a2);\r\n\r\n\t\t\tresult.set((a1.x + a2.x) / 2.0, (a1.y + a2.y) / 2.0);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase 15: {\r\n\r\n\t\t\t/*         |\r\n\t\t\t *         .----\r\n\t\t\t *       .-´\r\n\t\t\t *     .-´\r\n\t\t\t * --.-´\r\n\t\t\t *   |\r\n\t\t\t *   |\r\n\t\t\t */\r\n\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 1.0), p2.set(1.0 + d, 1.0 + d), left, offset, a1);\r\n\t\t\tcalculateDiagonalArea(pattern, p1.set(1.0, 0.0), p2.set(1.0 + d, 0.0 + d), left, offset, a2);\r\n\r\n\t\t\tresult.set((a1.x + a2.x) / 2.0, (a1.y + a2.y) / 2.0);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn result;\r\n\r\n}\r\n\r\n/**\r\n * Calculates orthogonal or diagonal patterns for a given offset.\r\n *\r\n * @private\r\n * @param {RawImageData[]} patterns - The patterns to assemble.\r\n * @param {Number|Float32Array} offset - A pattern offset. Diagonal offsets are pairs.\r\n * @param {Boolean} orthogonal - Whether the patterns are orthogonal or diagonal.\r\n */\r\n\r\nfunction generatePatterns(patterns, offset, orthogonal) {\r\n\r\n\tconst result = new Vector2();\r\n\r\n\tlet i, l;\r\n\tlet x, y;\r\n\tlet c;\r\n\r\n\tlet pattern;\r\n\tlet data, size;\r\n\r\n\tfor(i = 0, l = patterns.length; i < l; ++i) {\r\n\r\n\t\tpattern = patterns[i];\r\n\r\n\t\tdata = pattern.data;\r\n\t\tsize = pattern.width;\r\n\r\n\t\tfor(y = 0; y < size; ++y) {\r\n\r\n\t\t\tfor(x = 0; x < size; ++x) {\r\n\r\n\t\t\t\tif(orthogonal) {\r\n\r\n\t\t\t\t\tcalculateOrthogonalAreaForPattern(i, x, y, offset, result);\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tcalculateDiagonalAreaForPattern(i, x, y, offset, result);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tc = (y * size + x) * 2;\r\n\r\n\t\t\t\tdata[c] = result.x * 255;\r\n\t\t\t\tdata[c + 1] = result.y * 255;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Assembles orthogonal or diagonal patterns into the final area image.\r\n *\r\n * @private\r\n * @param {Vector2} base - A base position.\r\n * @param {RawImageData[]} patterns - The patterns to assemble.\r\n * @param {Uint8Array[]} edges - Edge coordinate pairs, used for positioning.\r\n * @param {Number} size - The pattern size.\r\n * @param {Boolean} orthogonal - Whether the patterns are orthogonal or diagonal.\r\n * @param {RawImageData} target - The target image data.\r\n */\r\n\r\nfunction assemble(base, patterns, edges, size, orthogonal, target) {\r\n\r\n\tconst p = new Vector2();\r\n\r\n\tconst dstData = target.data;\r\n\tconst dstWidth = target.width;\r\n\r\n\tlet i, l;\r\n\tlet x, y;\r\n\tlet c, d;\r\n\r\n\tlet edge;\r\n\tlet pattern;\r\n\tlet srcData, srcWidth;\r\n\r\n\tfor(i = 0, l = patterns.length; i < l; ++i) {\r\n\r\n\t\tedge = edges[i];\r\n\t\tpattern = patterns[i];\r\n\r\n\t\tsrcData = pattern.data;\r\n\t\tsrcWidth = pattern.width;\r\n\r\n\t\tfor(y = 0; y < size; ++y) {\r\n\r\n\t\t\tfor(x = 0; x < size; ++x) {\r\n\r\n\t\t\t\tp.set(\r\n\t\t\t\t\tedge[0] * size + base.x + x,\r\n\t\t\t\t\tedge[1] * size + base.y + y\r\n\t\t\t\t);\r\n\r\n\t\t\t\tc = (p.y * dstWidth + p.x) * 4;\r\n\r\n\t\t\t\t/* The texture coordinates of orthogonal patterns are compressed\r\n\t\t\t\tquadratically to reach longer distances for a given texture size. */\r\n\t\t\t\td = orthogonal ? ((y * y * srcWidth + x * x) * 2) :\r\n\t\t\t\t\t((y * srcWidth + x) * 2);\r\n\r\n\t\t\t\tdstData[c] = srcData[d];\r\n\t\t\t\tdstData[c + 1] = srcData[d + 1];\r\n\t\t\t\tdstData[c + 2] = 0;\r\n\t\t\t\tdstData[c + 3] = 255;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * SMAA area image data.\r\n *\r\n * This texture allows to obtain the area for a certain pattern and distances\r\n * to the left and to the right of the identified line.\r\n *\r\n * Based on the official python scripts:\r\n *  https://github.com/iryoku/smaa/tree/master/Scripts\r\n */\r\n\r\nclass SMAAAreaImageData {\r\n\r\n\t/**\r\n\t * Creates a new area image.\r\n\t *\r\n\t * @return {RawImageData} The generated image data.\r\n\t */\r\n\r\n\tstatic generate() {\r\n\r\n\t\tconst width = 2 * 5 * ORTHOGONAL_SIZE;\r\n\t\tconst height = orthogonalSubsamplingOffsets.length * 5 * ORTHOGONAL_SIZE;\r\n\r\n\t\tconst data = new Uint8ClampedArray(width * height * 4);\r\n\t\tconst result = new RawImageData(width, height, data);\r\n\r\n\t\tconst orthogonalPatternSize = Math.pow(ORTHOGONAL_SIZE - 1, 2) + 1;\r\n\t\tconst diagonalPatternSize = DIAGONAL_SIZE;\r\n\r\n\t\tconst orthogonalPatterns = [];\r\n\t\tconst diagonalPatterns = [];\r\n\r\n\t\tconst base = new Vector2();\r\n\r\n\t\tlet i, l;\r\n\r\n\t\t// Prepare 16 image data sets for the orthogonal and diagonal subtextures.\r\n\t\tfor(i = 0; i < 16; ++i) {\r\n\r\n\t\t\torthogonalPatterns.push(new RawImageData(orthogonalPatternSize, orthogonalPatternSize,\r\n\t\t\t\tnew Uint8ClampedArray(orthogonalPatternSize * orthogonalPatternSize * 2), 2));\r\n\r\n\t\t\tdiagonalPatterns.push(new RawImageData(diagonalPatternSize, diagonalPatternSize,\r\n\t\t\t\tnew Uint8ClampedArray(diagonalPatternSize * diagonalPatternSize * 2), 2));\r\n\r\n\t\t}\r\n\r\n\t\tfor(i = 0, l = orthogonalSubsamplingOffsets.length; i < l; ++i) {\r\n\r\n\t\t\t// Generate 16 orthogonal patterns for each offset.\r\n\t\t\tgeneratePatterns(orthogonalPatterns, orthogonalSubsamplingOffsets[i], true);\r\n\r\n\t\t\t// Assemble the orthogonal patterns and place them on the left side.\r\n\t\t\tbase.set(0, 5 * ORTHOGONAL_SIZE * i);\r\n\t\t\tassemble(base, orthogonalPatterns, orthogonalEdges, ORTHOGONAL_SIZE, true, result);\r\n\r\n\t\t}\r\n\r\n\t\tfor(i = 0, l = diagonalSubsamplingOffsets.length; i < l; ++i) {\r\n\r\n\t\t\t// Generate 16 diagonal patterns for each offset.\r\n\t\t\tgeneratePatterns(diagonalPatterns, diagonalSubsamplingOffsets[i], false);\r\n\r\n\t\t\t// Assemble the diagonal patterns and place them on the right side.\r\n\t\t\tbase.set(5 * ORTHOGONAL_SIZE, 4 * DIAGONAL_SIZE * i);\r\n\t\t\tassemble(base, diagonalPatterns, diagonalEdges, DIAGONAL_SIZE, false, result);\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * This dictionary returns which edges are active for a certain bilinear fetch:\r\n * it's the reverse lookup of the bilinear function.\r\n *\r\n * @type {Map}\r\n * @private\r\n */\r\n\r\nconst edges = new Map([\r\n\r\n\t[bilinear([0, 0, 0, 0]), [0, 0, 0, 0]],\r\n\t[bilinear([0, 0, 0, 1]), [0, 0, 0, 1]],\r\n\t[bilinear([0, 0, 1, 0]), [0, 0, 1, 0]],\r\n\t[bilinear([0, 0, 1, 1]), [0, 0, 1, 1]],\r\n\r\n\t[bilinear([0, 1, 0, 0]), [0, 1, 0, 0]],\r\n\t[bilinear([0, 1, 0, 1]), [0, 1, 0, 1]],\r\n\t[bilinear([0, 1, 1, 0]), [0, 1, 1, 0]],\r\n\t[bilinear([0, 1, 1, 1]), [0, 1, 1, 1]],\r\n\r\n\t[bilinear([1, 0, 0, 0]), [1, 0, 0, 0]],\r\n\t[bilinear([1, 0, 0, 1]), [1, 0, 0, 1]],\r\n\t[bilinear([1, 0, 1, 0]), [1, 0, 1, 0]],\r\n\t[bilinear([1, 0, 1, 1]), [1, 0, 1, 1]],\r\n\r\n\t[bilinear([1, 1, 0, 0]), [1, 1, 0, 0]],\r\n\t[bilinear([1, 1, 0, 1]), [1, 1, 0, 1]],\r\n\t[bilinear([1, 1, 1, 0]), [1, 1, 1, 0]],\r\n\t[bilinear([1, 1, 1, 1]), [1, 1, 1, 1]]\r\n\r\n]);\r\n\r\n/**\r\n * Linearly interpolates between two values.\r\n *\r\n * @private\r\n * @param {Number} a - The initial value.\r\n * @param {Number} b - The target value.\r\n * @param {Number} p - The interpolation value.\r\n * @return {Number} The interpolated value.\r\n */\r\n\r\nfunction lerp$1(a, b, p) {\r\n\r\n\treturn a + (b - a) * p;\r\n\r\n}\r\n\r\n/**\r\n * Calculates the bilinear fetch for a certain edge combination.\r\n *\r\n *     e[0]       e[1]\r\n *\r\n *              x <-------- Sample Position: (-0.25, -0.125)\r\n *     e[2]       e[3] <--- Current Pixel [3]: (0.0, 0.0)\r\n *\r\n * @private\r\n * @param {Number[]} e - The edge combination.\r\n * @return {Number} The interpolated value.\r\n */\r\n\r\nfunction bilinear(e) {\r\n\r\n\tconst a = lerp$1(e[0], e[1], 1.0 - 0.25);\r\n\tconst b = lerp$1(e[2], e[3], 1.0 - 0.25);\r\n\r\n\treturn lerp$1(a, b, 1.0 - 0.125);\r\n\r\n}\r\n\r\n/**\r\n * Computes the delta distance to add in the last step of searches to the left.\r\n *\r\n * @private\r\n * @param {Number[]} left - The left edge combination.\r\n * @param {Number[]} top - The top edge combination.\r\n * @return {Number} The left delta distance.\r\n */\r\n\r\nfunction deltaLeft(left, top) {\r\n\r\n\tlet d = 0;\r\n\r\n\t// If there is an edge, continue.\r\n\tif(top[3] === 1) {\r\n\r\n\t\td += 1;\r\n\r\n\t}\r\n\r\n\t/* If an edge was previously found, there is another edge and there are no\r\n\tcrossing edges, continue. */\r\n\tif(d === 1 && top[2] === 1 && left[1] !== 1 && left[3] !== 1) {\r\n\r\n\t\td += 1;\r\n\r\n\t}\r\n\r\n\treturn d;\r\n\r\n}\r\n\r\n/**\r\n * Computes the delta distance to add in the last step of searches to the right.\r\n *\r\n * @private\r\n * @param {Number[]} left - The left edge combination.\r\n * @param {Number[]} top - The top edge combination.\r\n * @return {Number} The right delta distance.\r\n */\r\n\r\nfunction deltaRight(left, top) {\r\n\r\n\tlet d = 0;\r\n\r\n\t// If there is an edge, and no crossing edges, continue.\r\n\tif(top[3] === 1 && left[1] !== 1 && left[3] !== 1) {\r\n\r\n\t\td += 1;\r\n\r\n\t}\r\n\r\n\t/* If an edge was previously found, there is another edge and there are no\r\n\tcrossing edges, continue. */\r\n\tif(d === 1 && top[2] === 1 && left[0] !== 1 && left[2] !== 1) {\r\n\r\n\t\td += 1;\r\n\r\n\t}\r\n\r\n\treturn d;\r\n\r\n}\r\n\r\n/**\r\n * SMAA search image data.\r\n *\r\n * This image stores information about how many pixels the line search\r\n * algorithm must advance in the last step.\r\n *\r\n * Based on the official python scripts:\r\n *  https://github.com/iryoku/smaa/tree/master/Scripts\r\n */\r\n\r\nclass SMAASearchImageData {\r\n\r\n\t/**\r\n\t * Creates a new search image.\r\n\t *\r\n\t * @return {RawImageData} The generated image data.\r\n\t */\r\n\r\n\tstatic generate() {\r\n\r\n\t\tconst width = 66;\r\n\t\tconst height = 33;\r\n\t\tconst halfWidth = width / 2;\r\n\r\n\t\tconst croppedWidth = 64;\r\n\t\tconst croppedHeight = 16;\r\n\r\n\t\tconst data = new Uint8ClampedArray(width * height);\r\n\t\tconst croppedData = new Uint8ClampedArray(croppedWidth * croppedHeight * 4);\r\n\r\n\t\tlet x, y;\r\n\t\tlet s, t, i;\r\n\t\tlet e1, e2;\r\n\r\n\t\t// Calculate delta distances.\r\n\t\tfor(y = 0; y < height; ++y) {\r\n\r\n\t\t\tfor(x = 0; x < width; ++x) {\r\n\r\n\t\t\t\ts = 0.03125 * x;\r\n\t\t\t\tt = 0.03125 * y;\r\n\r\n\t\t\t\tif(edges.has(s) && edges.has(t)) {\r\n\r\n\t\t\t\t\te1 = edges.get(s);\r\n\t\t\t\t\te2 = edges.get(t);\r\n\r\n\t\t\t\t\ti = y * width + x;\r\n\r\n\t\t\t\t\t// Maximize the dynamic range to help the compression.\r\n\t\t\t\t\tdata[i] = (127 * deltaLeft(e1, e2));\r\n\t\t\t\t\tdata[i + halfWidth] = (127 * deltaRight(e1, e2));\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Crop the result to powers-of-two to make it BC4-friendly.\r\n\t\tfor(i = 0, y = height - croppedHeight; y < height; ++y) {\r\n\r\n\t\t\tfor(x = 0; x < croppedWidth; ++x, i += 4) {\r\n\r\n\t\t\t\tcroppedData[i] = data[y * width + x];\r\n\t\t\t\tcroppedData[i + 3] = 255;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn new RawImageData(croppedWidth, croppedHeight, croppedData);\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport { AdaptiveLuminanceMaterial, BlendFunction, BlendMode, BloomEffect, BlurPass, BokehEffect, BokehMaterial, BrightnessContrastEffect, ChromaticAberrationEffect, CircleOfConfusionMaterial, ClearMaskPass, ClearPass, ColorAverageEffect, ColorChannel, ColorDepthEffect, ColorEdgesMaterial, ConvolutionMaterial, CopyMaterial, DepthComparisonMaterial, DepthDownsamplingMaterial, DepthDownsamplingPass, DepthEffect, DepthMaskMaterial, DepthOfFieldEffect, DepthPass, Disposable, DotScreenEffect, EdgeDetectionMaterial, EdgeDetectionMode, Effect, EffectAttribute, EffectComposer, EffectMaterial, EffectPass, GammaCorrectionEffect, GlitchEffect, GlitchMode, GodRaysEffect, GodRaysMaterial, GridEffect, HueSaturationEffect, Initializable, KernelSize, LuminanceMaterial, MaskFunction, MaskMaterial, MaskPass, NoiseEffect, NoiseTexture, NormalPass, OutlineEdgesMaterial, OutlineEffect, OutlineMaterial, OverrideMaterialManager, Pass, PixelationEffect, RawImageData, RealisticBokehEffect, RenderPass, Resizable, Resizer, SMAAAreaImageData, SMAAEffect, SMAAImageLoader, SMAAPreset, SMAASearchImageData, SMAAWeightsMaterial, SSAOEffect, SSAOMaterial, SavePass, ScanlineEffect, Section, Selection, SelectiveBloomEffect, SepiaEffect, ShaderPass, ShockWaveEffect, TextureEffect, ToneMappingEffect, VignetteEffect, WebGLExtension };\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { PanelModelObjectService } from '../panel-model-object.service';\n\n@Component({\n  selector: 'panel-model-object-tab-meshes',\n  templateUrl: './panel-model-object-tab-meshes.component.html',\n  styleUrls: ['./panel-model-object-tab-meshes.component.scss']\n})\nexport class PanelModelObjectTabMeshesComponent extends BaseComponent implements OnInit {\n  @Input() meshes: any = [];\n  _s: PanelModelObjectService;\n  @Output() subcribe = new EventEmitter<any>();\n  @Output() onUpdate = new EventEmitter<any>();\n  @Output() onUpdateTitle = new EventEmitter<any>();\n  @Input() secretKey: string = '';\n  constructor(private service: PanelModelObjectService) {\n    super();\n  }\n\n  onInit(): void {\n    this._s = this.service;\n  }\n\n  onUpdateMaterial(event){\n    this.subcribe.emit(event);\n  }\n\n}\n","<div class=\"tab-inner\">\n    <div class=\"inputs store\">\n        <div *ngFor=\"let mesh of meshes; let i=index\">\n            <ng-container *ngIf=\"mesh.data.isArrayMaterial; then arrayMaterialTemplate; else objectMaterialTemplate\"></ng-container>\n            <ng-template #arrayMaterialTemplate>\n                \n            </ng-template>\n            <ng-template #objectMaterialTemplate>\n                <collapse-mesh-material [mesh]=\"mesh\" [title]=\"mesh.title\" [service]=\"_s\" (subcribe)=\"onUpdateMaterial($event)\"></collapse-mesh-material>\n            </ng-template>\n            \n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { isArray, objectHasKey } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '../../base/base.component';\nimport { EditorToolbarService } from './editor-toolbar.service';\n\ninterface Btn {\n    key: string\n    text: string,\n    type?: string\n    icon?: string\n}\n\n@Component({\n    selector: 'viewport-editor-toolbar',\n    templateUrl: './editor-toolbar.component.html',\n    styleUrls: ['./editor-toolbar.component.scss']\n})\nexport class EditorToolbarComponent extends BaseComponent implements OnInit {\n    buttons: Btn[] = [\n        {\n            key: \"saveView\",\n            text: \"Save View\",\n        },\n        {\n            key: \"saveThumbnail\",\n            text: \"Save Thumbnail\",\n        },\n        {\n            key: \"exportImage\",\n            text: \"Export Image\",\n        }\n    ];\n    showBtns: Btn[] = [];\n    show: boolean = false;\n    constructor(private events: EditorToolbarService) {\n        super();\n    }\n\n    onChangeSubEvents(){\n        this.registerEventService(this.subEvents, {\n            \"show|dispatch\": e => this.showButtons(...e.buttons),\n            \"hide|dispatch\": e => this.hideButtons()\n        });\n    }\n\n    onInit(): void {\n        \n    }\n\n    showButtons(...args: any[]) {\n        if(args.length == 0) return this.hideButtons();\n        this.showBtns = [];\n        let list: any[] = [];\n        let hasShow: boolean = false;\n        for (let index = 0; index < args.length; index++) {\n            const arg = args[index];\n            if (isArray(arg)) arg.map(s => list.push(s));\n            else list.push(arg)\n        }\n        list.map(key => {\n            this.buttons.map(btn => {\n                if (btn.key == key) {\n                    this.showBtns.push(btn);\n                    hasShow = true;\n                }\n            })\n        })\n        this.show = hasShow;\n    }\n\n    hideButtons() {\n        this.show = false\n        this.showBtns = []\n    }\n\n    onClick(key) {\n        this.subEvents.emit({\n            type: \"click\",\n            key: key\n        });\n    }\n\n}\n","<div class=\"menu\" *ngIf=\"show\">\n    <button nz-button (click)=\"onClick(btn.key)\" *ngFor=\"let btn of showBtns\">\n        {{btn.text|translate}}\n    </button>\n</div>","import { Injectable } from '@angular/core';\r\nimport { environment } from '@env/environment';\r\n\r\nimport { Observable, of } from 'rxjs';\r\nimport { SettingService } from './setting/setting.service';\r\n\r\n@Injectable()\r\nexport class PermissionsService {\r\n  private readonly WORKFLOW_EVENTS = Object.freeze(environment.workflow);\r\n  private userRoles: Array<string> = [];\r\n\r\n  constructor(private settingService: SettingService) {}\r\n\r\n  public checkAuthorization(path: any): Observable<boolean> {\r\n    if (!this.userRoles) {\r\n      const roles = this.settingService.roles || [];\r\n      this.userRoles = roles;\r\n    }\r\n    return of(this.doCheckAuthorization(path));\r\n  }\r\n\r\n  public checkAuthorizationSync(path: any): boolean {\r\n    if (this.userRoles.length < 1) {\r\n      const roles = this.settingService.roles || [];\r\n      this.userRoles = roles;\r\n      this.doCheckAuthorization(path);\r\n    }\r\n    return this.doCheckAuthorization(path);\r\n  }\r\n\r\n  private doCheckAuthorization(path: any): boolean {\r\n    const paths = this.settingService.paths;\r\n    return paths.has(path);\r\n  }\r\n\r\n  private parsePath(path: any): string[] {\r\n    if (typeof path === 'string') {\r\n      return path.split('.');\r\n    }\r\n    if (Array.isArray(path)) {\r\n      return path;\r\n    }\r\n    return [];\r\n  }\r\n\r\n  private findEntry(currentObject: any, keys: string[], index = 0) {\r\n    const key = keys[index];\r\n    if (currentObject[key] && index < keys.length - 1) {\r\n      return this.findEntry(currentObject[key], keys, index + 1);\r\n    } else if (currentObject[key] && index === keys.length - 1) {\r\n      return currentObject[key];\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { isObject } from '@app/_core/helpers/utils';\nimport { EventManagerService } from '@app/_core/services/event-manager.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PanelModelObjectService  extends EventManagerService {\n\n  constructor() {\n      super();\n  }\n  \n\n  open(data: any, onChange?: (...args: any[]) => any, onDone?: (...args: any[]) => any) {\n      if (!isObject(data)) return false;\n      if (typeof onChange == \"function\") {\n          if (typeof data.onChange != \"function\") {\n              data.onChange = onChange;\n          }\n          else if (typeof data.change != \"function\") {\n              data.change = onChange;\n          }\n      }\n\n      if (typeof onChange == \"function\") {\n          if (typeof data.onDone != \"function\") {\n              data.onDone = onDone;\n          }\n          else if (typeof data.done != \"function\") {\n              data.done = onDone;\n          }\n      }\n\n      this.emit({\n          type: \"panel.show\",\n          data: data\n      })\n  }\n  close(){\n    this.emit(\"panel.hide\");\n}\n\n\n  updateProps(data){\n      if(isObject(data) && data.secret_key){\n          this.emit({\n              type: \"editor.update.props\",\n              data: data\n          })\n      }\n  }\n}\n","import {\r\n\tEventDispatcher,\r\n\tMatrix4,\r\n\tPlane,\r\n\tRaycaster,\r\n\tVector2,\r\n\tVector3\r\n} from 'three';\r\n\r\nconst _plane = new Plane();\r\nconst _raycaster = new Raycaster();\r\n\r\nconst _pointer = new Vector2();\r\nconst _offset = new Vector3();\r\nconst _intersection = new Vector3();\r\nconst _worldPosition = new Vector3();\r\nconst _inverseMatrix = new Matrix4();\r\n\r\nclass DragControls extends EventDispatcher {\r\n\r\n\tconstructor( _objects, _camera, _domElement ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\t_domElement.style.touchAction = 'none'; // disable touch scroll\r\n\r\n\t\tlet _selected = null, _hovered = null;\r\n\r\n\t\tconst _intersections = [];\r\n\r\n\t\t//\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\tfunction activate() {\r\n\r\n\t\t\t_domElement.addEventListener( 'pointermove', onPointerMove );\r\n\t\t\t_domElement.addEventListener( 'pointerdown', onPointerDown );\r\n\t\t\t_domElement.addEventListener( 'pointerup', onPointerCancel );\r\n\t\t\t_domElement.addEventListener( 'pointerleave', onPointerCancel );\r\n\r\n\t\t}\r\n\r\n\t\tfunction deactivate() {\r\n\r\n\t\t\t_domElement.removeEventListener( 'pointermove', onPointerMove );\r\n\t\t\t_domElement.removeEventListener( 'pointerdown', onPointerDown );\r\n\t\t\t_domElement.removeEventListener( 'pointerup', onPointerCancel );\r\n\t\t\t_domElement.removeEventListener( 'pointerleave', onPointerCancel );\r\n\r\n\t\t\t_domElement.style.cursor = '';\r\n\r\n\t\t}\r\n\r\n\t\tfunction dispose() {\r\n\r\n\t\t\tdeactivate();\r\n\r\n\t\t}\r\n\r\n\t\tfunction getObjects() {\r\n\r\n\t\t\treturn _objects;\r\n\r\n\t\t}\r\n\r\n\t\tfunction onPointerMove( event ) {\r\n\r\n\t\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\t\tupdatePointer( event );\r\n\r\n\t\t\t_raycaster.setFromCamera( _pointer, _camera );\r\n\r\n\t\t\tif ( _selected ) {\r\n\r\n\t\t\t\tif ( _raycaster.ray.intersectPlane( _plane, _intersection ) ) {\r\n\r\n\t\t\t\t\t_selected.position.copy( _intersection.sub( _offset ).applyMatrix4( _inverseMatrix ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscope.dispatchEvent( { type: 'drag', object: _selected } );\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// hover support\r\n\r\n\t\t\tif ( event.pointerType === 'mouse' || event.pointerType === 'pen' ) {\r\n\r\n\t\t\t\t_intersections.length = 0;\r\n\r\n\t\t\t\t_raycaster.setFromCamera( _pointer, _camera );\r\n\t\t\t\t_raycaster.intersectObjects( _objects, true, _intersections );\r\n\r\n\t\t\t\tif ( _intersections.length > 0 ) {\r\n\r\n\t\t\t\t\tconst object = _intersections[ 0 ].object;\r\n\r\n\t\t\t\t\t_plane.setFromNormalAndCoplanarPoint( _camera.getWorldDirection( _plane.normal ), _worldPosition.setFromMatrixPosition( object.matrixWorld ) );\r\n\r\n\t\t\t\t\tif ( _hovered !== object && _hovered !== null ) {\r\n\r\n\t\t\t\t\t\tscope.dispatchEvent( { type: 'hoveroff', object: _hovered } );\r\n\r\n\t\t\t\t\t\t_domElement.style.cursor = 'auto';\r\n\t\t\t\t\t\t_hovered = null;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( _hovered !== object ) {\r\n\r\n\t\t\t\t\t\tscope.dispatchEvent( { type: 'hoveron', object: object } );\r\n\r\n\t\t\t\t\t\t_domElement.style.cursor = 'pointer';\r\n\t\t\t\t\t\t_hovered = object;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( _hovered !== null ) {\r\n\r\n\t\t\t\t\t\tscope.dispatchEvent( { type: 'hoveroff', object: _hovered } );\r\n\r\n\t\t\t\t\t\t_domElement.style.cursor = 'auto';\r\n\t\t\t\t\t\t_hovered = null;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction onPointerDown( event ) {\r\n\r\n\t\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\t\tupdatePointer( event );\r\n\r\n\t\t\t_intersections.length = 0;\r\n\r\n\t\t\t_raycaster.setFromCamera( _pointer, _camera );\r\n\t\t\t_raycaster.intersectObjects( _objects, true, _intersections );\r\n\r\n\t\t\tif ( _intersections.length > 0 ) {\r\n\r\n\t\t\t\t_selected = ( scope.transformGroup === true ) ? _objects[ 0 ] : _intersections[ 0 ].object;\r\n\r\n\t\t\t\t_plane.setFromNormalAndCoplanarPoint( _camera.getWorldDirection( _plane.normal ), _worldPosition.setFromMatrixPosition( _selected.matrixWorld ) );\r\n\r\n\t\t\t\tif ( _raycaster.ray.intersectPlane( _plane, _intersection ) ) {\r\n\r\n\t\t\t\t\t_inverseMatrix.copy( _selected.parent.matrixWorld ).invert();\r\n\t\t\t\t\t_offset.copy( _intersection ).sub( _worldPosition.setFromMatrixPosition( _selected.matrixWorld ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_domElement.style.cursor = 'move';\r\n\r\n\t\t\t\tscope.dispatchEvent( { type: 'dragstart', object: _selected } );\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\r\n\t\tfunction onPointerCancel() {\r\n\r\n\t\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\t\tif ( _selected ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( { type: 'dragend', object: _selected } );\r\n\r\n\t\t\t\t_selected = null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_domElement.style.cursor = _hovered ? 'pointer' : 'auto';\r\n\r\n\t\t}\r\n\r\n\t\tfunction updatePointer( event ) {\r\n\r\n\t\t\tconst rect = _domElement.getBoundingClientRect();\r\n\r\n\t\t\t_pointer.x = ( event.clientX - rect.left ) / rect.width * 2 - 1;\r\n\t\t\t_pointer.y = - ( event.clientY - rect.top ) / rect.height * 2 + 1;\r\n\r\n\t\t}\r\n\r\n\t\tactivate();\r\n\r\n\t\t// API\r\n\r\n\t\tthis.enabled = true;\r\n\t\tthis.transformGroup = false;\r\n\r\n\t\tthis.activate = activate;\r\n\t\tthis.deactivate = deactivate;\r\n\t\tthis.dispose = dispose;\r\n\t\tthis.getObjects = getObjects;\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport { DragControls };\r\n","import { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\n\n@Component({\n    selector: 'app-sidebar-lock',\n    templateUrl: './sidebar-lock.component.html',\n    styleUrls: ['./sidebar-lock.component.scss']\n})\nexport class SidebarLockComponent extends BaseComponent implements OnInit {\n\n    show: boolean = false;\n    constructor(private events: AppEditorEventService, private cd: ChangeDetectorRef) {\n        super();\n        \n    }\n\n    init(){\n        if(this.isChangeSubEvents){\n            this.registerEventService(this.subEvents, {\n                \"show:sidebar-lock|dispatch\": () => {\n                    this.show = true;\n                },\n                \"hide:sidebar-lock|dispatch\": () => {\n                    this.show = false;\n                }\n            })\n        }\n        this.activeEventServiceRegistered(this.subEvents);\n    }\n    onDestroy(){\n        this.deactiveEventServiceRegistered(this.subEvents);\n    }\n}\n","<div class=\"loading-wrapper\" [class.active]=\"show\">\n    <div class=\"lds-heart\"><div></div></div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { BaseInpGroupComponent } from '../base-inp-group/base-inp-group.component';\n\n@Component({\n  selector: 'inp-text-group',\n  templateUrl: './inp-text-group.component.html',\n  styleUrls: ['./inp-text-group.component.scss']\n})\nexport class InpTextGroupComponent extends BaseInpGroupComponent implements OnInit {\n\n  \n  constructor() {\n    super();\n  }\n\n  onInit(): void {\n    this.inpInit();\n    this.old = this.value;\n  }\n\n  onChangeValue(event) {\n    if (this.old !== this.value) {\n      this.emitChange();\n    }\n  }\n\n}\n","<div class=\"inner-box\">{{label?label:name | translate}}</div>\n<div class=\"input-wrapper\">\n    <input nz-input placeholder=\"{{placeholder?placeholder:name|translate}}\" [(ngModel)]=\"value\" (input)=\"onChangeValue($event)\" (change)=\"onChangeValue($event)\" />\n</div>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { Object3DPropDataModel, Object3DPropDefaultData } from '@app/_3D/store/data.type';\nimport { assignValue, isObject } from '@app/_core/helpers/utils';\nimport { InpEvent } from '@app/_shared/shared.type';\n\n@Component({\n    selector: 'mesh-geometry-tab-properties',\n    templateUrl: './mesh-geometry-tab-properties.component.html',\n    styleUrls: ['./mesh-geometry-tab-properties.component.scss']\n})\nexport class MeshGeometryTabPropertiesComponent implements OnInit {\n    @Input() props: Object3DPropDataModel = null;\n    @Input() index: number = 0;\n    @Output() onUpdate = new EventEmitter<Object3DPropDataModel>();\n    @Input() events: any = null;\n\n    @Output() subcribe = new EventEmitter<InpEvent>();\n    constructor() { }\n\n    ngOnInit(): void {\n        let defData = assignValue({}, Object3DPropDefaultData);\n        let finalData = assignValue(defData, this.props);\n        if (!isObject(this.props)) this.props = finalData;\n        else assignValue(this.props, finalData);\n        // console.log(this.props)\n\n    }\n\n    onInputChange(event) {\n        if (event && isObject(event) && event.name) {\n            if (isObject(this.props[event.name]) && isObject(event.value)) {\n                assignValue(this.props[event.name], event.value);\n            }\n            else {\n                this.props[event.name] = event.value;\n            }\n            this.emitUpdate(event.name, event.value);\n        }\n    }\n\n    emitUpdate(name, value) {\n        this.onUpdate.emit(this.props);\n        this.subcribe.emit({\n            name: name,\n            value: value,\n            props: this.props\n        });\n    }\n}\n","<div class=\"tab-inner\">\n    <div class=\"inputs store\">\n        <inp-text-group class=\"item-name-group\" name=\"name\" label=\"Mesh Object Name\" [(value)]=\"props.name\" (subcribe)=\"onInputChange($event)\"></inp-text-group>\n        <div class=\"inp-list\" *ngIf=\"props\">\n\n            <inp-switch-group class=\"inp-group-item\" name=\"castShadow\" [(value)]=\"props.castShadow\" label=\"Cast Shadow\" (subcribe)=\"onInputChange($event)\"></inp-switch-group>\n\n            <inp-switch-group class=\"inp-group-item\" name=\"receiveShadow\" [(value)]=\"props.receiveShadow\" label=\"Receive Shadow\" (subcribe)=\"onInputChange($event)\"></inp-switch-group>\n\n            <inp-vector3-group class=\"inp-group-item\" name=\"scale\" [(value)]=\"props.scale\" label=\"Scale\" (subcribe)=\"onInputChange($event)\"></inp-vector3-group>\n\n            <inp-rotation-group class=\"inp-group-item\" name=\"rotation\" [(value)]=\"props.rotation\" label=\"Rotation\" (subcribe)=\"onInputChange($event)\" [events]=\"events\"></inp-rotation-group>\n\n            <inp-vector3-group class=\"inp-group-item\" name=\"position\" [(value)]=\"props.position\" label=\"Position\" (subcribe)=\"onInputChange($event)\" [btnCenter]=\"true\"></inp-vector3-group>\n\n        </div>\n    </div>\n</div>","export * from './model';\r\nexport * from './service';\r\nexport * from './table';\r\n","export * from './auth.guard';\r\nexport * from './authorization.guard';\r\nexport * from './un-auth.guard';\r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\nimport { FloorDefaultData, FloorSetting, SceneSize, SceneSizeDefaultData } from '@app/_3D/store/data.type';\nimport { assignValue } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { ImageLibraryService } from '@app/_shared/components/modals/image-library/image-library.service';\nimport { ModalConfirmService } from '@app/_shared/services/modal-confirm.service';\n\n@Component({\n    selector: 'app-tab-scene-settings',\n    templateUrl: './tab-scene-settings.component.html',\n    styleUrls: ['./tab-scene-settings.component.scss']\n})\nexport class TabSceneSettingsComponent extends BaseComponent implements OnInit {\n    sceneSize: SceneSize = assignValue({}, SceneSizeDefaultData);\n    floor: FloorSetting = assignValue({}, FloorDefaultData);\n    app: AppEditorService\n    constructor(\n        private cd: ChangeDetectorRef,\n        private library: ImageLibraryService,\n        private cfm: ModalConfirmService,\n        private events: AppEditorEventService\n    ) {\n        super();\n    }\n\n    initOnce(){\n        this.app = this.events.app;\n     \n    }\n    init() {\n        if(this.isChangeSubEvents){\n            this.app = this.subEvents.app;\n        }\n        this.initSize();\n        this.initFloor();\n    }\n    destroy(){\n        \n    }\n    initSize() {\n        assignValue(this.sceneSize, this.app.getSceneSizeSetting());\n    }\n\n    onTextureCancel() {\n        this.cd.detectChanges();\n        setTimeout(() => {\n            this.subEvents.emit(\"tab.scene.refresh\");\n        }, 200);\n    }\n    updateSize(event) {\n        this.sceneSize[event.name] = event.value;\n        this.app.updateSceneSizeSetting(this.sceneSize);\n    }\n\n    initFloor() {\n        assignValue(this.floor, this.app.getFloorSetting());\n    }\n    updateFloor(event) {\n        this.floor[event.name] = event.value;\n        setTimeout(() => {\n            this.app.updateSceneFloorSetting(this.floor);    \n        }, 10);\n        \n    }\n    updateFloorParams(event) {\n        this.floor.params[event.name] = event.value;\n        this.app.updateSceneFloorSetting(this.floor);\n    }\n    updateFloorProps(event) {\n        this.floor.props[event.name] = event.value;\n        this.app.updateSceneFloorSetting(this.floor);\n    }\n\n\n    updateFloorPosition(event) {\n        this.floor.props.position[event.name] = event.value;\n        this.app.updateSceneFloorSetting(this.floor);\n    }\n\n    updateFloorMaterial(event) {\n        this.floor.material[event.name] = event.value;\n        this.app.updateSceneFloorSetting(this.floor);\n    }\n\n}\n","<div class=\"tab-inner\">\n    <div class=\"tab-header\">\n        <h3>Scene Settings</h3>\n    </div>\n    <div class=\"store\">\n        <div class=\"inputs group group-border\">\n            <h4>Size</h4>\n            <inp-number-group name=\"width\" [(value)]=\"sceneSize.width\" label=\"Width (x)\" (subcribe)=\"updateSize($event)\" [min]=\"0.1\" [max]=\"1000\" [step]=\"0.1\" class=\"inp-group-item-first\"></inp-number-group>\n            <inp-number-group name=\"depth\" [(value)]=\"sceneSize.depth\" label=\"Depth (z)\" (subcribe)=\"updateSize($event)\" [min]=\"0.1\" [max]=\"1000\" [step]=\"0.1\" class=\"inp-group-item\"></inp-number-group>\n        </div>\n        <div class=\"inputs group\">\n            <h4>Floor</h4>\n            <inp-number-group name=\"y\" [(value)]=\"floor.props.position.y\" label=\"Position Y\" (subcribe)=\"updateFloorPosition($event)\" [min]=\"-1000\" [max]=\"1000\" [step]=\"0.001\" class=\"inp-group-item-first\"></inp-number-group>\n            <inp-switch-group name=\"above\" [(value)]=\"floor.above\" label=\"Dropping Object Above Floor\" (subcribe)=\"updateFloor($event)\" class=\"inp-group-item\"></inp-switch-group>\n\n            <inp-switch-group name=\"enableGrid\" [(value)]=\"floor.enableGrid\" label=\"show Grid\" (subcribe)=\"updateFloor($event)\" class=\"inp-group-item\"></inp-switch-group>\n            <!-- <inp-switch-group name=\"enableAxes\" [(value)]=\"floor.enableAxes\" label=\"show Axes\" (subcribe)=\"updateFloor($event)\" class=\"inp-group-item\"></inp-switch-group> -->\n\n\n            <inp-switch-group name=\"enabled\" [(value)]=\"floor.enabled\" label=\"Enable (Show)\" (subcribe)=\"updateFloor($event)\" class=\"inp-group-item\"></inp-switch-group>\n            <div *ngIf=\"floor.enabled\">\n                <div class=\"hr\"></div>\n                <h4>Floor size</h4>\n                <inp-number-group name=\"width\" [(value)]=\"floor.params.width\" label=\"Width (x)\" (subcribe)=\"updateFloorParams($event)\" [min]=\"0.1\" [max]=\"1000\" [step]=\"0.1\" class=\"inp-group-item\"></inp-number-group>\n                <inp-number-group name=\"height\" [(value)]=\"floor.params.height\" label=\"Depth (z)\" (subcribe)=\"updateFloorParams($event)\" [min]=\"0.1\" [max]=\"1000\" [step]=\"0.1\" class=\"inp-group-item\"></inp-number-group>\n                \n                <div class=\"hr\"></div>\n                <h4>Floor Shadow</h4>\n                <inp-switch-group name=\"receiveShadow\" [(value)]=\"floor.props.receiveShadow\" label=\"Receive Shadow\" (subcribe)=\"updateFloorProps($event)\" class=\"inp-group-item\"></inp-switch-group>\n                \n                <div class=\"hr\"></div>\n                <h4>Material</h4>\n                <inp-color-group name=\"color\" [(value)]=\"floor.material.color\" label=\"Color\" (subcribe)=\"updateFloorMaterial($event)\" class=\"inp-group-item\"></inp-color-group>\n                <inp-texture-group name=\"map\" [(value)]=\"floor.material.map\" label=\"Map\" (subcribe)=\"updateFloorMaterial($event)\" (onCloseLibrary)=\"onTextureCancel()\" class=\"inp-group-item\"></inp-texture-group>\n                <inp-texture-group name=\"bumpMap\" [(value)]=\"floor.material.bumpMap\" label=\"Bump Map\" (subcribe)=\"updateFloorMaterial($event)\" (onCloseLibrary)=\"onTextureCancel()\" class=\"inp-group-item\"></inp-texture-group>\n                <inp-texture-group name=\"normalMap\" [(value)]=\"floor.material.normalMap\" label=\"Normal Map\" (subcribe)=\"updateFloorMaterial($event)\" (onCloseLibrary)=\"onTextureCancel()\" class=\"inp-group-item\"></inp-texture-group>\n                <inp-switch-group name=\"transparent\" [(value)]=\"floor.material.transparent\" label=\"Transparent\" (subcribe)=\"updateFloorMaterial($event)\" class=\"inp-group-item\"></inp-switch-group>\n                <inp-range-group name=\"opacity\" [(value)]=\"floor.material.opacity\" label=\"Opacity\" (subcribe)=\"updateFloorMaterial($event)\" [min]=\"0\" [max]=\"1\" [step]=\"0.01\" class=\"inp-group-item\"></inp-range-group>\n            </div>\n        </div>\n    </div>\n</div>","export * from './role';\r\nexport * from './user';\r\nexport * from './apply-agency.params';\r\nexport * from './apply-affilate.params';\r\n","import { Directive, Input, OnDestroy, OnInit, TemplateRef, ViewContainerRef } from '@angular/core';\r\nimport { PermissionsService } from '../services/permissions.service';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Directive({\r\n  selector: '[appCanAccess]',\r\n})\r\nexport class CanAccessDirective implements OnInit, OnDestroy {\r\n  @Input() set appCanAccess(value: string | string[]) {\r\n    this.applyPermission(value);\r\n  }\r\n  private permission$: Subscription;\r\n\r\n  constructor(private templateRef: TemplateRef<any>, private viewContainer: ViewContainerRef, private workflowEvents: PermissionsService) {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  private applyPermission(value: string | string[]): void {\r\n    this.permission$ = this.workflowEvents.checkAuthorization(value).subscribe((authorized) => {\r\n      if (authorized) {\r\n        this.viewContainer.createEmbeddedView(this.templateRef);\r\n      } else {\r\n        this.viewContainer.clear();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.permission$.unsubscribe();\r\n  }\r\n}\r\n","'use strict';\r\n\r\n\r\n\r\n// var Helper;\r\nvar global = this || window;\r\nfunction addToGlobal(name: any, value: any) {\r\n    global[name] = value;\r\n}\r\n\r\n\r\n\r\n// mang\r\nvar arr: Array<any> = [];\r\n\r\nvar document = window.document;\r\n\r\nvar div = document.createElement(\"div\");\r\n\r\n// var getProto = Object.getPrototypeOf;\r\n\r\nvar slice = arr.slice;\r\n\r\nvar createElement = document.createElement;\r\n\r\n\r\n// var $$;\r\nif (typeof Object.assign != 'function') {\r\n\r\n    Object.assign = function (target: any, varArgs: any) { // .length của function là 2\r\n        'use strict';\r\n        if (target == null) { // TypeError nếu undefined hoặc null\r\n            throw new TypeError('Cannot convert undefined or null to object');\r\n        }\r\n\r\n        var to = Object(target);\r\n\r\n        for (var index = 1; index < arguments.length; index++) {\r\n            var nextSource = arguments[index];\r\n\r\n            if (nextSource != null) { // Bỏ qua nếu undefined hoặc null\r\n                for (var nextKey in nextSource) {\r\n                    // Avoid bugs when hasOwnProperty is shadowed\r\n                    if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n                        to[nextKey] = nextSource[nextKey];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return to;\r\n    };\r\n}\r\n\r\n\r\nvar isFunction = function isFunction(obj: any) {\r\n\r\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n};\r\n\r\nvar isCallable = function (variable: any) {\r\n    return typeof variable === \"function\";\r\n};\r\n\r\n/**\r\n * lấy kiểu giá trị của biến\r\n * @param {*} obj\r\n * @return {string}\r\n */\r\nvar getType = function (obj: any) {\r\n    var t = 'null';\r\n    var type = typeof obj;\r\n    if (type == 'object') {\r\n        if (obj === null) {\r\n            t = 'null';\r\n        } else if (obj.constructor == FormData) {\r\n            t = 'formdata';\r\n        } else if (obj.constructor == Array || Array.isArray(obj)) {\r\n            t = 'array';\r\n        } else if (obj.constructor == Object) {\r\n            t = 'object';\r\n        } else if (obj.constructor == Number) {\r\n            t = 'number';\r\n        } else if (obj.constructor == String) {\r\n            t = 'string';\r\n        } else {\r\n            t = 'object';\r\n        }\r\n    } else {\r\n        t = type;\r\n    }\r\n    return t;\r\n};\r\n/**\r\n * kiềm tra có phải chuỗi\r\n * @param {*} variable biến bất kỳ\r\n */\r\nvar isString = function isString(variable: any) {\r\n    var type = getType(variable);\r\n    return type == \"string\" || (type == \"number\" && !isNaN(variable));\r\n}\r\n/**\r\n * kiềm tra có phải null\r\n * @param {*} variable biến bất kỳ\r\n */\r\nvar isNull = function isNull(variable: any) {\r\n    return getType(variable) == \"null\";\r\n}\r\n/**\r\n * kiềm tra có phải array\r\n * @param {*} variable biến bất kỳ\r\n */\r\nvar isArray = function isArray(variable: any) {\r\n    return getType(variable) == \"array\" || Array.isArray(variable);\r\n}\r\n/**\r\n * kiềm tra có phải object\r\n * @param {*} variable biến bất kỳ\r\n */\r\nvar isObject = function isObject(variable: any) {\r\n    return getType(variable) == \"object\";\r\n}\r\n/**\r\n * kiềm tra có phải number\r\n * @param {*} variable biến bất kỳ\r\n */\r\nvar isNumber = function isNumber(variable: any) {\r\n    var type = getType(variable);\r\n    return (type === \"number\" || type === \"string\") && !isNaN(variable - parseFloat(variable));\r\n}\r\n/**\r\n * kiềm tra có phải loat\r\n * @param {*} variable biến bất kỳ\r\n */\r\nvar isFloat = function isFloat(variable: any) {\r\n    var type = getType(variable);\r\n    return (type === \"number\" || type === \"string\") && !isNaN(variable - parseFloat(variable));\r\n}\r\n\r\n/**\r\n * kiềm tra có phải number\r\n * @param {*} variable biến bất kỳ\r\n */\r\nvar isInteger = function isInteger(variable: any) {\r\n    return isNumber(variable) && String(parseInt(variable)) == String(variable);\r\n}\r\n\r\n\r\n/**\r\n * kiềm tra có phải boolean\r\n * @param {*} variable biến bất kỳ\r\n */\r\nvar isBoolean = function isBoolean(variable: any) {\r\n    return getType(variable) == \"boolean\";\r\n}\r\n\r\n/**\r\n * kiềm tra có phải Formdata\r\n * @param {*} variable biến bất kỳ\r\n */\r\nvar isFormData = function isFormData(variable: any) {\r\n    return getType(variable) == \"formdata\";\r\n}\r\n\r\n/**\r\n * kiềm tra có phải chuỗi\r\n * @param {*} variable biến bất kỳ\r\n */\r\nvar isEmail = function isEmail(email: any) {\r\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase());\r\n};\r\n\r\nvar isEmpty = function (obj: any) {\r\n\r\n    if (typeof obj == \"undefined\") return true;\r\n\r\n    // console.log(any.constructor)\r\n    var type = getType(obj);\r\n\r\n    if (type == \"object\") {\r\n        for (var key in obj) {\r\n            if (obj.hasOwnProperty(key)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    else if (type == \"array\" || type == 'string') {\r\n        return obj.length == 0;\r\n    }\r\n    else return !obj;\r\n}\r\nvar emptyFunc = function () { };\r\n\r\nvar newObj = (obj: any = undefined) => {\r\n    var d = isObject(obj) ? obj : {};\r\n    var a = Object.create(d);\r\n    for (const key in d) {\r\n        if (Object.prototype.hasOwnProperty.call(d, key)) {\r\n            const v = d[key];\r\n            a[key] = v;\r\n        }\r\n    }\r\n    return a;\r\n}\r\nvar emptyObject = function () {\r\n    return Object.create({});\r\n}\r\n/**\r\n *\r\n * @param {object} dst\r\n * @param {object} src\r\n * @returns {object}\r\n */\r\nvar merge = function (dst: {}, src: {} = {}) {\r\n    if (!dst || !isObject(dst)) dst = {};\r\n    var to = Object(dst);\r\n    var srclength = arguments.length;\r\n    for (var i = 1; i < srclength; i++) {\r\n        var srcObj = arguments[i];\r\n        if (isObject(srcObj)) {\r\n            for (var key in srcObj) {\r\n                if (srcObj.hasOwnProperty(key)) {\r\n                    var val = srcObj[key];\r\n                    if ((isObject(val) || isArray(val)) && !isFormData(val) && val.constructor != Promise) {\r\n                        var d = {};\r\n                        to[key] = merge(d, val);\r\n                    } else {\r\n                        to[key] = val;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return dst;\r\n}\r\n\r\n/**\r\n * sao chep gia tri trong mang\r\n * @param {array|object} src mang doi tuong  can sao chep\r\n */\r\nvar copyArray = function (src: any = []) {\r\n    var arr = [];\r\n    var t = getType(src);\r\n    if (t == 'object' || t == 'array') {\r\n        if (src.length) {\r\n            for (var index = 0; index < src.length; index++) {\r\n                if (typeof src[index] != \"undefined\") {\r\n                    arr.push(src[index]);\r\n                }\r\n            }\r\n        } else if (t == 'object') {\r\n            for (var key in src) {\r\n                if (src.hasOwnProperty(key)) {\r\n                    var item = src[key];\r\n                    arr.push(item);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return arr;\r\n};\r\n\r\n\r\nvar combine = function combine(list: any) {\r\n    var sth = function (lst: any, i: any = undefined) {\r\n        if (!i) i = 0;\r\n        var ls: any = [];\r\n        if (lst.length <= i) return [];\r\n        var arr = lst[i];\r\n        arr.map(function (c: any) {\r\n            var s = c;\r\n            if (i < lst.length - 1) {\r\n                var tl = sth(lst, i + 1);\r\n                if (tl.length) {\r\n                    tl.map(function (t: any) {\r\n                        ls.push(c + \"\" + t);\r\n                    });\r\n                } else {\r\n                    ls.push(c);\r\n                }\r\n            } else {\r\n                ls.push(c);\r\n            }\r\n        });\r\n        return ls;\r\n    };\r\n    return sth(list);\r\n};\r\n\r\n\r\nvar objectKeys = function (obj: object) {\r\n    var keys = [];\r\n    if (isArray(obj) || isObject(obj)) {\r\n        for (var key in obj) {\r\n            if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n                keys.push(key);\r\n            }\r\n        }\r\n    }\r\n    return keys;\r\n};\r\nvar objectValues = function (obj: {} = {}) {\r\n    const values = Object.values(obj);\r\n    // var values = [];\r\n    // obj.a = 0;\r\n    // if (isArray(obj) || isObject(obj)) {\r\n    //     for (var key in obj) {\r\n    //         if (obj.hasOwnProperty(key)) {\r\n    //             values.push(obj[key]);\r\n    //         }\r\n    //     }\r\n    // }\r\n    return values;\r\n};\r\n\r\nvar isProperty = function isProperty(obj: any, key: any) {\r\n    return Object.hasOwnProperty.call(obj, key);\r\n}\r\nvar isMethod = function isisMethod(obj: {} = {}, key: string = \"\"): boolean {\r\n    var a: boolean = false;\r\n    eval(\"a = typeof obj[key] == 'function'\");\r\n    return a;\r\n}\r\n\r\n/**\r\n * kiểm tra giá trị có trong mảng / object hay không\r\n * @param {array} arr mảng\r\n * @param {*} value\r\n * @returns {boolean}\r\n */\r\nvar hasValue = function hasValue(arr: Array<any> = [], value: any = null, checkType: boolean = false) {\r\n    if (typeof arr == \"undefined\") return false;\r\n    var t = getType(arr);\r\n    if (t == 'array') {\r\n        if (checkType == true) {\r\n            for (var index = 0; index < arr.length; index++) {\r\n                var v = arr[index];\r\n                if (v === value) return true;\r\n            }\r\n        } else {\r\n            return arr.indexOf(value) >= 0;\r\n        }\r\n    } else if (t == 'object') {\r\n        if (checkType) {\r\n            for (var key in arr) {\r\n                if (arr.hasOwnProperty(key)) {\r\n                    var v = arr[key];\r\n                    if (v === value) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            for (var key in arr) {\r\n                if (arr.hasOwnProperty(key)) {\r\n                    var v = arr[key];\r\n                    if (v == value) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * kiểm tra giá trị có trong mảng / object hay không\r\n * @param {array} arr mảng\r\n * @param {*} value\r\n * @returns {boolean}\r\n */\r\nvar inArray = function inArray(arr: any[], value: any, checkType: boolean = false) {\r\n    if (typeof arr == \"undefined\") return false;\r\n    var t = getType(arr);\r\n    if (t != \"array\" && t != \"object\" && (isArray(value) || isObject(value))) {\r\n        var c = arr;\r\n        arr = value;\r\n        value = c;\r\n        t = getType(arr);\r\n    }\r\n    if (t == 'array') {\r\n        if (checkType == true) {\r\n            for (var index = 0; index < arr.length; index++) {\r\n                var v = arr[index];\r\n                if (v === value) return true;\r\n            }\r\n        } else {\r\n            return arr.indexOf(value) >= 0;\r\n        }\r\n    } else if (t == 'object') {\r\n        if (checkType) {\r\n            for (var key in arr) {\r\n                if (arr.hasOwnProperty(key)) {\r\n                    var v = arr[key];\r\n                    if (v === value) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            for (var key in arr) {\r\n                if (arr.hasOwnProperty(key)) {\r\n                    var v = arr[key];\r\n                    if (v == value) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nvar cutWithout = function cutWithout(obj: {} = {}, keys: any = null) {\r\n    var newObj = Object.create({});\r\n    var oldObj = Object.create(obj);\r\n    if (isArray(obj) || isObject(obj)) {\r\n        var list = [];\r\n        if (isArray(keys)) list = keys;\r\n        else if (isObject(keys)) {\r\n            for (var key in keys) {\r\n                if (keys.hasOwnProperty(key)) {\r\n                    list.push(keys[key]);\r\n                }\r\n            }\r\n        }\r\n\r\n        for (var key in obj) {\r\n            if (obj.hasOwnProperty(key)) {\r\n                if (!inArray(list, key)) {\r\n                    newObj[key] = oldObj[key];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return newObj;\r\n}\r\n\r\nvar copyWithout = function copyWithout(obj: {} = {}, keys: any = undefined) {\r\n    var newObj = Object.create({});\r\n    var oldObj = Object.create(obj);\r\n\r\n    if (isArray(obj) || isObject(obj)) {\r\n        var list = [];\r\n        if (isArray(keys)) list = keys;\r\n        else if (isObject(keys)) {\r\n            for (var key in keys) {\r\n                if (keys.hasOwnProperty(key)) {\r\n                    list.push(keys[key]);\r\n                }\r\n            }\r\n        }\r\n\r\n        for (var key in obj) {\r\n            if (obj.hasOwnProperty(key)) {\r\n                if (!inArray(list, key)) {\r\n                    newObj[key] = oldObj[key];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return newObj;\r\n};\r\n\r\n\r\nvar copyByList = function copyByList(obj: any, keys?: any) {\r\n    var newObj:any = {};\r\n    var oldObj = Object.create(obj);\r\n    if (isArray(obj) || isObject(obj)) {\r\n        var list = [];\r\n        if (isArray(keys)) list = keys;\r\n        else if (isObject(keys)) {\r\n            for (var key in keys) {\r\n                if (keys.hasOwnProperty(key)) {\r\n                    var v = keys[key];\r\n                    list.push(key);\r\n                }\r\n            }\r\n        }\r\n\r\n        for (var key in obj) {\r\n            if (obj.hasOwnProperty(key)) {\r\n                if (inArray(list, key)) {\r\n                    newObj[key] = oldObj[key];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return newObj;\r\n};\r\n\r\n/**\r\n * kiểm tra toàn bộ kiểu dử liệu của các phần tử con\r\n * @param {string} type kiểu dử liệu\r\n * @param {array} object đối tượng cần kiểm tra\r\n */\r\nvar checkAllElementType = function checkAllElementType(type: any, object: {} = {}) {\r\n    if (!(isString(type) || isArray(type)) || !(isArray(object) || isObject(object))) {\r\n        return false;\r\n    }\r\n    var types: Array<string> = [];\r\n    if (!isArray(type)) types = [type];\r\n    else types = type.slice(0);\r\n    var checked = false;\r\n    if (isArray(object)) {\r\n        let temp: Array<any> = Object.values(object);\r\n        return temp.length && temp.length == temp.filter(function (value) { return types.indexOf(getType(value)) >= 0; }).length;\r\n    }\r\n    var nO = Object.create(object);\r\n    for (var key in object) {\r\n        if (Object.hasOwnProperty.call(object, key)) {\r\n            if (types.indexOf(getType(nO[key])) < 0) return false;\r\n            checked = true;\r\n        }\r\n    }\r\n    return checked;\r\n\r\n}\r\n/**\r\n * trổn 2 mảng thành mảng kết hợp mới\r\n * @param {array[]} arrayArr mảng chứa các phần tử con là 1 mảng\r\n * @param {any[]} arrayAny mảng chứa các phần tử con có kiểu dử liệu là string hoặc number\r\n * @returns {array[]}\r\n */\r\nvar combineTwoArray = function combineTwoArray(arrayArr: Array<any>, arrayAny: Array<any>) {\r\n    var newArr = [];\r\n    for (var i = 0; i < arrayArr.length; i++) {\r\n        var arr = arrayArr[i];\r\n\r\n        for (var j = 0; j < arrayAny.length; j++) {\r\n            var any = arrayAny[j];\r\n            var v = arr.slice(0);\r\n            v.push(any);\r\n            newArr.push(v);\r\n        }\r\n    }\r\n    return newArr;\r\n};\r\n\r\n\r\n/**\r\n * lấy tổ hợp các các phần từ com\r\n * @param {array} arr1 \r\n * @param {array} arr2 \r\n */\r\nvar combineElenentsToArrList = function combineElenentsToArrList(...arrayList: any[]) {\r\n    var arrayList = [];\r\n    for (var index = 0; index < arguments.length; index++) {\r\n        var arg = arguments[index];\r\n        if (!isArray(arg) || !checkAllElementType(['string', 'number'], arg)) return [];\r\n\r\n        arrayList.push(arg);\r\n    }\r\n    if (arrayList.length < 2) return arrayList[0];\r\n    var results = [];\r\n    arrayList[0].map(function (str: Array<any>) {\r\n        results.push([str]);\r\n    });\r\n    for (var i = 1; i < arrayList.length; i++) {\r\n        var arr = arrayList[i];\r\n        results = combineTwoArray(results, arr);\r\n    }\r\n\r\n    return results;\r\n};\r\n\r\n/**\r\n * trộn 2 hoặc nhiều mảng thành mảng tổ hợp các phần tử dược nối với nhau bằng delimiter\r\n * @param {string} deliniter ký tự nối\r\n * @param {string[]} arr1 mảng 1\r\n * @param {string[]} arr2 mảng 2\r\n * @param {string[]} ...arrN mảng 2\r\n * \r\n * @returns {string[]}\r\n */\r\nvar combineElenentsJoinStringList = function combineElenentsJoinStringList(deliniter: string, arr1: Array<any>, arr2: Array<any>) {\r\n    var arrayList = [];\r\n    for (var index = 1; index < arguments.length; index++) {\r\n        var arg = arguments[index];\r\n\r\n        if (!isArray(arg) || !checkAllElementType(['string', 'number'], arg)) return [];\r\n\r\n        arrayList.push(arg);\r\n    }\r\n    if (arrayList.length < 2) return arr1;\r\n    var results = combineElenentsToArrList(...arrayList);\r\n    if (!isString(deliniter)) deliniter = '';\r\n    return results.map(function (arr: Array<string>) {\r\n        return arr.join(deliniter);\r\n    });\r\n}\r\n\r\n\r\n/**\r\n * lay ra gia tri nho nhat\r\n * @param {array|object} obj doi tuong mang chua cac gia tri \r\n */\r\nvar minOf = function minOf(obj: any) {\r\n    var min = NaN;\r\n    if (arguments.length > 1 && !(isArray(obj) || isObject(obj))) {\r\n        obj = copyArray(arguments);\r\n    }\r\n    if (isArray(obj)) {\r\n        for (var index = 0; index < obj.length; index++) {\r\n            if (!isNumber(obj[index])) continue;\r\n            var n = Number(obj[index]);\r\n\r\n            if (isNaN(min) || !index)\r\n                min = n;\r\n            else if (n < min) min = n;\r\n        }\r\n    }\r\n    else if (isObject(obj)) {\r\n        var index = 0;\r\n        for (var key in obj) {\r\n            if (obj.hasOwnProperty(key)) {\r\n                if (!isNumber(obj[index])) continue;\r\n                else {\r\n                    var n = Number(obj[index]);\r\n                    if (isNaN(min) || !index) min = n;\r\n                    else if (n < min) min = n;\r\n                }\r\n                index++;\r\n            }\r\n        }\r\n    }\r\n    return min;\r\n};\r\n\r\n/**\r\n * lay ra gia tri lon nhat\r\n * @param {array|object} obj doi tuong mang chua cac gia tri \r\n */\r\nvar maxOf = function maxOf(obj: any, ...abc: any) {\r\n    var min = NaN;\r\n    if (arguments.length > 1 && !(isArray(obj) || isObject(obj))) {\r\n        obj = copyArray(arguments);\r\n    }\r\n    if (isArray(obj)) {\r\n        for (var index = 0; index < obj.length; index++) {\r\n            if (!isNumber(obj[index])) continue;\r\n            else {\r\n                var n = Number(obj[index]);\r\n                if (isNaN(min) || !index) min = n;\r\n                else if (n > min) min = n;\r\n            }\r\n        }\r\n    }\r\n    else if (isObject(obj)) {\r\n        var index = 0;\r\n        for (var key in obj) {\r\n            if (obj.hasOwnProperty(key)) {\r\n                if (!isNumber(obj[index])) continue;\r\n                else {\r\n                    var n = Number(obj[index]);\r\n                    if (isNaN(min) || !index) min = n;\r\n                    else if (n > min) min = n;\r\n                }\r\n                index++;\r\n            }\r\n        }\r\n    }\r\n    return min;\r\n};\r\n\r\nfunction _instanceof(left: any, right: any) {\r\n    if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\r\n        return !!right[Symbol.hasInstance](left);\r\n    } else {\r\n        return left instanceof right;\r\n    }\r\n};\r\n\r\nfunction _classCallCheck(instance: any, Constructor: any) {\r\n    if (!_instanceof(instance, Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\");\r\n    }\r\n};\r\n\r\nfunction _defineProperties(target: any, props: any) {\r\n    if (isArray(props)) {\r\n        for (var i = 0; i < props.length; i++) {\r\n            var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false;\r\n            descriptor.configurable = true;\r\n            if (\"value\" in descriptor) descriptor.writable = true;\r\n            Object.defineProperty(target, descriptor.key, descriptor);\r\n        }\r\n    }\r\n    else if (isObject(props)) {\r\n        for (var key in props) {\r\n            if (Object.hasOwnProperty.call(props, key)) {\r\n                var val = props[key];\r\n                Object.defineProperty(target, key, val);\r\n            }\r\n        }\r\n    }\r\n\r\n};\r\n\r\nfunction _createClass(Constructor: Function, protoProps: any, staticProps: any) {\r\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\r\n    if (staticProps) _defineProperties(Constructor, staticProps);\r\n    return Constructor;\r\n};\r\n\r\nfunction _defineProperty(obj: any, key: string, value: any) {\r\n    if (key in obj) {\r\n        Object.defineProperty(obj, key, {\r\n            value: value,\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true\r\n        });\r\n    } else {\r\n        obj[key] = value;\r\n    }\r\n    return obj;\r\n};\r\n\r\nvar checkType = function checkType(type: string, value: any, absolultely: boolean = false) {\r\n    if (typeof type !== \"string\" || !type) return false;\r\n    var tl = type.toLowerCase();\r\n    if (tl == \"float\") tl = 'number';\r\n    if (tl == 'mixed') return true;\r\n    var t = type.substr(0, 1).toUpperCase() + type.substr(1).toLowerCase();\r\n\r\n\r\n    var t2 = getType(value);\r\n\r\n    return absolultely ? t2 === tl : t2 == tl;\r\n};\r\n\r\n/**\r\n * Kiểm tra tồn tại key hay ko?\r\n * @param {object|array} obj doi tuong can kiem tra\r\n * @param {string} key \r\n * @returns {boolean}\r\n */\r\nfunction objectHasKey(obj: any, key: any) {\r\n    return (isObject(obj) && isString(key) && Object.hasOwnProperty.call(obj, key));\r\n}\r\n\r\n/**\r\n * kiểm tra sự tồn tại của thuộc tinh thông qua key và kiểu giá trị\r\n * @param {any} obj doi tuong can kiem tra\r\n * @param {string} key danh sach key kem kiey gia tri\r\n * @param {string} type kieu gia tri\r\n * @returns {boolean}\r\n */\r\nvar objectHasProperty = function objectHasProperty(obj: any, key: any, type: any = undefined) {\r\n    if (!isObject(obj) || isEmpty(obj) || typeof key == \"undefined\" || (!isString(key) && !isArray(key))) return false;\r\n    var keys = isArray(key) ? key : [key + (isString(type) ? \":\" + type : \"\")];\r\n    for (var i = 0; i < keys.length; i++) {\r\n        var k = keys[i];\r\n        var ks = k.split(':');\r\n        var kv = ks[0];\r\n        if (!objectHasKey(obj, kv)) return false;\r\n        if (ks.length == 2) {\r\n            var b = ks[1].split('|').map(function (t: string = \"\") { return t.trim(); }).filter(function (vl: string = \"\") { return vl.length > 0; });\r\n            if (b.length && !inArray(b, getType(obj[kv]))) return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\n/**\r\n * joi các mảng vào làm một\r\n * @param {string[]|number[]} target mảng đầu vào cần join\r\n * @returns {array}\r\n */\r\nfunction arrayJoin(target: Array<any>, ...args: any) {\r\n    if (!isArray(target)) target = [];\r\n    function addToTarget(arr: Array<any>) {\r\n        arr.map(function (vl) {\r\n            if (target.indexOf(vl) === -1) {\r\n                target.push(vl);\r\n            }\r\n        })\r\n    }\r\n    for (let i = 0; i < args.length; i++) {\r\n        const arg = args[i];\r\n        if (isArray(arg)) addToTarget(arg);\r\n        else if (isObject(arg)) addToTarget(objectValues(arg));\r\n        else addToTarget(arg);\r\n    }\r\n    return target;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * \r\n * @param obj \r\n * @param key \r\n * @param delimiter \r\n * @returns \r\n */\r\nvar getEl = function (obj: any, key: any = undefined, delimiter: any = undefined): any {\r\n    if (typeof obj == 'undefined') {\r\n        return null;\r\n    }\r\n    if (typeof key == 'undefined') {\r\n        return obj;\r\n    }\r\n    var tpo = getType(obj);\r\n    var tpk = getType(key);\r\n    if (tpo == 'array') {\r\n        var k = NaN;\r\n        if (tpk == 'number') {\r\n            k = key;\r\n        } else if (parseInt(key) != NaN) {\r\n            k = parseInt(key);\r\n        }\r\n        if (!isNaN(k)) {\r\n            if (typeof obj[k] != 'undefined') {\r\n                return obj[k];\r\n            }\r\n        }\r\n    }\r\n    return null;\r\n};\r\n\r\nvar Num = {\r\n    rand: function (from: number = 0, to: number = 9999) {\r\n        if (!from) from = 0;\r\n        if (!to) to = 0;\r\n        if (from == 0) to++;\r\n        var rand = Math.floor(Math.random() * to) + from;\r\n        return rand;\r\n    },\r\n    currency: function (x: string) {\r\n        return x.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1\\.\");\r\n    }\r\n};\r\n\r\nvar convertedArray: Array<any> = [];\r\n\r\nvar Str = {\r\n    html_char_raw: ['%', '&', '=', '?', '#', '+', ':', '/', ' ', '\\n', '{', '}'],\r\n    html_char_enc: ['%25', '%26', '%3D', '%3F', '%23', '%2B', '%3A', '%2F', '+', '%0D%0A', '%7B', '%7D'],\r\n    urlcode: { '%': '%25', '&': '%26', '=': '%3D', '?': '%3F', '#': '%23', '+': '%2B', ':': '%3A', '/': '%2F', ' ': '%20', '\\n': '%0D%0A', '{': '%7B', '}': '%7D' },\r\n    unicode: {\r\n        js: [\"\\\\u00e0\", \"\\\\u00e1\", \"\\\\u1ea1\", \"\\\\u1ea3\", \"\\\\u00e3\", \"\\\\u00e2\", \"\\\\u1ea7\", \"\\\\u1ea5\", \"\\\\u1ead\", \"\\\\u1ea9\", \"\\\\u1eab\", \"\\\\u0103\", \"\\\\u1eb1\", \"\\\\u1eaf\", \"\\\\u1eb7\", \"\\\\u1eb3\", \"\\\\u1eb5\", \"\\\\u00e8\", \"\\\\u00e9\", \"\\\\u1eb9\", \"\\\\u1ebb\", \"\\\\u1ebd\", \"\\\\u00ea\", \"\\\\u1ec1\", \"\\\\u1ebf\", \"\\\\u1ec7\", \"\\\\u1ec3\", \"\\\\u1ec5\", \"\\\\u00ec\", \"\\\\u00ed\", \"\\\\u1ecb\", \"\\\\u1ec9\", \"\\\\u0129\", \"\\\\u00f2\", \"\\\\u00f3\", \"\\\\u1ecd\", \"\\\\u1ecf\", \"\\\\u00f5\", \"\\\\u00f4\", \"\\\\u1ed3\", \"\\\\u1ed1\", \"\\\\u1ed9\", \"\\\\u1ed5\", \"\\\\u1ed7\", \"\\\\u01a1\", \"\\\\u1edd\", \"\\\\u1edb\", \"\\\\u1ee3\", \"\\\\u1edf\", \"\\\\u1ee1\", \"\\\\u00f9\", \"\\\\u00fa\", \"\\\\u1ee5\", \"\\\\u1ee7\", \"\\\\u0169\", \"\\\\u01b0\", \"\\\\u1eeb\", \"\\\\u1ee9\", \"\\\\u1ef1\", \"\\\\u1eed\", \"\\\\u1eef\", \"\\\\u1ef3\", \"\\\\u00fd\", \"\\\\u1ef5\", \"\\\\u1ef7\", \"\\\\u1ef9\", \"\\\\u0111\", \"\\\\u00c0\", \"\\\\u00c1\", \"\\\\u1ea0\", \"\\\\u1ea2\", \"\\\\u00c3\", \"\\\\u00c2\", \"\\\\u1ea6\", \"\\\\u1ea4\", \"\\\\u1eac\", \"\\\\u1ea8\", \"\\\\u1eaa\", \"\\\\u0102\", \"\\\\u1eb0\", \"\\\\u1eae\", \"\\\\u1eb6\", \"\\\\u1eb2\", \"\\\\u1eb4\", \"\\\\u00c8\", \"\\\\u00c9\", \"\\\\u1eb8\", \"\\\\u1eba\", \"\\\\u1ebc\", \"\\\\u00ca\", \"\\\\u1ec0\", \"\\\\u1ebe\", \"\\\\u1ec6\", \"\\\\u1ec2\", \"\\\\u1ec4\", \"\\\\u00cc\", \"\\\\u00cd\", \"\\\\u1eca\", \"\\\\u1ec8\", \"\\\\u0128\", \"\\\\u00d2\", \"\\\\u00d3\", \"\\\\u1ecc\", \"\\\\u1ece\", \"\\\\u00d5\", \"\\\\u00d4\", \"\\\\u1ed2\", \"\\\\u1ed0\", \"\\\\u1ed8\", \"\\\\u1ed4\", \"\\\\u1ed6\", \"\\\\u01a0\", \"\\\\u1edc\", \"\\\\u1eda\", \"\\\\u1ee2\", \"\\\\u1ede\", \"\\\\u1ee0\", \"\\\\u00d9\", \"\\\\u00da\", \"\\\\u1ee4\", \"\\\\u1ee6\", \"\\\\u0168\", \"\\\\u01af\", \"\\\\u1eea\", \"\\\\u1ee8\", \"\\\\u1ef0\", \"\\\\u1eec\", \"\\\\u1eee\", \"\\\\u1ef2\", \"\\\\u00dd\", \"\\\\u1ef4\", \"\\\\u1ef6\", \"\\\\u1ef8\", \"\\\\u0110\"],\r\n        vi: [\"\\u00e0\", \"\\u00e1\", \"\\u1ea1\", \"\\u1ea3\", \"\\u00e3\", \"\\u00e2\", \"\\u1ea7\", \"\\u1ea5\", \"\\u1ead\", \"\\u1ea9\", \"\\u1eab\", \"\\u0103\", \"\\u1eb1\", \"\\u1eaf\", \"\\u1eb7\", \"\\u1eb3\", \"\\u1eb5\", \"\\u00e8\", \"\\u00e9\", \"\\u1eb9\", \"\\u1ebb\", \"\\u1ebd\", \"\\u00ea\", \"\\u1ec1\", \"\\u1ebf\", \"\\u1ec7\", \"\\u1ec3\", \"\\u1ec5\", \"\\u00ec\", \"\\u00ed\", \"\\u1ecb\", \"\\u1ec9\", \"\\u0129\", \"\\u00f2\", \"\\u00f3\", \"\\u1ecd\", \"\\u1ecf\", \"\\u00f5\", \"\\u00f4\", \"\\u1ed3\", \"\\u1ed1\", \"\\u1ed9\", \"\\u1ed5\", \"\\u1ed7\", \"\\u01a1\", \"\\u1edd\", \"\\u1edb\", \"\\u1ee3\", \"\\u1edf\", \"\\u1ee1\", \"\\u00f9\", \"\\u00fa\", \"\\u1ee5\", \"\\u1ee7\", \"\\u0169\", \"\\u01b0\", \"\\u1eeb\", \"\\u1ee9\", \"\\u1ef1\", \"\\u1eed\", \"\\u1eef\", \"\\u1ef3\", \"\\u00fd\", \"\\u1ef5\", \"\\u1ef7\", \"\\u1ef9\", \"\\u0111\", \"\\u00c0\", \"\\u00c1\", \"\\u1ea0\", \"\\u1ea2\", \"\\u00c3\", \"\\u00c2\", \"\\u1ea6\", \"\\u1ea4\", \"\\u1eac\", \"\\u1ea8\", \"\\u1eaa\", \"\\u0102\", \"\\u1eb0\", \"\\u1eae\", \"\\u1eb6\", \"\\u1eb2\", \"\\u1eb4\", \"\\u00c8\", \"\\u00c9\", \"\\u1eb8\", \"\\u1eba\", \"\\u1ebc\", \"\\u00ca\", \"\\u1ec0\", \"\\u1ebe\", \"\\u1ec6\", \"\\u1ec2\", \"\\u1ec4\", \"\\u00cc\", \"\\u00cd\", \"\\u1eca\", \"\\u1ec8\", \"\\u0128\", \"\\u00d2\", \"\\u00d3\", \"\\u1ecc\", \"\\u1ece\", \"\\u00d5\", \"\\u00d4\", \"\\u1ed2\", \"\\u1ed0\", \"\\u1ed8\", \"\\u1ed4\", \"\\u1ed6\", \"\\u01a0\", \"\\u1edc\", \"\\u1eda\", \"\\u1ee2\", \"\\u1ede\", \"\\u1ee0\", \"\\u00d9\", \"\\u00da\", \"\\u1ee4\", \"\\u1ee6\", \"\\u0168\", \"\\u01af\", \"\\u1eea\", \"\\u1ee8\", \"\\u1ef0\", \"\\u1eec\", \"\\u1eee\", \"\\u1ef2\", \"\\u00dd\", \"\\u1ef4\", \"\\u1ef6\", \"\\u1ef8\", \"\\u0110\"],\r\n        en: [\"a\", \"a\", \"a\", \"a\", \"a\", \"a\", \"a\", \"a\", \"a\", \"a\", \"a\", \"a\", \"a\", \"a\", \"a\", \"a\", \"a\", \"e\", \"e\", \"e\", \"e\", \"e\", \"e\", \"e\", \"e\", \"e\", \"e\", \"e\", \"i\", \"i\", \"i\", \"i\", \"i\", \"o\", \"o\", \"o\", \"o\", \"o\", \"o\", \"o\", \"o\", \"o\", \"o\", \"o\", \"o\", \"o\", \"o\", \"o\", \"o\", \"o\", \"u\", \"u\", \"u\", \"u\", \"u\", \"u\", \"u\", \"u\", \"u\", \"u\", \"u\", \"y\", \"y\", \"y\", \"y\", \"y\", \"d\", \"A\", \"A\", \"A\", \"A\", \"A\", \"A\", \"A\", \"A\", \"A\", \"A\", \"A\", \"A\", \"A\", \"A\", \"A\", \"A\", \"A\", \"E\", \"E\", \"E\", \"E\", \"E\", \"E\", \"E\", \"E\", \"E\", \"E\", \"E\", \"I\", \"I\", \"I\", \"I\", \"I\", \"O\", \"O\", \"O\", \"O\", \"O\", \"O\", \"O\", \"O\", \"O\", \"O\", \"O\", \"O\", \"O\", \"O\", \"O\", \"O\", \"O\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"U\", \"Y\", \"Y\", \"Y\", \"Y\", \"Y\", \"D\"],\r\n        upper: [\"À\", \"Á\", \"Ạ\", \"Ả\", \"Ã\", \"Â\", \"Ầ\", \"Ấ\", \"Ậ\", \"Ẩ\", \"Ẫ\", \"Ă\", \"Ằ\", \"Ắ\", \"Ặ\", \"Ẳ\", \"Ẵ\", \"È\", \"É\", \"Ẹ\", \"Ẻ\", \"Ẽ\", \"Ê\", \"Ề\", \"Ế\", \"Ệ\", \"Ể\", \"Ễ\", \"Ì\", \"Í\", \"Ị\", \"Ỉ\", \"Ĩ\", \"Ò\", \"Ó\", \"Ọ\", \"Ỏ\", \"Õ\", \"Ô\", \"Ồ\", \"Ố\", \"Ộ\", \"Ổ\", \"Ỗ\", \"Ơ\", \"Ờ\", \"Ớ\", \"Ợ\", \"Ở\", \"Ỡ\", \"Ù\", \"Ú\", \"Ụ\", \"Ủ\", \"Ũ\", \"Ư\", \"Ừ\", \"Ứ\", \"Ự\", \"Ử\", \"Ữ\", \"Ỳ\", \"Ý\", \"Ỵ\", \"Ỷ\", \"Ỹ\", \"Đ\"],\r\n        lower: [\"à\", \"á\", \"ạ\", \"ả\", \"ã\", \"â\", \"ầ\", \"ấ\", \"ậ\", \"ẩ\", \"ẫ\", \"ă\", \"ằ\", \"ắ\", \"ặ\", \"ẳ\", \"ẵ\", \"è\", \"é\", \"ẹ\", \"ẻ\", \"ẽ\", \"ê\", \"ề\", \"ế\", \"ệ\", \"ể\", \"ễ\", \"ì\", \"í\", \"ị\", \"ỉ\", \"ĩ\", \"ò\", \"ó\", \"ọ\", \"ỏ\", \"õ\", \"ô\", \"ồ\", \"ố\", \"ộ\", \"ổ\", \"ỗ\", \"ơ\", \"ờ\", \"ớ\", \"ợ\", \"ở\", \"ỡ\", \"ù\", \"ú\", \"ụ\", \"ủ\", \"ũ\", \"ư\", \"ừ\", \"ứ\", \"ự\", \"ử\", \"ữ\", \"ỳ\", \"ý\", \"ỵ\", \"ỷ\", \"ỹ\", \"đ\"]\r\n    },\r\n    clearUnicode: function (str: string = \"\") {\r\n        return this.replace(str, this.unicode.vi, this.unicode.en);\r\n    },\r\n    isSN: function (str: any = undefined) {\r\n        if (typeof str == 'undefined') return null;\r\n        var t = getType(str);\r\n        if (t == 'string' || t == 'number') return true;\r\n        return false;\r\n    },\r\n    /**\r\n     * thay the chuoi trong chuoi bang mot chuoi =)))))\r\n     * @param {string} str  chuoi dau vao\r\n     * @param {string|object|array} find  tham so tim kiem\r\n     * @param {string|object|array} replace  tham so thay the\r\n     */\r\n    replace: function (...a: any) {\r\n        // var a = arguments;\r\n        var t = a.length;\r\n        if (t == 0) return '';\r\n        if (typeof a[0] != 'string' || t < 2) {\r\n            return a[0];\r\n        }\r\n        var str = a[0];\r\n\r\n        var b = getType(a[1]);\r\n        if (this.isSN(a[1])) {\r\n            if (t >= 3 && this.isSN(a[2])) {\r\n                var obj = Object.create({});\r\n                obj[a[1]] = a[2];\r\n                str = this.replaceByObj(str, obj);\r\n            }\r\n        } else if (b == 'array') {\r\n            if (t >= 3 && getType(a[2]) == 'array') {\r\n                str = this.replaceByArr(str, a[1], a[2]);\r\n            } else if (t >= 3 && getType(a[2]) == 'string') {\r\n                var obj = Object.create({}),\r\n                    val = a[2];\r\n                var d = a[1];\r\n                for (var k in d) {\r\n                    obj[d[k]] = val;\r\n                }\r\n                str = this.replaceByObj(str, obj);\r\n            }\r\n        } else if (b == 'object') {\r\n            str = this.replaceByObj(str, a[1]);\r\n        }\r\n        return str;\r\n    },\r\n    replaceByArr: function (...a: any) {\r\n        var t = a.length;\r\n        if (t == 0) return '';\r\n        if (typeof a[0] != 'string' || t < 2) {\r\n            return a[0];\r\n        }\r\n        var str = a[0];\r\n        var b = getType(a[1]);\r\n        if (b == 'object') {\r\n            str = this.replaceByObj(str, a[1]);\r\n        } else if (b == 'array') {\r\n            var obj = emptyObject();\r\n            if (t >= 3) {\r\n                var f = getType(a[2]);\r\n                if (f == 'string') {\r\n                    for (var k in a[1]) {\r\n                        obj[a[1][k]] = a[2];\r\n                    }\r\n                } else if (f == 'array') {\r\n                    var e = a[1].length,\r\n                        g = a[2].length;\r\n                    var max = (e > g) ? e : g;\r\n                    for (var i = 0; i < max; i++) {\r\n                        obj[a[1][i]] = a[2][i];\r\n                    }\r\n                }\r\n            }\r\n            str = this.replaceByObj(str, obj);\r\n        }\r\n        return str;\r\n    },\r\n    replaceByObj: function (...a: any) {\r\n        // var a = arguments;\r\n        var t = a.length;\r\n        if (t == 0) return '';\r\n        if (typeof a[0] != 'string' || t < 2) {\r\n            return a[0];\r\n        }\r\n        var str = a[0];\r\n        var b = getType(a[1]);\r\n        if (b == 'object') {\r\n            var max = null;\r\n            if (typeof a[2] == 'number') {\r\n                max = a[2];\r\n            }\r\n            var i = 1;\r\n            var sts = a[1];\r\n            for (var key in sts) {\r\n                var txt = sts[key];\r\n                str = this.preg_replace(key, txt, str);\r\n                if (max && i >= max) break;\r\n                i++;\r\n            }\r\n        }\r\n        return str;\r\n    },\r\n    escapeRegExp: function (str: any = undefined) {\r\n        var s = \"\" + str + \"\";\r\n        return s.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\r\n    },\r\n\r\n    preg_replace: function (find: string = \"\", replace: string = \"\", str: string = \"\") {\r\n        var str = \"\" + str + \"\";\r\n        return str.replace(new RegExp(this.escapeRegExp(find), 'g'), replace);\r\n    },\r\n\r\n    /**\r\n     * Tạo một chuỗi random Ngẫu nhiên\r\n     * @param {string} charList chuỗi ký tự bổ xung\r\n     * @returns {string}\r\n     */\r\n    rand: function (charList: any = undefined) {\r\n        var st = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n        if (charList && isString(charList)) st = st + String(charList);\r\n        var sp = st.split('');\r\n        var l = sp.length - 1;\r\n        var s = '';\r\n        for (var i = 0; i < 32; i++) {\r\n            s += sp[Num.rand(0, l)];\r\n        }\r\n        return s;\r\n    },\r\n    /**\r\n     * biến đổ chuỗi thành slug\r\n     * @param {string} str chuỗi đầu vào\r\n     * @param {string} joinKey ký tự nối\r\n     * @returns {string}\r\n     */\r\n    camelToSlug: function (str: string = \"\", joinKey: string = \"\") {\r\n        // if(typeof str == \"undefined\") str = \"\";\r\n        var st = 'BCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n        var sp = st.split('');\r\n        var l = sp.length - 1;\r\n        var s = '';\r\n        var find: any[] = [];\r\n        var replace: any[] = [];\r\n        var k = isString(joinKey) ? joinKey : \"-\";\r\n        sp.map(function (c) {\r\n            find.push(c);\r\n            replace.push(k + c.toLowerCase());\r\n        });\r\n        return this.replace(str, find, replace);\r\n    },\r\n    upperToWord: function (str: any = undefined) {\r\n        var st = 'abcdefghijklmnopqrstuvwxyz';\r\n        var sp = st.split('');\r\n        var l = sp.length - 1;\r\n        var s = this.clearUnicode(String(str));\r\n        var find: any = [];\r\n        var replace = \"\";\r\n        sp.map(function (c) {\r\n            find.push(c);\r\n        });\r\n\r\n        return this.lower(s.substr(0, 1)) + this.lower(this.replace(s.substr(1), find, replace));\r\n    },\r\n\r\n\r\n    urlencode: function (str: any = undefined) {\r\n        var t = this.html_char_raw.length;\r\n        for (var i = 0; i < t; i++) str = this.replace(str, this.html_char_raw[i], this.html_char_enc[i]);\r\n        return str;\r\n    },\r\n    urldecode: function (str: any = undefined) {\r\n        var t = this.html_char_raw.length;\r\n        for (var i = t - 1; i >= 0; i--) str = this.replace(str, this.html_char_enc[i], this.html_char_raw[i]);\r\n        return str;\r\n    },\r\n    eval: function (template: any = undefined, data: any = undefined) {\r\n        var t: string = typeof data;\r\n        var tpl = template;\r\n        if (t == 'object' || t == \"array\") {\r\n            data = this.convertTextObject({}, data);\r\n            for (var k in data) {\r\n                var val = data[k];\r\n                if (val === null) val = '';\r\n                var f = \"\\{\\$\" + k + \"\\}\";\r\n                tpl = this.replace(tpl, f, val);\r\n            }\r\n        }\r\n        return tpl;\r\n    },\r\n    convertTextObject: function (root: any, object: any, name: string = \"\", joinKey: any = undefined) {\r\n\r\n        if (inArray(convertedArray, object)) return root;\r\n\r\n        for (var key in object) {\r\n            if (object.hasOwnProperty(key)) {\r\n                if (typeof joinKey != \"string\") joinKey = \".\";\r\n                var val = object[key];\r\n                var t: string = typeof val;\r\n                var k = (typeof name != \"undefined\" && (\"\" + name).length) ? name + joinKey + key : key;\r\n                if (val != null && (t == 'object' || t == \"array\")) {\r\n                    root = this.convertTextObject(root, val, k, joinKey);\r\n                } else {\r\n                    root[k] = val;\r\n                }\r\n            }\r\n        }\r\n        convertedArray.push(object);\r\n        return root;\r\n    },\r\n    upper: function (str: any = undefined) {\r\n        if (typeof str == \"undefined\") return null;\r\n        if (isString(str)) {\r\n            var s = str.toUpperCase();\r\n            return this.replace(s, this.unicode.lower, this.unicode.upper);\r\n        }\r\n        else if ((isObject(str) && typeof str.length != \"undefined\") || isArray(str)) {\r\n            for (var i = 0; i < str.length; i++) {\r\n                str[i] = this.upper(str[i]);\r\n            }\r\n            return str;\r\n        }\r\n        else if (isObject(str)) {\r\n            for (var key in str) {\r\n                if (str.hasOwnProperty(key)) {\r\n                    var st = str[key];\r\n                    str[key] = this.upper(st);\r\n                }\r\n            }\r\n            return str;\r\n\r\n        }\r\n    },\r\n    lower: function (str?: any) {\r\n        if (typeof str == \"undefined\") return null;\r\n        if (isString(str)) {\r\n            var s = str.toLowerCase();\r\n            str = this.replace(s, this.unicode.upper, this.unicode.lower);\r\n        }\r\n        else if ((isObject(str) && typeof str.length != \"undefined\") || isArray(str)) {\r\n            for (var i = 0; i < str.length; i++) {\r\n                str[i] = this.upper(str[i]);\r\n            }\r\n        }\r\n        else if (isObject(str)) {\r\n            for (var key in str) {\r\n                if (str.hasOwnProperty(key)) {\r\n                    var st = str[key];\r\n                    str[key] = this.upper(st);\r\n                }\r\n            }\r\n        }\r\n\r\n        return str;\r\n    },\r\n    ucfirst: function (str: any = undefined) {\r\n        if (isString(str)) {\r\n            if (str.length) {\r\n                var first = str.substring(0, 1);\r\n                str = this.upper(first) + str.substring(1);\r\n            }\r\n        }\r\n        else if ((isObject(str) && typeof str.length != \"undefined\") || isArray(str)) {\r\n            for (var i = 0; i < str.length; i++) {\r\n                str[i] = this.ucfirst(str[i]);\r\n            }\r\n        }\r\n        else if (isObject(str)) {\r\n            for (var key in str) {\r\n                if (str.hasOwnProperty(key)) {\r\n                    str[key] = this.ucfirst(str[key]);\r\n                }\r\n            }\r\n        }\r\n        return str;\r\n    },\r\n    ucword: function (str: any = undefined) {\r\n        var self = this;\r\n        if (isString(str)) {\r\n            if (str.length) {\r\n                str = str.split(\" \").map(function (s: string) { return self.ucfirst(s) }).join(\" \");\r\n            }\r\n        }\r\n        else if ((isObject(str) && typeof str.length != \"undefined\") || isArray(str)) {\r\n            for (var i = 0; i < str.length; i++) {\r\n                str[i] = this.ucword(str[i]);\r\n            }\r\n        }\r\n        else if (isObject(str)) {\r\n            for (var key in str) {\r\n                if (str.hasOwnProperty(key)) {\r\n                    str[key] = this.ucword(str[key]);\r\n                }\r\n            }\r\n        }\r\n        return str;\r\n    },\r\n\r\n    htmlentities: function (str: any = undefined) {\r\n        return this.eval(str, {\r\n            \"<\": \"&lt;\",\r\n            \">\": \"&gt;\",\r\n            \"\\\"\": \"&quote;\",\r\n            \"&\": \"&amp;\"\r\n        });\r\n    },\r\n    formSlug: function (str: any = undefined) {\r\n        return typeof str != \"string\" ? str : this.replace(this.replace(str, \"[]\", '.*'), { \"[\": \".\", \"]\": \"\" });\r\n    },\r\n    slug: function (str: any = undefined, key: any = undefined) {\r\n        if (!key) key = '-';\r\n        var s = String(str);\r\n        var l = 'BCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n        var list = [];\r\n        var n = 0;\r\n        var t = this.replace(this.replace(\r\n            this.clearUnicode(this.lower(s)),\r\n            \"[]{}();:'\\\"\\\\|,./?~!@#$%^&*+=\".split(\"\"),\r\n            \"-\"\r\n        ), '--', '-');\r\n        for (var i = 0; i < t.length; i++) {\r\n            var st = t[i];\r\n            if (l.indexOf(st) == -1) {\r\n                if (typeof list[n] != \"undefined\") {\r\n                    if (l.indexOf(t[i - 1]) >= 0) n++;\r\n                }\r\n            } else {\r\n                if (typeof list[n] == \"undefined\") {\r\n                    list[n] = st;\r\n                } else {\r\n                    list[n] += st;\r\n                }\r\n            }\r\n        };\r\n        return list.join(key);\r\n    },\r\n    slugToCamel: function (str: any = undefined) {\r\n        if (isString(str)) {\r\n            var self = this;\r\n            var t = this.replace(\r\n                this.replace(\r\n                    this.clearUnicode(str),\r\n                    \"[]{}();:'\\\"\\\\|,./?~!@#$%^&*+=\".split(\"\"),\r\n                    \"-\"\r\n                ),\r\n                '--',\r\n                '-'\r\n            ).split(\"-\")\r\n                .map(s => s.trim())\r\n                .filter(s => s.length > 0)\r\n                .map((s: string, i: number) => i > 0 ? self.ucfirst(s) : s)\r\n                .join(\"\");\r\n            str = t;\r\n\r\n\r\n        }\r\n        return str;\r\n    },\r\n    objectKey: function (str: string, key?: string) {\r\n        if (!key) key = '_';\r\n        var s = String(str);\r\n        var l = '$ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n        var list = [];\r\n        var n = 0;\r\n        var t = this.replace(this.replace(\r\n            this.clearUnicode(s),\r\n            \"[]{}();:'\\\"\\\\|,./?~!@#$%^&*+=\".split(\"\"),\r\n            \"-\"\r\n        ), '--', '-');\r\n        for (var i = 0; i < t.length; i++) {\r\n            var st = t[i];\r\n            if (l.indexOf(st) == -1) {\r\n                if (typeof list[n] != \"undefined\") {\r\n                    if (l.indexOf(t[i - 1]) >= 0) n++;\r\n                }\r\n            } else {\r\n                if (typeof list[n] == \"undefined\") {\r\n                    list[n] = st;\r\n                } else {\r\n                    list[n] += st;\r\n                }\r\n            }\r\n        };\r\n        return list.join(key);\r\n    },\r\n    orderCharList: [\r\n        \" \", \"\\\"\", \"#\", \"$\", \"%\", \"&\", \"'\", \"(\", \")\", \"*\", \"+\", \",\", \"-\", \".\", \"/\", \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \":\", \";\", \"<\", \"=\", \">\", \"?\", \"@\",\r\n        \"A\", \"À\", \"Á\", \"Ạ\", \"Ả\", \"Ã\", \"Â\", \"Ầ\", \"Ấ\", \"Ậ\", \"Ẩ\", \"Ẫ\", \"Ă\", \"Ằ\", \"Ắ\", \"Ặ\", \"Ẳ\", \"Ẵ\",\r\n        \"B\", \"C\", \"D\", \"Đ\",\r\n        \"E\", \"È\", \"É\", \"Ẹ\", \"Ẻ\", \"Ẽ\", \"Ê\", \"Ề\", \"Ế\", \"Ệ\", \"Ể\", \"Ễ\",\r\n        \"F\", \"G\", \"H\",\r\n        \"I\", \"Ì\", \"Í\", \"Ị\", \"Ỉ\", \"Ĩ\",\r\n        \"K\", \"L\", \"M\", \"N\",\r\n        \"O\", \"Ò\", \"Ó\", \"Ọ\", \"Ỏ\", \"Õ\", \"Ô\", \"Ồ\", \"Ố\", \"Ộ\", \"Ổ\", \"Ỗ\", \"Ơ\", \"Ờ\", \"Ớ\", \"Ợ\", \"Ở\", \"Ỡ\",\r\n        \"P\", \"Q\", \"R\", \"S\", \"T\",\r\n        \"U\", \"Ù\", \"Ú\", \"Ụ\", \"Ủ\", \"Ũ\", \"Ư\", \"Ừ\", \"Ứ\", \"Ự\", \"Ử\", \"Ữ\",\r\n        \"V\", \"W\", \"X\",\r\n        \"Y\", \"Ỳ\", \"Ý\", \"Ỵ\", \"Ỷ\", \"Ỹ\",\r\n        \"z\",\r\n        \"[\", \"\\\\\", \"]\", \"^\", \"_\",\r\n        \"a\", \"à\", \"á\", \"ạ\", \"ả\", \"ã\", \"â\", \"ầ\", \"ấ\", \"ậ\", \"ẩ\", \"ẫ\", \"ă\", \"ằ\", \"ắ\", \"ặ\", \"ẳ\", \"ẵ\",\r\n        \"b\", \"c\",\r\n        \"d\", \"d\",\r\n        \"e\", \"è\", \"é\", \"ẹ\", \"ẻ\", \"ẽ\", \"ê\", \"ề\", \"ế\", \"ệ\", \"ể\", \"ễ\",\r\n        \"f\", \"g\", \"h\",\r\n        \"i\", \"ì\", \"í\", \"ị\", \"ỉ\", \"ĩ\",\r\n        \"k\", \"l\", \"m\", \"n\",\r\n        \"o\", \"ò\", \"ó\", \"ọ\", \"ỏ\", \"õ\", \"ô\", \"ồ\", \"ố\", \"ộ\", \"ổ\", \"ỗ\", \"ơ\", \"ờ\", \"ớ\", \"ợ\", \"ở\", \"ỡ\",\r\n        \"p\", \"q\", \"r\", \"s\", \"t\",\r\n        \"u\", \"ù\", \"ú\", \"ụ\", \"ủ\", \"ũ\", \"ư\", \"ừ\", \"ứ\", \"ự\", \"ử\", \"ữ\",\r\n        \"v\", \"w\", \"x\", \"y\", \"ỳ\", \"ý\", \"ỵ\", \"ỷ\", \"ỹ\",\r\n        \"z\"\r\n    ],\r\n    compare: function (str1, str2) {\r\n        var i1n = isNumber(str1)\r\n        var i2n = isNumber(str2);\r\n        if (i1n && i2n) {\r\n            return str1 > str2 ? 1 : (str1 == str2 ? 0 : -1)\r\n\r\n        }\r\n        str1 = String(str1);\r\n        str2 = String(str2);\r\n        var s1l = str1.length, s2l = str2.length;\r\n        var max = s1l < s2l ? s1l : s2l;\r\n        for (var i = 0; i < max; i++) {\r\n            var c1 = this.orderCharList.indexOf(str1[i]);\r\n            var c2 = this.orderCharList.indexOf(str2[i]);\r\n\r\n            if (c2 == -1 || c1 > c2) return 1;\r\n            if (c1 == -1 || c1 < c2) return -1;\r\n\r\n        }\r\n        return s1l > s2l ? 1 : (s1l < s2l ? -1 : 0);\r\n\r\n    }\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\nvar date = function (format: any = undefined, lang: any = undefined) {\r\n    var offset = 0;\r\n    var d = new Date();\r\n    var t = emptyObject();\r\n    var l = String(lang).toLowerCase() != 'en' ? 'vi' : 'en';\r\n\r\n    var dl = newObj({\r\n        en: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\r\n        vi: ['Chủ Nhật', 'Thứ Hai', 'Thứ Ba', 'Thứ Tư', 'Thứ Năm', 'Thứ Sáu', 'Thứ Bảy']\r\n    });\r\n    var ml = {\r\n        en: [\"\", \"Jan\"]\r\n    };\r\n\r\n\r\n    // convert to msec\r\n    // add local time zone offset\r\n    // get UTC time in msec\r\n    var utc = d.getTime() + (d.getTimezoneOffset() * 60000);\r\n\r\n    // create new Date object for different city\r\n    // using supplied offset\r\n    d = new Date(utc + (3600000 * offset));\r\n\r\n\r\n\r\n    t.ms = d.getMilliseconds();\r\n    t.Y = d.getFullYear();\r\n    t.y = d.getFullYear() - 1900;\r\n    t.H = d.getHours();\r\n    t.i = d.getMinutes();\r\n    t.m = d.getMonth() + 1;\r\n    t.s = d.getSeconds();\r\n    t.time = d.getTime();\r\n    t.d = d.getDate();\r\n    t.w = dl[l][d.getDay()];\r\n    if (!format) return t;\r\n    var f = getType(format);\r\n    if (f == 'string') {\r\n        var txt = format;\r\n        txt = Str.replace(txt, 'ms', t.ms);\r\n        txt = Str.replace(txt, 'time', t.time);\r\n        txt = Str.replace(txt, t);\r\n        return txt;\r\n    }\r\n    return null;\r\n};\r\nvar getTimeStamp = function () {\r\n    var offset = 0;\r\n    var d = new Date();\r\n    var utc = d.getTime() + (d.getTimezoneOffset() * 60000);\r\n\r\n    // create new Date object for different city\r\n    // using supplied offset\r\n    d = new Date(utc + (3600000 * offset));\r\n\r\n\r\n\r\n    return d.getTime();\r\n};\r\n\r\n/**\r\n * \r\n * @param {object} target đối  tượng cần gán thuộc tính\r\n * @param {object|string} key key hoặc object thuộc tính\r\n * @param {*} value giá trị\r\n * @returns {object}\r\n */\r\n const assignValue = (target: (Array<any>|{[x:string]:any}|any), key?: (string|number|Array<any>|{[x:string]:any}), value?: any) => {\r\n    if (!isArray(target) && !isObject(target)) return target;\r\n    if (isObject(key)) {\r\n        let objData: any = key;\r\n        if (isArray(target)) {\r\n            console.warn(\"Target khong cung kieu voi object\");\r\n            var a = target;\r\n            target = assignValue({}, a);\r\n        }\r\n        for (var k in objData) {\r\n            if (objData.hasOwnProperty(k)) {\r\n\r\n                var s13 = String(k).substr(0, 13);\r\n                if (s13 == \"______rand_id\" || s13 == \"______unique_\") {\r\n\r\n                } else {\r\n                    var v = objData[k];\r\n                    assignValue(target, k, v);\r\n                }\r\n\r\n\r\n            }\r\n        }\r\n    } else if (isArray(key)) {\r\n        let arrData: any[] = key as Array<any>;\r\n        for (let i = 0; i < arrData.length; i++) {\r\n            const vl = arrData[i];\r\n            assignValue(target, i, vl);\r\n        }\r\n    }\r\n    else if ((isString(key) || isNumber(key)) && String(key).length) {\r\n        let sk = String(key);\r\n        let ak: any = key;\r\n        var s13 = sk.substr(0, 13);\r\n        if (s13 == \"______rand_id\" || s13 == \"______unique_\") {\r\n            // kong6 làm gì\r\n        } else if (String(key).substr(0, 1) == '@') {\r\n            var f = sk.substr(1);\r\n            if (typeof target[f] == \"function\") {\r\n                target[f].apply(target, isArray(value) ? value : [value]);\r\n            }\r\n        }\r\n        else if (isObject(value)) {\r\n            if (value.constructor == Object) {\r\n                if (typeof target[ak] != \"object\") target[ak] = {};\r\n                assignValue(target[ak], value);\r\n            }\r\n            else {\r\n                target[ak] = value;\r\n            }\r\n        }\r\n        else if (isArray(value)) {\r\n            if (typeof target[ak] == \"undefined\" || !isArray(target[ak])) {\r\n                target[ak] = [];\r\n                assignValue(target[ak], value);\r\n            } else {\r\n                assignValue(target[ak], value);\r\n            }\r\n        }\r\n        else {\r\n            target[ak] = value;\r\n        }\r\n    }\r\n    return target;\r\n};\r\n\r\nconst assignWithout = (target: any, source?: any, ...ignore: any[]) => {\r\n    if (typeof target != \"object\" || typeof source != \"object\") return target;\r\n    var il = [];\r\n    for (var index = 0; index < ignore.length; index++) {\r\n        var list = ignore[index];\r\n        if (isArray(list)) {\r\n            for (var i = 0; i < list.length; i++) {\r\n                let field = list[i];\r\n                il.push(field);\r\n            }\r\n        } else if (isObject(list)) {\r\n            for (var field in list) {\r\n                if (list.hasOwnProperty(field)) {\r\n                    var val = list[field];\r\n                    il.push(field);\r\n                }\r\n            }\r\n        }else{\r\n            il.push(list)\r\n        }\r\n    }\r\n    for (var key in source) {\r\n        if (source.hasOwnProperty(key)) {\r\n            var val = source[key];\r\n            if (!inArray(il, key)) {\r\n                assignValue(target, key, val);\r\n            }\r\n        }\r\n    }\r\n    return target;\r\n};\r\n\r\n\r\n/**\r\n * \r\n * @param {object} target đối  tượng cần gán thuộc tính\r\n * @param {object|string} key key hoặc object thuộc tính\r\n * @param {*} value giá trị\r\n * @returns {object}\r\n */\r\n const assignIfNotExists = (target: (Array<any>|{[x:string]:any}|any), key?: (string|number|Array<any>|{[x:string]:any}), value?: any) => {\r\n    if (!isArray(target) && !isObject(target)) return target;\r\n    if (isObject(key)) {\r\n        let objData: any = key;\r\n        if (isArray(target)) {\r\n            console.warn(\"Target khong cung kieu voi object\");\r\n            var a = target;\r\n            target = assignIfNotExists({}, a);\r\n        }\r\n        for (var k in objData) {\r\n            if (Object.prototype.hasOwnProperty.call(objData, k)) {\r\n                var v = objData[k];\r\n                assignIfNotExists(target, k, v);\r\n\r\n\r\n            }\r\n        }\r\n    } else if (isArray(key)) {\r\n        let arrData: any[] = key as Array<any>;\r\n        for (let i = 0; i < arrData.length; i++) {\r\n            const vl = arrData[i];\r\n            assignIfNotExists(target, i, vl);\r\n        }\r\n    }\r\n    else if ((isString(key) || isNumber(key)) && String(key).length) {\r\n        let sk = String(key);\r\n        let ak: any = key;\r\n        if (String(key).substr(0, 1) == '@') {\r\n            var f = sk.substr(1);\r\n            if (typeof target[f] == \"function\") {\r\n                target[f].apply(target, isArray(value) ? value : [value]);\r\n            }\r\n        }\r\n        else if (isObject(value)) {\r\n            if (value.constructor == Object) {\r\n                if (typeof target[ak] != \"object\") target[ak] = {};\r\n                assignIfNotExists(target[ak], value);\r\n            }\r\n            else if(!objectHasKey(target, sk)){\r\n\r\n                target[ak] = value;\r\n            }\r\n        }\r\n        else if (isArray(value)) {\r\n            if (typeof target[ak] == \"undefined\" || !isArray(target[ak])) {\r\n                target[ak] = [];\r\n                assignIfNotExists(target[ak], value);\r\n            } else {\r\n                assignIfNotExists(target[ak], value);\r\n            }\r\n        }\r\n        else if(!objectHasKey(target, sk)){\r\n            target[ak] = value;\r\n        }\r\n    }\r\n    return target;\r\n};\r\n\r\n\r\nconst objectAssignKeyValue = (target: {[key:string]:any}, key:string|number, value: any, filter?: ((key: string|number, value:any, resolve?:(value)=>any, reject?:(...args:any[])=>any) => any) | string) => {\r\n    let stt = true;\r\n    let resolveValue = value;\r\n    let resolveStt = false;\r\n    const resolve = (val) => {\r\n        resolveValue = val;\r\n        resolveStt = true;\r\n        return val;\r\n    };\r\n    const reject = (...args:any[]) => {\r\n        stt = false;\r\n    }\r\n    if(typeof filter == \"function\"){\r\n        let rs = filter(key, value, resolve, reject);\r\n        if(resolveStt){\r\n            target[key] = resolveValue;\r\n        }else if(stt){\r\n            if(isBoolean(rs)){\r\n                if(isBoolean(value)) target[key] = rs;\r\n                else if(rs === true) target[key] = value;\r\n            }else if(typeof rs != \"undefined\") target[key] = value;\r\n        }\r\n    }else if(isString(filter)){\r\n        if(getType(value) == filter){\r\n            target[key] = value;\r\n        }\r\n    }else{\r\n        target[key] = value;\r\n    }\r\n    return value;\r\n};\r\nconst objectAssign = (target: {[key:string]:any}, obj: {[key:string]:any}, filter?: (key: string|number, value:any, resolve?:(value)=>any, reject?:(...args:any[])=>any) => any) => {\r\n    if (!isArray(target) && !isObject(target)) return target;\r\n    if (isObject(obj)) {\r\n        let objData: any = obj;\r\n        if (isArray(target)) {\r\n            console.warn(\"Target khong cung kieu voi object\");\r\n            var a = target;\r\n            target = assignValue({}, a);\r\n        }\r\n        for (var k in objData) {\r\n            if (objData.hasOwnProperty(k)) {\r\n\r\n                var v = objData[k];\r\n                objectAssignKeyValue(target, k, v, filter);\r\n                \r\n\r\n\r\n            }\r\n        }\r\n    } else if (isArray(obj)) {\r\n        let arrData: any[] = obj as Array<any>;\r\n        for (let i = 0; i < arrData.length; i++) {\r\n            const vl = arrData[i];\r\n            objectAssignKeyValue(target, i, vl, filter);\r\n        }\r\n    }\r\n    return target;\r\n};\r\n\r\nvar rgbToHex = function (rgb: any = undefined) {\r\n    var hex = parseInt(rgb).toString(16);\r\n    if (hex.length < 2) {\r\n        hex = \"0\" + hex;\r\n    }\r\n    return hex;\r\n};\r\nvar colorToHex = function (r: any = undefined, g: any = undefined, b: any = undefined) {\r\n    var red = rgbToHex(r);\r\n    var green = rgbToHex(g);\r\n    var blue = rgbToHex(b);\r\n    return \"#\" + red + green + blue;\r\n};\r\n\r\nvar invertHexColor = function invertHexColor(hexTripletColor: any = undefined) {\r\n    var color = hexTripletColor;\r\n    color = color.substring(1); // remove #\r\n    color = parseInt(color, 16); // convert to integer\r\n    color = 0xFFFFFF ^ color; // invert three bytes\r\n    color = color.toString(16); // convert to hex\r\n    color = (\"000000\" + color).slice(-6); // pad with leading zeros\r\n    color = \"#\" + color; // prepend #\r\n    return color;\r\n}\r\n\r\n/**\r\n * xửu lý hàng đợi\r\n * @param {function} work hàm thục thi công việc\r\n * @param {Number} delay thời gian giữa 2 lần chạy task\r\n * @param {Number} step số lần thực hiện công việc nếu chưa bị reject hay resolve\r\n */\r\nclass Queue {\r\n    status: string = \"\";\r\n    result: any;\r\n\r\n    e: (...args:any[]) =>any;\r\n    \r\n    constructor(work: (resolve?:(...args:any[])=>any, rejected?:(...args:any[])=>any, turn?:number) => any, delay?: number, step?: number) {\r\n        if (typeof work == \"undefined\") return this;\r\n        this.status = \"pending\";\r\n        this.result = null;\r\n        var d = (typeof delay == \"undefined\" || !isNumber(delay) || delay < 1) ? 10 : delay;\r\n        var s = (typeof step == \"undefined\" || !isNumber(step) || step < 0) ? -1 : step;\r\n        var self = this;\r\n        var properties = newObj({\r\n            timeDelay: d,\r\n            stepCount: s,\r\n            resolved: false,\r\n            rejected: false,\r\n            cancelled: false,\r\n            stopped: false,\r\n            status: \"pending\",\r\n            timeId: null,\r\n            turn: 1,\r\n            count: 1\r\n        });\r\n        var methods = newObj({\r\n            then: function (rs: any = undefined) {\r\n                // App.log(rs);\r\n            },\r\n            catch: function (err: any = undefined) {\r\n                console.log(err);\r\n            },\r\n            clear: function () {\r\n                if (properties.timeId) {\r\n                    clearTimeout(properties.timeId);\r\n                    self.status = properties.status;\r\n                }\r\n\r\n            },\r\n            run: function () {\r\n                var comtext = this;\r\n                var time = properties.timeDelay || 10;\r\n                var stop = properties.stepCount;\r\n                var resolve = function (rs: any = undefined) {\r\n                    properties.resolved = rs;\r\n                    if (properties.status == \"pending\") {\r\n                        properties.status = \"resolved\";\r\n                        self.result = rs;\r\n                        comtext.clear();\r\n                        return comtext.then(rs);\r\n                    }\r\n                    comtext.clear();\r\n                    return true;\r\n\r\n                };\r\n                var reject = function (err: any = undefined) {\r\n                    properties.rejected = err;\r\n                    if (properties.status == \"pending\") {\r\n                        properties.status = \"rejected\";\r\n                        self.result = err;\r\n                        comtext.catch(err);\r\n                    }\r\n                    comtext.clear();\r\n                    return err;\r\n\r\n                };\r\n                var runtask = function () {\r\n\r\n                    var id = setTimeout(() => {\r\n                        if (properties.stepCount > -1 && properties.turn > properties.stepCount) {\r\n                            properties.status = \"stoped\";\r\n                            properties.stopped = \"time out\";\r\n                            comtext.clear();\r\n                            return false;\r\n                        } else if (properties.status != \"pending\") {\r\n                            return false;\r\n                        } else {\r\n                            try {\r\n                                var stt = work(resolve, reject, properties.turn);\r\n                                if (stt !== undefined) {\r\n                                    if (properties.status == \"pending\") {\r\n                                        comtext.stop();\r\n                                        return false;\r\n                                    }\r\n                                }\r\n                                properties.turn++;\r\n                            } catch (error) {\r\n                                comtext.stop();\r\n                                comtext.catch(error);\r\n                                return false;\r\n                            }\r\n                        }\r\n\r\n                        properties.count++;\r\n                        runtask();\r\n                        return true;\r\n                    }, time);\r\n                    properties.timeId = id;\r\n                };\r\n                runtask();\r\n            },\r\n            stop: function () {\r\n                properties.stepCount = 0;\r\n                properties.status = \"stopped\";\r\n                this.clear();\r\n            },\r\n            delay: function (delay: any = undefined) {\r\n                if (typeof delay == \"undefined\" || !isNumber(delay) || delay < 1) return;\r\n                properties.timeDelay = delay;\r\n                this.clear();\r\n                this.run();\r\n            },\r\n            step: function (step: any = undefined) {\r\n                if (typeof step == \"undefined\" || !isNumber(step) || step < -1 || step == 0) return;\r\n                properties.stepCount = step;\r\n                this.clear();\r\n                this.run();\r\n            },\r\n            restart: function () {\r\n                this.clear();\r\n                properties.turn = 1;\r\n                this.run();\r\n            },\r\n            addThen: function (fn: any = undefined) {\r\n                if (typeof fn == \"function\") {\r\n                    this.then = fn;\r\n                }\r\n            },\r\n            addCatch: function (fn: any = undefined) {\r\n                if (typeof fn == \"function\") {\r\n                    this.catch = fn;\r\n                }\r\n            },\r\n            getData: function () {\r\n                return properties;\r\n            }\r\n        });\r\n        this.e = function (...args: any) {\r\n            if (!args.length || typeof args[0] != \"string\") return null;\r\n            var method = args[0];\r\n            var r = null;\r\n            if (typeof methods[method] == \"function\") {\r\n                var args2 = [];\r\n                for (var i = 1; i < args.length; i++) {\r\n                    var arg = args[i];\r\n                    args2.push(arg);\r\n                }\r\n\r\n                r = methods[method].apply(methods, args2);\r\n            }\r\n            return r;\r\n        };\r\n        setTimeout(function () {\r\n            methods.run();\r\n        }, 1);\r\n    }\r\n\r\n    delay(delay?: number) {\r\n        if (typeof delay == \"undefined\" || !isNumber(delay) || delay < 1) return;\r\n        this.e(\"delay\", delay);\r\n        return this;\r\n    }\r\n    step(step: number) {\r\n        if (typeof step == \"undefined\" || !isNumber(step) || step < -1 || step == 0) return;\r\n        this.e(\"step\", step);\r\n        return this;\r\n    }\r\n    try(step: number) {\r\n        if (typeof step == \"undefined\" || !isNumber(step) || step < -1 || step == 0) return;\r\n        this.e(\"step\", step);\r\n        return this;\r\n    }\r\n    restart(): Queue {\r\n        this.e(\"restart\");\r\n        return this;\r\n    }\r\n    then(fn: (...args:any[]) => any): this {\r\n        if (typeof fn == \"function\") {\r\n            this.e(\"addThen\", fn);\r\n        }\r\n        return this;\r\n    }\r\n    catch(fn: (...args:any[]) => any): this{\r\n        if (typeof fn == \"function\") {\r\n            this.e(\"addCatch\", fn);\r\n        }\r\n        return this;\r\n    }\r\n}\r\n/**\r\n * xửu lý hàng đợi\r\n * @param {function} work hàm thục thi công việc\r\n * @param {Number} delay thời gian giữa 2 lần chạy task\r\n * @param {Number} step số lần thực hiện công việc nếu chưa bị reject hay resolve\r\n */\r\nfunction queueTask(work: (resolve?:(...args:any[])=>any, rejected?:(...args:any[])=>any, turn?:number) => any, delay?: number, step?: number): Queue {\r\n    return new Queue(work, delay, step);\r\n}\r\n\r\n\r\n\r\n/**\r\n * lấy danh sách tham số nội hàm khi dược gọi\r\n * @param {Arguments} args tham số nội hàm\r\n * @param {integer} start vị trí bắt đầu lấy tham số\r\n * @returns {mixed[]}\r\n */\r\nfunction getArguments(args: any = undefined, start: any = undefined) {\r\n    var a = [];\r\n    if (!isNumber(start) || start < 0) start = 0;\r\n    if (args && args.length) {\r\n        for (let i = start; i < args.length; i++) {\r\n            const arg = args[i];\r\n            a.push(arg);\r\n        }\r\n    }\r\n    return a;\r\n}\r\n\r\n\r\nfunction JsonToBase64(data: any = undefined) {\r\n    return \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(data));\r\n}\r\n\r\n\r\nfunction b64toBlob(b64Data: any = undefined, contentType: any = undefined, sliceSize: any = undefined) {\r\n    if (!contentType) contentType = '';\r\n    if (!sliceSize) sliceSize = 512;\r\n    const byteCharacters = atob(b64Data);\r\n    const byteArrays = [];\r\n\r\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\r\n        const slice = byteCharacters.slice(offset, offset + sliceSize);\r\n\r\n        const byteNumbers = new Array(slice.length);\r\n        for (let i = 0; i < slice.length; i++) {\r\n            byteNumbers[i] = slice.charCodeAt(i);\r\n        }\r\n\r\n        const byteArray = new Uint8Array(byteNumbers);\r\n        byteArrays.push(byteArray);\r\n    }\r\n\r\n    const blob = new Blob(byteArrays, { type: contentType });\r\n    return blob;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * resize anh\r\n * @param {string|Element} img anh\r\n * @param {int} resizeWidth do rong \r\n * @param {int} resizeHeight chieu cao\r\n * @param {function} callback ham call back\r\n */\r\nfunction resizeImage(img: any = undefined, resizeWidth: any = undefined, resizeHeight: any = undefined, callback: any = undefined) {\r\n    function fn(imgTag: any = undefined) {\r\n        var canvas = document.createElement('canvas');\r\n        canvas.setAttribute('width', resizeWidth);\r\n        canvas.setAttribute('height', resizeHeight);\r\n\r\n\r\n        var ctx = canvas.getContext(\"2d\");\r\n\r\n        var imageWidth = imgTag.width;\r\n        var imageHeight = imgTag.height;\r\n\r\n        var zoomWidth = imageWidth, zoomHeight = imageHeight;\r\n        var imageRatio = imageWidth / imageHeight;\r\n        var resizeRatio = resizeWidth / resizeHeight;\r\n        // tỉ lệ là dài trên cao\r\n\r\n        if (imageRatio < resizeRatio) { // Nếu rỉ lệ của ảnh nhỏ hơn tỷ lệ resize thì sẽ zoom ảnh theo chiều rộng resize\r\n            zoomWidth = resizeWidth;\r\n            zoomHeight = zoomWidth / imageRatio;\r\n        } else { // nhược lại sẽ zoom ảnh theo chiều cao resize\r\n            zoomHeight = resizeHeight;\r\n            zoomWidth = zoomHeight * imageRatio;\r\n        }\r\n\r\n        // var image = new Image();\r\n        // image.src = imgTag.src;\r\n        // console.log(imageWidth, imageHeight, zoomWidth, zoomHeight, (resizeWidth - zoomWidth) / 2, (resizeHeight - zoomHeight) / 2);\r\n        ctx.drawImage(imgTag, (resizeWidth - zoomWidth) / 2, (resizeHeight - zoomHeight) / 2, zoomWidth, zoomHeight);\r\n        // console.log(canvas)\r\n        var url = canvas.toDataURL(\"image/png\");\r\n        callback(url);\r\n\r\n    }\r\n    return isString(img) ? function () {\r\n        var el = document.createElement('img');\r\n        el.crossOrigin = \"anonymous\";\r\n        el.onload = function () {\r\n            // window['img00'] = el\r\n            fn(el);\r\n\r\n        }\r\n        el.src = img;\r\n        return el;\r\n    }() :\r\n        img instanceof Element ? fn(img) : null;\r\n}\r\n\r\nvar degreeToRadians = function (degrees: any = undefined) {\r\n    if (!isNumber(degrees) || isNaN(degrees) || degrees == \"\") degrees = 0;\r\n    return degrees * Math.PI / 180;\r\n};\r\nvar radianToDegrees = function (radians: any = undefined) {\r\n    if (!isNumber(radians) || isNaN(radians) || radians == '') radians = 0;\r\n    return radians * 180 / Math.PI;\r\n}\r\n\r\n\r\nfunction getObjectPropDepth(elem, key?:any){\r\n    if(!isObject(elem) && !isArray(elem)) return undefined;\r\n    var t = getType(key)\r\n    let c : any = elem;\r\n    let s = t=='array'?key: \r\n        (['string', 'number'].indexOf(t)!=-1)? String(key).split(\".\"):[];\r\n    if(!s.length) return c;\r\n    var k = s.pop();\r\n    c = c[k];\r\n    if(s.length) return getObjectPropDepth(c, s);\r\n    return c;\r\n}\r\n\r\n/**\r\n * \r\n * @param type loại input\r\n * @param name tên input\r\n * @param value gia tri\r\n * @param options option\r\n */\r\nfunction getInputCfg (\r\n    type: string,\r\n    name: string,\r\n    value: (string | number | boolean | { [x: string]: any }),\r\n    options?: any\r\n) {\r\n    var t = Str.lower(type);\r\n    return inArray([\r\n        'text', 'number', 'select', 'range', 'radio', 'checkbox', 'switch', \r\n        'textarea', 'texteditor', 'vector2', 'vector3', 'vector4', 'texture', \r\n        'imagesurl', 'color' \r\n    ], t)? assignValue({\r\n        type: t,\r\n        name: name,\r\n        value: value\r\n    }, options) : null ;\r\n}\r\n\r\nexport {\r\n    _instanceof, _defineProperties, _createClass, _defineProperty, addToGlobal,\r\n    getType, checkType, isArray, isBoolean, isObject, isString, isNumber, isInteger, isEmail, isNull, isFormData, isEmpty, isCallable, isFunction, isProperty, isMethod, hasValue, inArray,\r\n    cutWithout, copyWithout, copyArray, objectKeys, objectValues, merge, combine, arrayJoin, objectHasKey, objectHasProperty, objectAssign,\r\n    Num, Str, date, getEl, assignValue, assignWithout, assignIfNotExists, colorToHex, invertHexColor, minOf, maxOf, copyByList, isFloat,\r\n    Queue, queueTask, combineElenentsToArrList, combineElenentsJoinStringList, getArguments, JsonToBase64, b64toBlob, resizeImage, getTimeStamp,\r\n    degreeToRadians, radianToDegrees, newObj, emptyObject, getInputCfg, getObjectPropDepth\r\n};","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-auth',\r\n  templateUrl: './auth.component.html',\r\n  styleUrls: ['./auth.component.scss'],\r\n})\r\nexport class AuthComponent {}\r\n","<router-outlet></router-outlet>\r\n","import { assignValue, assignWithout, getTimeStamp, inArray, isArray, isEmpty, isNumber, isObject, isString, newObj, objectValues, Str } from '@app/_core/helpers/utils';\r\nimport * as THREE from 'three';\r\nimport { TransformControls } from '../threejs/jsm/controls/TransformControls';\r\nimport { _class } from '@app/_core/helpers/es5.class';\r\nimport { EventDispatcher, EventDispatcherInstance } from './event-dispatcher';\r\nimport { registerAnimationTask } from './animation-loop';\r\nimport { SceneSize, SizeIn3D, Vector2, Vector3 } from '../store/data.type';\r\nimport { EditorClass, iEditor } from '../store/docs';\r\nimport { getMovingEngine } from '../engines/moving.engine';\r\n\r\nconst Editor__: any = _class(\"Editor\").uses(EventDispatcher)({\r\n    $dynamicCreateMode: true,\r\n    $control: null,\r\n    $engine: null,\r\n    $selected: null,\r\n    $pickers: null,\r\n    $currentLight: null,\r\n    $currentObject: null,\r\n    $currentTargetControl: null,\r\n    animationTasks: null,\r\n    animationStatus: false,\r\n    animationTimeStart: 0,\r\n    animationTimeCount: 0,\r\n    poiterDowsStatus: false,\r\n    isHoldObject: false,\r\n    hasDroppablePosition: false,\r\n    animation: null,\r\n    app: null,\r\n    meshes: null,\r\n    moving: null,\r\n    movingRaycaster: null,\r\n    dragMoveColRows: 101,\r\n    \r\n    constructor: function constructor(app, engine: any) {\r\n        this.setup(app, engine);\r\n    },\r\n\r\n    setup: function setup(app, engine) {\r\n        this.app = app;\r\n        var scope: iEditor = this;\r\n        this.engine = engine;\r\n        if (engine.inited) {\r\n            this.startup();\r\n            // console.log(engine);\r\n        } else {\r\n            this.engine.on('ready', function () {\r\n                scope.startup();\r\n            });\r\n\r\n        }\r\n    },\r\n    refresh: function () {\r\n        this.engine.refresh();\r\n    },\r\n\r\n    ready: function () {\r\n        var scope: iEditor = this;\r\n        scope.animation = registerAnimationTask(scope.getInstanceID())\r\n        this.moving = getMovingEngine(this.engine);\r\n        // this.moving.setSize(this.engine.width, this.engine.height);\r\n        // this.moving.setMainEngine(this.engine);\r\n        this.animationTasks = {\r\n            check: function () {\r\n                var currentTime = getTimeStamp();\r\n                if (scope.animationStatus && currentTime - scope.animationTimeStart >= scope.animationTimeCount) {\r\n                    if (scope.restoreShadow()) {\r\n                        scope.animationStatus = false;\r\n                        scope.animationTimeCount = 0;\r\n                        scope.engine.refresh();\r\n                        scope.animation.remove(\"editorCheck\");\r\n                    }\r\n\r\n                    // console.log(\"remove check and remove\")\r\n                }\r\n            }\r\n        };\r\n\r\n        // document.addEventListener(\"pointerup\", function () {\r\n        //     scope.poiterDowsStatus = false;\r\n        // })\r\n\r\n        this.meshes = [];\r\n\r\n        scope.scene = scope.engine.scene;\r\n        var box = new THREE.Box3();\r\n\r\n        var selectionBox = new THREE.BoxHelper();\r\n        selectionBox.material.depthTest = false;\r\n        selectionBox.material.transparent = true;\r\n        selectionBox.visible = false;\r\n        scope.selectionBox = selectionBox;\r\n        scope.box = box;\r\n        scope.scene.add(selectionBox);\r\n\r\n        scope.cursor = {\r\n            x: 0,\r\n            y: 0\r\n        };\r\n        scope.objects = [];\r\n        scope.lights = [];\r\n        scope.pickers = [];\r\n        scope.attachObjects = [];\r\n        scope.targets = [];\r\n        scope.targetControlObjects = {};\r\n        scope.helpers = {};\r\n        scope.currentLight = null;\r\n        scope.currentObject = null;\r\n        scope.currentTargetControl = null;\r\n\r\n        // scope.sceneHelper = scope.engine.sceneHelper;\r\n        // scope.engine.showSceneHelper = true;\r\n\r\n        scope.raycaster = new THREE.Raycaster();\r\n        scope.pointer = new THREE.Vector2();\r\n        scope.onUpPosition = new THREE.Vector2();\r\n        scope.onDownPosition = new THREE.Vector2();\r\n        scope.movingRaycaster = new THREE.Raycaster();\r\n\r\n\r\n        var control = new TransformControls(scope.engine.camera, scope.engine.renderer.domElement);\r\n        scope.engine.scene.add(control);\r\n\r\n        control.addEventListener('change', function () {\r\n            var object = control.object;\r\n            if (object) {\r\n                if (object.isTargetControlObject) {\r\n                    scope.updateLightTargetByTargetControlObject(object)\r\n                }\r\n                else if (object.isLight) {\r\n                    scope.updateHelperByLight(object);\r\n                }\r\n                else {\r\n                    scope.updateHelperByObject(object);\r\n                }\r\n            }\r\n            if (scope.isHoldObject) {\r\n                scope.turnOffShadow();\r\n            }\r\n\r\n            scope.engine.refresh();\r\n        });\r\n\r\n        control.addEventListener('dragging-changed', function (event) {\r\n            if (event.value) {\r\n                scope.engine.controlCanUpdate = false;\r\n            }\r\n            if (scope.engine.enableControl) {\r\n                scope.engine.control.enabled = !event.value;\r\n            }\r\n\r\n            // console.log(JSON.stringify(control));\r\n            // console.log(event.value);\r\n            var object = control.object;\r\n            var e = newObj({\r\n                type: \"object.changed\",\r\n                data: scope.currentObject,\r\n                mode: control.mode\r\n            })\r\n            if (object !== undefined) {\r\n                if (object.isTargetControlObject) {\r\n                    scope.updateLightTargetByTargetControlObject(object);\r\n                    e.type = 'light.update.target';\r\n                    e.data = {\r\n                        x: object.position.x,\r\n                        y: object.position.y,\r\n                        z: object.position.z\r\n                    };\r\n                    e.light = object.light;\r\n                }\r\n                else if (object.isLight) {\r\n                    e.type = 'light.update.props';\r\n                    e.data = {\r\n                        x: object.position.x,\r\n                        y: object.position.y,\r\n                        z: object.position.z\r\n                    };\r\n                    e.light = object;\r\n                }\r\n\r\n            }\r\n            if (event.value) {\r\n                scope.turnOffShadow();\r\n            }\r\n            scope.isHoldObject = event.value;\r\n            // scope.turnOffShadow();\r\n\r\n            scope.engine.refresh();\r\n            if (!event.value) {\r\n                scope.engine.controlCanUpdate = true;\r\n            }\r\n\r\n            scope.dispatchEvent(e);\r\n\r\n        });\r\n        control.addEventListener('objectChange', function () {\r\n            // console.log(\"change\");\r\n        });\r\n\r\n        // control.enabled = false;\r\n        scope.control = control;\r\n\r\n\r\n        window.addEventListener('keyup', function (event) {\r\n            switch (event.keyCode) {\r\n                case 16: // Shift\r\n                    scope.control.setTranslationSnap(null);\r\n                    scope.control.setRotationSnap(null);\r\n                    scope.control.setScaleSnap(null);\r\n                    scope.engine.refresh();\r\n                    break;\r\n\r\n            }\r\n\r\n        });\r\n\r\n\r\n        scope.engine.on('object.added', function (event) {\r\n            var data = event.data;\r\n            // if(data.type == \"model\"){\r\n            scope.addObject(data.object);\r\n            // }\r\n            scope.addMeshByObject(data.object);\r\n\r\n\r\n        });\r\n\r\n\r\n        scope.engine.on('object.removed', function (event) {\r\n            var data = event.data;\r\n            scope.removeObject(data.object);\r\n\r\n            scope.removeMeshByObject(data.object);\r\n\r\n\r\n        });\r\n        scope.engine.on('light.added', function (event) {\r\n            var data = event.data;\r\n            scope.addLight(data.object);\r\n        });\r\n\r\n\r\n\r\n\r\n        scope.engine.on('light.removing', function (event) {\r\n            if (event.light) {\r\n                if (scope.currentLight == event.light.object) {\r\n                    scope.detachLight();\r\n                }\r\n            }\r\n\r\n        });\r\n        scope.engine.on('light.removed', function (event) {\r\n            // console.log(event.data.object)\r\n            scope.removeLight(event.data.object)\r\n\r\n        });\r\n\r\n        scope.engine.on('object.update.props', function (event) {\r\n            scope.updateHelperByObject(event.data.object);\r\n\r\n        });\r\n\r\n        scope.engine.on('object.update.geometry', function (event) {\r\n            scope.updateHelperByObject(event.data.object);\r\n\r\n        });\r\n\r\n        scope.engine.on('light.update', function (event) {\r\n            scope.updateHelperByLight(event.data.object);\r\n\r\n        });\r\n\r\n\r\n        var pointerDownPos = {\r\n            x: 0,\r\n            y: 0\r\n        }\r\n        var pointerUpPos = {\r\n            x: 0,\r\n            y: 0\r\n        }\r\n        var lastPointerUpTime = getTimeStamp();\r\n        var pointerDownStatus = false;\r\n        this.on(\"pointerdown\", function (e) {\r\n            pointerDownPos = {\r\n                x: e.clientX,\r\n                y: e.clientY\r\n            };\r\n            pointerDownStatus = true;\r\n        });\r\n        this.on('pointerup', function (event) {\r\n            if (!pointerDownStatus) return;\r\n\r\n            var currentTime = getTimeStamp();\r\n            if (\r\n                pointerUpPos && pointerDownPos\r\n                && pointerDownPos.x == event.clientX && pointerUpPos.x == event.clientX\r\n                && pointerDownPos.y == event.clientY && pointerUpPos.y == event.clientY\r\n                && currentTime - lastPointerUpTime <= 400\r\n            ) {\r\n                scope.emit({\r\n                    type: \"dbclick\",\r\n                    clientX: event.clientX,\r\n                    clientY: event.clientY\r\n                });\r\n\r\n            }\r\n            lastPointerUpTime = currentTime;\r\n            pointerUpPos = {\r\n                x: event.clientX,\r\n                y: event.clientY\r\n            };\r\n            pointerDownStatus = false;\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n    },\r\n    changeCameraByMain: function (camera) {\r\n        this.camera.copy(camera, true);\r\n\r\n    },\r\n    addEventDefault: function () {\r\n        var scope: iEditor = this;\r\n\r\n        this.addEventListener('pointerdown', onPointerDown);\r\n        this.addEventListener('pointerup', onPointerUp);\r\n        this.addEventListener('pointermove', onPointerMove);\r\n\r\n        // window['editor'] = this;\r\n\r\n\r\n        window.addEventListener('keydown', function (event) {\r\n\r\n            switch (event.keyCode) {\r\n                case 81: // Q\r\n                    scope.executeCommand(\"space\");\r\n                    break;\r\n                case 16: // Shift\r\n                    scope.executeCommand(\"snap\");\r\n                    break;\r\n                case 87: // W\r\n                    scope.executeCommand(\"translate\");\r\n                    scope.emit({\r\n                        type: \"control.mode.change\",\r\n                        node: \"translate\"\r\n                    });\r\n\r\n                    break;\r\n                case 69: // E\r\n                    scope.executeCommand(\"rotate\");\r\n                    scope.emit({\r\n                        type: \"control.mode.change\",\r\n                        node: \"rotate\"\r\n                    });\r\n\r\n                    break;\r\n                case 82: // R\r\n                    scope.executeCommand(\"scale\");\r\n                    scope.emit({\r\n                        type: \"control.mode.change\",\r\n                        node: \"scale\"\r\n                    });\r\n                    break;\r\n                case 187:\r\n                case 107: // +, =, num+\r\n                    scope.executeCommand(\"upsize\");\r\n                    break;\r\n                case 189:\r\n                case 109: // -, _, num-\r\n                    scope.executeCommand(\"downsize\");\r\n                    break;\r\n                case 88: // X\r\n                    scope.executeCommand(\"toggle:x\");\r\n                    break;\r\n                case 89: // Y\r\n                    scope.executeCommand(\"toggle:y\");\r\n                    break;\r\n                case 90: // Z\r\n                    scope.executeCommand(\"toggle:z\");\r\n                    break;\r\n                case 32: // Spacebar\r\n                    scope.executeCommand(\"enable\");\r\n                    break;\r\n                case 46: // delete\r\n                    scope.deleteAttach();\r\n                    break;\r\n\r\n                default:\r\n                    break;\r\n            }\r\n        });\r\n\r\n\r\n        function onPointerDown(event) {\r\n            scope.poiterDowsStatus = true;\r\n            var rect = scope.engine.wrapper.getBoundingClientRect();\r\n\r\n            scope.onDownPosition.x = event.clientX - rect.left;\r\n            scope.onDownPosition.y = event.clientY - rect.top;\r\n        }\r\n\r\n        function onPointerUp(event) {\r\n            // scope.poiterDowsStatus = false;\r\n            var rect = scope.engine.wrapper.getBoundingClientRect();\r\n            scope.onUpPosition.x = event.clientX - rect.left;\r\n            scope.onUpPosition.y = event.clientY - rect.top;\r\n            if (scope.onUpPosition.x < 0 || scope.onUpPosition.y < 0) return;\r\n\r\n            if (scope.onDownPosition.distanceTo(scope.onUpPosition) === 0) {\r\n                scope.pointer.x = (scope.onUpPosition.x / rect.width) * 2 - 1;\r\n                scope.pointer.y = - (scope.onUpPosition.y / rect.height) * 2 + 1;\r\n                scope.selectObjectByPointer(scope.pointer);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        function onPointerMove(event) {\r\n            if (scope.poiterDowsStatus) {\r\n                // scope.turnOffShadow();\r\n            }\r\n\r\n        }\r\n    },\r\n\r\n    startup: function () {\r\n        this.addEventDefault();\r\n        this.ready();\r\n        this.setEngineData();\r\n        this.emit({\r\n            type: \"startup\",\r\n            data: getTimeStamp()\r\n        })\r\n\r\n    },\r\n\r\n    setEngineData: function () {\r\n        this.engine.setData(this.engine.data);\r\n        this.engine.refresh();\r\n\r\n    },\r\n\r\n    addMeshByObject: function (object) {\r\n        var scope: iEditor = this;\r\n        var o = scope.engine.getObject(object);\r\n        if (o && o.type == \"model\") {\r\n            if (o.meshes && o.meshes.length) {\r\n                o.meshes.map(function (mesh) {\r\n                    Object.defineProperty(mesh, \"__parent__id__\", {\r\n                        enumerable: false,\r\n                        writable: false,\r\n                        configurable: false,\r\n                        value: o.object.id\r\n                    })\r\n                    Object.defineProperty(mesh, \"__parent__key__\", {\r\n                        enumerable: false,\r\n                        writable: false,\r\n                        configurable: false,\r\n                        value: o.secret_key\r\n                    })\r\n                    scope.meshes.push(mesh);\r\n                })\r\n            }\r\n        }\r\n    },\r\n    removeMeshByObject: function (object) {\r\n        var a = [];\r\n        var scope: iEditor = this;\r\n        this.meshes.map(function (mesh) {\r\n            if (mesh.__parent_id__ == object.id) {\r\n                a.push(mesh);\r\n            }\r\n        });\r\n        if (a.length) {\r\n            for (let i = 0; i < a.length; i++) {\r\n                const m = a[i];\r\n                var index = this.meshes.indexOf(m);\r\n                if (m >= 0) {\r\n                    this.meshes.splice(index, 1);\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    restoreShadow: function () {\r\n        if (this.animationStatus && !this.engine.deactiveShadowStatus) {\r\n            this.engine.Shadows.restore();\r\n            this.animationStatus = false;\r\n            return true;\r\n        }\r\n        return false;\r\n\r\n    },\r\n    turnOffShadow: function (timer) {\r\n        var scope = this;\r\n        this.animationTimeCount = isNumber(timer) && timer > 0 ? timer : 500;\r\n        this.animationTimeStart = getTimeStamp();\r\n        if (!this.animationStatus && !this.engine.deactiveShadowStatus) {\r\n            this.animationStatus = true;\r\n            this.engine.Shadows.off();\r\n            // this.engine.refresh();\r\n            if (!scope.animation.has(\"editorCheck\")) {\r\n                scope.animation.add(\"editorCheck\", this.animationTasks.check);\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    updateHelperByObject: function (object: any) {\r\n        var scope = this;\r\n        if (object !== undefined) {\r\n            var helper = scope.helpers[object.id];\r\n\r\n            if (helper !== undefined && helper.isSkeletonHelper !== true) {\r\n                if (object.position) helper.position.copy(object.position);\r\n                if (object.rotation) helper.rotation.copy(object.rotation);\r\n                if (object.scale) helper.scale.copy(object.scale);\r\n                helper.update();\r\n\r\n            }\r\n\r\n            // signals.refreshSidebarObject3D.dispatch(object);\r\n            scope.engine.refresh();\r\n        }\r\n    },\r\n    updateHelperByLight: function (object: any) {\r\n        var scope = this;\r\n        if (object !== undefined) {\r\n\r\n\r\n            // scope.helper.scale.copy(object.scale);\r\n            // selectionBox.setFromObject(object);\r\n\r\n            var helper = scope.helpers[object.id];\r\n\r\n            if (helper !== undefined && helper.isSkeletonHelper !== true) {\r\n                if (object.position) helper.position.copy(object.position);\r\n                if (object.rotation) helper.rotation.copy(object.rotation);\r\n                if (object.scale) helper.scale.copy(object.scale);\r\n                helper.update();\r\n\r\n            }\r\n\r\n            // signals.refreshSidebarObject3D.dispatch(object);\r\n            scope.engine.refresh();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * cập nhật vị trí target light\r\n     * @param\r\n     */\r\n    updateLightTargetByTargetControlObject: function (targetControl: any) {\r\n        if (targetControl.isTargetControlObject) {\r\n            var target = targetControl.targetControl;\r\n            target.position.copy(targetControl.position);\r\n            target.needsUpdate = true;\r\n            this.updateHelperByLight(targetControl.light);\r\n\r\n        }\r\n    },\r\n    addObject: function (object: any) {\r\n        this.objects.push(object);\r\n        this.select(object);\r\n    },\r\n\r\n\r\n    removeObject: function (object: any) {\r\n\r\n        this.removeHelper(object);\r\n        // if (object.parent === null) return; // avoid deleting the camera or scene\r\n\r\n\r\n        var scope = this;\r\n        if (object == scope.currentObject) {\r\n            scope.control.detach();\r\n        }\r\n        for (let i = 0; i < scope.objects.length; i++) {\r\n            const obj = scope.objects[i];\r\n            if (obj == object) {\r\n                scope.objects.splice(i, 1);\r\n            }\r\n        }\r\n        // scope.engine.refresh();\r\n    },\r\n\r\n    addLight: function addLight(light: any) {\r\n        if (isObject(light) && light.isLight) {\r\n            var helper = this.getHelper(light);\r\n            if (helper) {\r\n                helper.position.copy(light.position);\r\n                this.scene.add(helper);\r\n                helper.visible = false;\r\n                if (helper.children) {\r\n                    for (let index = 0; index < helper.children.length; index++) {\r\n                        const child = helper.children[index];\r\n                        const i = this.pickers.indexOf(child);\r\n                        if (i == -1) {\r\n                            this.pickers.push(child);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (light.target) {\r\n                light.target.position.y = this.engine.dropbyPositionY;\r\n                this.scene.add(light.target);\r\n            }\r\n            this.lights.push(light);\r\n            this.select(light);\r\n        }\r\n    },\r\n\r\n    removeLight: function removeLight(light: any) {\r\n        var helper = this.getHelper(light);\r\n        if (helper) {\r\n            if (helper.children) {\r\n                for (let index = 0; index < helper.children.length; index++) {\r\n                    const child = helper.children[index];\r\n                    const i = this.pickers.indexOf(child);\r\n                    if (i != -1) {\r\n                        this.pickers.splice(i, 1);\r\n\r\n                    }\r\n                }\r\n            }\r\n            this.removeHelper(light);\r\n        }\r\n\r\n        if (light.target) {\r\n            this.removeLightTargetControlObject(light);\r\n            this.scene.remove(light.target);\r\n        }\r\n        var index = this.lights.indexOf(light);\r\n\r\n        if (index !== -1) {\r\n            this.lights.splice(index, 1);\r\n\r\n            if (this.currentLight == light) {\r\n                this.detachLight();\r\n            }\r\n        }\r\n        this.engine.refresh();\r\n    },\r\n\r\n    lightHelperStatus: true,\r\n    showLightHelpers: function () {\r\n        var self = this;\r\n        this.lightHelperStatus = true;\r\n        this.lights.map(function (light) {\r\n            var helper = self.getHelper(light);\r\n            if (helper) helper.visible = true;\r\n        });\r\n        this.targets.map(function (target) {\r\n            target.visible = true;\r\n        })\r\n        this.engine.refresh()\r\n    },\r\n\r\n\r\n    hideLightHelpers: function () {\r\n        var self = this;\r\n        this.lights.map(function (light) {\r\n            var helper = self.getHelper(light);\r\n            if (helper) helper.visible = false;\r\n        });\r\n        this.lightHelperStatus = false;\r\n\r\n        this.targets.map(function (target) {\r\n            target.visible = false;\r\n        });\r\n\r\n        this.detachLight();\r\n\r\n        this.engine.refresh()\r\n    },\r\n\r\n    /**\r\n     * tìm object trong bảng\r\n     * @param {Object} obj \r\n     * @returns {Object#d|Group|Mesh}\r\n     */\r\n    closestObjectInScene: function closestObjectInScene(obj: any) {\r\n        if (isObject(obj) && !obj.isSczene) {\r\n\r\n            for (let i = 0; i < this.objects.length; i++) {\r\n                const sobj = this.objects[i];\r\n                if (obj == sobj || obj.uuid == sobj.uuid || (obj.id && obj.id == sobj.id)) return sobj;\r\n            }\r\n            if (obj.parent) {\r\n                return this.closestObjectInScene(obj.parent);\r\n            }\r\n\r\n        }\r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * tìm object trong bảng\r\n     * @param {Object} obj \r\n     * @returns {Object#d|Group|Mesh}\r\n     */\r\n    closestLightInScene: function closestLightInScene(obj: any) {\r\n        if (isObject(obj) && !obj.isScene) {\r\n\r\n            for (let i = 0; i < this.lights.length; i++) {\r\n                const sobj = this.lights[i];\r\n                if (obj == sobj || obj.userData == sobj || obj.attachObject == sobj) return sobj;\r\n\r\n\r\n            }\r\n            if (obj.parent) {\r\n                return this.closestLightInScene(obj.parent);\r\n            }\r\n\r\n\r\n        }\r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * tìm object trong bảng\r\n     * @param {Object} obj \r\n     * @returns {Object#d|Group|Mesh}\r\n     */\r\n    closestLightTargetControlInScene: function closestLightTargetControlInScene(obj: any) {\r\n        if (isObject(obj) && !obj.isScene && this.currentLight) {\r\n            var light = this.currentLight;\r\n            for (let i = 0; i < this.targets.length; i++) {\r\n                const sobj = this.targets[i];\r\n                if (obj == sobj && sobj.light == light) return sobj;\r\n\r\n\r\n            }\r\n            if (obj.parent) {\r\n                return this.closestLightInScene(obj.parent);\r\n            }\r\n\r\n\r\n        }\r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * chọn object\r\n     * @param {Vector3} pointer diểm click\r\n     * @returns \r\n     */\r\n    selectMeshByPointer: function (pointer: any) {\r\n        var scope = this;\r\n        this.raycaster.setFromCamera(pointer, this.engine.camera);\r\n        const intersects = this.raycaster.intersectObjects(this.meshes, true);\r\n        if (intersects.length > 0) {\r\n            return intersects[0].object;\r\n        }\r\n        return null;\r\n    },\r\n    /**\r\n     * chọn object\r\n     * @param {Vector3} pointer diểm click\r\n     * @returns \r\n     */\r\n    selectObjectByPointer: function (pointer: any) {\r\n        var scope = this;\r\n        this.raycaster.setFromCamera(pointer, this.engine.camera);\r\n\r\n        /**\r\n         * thứ tự ưu tiên\r\n         * 1 object\r\n         * 2 target\r\n         * 3 light\r\n         */\r\n\r\n\r\n\r\n        const intersects = this.raycaster.intersectObjects(this.objects, true);\r\n        // objects\r\n\r\n        if (intersects.length > 0) {\r\n            const object = intersects[0].object;\r\n            const obj = this.closestObjectInScene(object);\r\n            if (obj) {\r\n\r\n                if (obj !== this.control.object) {\r\n                    if (this.currentObject && this.currentObject != obj) {\r\n                        this.select(null);\r\n                    }\r\n                    this.select(obj);\r\n                }\r\n                return;\r\n            }\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        const targetIntersects = this.raycaster.intersectObjects(this.targets, true);\r\n        if (targetIntersects.length) {\r\n            const target = this.closestLightTargetControlInScene(targetIntersects[0].object);\r\n            if (target) {\r\n                this.attachLightTargetControl(target);\r\n\r\n                return;\r\n            }\r\n        }\r\n\r\n\r\n\r\n        if (this.currentLight && this.currentTargetControl && this.currentTargetControl.light == this.currentLight) {\r\n            this.detactLightTargetControl();\r\n            this.control.attach(this.currentLight);\r\n\r\n        } else {\r\n            this.detactLightTargetControl();\r\n        }\r\n\r\n\r\n\r\n        // ligjy\r\n        const lightIntersects = this.raycaster.intersectObjects(this.lights, true);\r\n\r\n        if (lightIntersects.length > 0) {\r\n            const object = lightIntersects[0].object;\r\n            const light = this.closestLightInScene(object);\r\n\r\n            if (light) {\r\n                if (light != this.control.object) {\r\n                    if (this.currentLight && this.currentLight != light) {\r\n                        this.select(null);\r\n                    }\r\n                    this.select(light);\r\n                }\r\n                return;\r\n\r\n            }\r\n        }\r\n\r\n\r\n\r\n        const pickerIntersects = this.raycaster.intersectObjects(this.pickers, true);\r\n        if (pickerIntersects.length > 0) {\r\n            const object = pickerIntersects[0].object.parent;\r\n            const light = this.closestLightInScene(object);\r\n\r\n            if (light) {\r\n                if (light != this.control.object) {\r\n                    if (this.currentLight && this.currentLight != light) {\r\n                        this.select(null);\r\n                    }\r\n                    this.select(light);\r\n                }\r\n                return;\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n        if (this.currentLight) this.detachLight();\r\n        if (this.currentObject) this.detachObject();\r\n        if (this.currentTargetControl) {\r\n            this.scene.remove(this.currentTargetControl);\r\n            // this.select(null);\r\n        }\r\n        this.control.detach();\r\n        this.select(null);\r\n        this.selected = null;\r\n        this.engine.refresh();\r\n\r\n\r\n    },\r\n\r\n    select: function (object: any) {\r\n        if (!object) {\r\n\r\n            if (this.selected) {\r\n                if (this.selected.isTargetControlObject) {\r\n                    this.detactLightTargetControl();\r\n                } else if (this.currentLightt) {\r\n                    this.detachLight();\r\n                } else {\r\n                    this.detachObject();\r\n                }\r\n            }\r\n            // else {\r\n            this.control.detach();\r\n            // }\r\n            this.selected = null;\r\n            this.engine.refresh();\r\n            return this;\r\n        }\r\n        if (this.selected === object) return;\r\n        var uuid = null;\r\n\r\n        uuid = object.uuid;\r\n\r\n        this.selected = object;\r\n\r\n        if (!object.isLight) {\r\n            this.attachObject(object);\r\n        }\r\n        else {\r\n            this.attachLight(object);\r\n        }\r\n\r\n        // this.config.setKey( 'selected', uuid );\r\n        // this.signals.objectSelected.dispatch( object );\r\n        this.engine.refresh();\r\n    },\r\n\r\n    selectById: function (id: any) {\r\n\r\n        if (id === this.camera.id) {\r\n\r\n            this.select(this.camera);\r\n            return;\r\n\r\n        }\r\n\r\n        this.select(this.scene.getObjectById(id, true));\r\n\r\n    },\r\n\r\n    selectByUuid: function (uuid: any) {\r\n\r\n        var scope = this;\r\n\r\n        this.scene.traverse(function (child) {\r\n\r\n            if (child.uuid === uuid) {\r\n\r\n                scope.select(child);\r\n\r\n            }\r\n\r\n        });\r\n\r\n    },\r\n\r\n    deselect: function () {\r\n\r\n        this.select(null);\r\n\r\n    },\r\n\r\n    focus: function (object: any) {\r\n\r\n        if (object !== undefined) {\r\n\r\n\r\n        }\r\n        this.engine.refresh();\r\n    },\r\n\r\n    focusById: function (id: any) {\r\n\r\n        this.focus(this.scene.getObjectById(id, true));\r\n\r\n    },\r\n\r\n    isSelected: function (object: any) {\r\n        return object == this.selected ? true : (\r\n            (object.isScene || !object.parent) ? false : this.isSelected(object.parent)\r\n        )\r\n    },\r\n\r\n    /**\r\n     * attach\r\n     * @param {string|object} object \r\n     */\r\n\r\n    attach: function (object: any) {\r\n        // console.log(object);\r\n        if (isObject(object)) {\r\n            this.attachObject(object);\r\n        }\r\n        if (isString(object)) {\r\n            var o = this.engine.getObject(object);\r\n            if (o) {\r\n                this.attachObject(o.object);\r\n            }\r\n        }\r\n    },\r\n    attachObject: function (object3D: any) {\r\n        if (this.currentLight) {\r\n            this.detachLight();\r\n        }\r\n        if (this.currentObject) {\r\n            this.detachObject();\r\n        }\r\n        this.currentObject = object3D;\r\n        var helper = this.getHelper(object3D);\r\n\r\n        this.helper = helper;\r\n        this.control.attach(object3D);\r\n        this.scene.add(helper);\r\n\r\n        this.dispatchEvent({\r\n            type: 'object.attach',\r\n            object: object3D,\r\n            mode: this.control.mode\r\n        });\r\n        this.engine.refresh();\r\n        return false;\r\n\r\n\r\n    },\r\n    detachObject: function () {\r\n        this.control.detach();\r\n        if (this.helper) {\r\n            this.helper.position.set(0, 0, 0);\r\n            this.helper.rotation.set(0, 0, 0);\r\n            this.helper.scale.set(1, 1, 1);\r\n            this.scene.remove(this.helper);\r\n\r\n        }\r\n        var obj = this.currentObject;\r\n        this.currentObject = null;\r\n        this.dispatchEvent({\r\n            type: 'object.detach',\r\n            object: obj\r\n        });\r\n\r\n        this.engine.refresh();\r\n    },\r\n\r\n\r\n    attachLight: function (light: any) {\r\n        if (!light) {\r\n            console.warn(\"Lỗi kkho có ligh\");\r\n            return;\r\n        }\r\n        if (this.currentObject) {\r\n            this.detachObject();\r\n        }\r\n        if (this.currentLight) {\r\n            this.detachLight();\r\n        }\r\n        this.currentLight = light;\r\n        this.control.attach(light);\r\n        var targetControl = this.getLightTargetControlObject(light);\r\n        if (targetControl) {\r\n            this.scene.add(targetControl);\r\n        }\r\n        this.dispatchEvent({\r\n            type: 'light.attach',\r\n            light: light,\r\n            mode: this.control.mode\r\n        });\r\n\r\n    },\r\n    detachLight: function () {\r\n        this.control.detach();\r\n        var obj = this.currentLight;\r\n        var targetControl = this.getLightTargetControlObject(obj);\r\n        if (targetControl) {\r\n            this.scene.remove(targetControl);\r\n        }\r\n\r\n        this.currentLight = null;\r\n        this.selected = null;\r\n        this.dispatchEvent({\r\n            type: 'light.detach',\r\n            light: obj\r\n        });\r\n    },\r\n\r\n    attachLightTargetControl: function (target: any) {\r\n        this.currentTargetControl = target;\r\n        this.control.detach();\r\n        this.control.attach(target);\r\n        this.engine.refresh();\r\n    },\r\n\r\n    detactLightTargetControl: function () {\r\n        if (this.currentTargetControl && this.currentTargetControl == this.control.object) {\r\n            this.control.detach();\r\n            this.currentTargetControl = null;\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Them target vontrol\r\n     * @param {Object} light anh sang\r\n     */\r\n    getLightTargetControlObject: function (light: any) {\r\n        if (!isObject(light) || !light.isLight || !light.target) return null;\r\n        if (typeof this.targetControlObjects[light.target.id] != \"undefined\") return this.targetControlObjects[light.target.id];\r\n\r\n        const geometry = new THREE.CircleGeometry(1, 32);\r\n        const material = new THREE.MeshBasicMaterial({ color: 0xffffff, opacity: 0.1, side: THREE.DoubleSide, transparent: true });\r\n        const circle = new THREE.Mesh(geometry, material);\r\n        circle.targetControl = light.target;\r\n        circle.light = light;\r\n        // copy position\r\n        circle.position.copy(light.target.position);\r\n        circle.name = \"targetcontrol\";\r\n        circle.isTargetControlObject = true;\r\n        circle.rotation.x = - Math.PI / 2;\r\n        this.targetControlObjects[light.target.id] = circle;\r\n        circle.visible = this.lightHelperStatus;\r\n        this.targets.push(circle);\r\n        return circle;\r\n    },\r\n\r\n    removeLightTargetControlObject: function (light) {\r\n        if (!isObject(light) || !light.isLight || !light.target) return null;\r\n        if (typeof this.targetControlObjects[light.target.id] != \"undefined\" && isObject(this.targetControlObjects[light.target.id])) {\r\n            var target = this.targetControlObjects[light.target.id];\r\n            this.engine.scene.remove(target);\r\n            let i = this.targets.indexOf(target);\r\n            if (i > -1) {\r\n\r\n                this.targets.splice(i, 1);\r\n            }\r\n        }\r\n\r\n    },\r\n    getHelper: function () {\r\n\r\n        var geometry = new THREE.SphereGeometry(2, 4, 2);\r\n        var material = new THREE.MeshBasicMaterial({ color: 0xff0000, visible: false });\r\n\r\n        return function (object, helper) {\r\n\r\n            if (this.helpers[object.id] != undefined) {\r\n                helper = this.helpers[object.id];\r\n            }\r\n            else if (helper === undefined) {\r\n\r\n                if (object.isCamera) {\r\n\r\n                    helper = new THREE.CameraHelper(object);\r\n\r\n                } else if (object.isPointLight) {\r\n\r\n                    helper = new THREE.PointLightHelper(object, 1);\r\n\r\n                } else if (object.isDirectionalLight) {\r\n\r\n                    helper = new THREE.DirectionalLightHelper(object, 1);\r\n\r\n                } else if (object.isSpotLight) {\r\n\r\n                    helper = new THREE.SpotLightHelper(object, 1);\r\n\r\n                } else if (object.isHemisphereLight) {\r\n\r\n                    helper = new THREE.HemisphereLightHelper(object, 1);\r\n\r\n                } else if (object.isSkinnedMesh) {\r\n\r\n                    helper = new THREE.SkeletonHelper(object.skeleton.bones[0]);\r\n\r\n                } else if (object.type == \"Object3D\") {\r\n\r\n                    helper = new THREE.BoxHelper(object, 0xffff00);\r\n\r\n                } else if (object.isGroup) {\r\n\r\n                    helper = new THREE.BoxHelper(object, 0xffff00);\r\n\r\n                } else if (object.isMesh) {\r\n\r\n                    helper = new THREE.BoxHelper(object, 0xffff00);\r\n\r\n                }\r\n\r\n                else {\r\n\r\n                    // no helper for this object type\r\n                    return;\r\n\r\n                }\r\n\r\n\r\n            }\r\n\r\n            var picker = new THREE.Mesh(geometry, material);\r\n            picker.name = 'picker';\r\n            picker.userData.object = object;\r\n            helper.add(picker);\r\n            helper.attachObject = object;\r\n            this.helpers[object.id] = helper;\r\n            return helper;\r\n        };\r\n\r\n    }(),\r\n\r\n    removeHelper: function (object: any) {\r\n\r\n        if (this.helpers[object.id] !== undefined) {\r\n\r\n            var helper = this.helpers[object.id];\r\n            if (helper.parent) {\r\n                helper.parent.remove(helper);\r\n            }\r\n            delete this.helpers[object.id];\r\n\r\n            // this.engine.refresh();\r\n        }\r\n\r\n    },\r\n\r\n    deleteAttach: function () {\r\n        if (this.currentLight) {\r\n            this.emit({\r\n                type: \"delete:object\",\r\n                objectType: \"light\",\r\n                light: this.currentLight\r\n            })\r\n        } else if (this.currentObject) {\r\n            this.emit({\r\n                type: \"delete:object\",\r\n                objectType: \"object\",\r\n                object: this.currentObject\r\n            });\r\n        }\r\n    },\r\n\r\n\r\n    unselect: function () {\r\n        this.control.detach();\r\n        this.select(null);\r\n        this.selected = null;\r\n    },\r\n\r\n\r\n    executeCommand: function (command: any) {\r\n        if (this.control.object && this.control.object.isTargetControlObject) {\r\n            command = 'translate';\r\n        }\r\n        switch (command) {\r\n\r\n            case \"space\":\r\n                this.control.setSpace(this.control.space === \"local\" ? \"world\" : \"local\");\r\n                break;\r\n\r\n            case \"snap\":\r\n                this.control.setTranslationSnap(100);\r\n                this.control.setRotationSnap(THREE.MathUtils.degToRad(15));\r\n                this.control.setScaleSnap(0.25);\r\n                break;\r\n\r\n            case 'unsnap':\r\n                this.control.setTranslationSnap(null);\r\n                this.control.setRotationSnap(null);\r\n                this.control.setScaleSnap(null);\r\n                break;\r\n\r\n            case \"translate\":\r\n                this.control.setMode(\"translate\");\r\n                break;\r\n\r\n            case \"rotate\":\r\n                this.control.setMode(\"rotate\");\r\n                break;\r\n\r\n            case \"scale\":\r\n                this.control.setMode(\"scale\");\r\n                break;\r\n\r\n            case \"upsize\":\r\n                this.control.setSize(this.control.size + 0.1);\r\n                break;\r\n\r\n            case \"downsize\":\r\n                this.control.setSize(Math.max(this.control.size - 0.1, 0.1));\r\n                break;\r\n\r\n            case \"toggle:x\":\r\n                this.control.showX = !this.control.showX;\r\n                break;\r\n\r\n            case \"toggle:y\":\r\n                this.control.showY = !this.control.showY;\r\n                break;\r\n\r\n            case \"toggle:z\":\r\n                this.control.showZ = !this.control.showZ;\r\n                break;\r\n\r\n            case \"enable\":\r\n                this.control.enabled = !this.control.enabled;\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n        this.engine.refresh();\r\n    },\r\n    itemSize: null,\r\n    itemShadowObject: null,\r\n    areaObjects: null,\r\n    shadowPosY: 0,\r\n    dropPreviewCustomObject: false,\r\n\r\n    dropPosY: 0,\r\n\r\n    boots: [\"initDropPos\"],\r\n    sceneSize: null,\r\n    initDropPos: function () {\r\n        this.sceneSize = {\r\n            width: 4,\r\n            height: 4,\r\n            depth: 4\r\n        };\r\n        this.areaObjects = [];\r\n    },\r\n\r\n    checkMovingEngine: function(){\r\n        if(!this.moving) this.moving = getMovingEngine(this.engine);\r\n        return this;\r\n    },\r\n\r\n    updateDropAreaAreas: function (sceneSize: SceneSize, floorPositionY: number, addItemAboveFloor?: boolean) {\r\n        var self = this;\r\n        assignValue(this.sceneSize, sceneSize);\r\n        this.checkMovingEngine();\r\n        if (this.areaObjects.length) {\r\n            \r\n            this.areaObjects.map(function (o) {\r\n                self.moving.remove(o);\r\n                // self.scene.remove(o);\r\n            });\r\n        }\r\n        var xStart = -sceneSize.width / 2, xEnd = sceneSize.width / 2,\r\n            zStart = -sceneSize.depth / 2, zEnd = sceneSize.depth / 2;\r\n        let colRow = this.dragMoveColRows;\r\n        var areaWidth = sceneSize.width / colRow;\r\n        var areaDepth = sceneSize.depth / colRow;\r\n        var areaHeight = (areaDepth < areaWidth ? areaDepth : areaWidth) / 5;\r\n        \r\n        \r\n        xStart += (areaWidth / 2);\r\n        xEnd -= (areaWidth / 2);\r\n        zStart += (areaDepth / 2);\r\n        zEnd -= (areaDepth / 2);\r\n        \r\n        var y = (addItemAboveFloor && isNumber(floorPositionY) ? floorPositionY : 0);\r\n        this.dropPosY = y;\r\n        \r\n        let boxOrigin = this.engine.Mesh.get({\r\n            geometry: { type: \"box\", width: areaWidth, height: areaHeight, depth: areaDepth },\r\n            material: { type: \"basic\", params: { opacity: 0}, props: {transparent: true,visible: false}},\r\n            props: { visible: false}\r\n        });\r\n        let xC = 0;\r\n        let zC = 0;\r\n\r\n        while (xC <= xEnd) {\r\n            // if (i > 10000) break;\r\n            // i++;\r\n            let zz = zC;\r\n            while (zz <= zEnd) {\r\n                // if (j > 10000) break;\r\n                // j++;\r\n                let box = boxOrigin.clone(true);\r\n                box.position.x = xC;\r\n                box.position.y = y;\r\n                box.position.z = zz;\r\n\r\n                this.areaObjects.push(box);\r\n\r\n                zz += areaDepth;\r\n            }\r\n            xC += areaWidth;\r\n        }\r\n        \r\n        xC = -areaWidth;\r\n        zC = 0;\r\n\r\n        while (xC >= xStart) {\r\n            let zz = zC;\r\n            while (zz <= zEnd) {\r\n                // if (j > 10000) break;\r\n                // j++;\r\n                let box = boxOrigin.clone(true);\r\n                box.position.x = xC;\r\n                box.position.y = y;\r\n                box.position.z = zz;\r\n\r\n                this.areaObjects.push(box);\r\n\r\n                zz += areaDepth;\r\n            }\r\n            xC -= areaWidth;\r\n        }\r\n        \r\n\r\n        xC = 0;\r\n        zC = -areaDepth;\r\n\r\n        while (xC <= xEnd) {\r\n            let zz = zC;\r\n            while (zz >= zStart) {\r\n                // if (j > 10000) break;\r\n                // j++;\r\n                let box = boxOrigin.clone(true);\r\n                box.position.x = xC;\r\n                box.position.y = y;\r\n                box.position.z = zz;\r\n\r\n                this.areaObjects.push(box);\r\n\r\n                zz -= areaDepth;\r\n            }\r\n            xC += areaWidth;\r\n        }\r\n        \r\n\r\n        xC = -areaWidth;\r\n        zC = -areaDepth;\r\n\r\n        while (xC >= xStart) {\r\n            let zz = zC;\r\n            while (zz >= zStart) {\r\n                // if (j > 10000) break;\r\n                // j++;\r\n                let box = boxOrigin.clone(true);\r\n                box.position.x = xC;\r\n                box.position.y = y;\r\n                box.position.z = zz;\r\n\r\n                this.areaObjects.push(box);\r\n\r\n                zz -= areaDepth;\r\n            }\r\n            xC -= areaWidth;\r\n        }\r\n        \r\n        // var self = this;\r\n        this.areaObjects.map(function (b) {\r\n            self.moving.add(b);\r\n            // self.scene.add(b);\r\n        });\r\n\r\n\r\n\r\n    },\r\n\r\n\r\n\r\n    setDragMoveItem: function (itemSize: Vector3, itemPosition?: Vector2, customObject?: any) {\r\n        if (this.sceneSize.width < itemSize.x || this.sceneSize.depth < itemSize.z) {\r\n            this.hasDroppablePosition = false;\r\n            return false;\r\n        }\r\n        var self = this;\r\n        // this.moving.updateCamera(this.engine.camera);\r\n\r\n        this.hasDroppablePosition = true;\r\n        this.itemSize = itemSize;\r\n        var planeWidth = itemSize.x, planeDepth = itemSize.z;\r\n\r\n        ['x', 'y', 'z'].map(s => {\r\n            if (itemSize[s] <= 0) itemSize[s] = 0.04;\r\n        });\r\n        this.shadowPosY = this.dropPosY;\r\n        if (this.itemShadowObject) {\r\n            this.engine.scene.remove(this.itemShadowObject);\r\n            this.itemShadowObject.isAdded = false;\r\n        }\r\n        if (customObject && isObject(customObject) && customObject.uuid) {\r\n            this.dropPreviewCustomObject = true;\r\n\r\n            this.itemShadowObject = customObject;\r\n            this.itemShadowObject.position.y = this.shadowPosY + itemSize.y / 2;\r\n\r\n            this.itemShadowObject.visible = false;\r\n        } else {\r\n            this.dropPreviewCustomObject = false;\r\n            let plane = this.engine.Mesh.get({\r\n                geometry: {\r\n                    type: \"box\", width: planeWidth, height: itemSize.y, depth: planeDepth\r\n                },\r\n                material: {\r\n                    type: \"physical\",\r\n                    params: {\r\n                        color: \"#9ad9f3\"\r\n                    },\r\n                    props: {\r\n                        transparent: true,\r\n                        opacity: 0.4\r\n                    }\r\n                },\r\n                props: {\r\n                    position: {\r\n                        x: 0,\r\n                        y: this.shadowPosY + itemSize.y / 2,\r\n                        z: 0\r\n                    }\r\n                }\r\n            });\r\n            \r\n\r\n            plane.isAdded = false;\r\n            this.itemShadowObject = plane;\r\n\r\n        }\r\n\r\n\r\n        var py = this.itemShadowObject.position.y;\r\n\r\n        this.areaObjects.map(function (area) {\r\n            area.position.y = py;\r\n        });\r\n\r\n\r\n\r\n        this.turnOffShadow(1000);\r\n        this.refresh();\r\n        if (itemPosition) {\r\n            this.checkDroppablePosition(itemPosition);\r\n        }\r\n        setTimeout(function () {\r\n            self.moving.updateCamera(self.engine.camera);\r\n        }, 10)\r\n\r\n\r\n    },\r\n    removeDragMoveItem: function () {\r\n        if (!this.hasDroppablePosition) return false;\r\n        if (this.itemShadowObject && !this.dropPreviewCustomObject) {\r\n            if (this.itemShadowObject.isAdded) {\r\n                this.engine.scene.remove(this.itemShadowObject);\r\n            }\r\n            this.itemShadowObject = null;\r\n\r\n        }\r\n        this.hasDroppablePosition = false;\r\n        var self = this;\r\n\r\n        var py = this.dropPosY;\r\n\r\n        this.areaObjects.map(function (area) {\r\n            area.position.y = py;\r\n        });\r\n\r\n\r\n        this.refresh();\r\n        this.emit({\r\n            type: \"additem.position.reset\"\r\n        })\r\n\r\n    },\r\n    \r\n\r\n    checkDroppablePosition: function (pointer: Vector2) {\r\n        var scope = this;\r\n        if (!this.hasDroppablePosition) return false;\r\n        // scope.poiterDowsStatus = false;\r\n        var rect = scope.engine.wrapper.getBoundingClientRect();\r\n        var x = pointer.x - rect.left;\r\n        var y = pointer.y - rect.top;\r\n        if (x < 0 || y < 0) return;\r\n\r\n        pointer.x = (x / rect.width) * 2 - 1;\r\n        pointer.y = - (y / rect.height) * 2 + 1;\r\n        this.checkMovingEngine();\r\n        this.movingRaycaster.setFromCamera(pointer, this.moving.camera);\r\n        // this.raycaster.setFromCamera(pointer, this.engine.camera);\r\n\r\n        const intersects = this.movingRaycaster.intersectObjects(this.areaObjects, true);\r\n        // objects\r\n        // console.log(intersects);\r\n        if (intersects.length > 0) {\r\n            const object = intersects[0].object;\r\n            const obj = this.closestAreaScene(object);\r\n            if (obj) {\r\n                if (this.itemShadowObject) {\r\n                    let o = {\r\n                        x: this.itemShadowObject.position.x,\r\n                        z: this.itemShadowObject.position.z\r\n                    }, n = {\r\n                        x: obj.position.x,\r\n                        z: obj.position.z\r\n                    };\r\n                    var a = o.x != n.x || o.z != n.z;\r\n                    var b = n.x >= -(this.sceneSize.width - this.itemSize.x) / 2 && n.x <= (this.sceneSize.width - this.itemSize.x) / 2;\r\n                    var c = n.z >= -(this.sceneSize.depth - this.itemSize.z) / 2 && n.z <= (this.sceneSize.depth - this.itemSize.z) / 2;\r\n\r\n                    if (a && b && c) {\r\n                        let pos = {\r\n                            x: n.x,\r\n                            y: this.itemShadowObject.position.y,\r\n                            z: n.z\r\n                        }\r\n                        assignValue(this.itemShadowObject.position, n);\r\n                        this.emit({\r\n                            type: \"additem.position.set\",\r\n                            position: pos\r\n                        })\r\n                        \r\n                    }\r\n                    if (!this.dropPreviewCustomObject && !this.itemShadowObject.isAdded) {\r\n\r\n                        this.engine.scene.add(this.itemShadowObject);\r\n                        this.itemShadowObject.isAdded = true;\r\n                    }\r\n                    else if (this.dropPreviewCustomObject) {\r\n                        this.itemShadowObject.visible = true;\r\n                    }\r\n                    this.turnOffShadow(1000);\r\n                    this.refresh();\r\n                }\r\n\r\n            } else if (this.itemShadowObject) {\r\n                if (!this.dropPreviewCustomObject && this.itemShadowObject.isAdded) {\r\n                    this.engine.scene.remove(this.itemShadowObject);\r\n                    this.itemShadowObject.isAdded = false;\r\n                } if (this.dropPreviewCustomObject) {\r\n                    this.itemShadowObject.visible = false;\r\n                }\r\n                this.emit({\r\n                    type: \"additem.position.lock\"\r\n                })\r\n                this.turnOffShadow(1000);\r\n                this.refresh();\r\n            }\r\n        } else {\r\n            this.emit({\r\n                type: \"additem.position.lock\"\r\n            });\r\n\r\n        }\r\n    },\r\n\r\n    /**\r\n     * tìm object trong bảng\r\n     * @param {Object} obj \r\n     * @returns {Object#d|Group|Mesh}\r\n     */\r\n    closestAreaScene: function closestAreaScene(obj: any) {\r\n        if (this.hasDroppablePosition && isObject(obj) && !obj.isSczene) {\r\n\r\n            for (let i = 0; i < this.areaObjects.length; i++) {\r\n                const sobj = this.areaObjects[i];\r\n                if (obj == sobj || obj.uuid == sobj.uuid || (obj.id && obj.id == sobj.id)) return sobj;\r\n            }\r\n            if (obj.parent) {\r\n                return this.closestAreaScene(obj.parent);\r\n            }\r\n\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n});\r\n\r\nconst Editor = Editor__ as EditorClass;\r\n\r\nexport default Editor;\r\nexport { Editor };","export * from './model';\r\nexport * from './service';\r\n","import { Component, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { assignValue, degreeToRadians, radianToDegrees, Str } from '@app/_core/helpers/utils';\nimport { BaseInputComponent } from '../base-input/base-input.component';\n\n@Component({\n  selector: 'inp-rotation',\n  templateUrl: './inp-rotation.component.html',\n  styleUrls: ['./inp-rotation.component.scss']\n})\nexport class InpRotationComponent extends BaseInputComponent implements OnInit, OnChanges {\n\n  degreSymbol : string = \"°\";\n  _value:any = {\n    x:0,\n    y:0,\n    z:0\n  };\n\n  canSync: boolean = false;\n\n  constructor() {\n    super();\n  }\n\n\n\n  ngOnInit(): void {\n    this.syncFromParent();\n    this.canSync = true;\n  }\n\n\n  syncFromParent(){\n    this._value = {\n      x: radianToDegrees(this.value.x),\n      y: radianToDegrees(this.value.y),\n      z: radianToDegrees(this.value.z)\n    }\n  }\n\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if(this.canSync){\n      if(changes.value){\n        this.syncFromParent();\n      }\n    }\n    \n  }\n\n  updateVector(vector, event){\n    this.canSync = false;\n    assignValue(this.value, {\n      x: degreeToRadians(this._value.x),\n      y: degreeToRadians(this._value.y),\n      z: degreeToRadians(this._value.z),\n      \n    })\n    this.emitAfter(0);\n    this.canSync = true;\n  }\n  formatterX = (value: number) => `x: ${value} ${this.degreSymbol}`;\n  parserX = (value: string) => Str.replace(value, ['x', ':', this.degreSymbol, ' '], '');\n\n  formatterY = (value: number) => `y: ${value} ${this.degreSymbol}`;\n  parserY = (value: string) => Str.replace(value, ['y', ':', this.degreSymbol, ' '], '');\n  \n  formatterZ = (value: number) => `z: ${value} ${this.degreSymbol}`;\n  parserZ = (value: string) => Str.replace(value, ['z', ':', this.degreSymbol, ' '], '');\n\n}","<div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\">\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"8\">\n        <div class=\"inner-box\">\n            <nz-input-number \n                [(ngModel)]=\"_value.x\" \n                name=\"x\" [nzStep]=\"0.01\" \n                (ngModelChange)=\"updateVector('x', $event)\" \n                [nzFormatter]=\"formatterX\"\n                [nzParser]=\"parserX\">\n            </nz-input-number>\n        </div>\n    </div>\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"8\">\n        <div class=\"inner-box\">\n            <nz-input-number \n                [(ngModel)]=\"_value.y\" \n                name=\"x\" \n                [nzStep]=\"0.01\" \n                (ngModelChange)=\"updateVector('y', $event)\"\n                [nzFormatter]=\"formatterY\"\n                [nzParser]=\"parserY\">\n            </nz-input-number>\n        </div>\n    </div>\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"8\">\n        <div class=\"inner-box\">\n            <nz-input-number \n                [(ngModel)]=\"_value.z\" \n                name=\"x\" \n                [nzStep]=\"0.01\" \n                (ngModelChange)=\"updateVector('z', $event)\"\n                [nzFormatter]=\"formatterZ\"\n                [nzParser]=\"parserZ\">\n            </nz-input-number>\n        </div>\n    </div>\n</div>","import {\r\n    arrayJoin,\r\n    assignValue,\r\n    assignWithout,\r\n    checkType,\r\n    copyWithout,\r\n    cutWithout,\r\n    getInputCfg,\r\n    getObjectPropDepth,\r\n    getType,\r\n    inArray,\r\n    isArray,\r\n    isEmpty,\r\n    isFunction,\r\n    isInteger,\r\n    isNumber,\r\n    isObject,\r\n    isString,\r\n    newObj,\r\n    objectHasKey,\r\n    Str,\r\n    _defineProperties\r\n} from '@app/_core/helpers/utils';\r\n// import { assignValue, assignWithout, isArray, isObject, isString, Str } from '@app/_core/helpers/utils';\r\n\r\nimport * as THREELibs from 'three';\r\nconst THREE = THREELibs;\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\nimport { DRACOLoader } from 'three/examples/jsm/loaders/DRACOLoader.js';\r\nimport { RoughnessMipmapper } from 'three/examples/jsm/utils/RoughnessMipmapper.js';\r\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader.js';\r\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader.js';\r\nimport { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader.js';\r\nimport { TDSLoader } from 'three/examples/jsm/loaders/TDSLoader.js';\r\nimport { STLLoader } from 'three/examples/jsm/loaders/STLLoader.js';\r\nimport { SVGLoader } from 'three/examples/jsm/loaders/SVGLoader.js';\r\nimport { RGBELoader } from 'three/examples/jsm/loaders/RGBELoader.js';\r\nimport { getConfig } from '@app/_core/config';\r\nimport { _Geometry, _Materials } from '../store/docs.js';\r\n\r\nconst Geometries: _Geometry = {} as _Geometry, Materials: _Materials = {} as _Materials, Meshes: any = {}, LoaderLib: any = {}, LightLib: any = {};\r\n\r\n\r\n\r\n\r\n\r\n\r\nObject.assign(Geometries, {\r\n    getGeometry: function (type?: any, args?: any) {\r\n        var t, a = {};\r\n        if (isObject(type)) {\r\n            if (!type.type) return null;\r\n            t = String(type.type).toLowerCase();\r\n            assignWithout(a, type.params || type, ['type']);\r\n        }\r\n        else if (isString(type)) {\r\n            t = String(type).toLowerCase();\r\n            if (isObject(args)) {\r\n                a = args;\r\n            }\r\n        }\r\n        t = Str.replace(t, 'geometry', '');\r\n        if (typeof this[t] == \"function\") {\r\n            Props.parse(a);\r\n            // console.log(type, args)\r\n            return this[t].call(this, a);\r\n        }\r\n        return null;\r\n    },\r\n    get: function (type?: any, args?: any) {\r\n        return this.getGeometry(type, args)\r\n    },\r\n    boxbuffer: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            width: 1, height: 1, depth: 1, widthSegments: undefined, heightSegments: undefined, depthSegments: undefined\r\n        });\r\n        var geo = new THREE.BoxBufferGeometry(params.width, params.height, params.depth, params.widthSegments, params.heightSegments, params.depthSegments);\r\n        // geo._params = params;\r\n        return geo;\r\n    },\r\n    box: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            width: 1,\r\n            height: 1,\r\n            depth: 1,\r\n            widthSegments: undefined,\r\n            heightSegments: undefined,\r\n            depthSegments: undefined\r\n        });\r\n\r\n        // console.log(args)\r\n\r\n        // console.log(params)\r\n        var geo = new THREE.BoxGeometry(params.width, params.height, params.depth, params.widthSegments, params.heightSegments, params.depthSegments);\r\n        // geo._params = params;\r\n        return geo;\r\n    },\r\n    circlebuffer: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            radius: 1, segments: 8, thetaStart: undefined, thetaLength: undefined\r\n        });\r\n        var geo = new THREE.CircleBufferGeometry(params.radius, params.segments, params.thetaStart, params.thetaLength);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n\r\n    circle: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            radius: 1, segments: 8, thetaStart: undefined, thetaLength: undefined\r\n        });\r\n        var geo = new THREE.CircleGeometry(params.radius, params.segments, params.thetaStart, params.thetaLength);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    conebuffer: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            radius: 1, height: 1, radialSegments: 8, heightSegments: undefined, openEnded: undefined, thetaStart: undefined, thetaLength: undefined\r\n        });\r\n        var geo = new THREE.ConeBufferGeometry(params.radius, params.height, params.radialSegments, params.heightSegments, params.openEnded, params.thetaStart, params.thetaLength);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    cone: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            radius: 1, height: 1, radialSegments: 8, heightSegments: undefined, openEnded: undefined, thetaStart: undefined, thetaLength: undefined\r\n        });\r\n        var geo = new THREE.ConeGeometry(params.radius, params.height, params.radialSegments, params.heightSegments, params.openEnded, params.thetaStart, params.thetaLength);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    cylinderbuffer: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            radiusTop: 1, radiusBottom: 1, height: 1, radialSegments: 8, heightSegments: 1, openEnded: undefined, thetaStart: undefined, thetaLength: undefined\r\n        });\r\n        var geo = new THREE.CylinderBufferGeometry(params.radiusTop, params.radiusBottom, params.height, params.radialSegments, params.heightSegments, params.openEnded, params.thetaStart, params.thetaLength);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    cylinder: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            radiusTop: 1, radiusBottom: 1, height: 1, radialSegments: 8, heightSegments: 1, openEnded: undefined, thetaStart: undefined, thetaLength: undefined\r\n        });\r\n        var geo = new THREE.CylinderGeometry(params.radiusTop, params.radiusBottom, params.height, params.radialSegments, params.heightSegments, params.openEnded, params.thetaStart, params.thetaLength);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    dodecahedronbuffer: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            radius: 1, detail: 0\r\n        });\r\n        var geo = new THREE.DodecahedronBufferGeometry(params.radius, params.detail);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    dodecahedron: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            radius: 1, detail: 0\r\n        });\r\n        var geo = new THREE.DodecahedronGeometry(params.radius, params.detail);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    edges: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            geometry: null, thresholdAngle: 1\r\n        });\r\n        if (params.geometry && typeof params.geometry == \"object\") {\r\n            if (params.geometry.type && (params.geometry.params || params.geometry.args)) {\r\n                var geometry = this.getGeometry(params.geometry.type, params.geometry.params || params.geometry.args);\r\n                if (geometry) {\r\n                    var geo = new THREE.EdgesGeometry(geometry, params.thresholdAngle);\r\n                    // geo.___params = params;\r\n                    return geo;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    },\r\n    extrudebuffer: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            shape: null, options: {}\r\n        });\r\n        if (params.shape && isArray(params.shape) && params.shape.length) {\r\n            var shape = new THREE.Shape();\r\n            var p0 = params.shape[0];\r\n            if (isArray(p0)) {\r\n                shape.moveTo(p0[0] !== undefined ? p0[0] : 0, p0[1] !== undefined ? p0[1] : 0);\r\n            }\r\n            else if (isObject(p0)) {\r\n                shape.moveTo(p0.x !== undefined ? p0.x : 0, p0.y !== undefined ? p0.y : 0)\r\n            } else {\r\n                shape.moveTo(0, 0);\r\n            }\r\n\r\n            for (let i = 1; i < params.shape.length; i++) {\r\n                const point = params.shape[i];\r\n                if (isArray(point)) {\r\n                    shape.lineTo(point[0] !== undefined ? point[0] : 0, point[1] !== undefined ? point[1] : 0);\r\n                }\r\n                else if (isObject(point)) {\r\n                    shape.lineTo(point.x !== undefined ? point.x : 0, point.y !== undefined ? point.y : 0)\r\n                }\r\n            }\r\n            var geo = new THREE.ExtrudeBufferGeometry(shape, params.options);\r\n            // geo.___params = params;\r\n            return geo;\r\n        }\r\n        return null;\r\n    },\r\n    extrude: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            shape: null, options: {}\r\n        });\r\n        if (params.shape && isArray(params.shape)) {\r\n            var shape = new THREE.Shape();\r\n            var p0 = params.shape[0];\r\n            if (isArray(p0)) {\r\n                shape.moveTo(p0[0] !== undefined ? p0[0] : 0, p0[1] !== undefined ? p0[1] : 0);\r\n            }\r\n            else if (isObject(p0)) {\r\n                shape.moveTo(p0.x !== undefined ? p0.x : 0, p0.y !== undefined ? p0.y : 0)\r\n            } else {\r\n                shape.moveTo(0, 0);\r\n            }\r\n\r\n            for (let i = 1; i < params.shape.length; i++) {\r\n                const point = params.shape[i];\r\n                if (isArray(point)) {\r\n                    shape.lineTo(point[0] !== undefined ? point[0] : 0, point[1] !== undefined ? point[1] : 0);\r\n                }\r\n                else if (isObject(point)) {\r\n                    shape.lineTo(point.x !== undefined ? point.x : 0, point.y !== undefined ? point.y : 0)\r\n                }\r\n            }\r\n            var geo = new THREE.ExtrudeGeometry(shape, params.options);\r\n            // geo.___params = params;\r\n            return geo;\r\n        }\r\n        return null;\r\n    },\r\n    icosahedronbuffer: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            radius: 1, detail: 0\r\n        });\r\n        var geo = new THREE.IcosahedronBufferGeometry(params.radius, params.detail);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    icosahedron: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            radius: 1, detail: 0\r\n        });\r\n        var geo = new THREE.IcosahedronGeometry(params.radius, params.detail);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    octahedronbuffer: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            radius: 1, detail: 0\r\n        });\r\n        var geo = new THREE.OctahedronBufferGeometry(params.radius, params.detail);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    octahedron: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            radius: 1, detail: 0\r\n        });\r\n        var geo = new THREE.OctahedronGeometry(params.radius, params.detail);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n\r\n    planebuffer: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            width: 1, height: 1, widthSegments: 1, heightSegments: 1\r\n        });\r\n        var geo = new THREE.PlaneBufferGeometry(params.width, params.height, params.widthSegments, params.heightSegments);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    plane: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            width: 1, height: 1, widthSegments: 1, heightSegments: 1\r\n        });\r\n        var geo = new THREE.PlaneGeometry(params.width, params.height, params.widthSegments, params.heightSegments);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    ringbuffer: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            innerRadius: 0.5, outerRadius: 1, thetaSegments: 8, phiSegments: 1, thetaStart: 0, thetaLength: Math.PI * 2\r\n        });\r\n        var geo = new THREE.RingBufferGeometry(params.innerRadius, params.outerRadius, params.thetaSegments, params.phiSegments, params.thetaStart, params.thetaLength);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    ring: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            innerRadius: 0.5, outerRadius: 1, thetaSegments: 8, phiSegments: 1, thetaStart: 0, thetaLength: Math.PI * 2\r\n        });\r\n        var geo = new THREE.RingGeometry(params.innerRadius, params.outerRadius, params.thetaSegments, params.phiSegments, params.thetaStart, params.thetaLength);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    shape: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            points: [], curveSegments: 12\r\n        });\r\n        var shape = new THREE.Shape();\r\n        var p0 = params.shape[0];\r\n        if (isArray(p0)) {\r\n            shape.moveTo(p0[0] !== undefined ? p0[0] : 0, p0[1] !== undefined ? p0[1] : 0);\r\n        }\r\n        else if (isObject(p0)) {\r\n            shape.moveTo(p0.x !== undefined ? p0.x : 0, p0.y !== undefined ? p0.y : 0)\r\n        } else {\r\n            shape.moveTo(0, 0);\r\n        }\r\n\r\n        for (let i = 1; i < params.shape.length; i++) {\r\n            const point = params.shape[i];\r\n            if (isArray(point)) {\r\n                shape.lineTo(point[0] !== undefined ? point[0] : 0, point[1] !== undefined ? point[1] : 0);\r\n            }\r\n            else if (isObject(point)) {\r\n                shape.lineTo(point.x !== undefined ? point.x : 0, point.y !== undefined ? point.y : 0)\r\n            }\r\n        }\r\n\r\n        var geo = new THREE.ShapeGeometry(shape, params.curveSegments);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    shapebuffer: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            points: [], curveSegments: 12\r\n        });\r\n        var shape = new THREE.Shape();\r\n        var p0 = params.shape[0];\r\n        if (isArray(p0)) {\r\n            shape.moveTo(p0[0] !== undefined ? p0[0] : 0, p0[1] !== undefined ? p0[1] : 0);\r\n        }\r\n        else if (isObject(p0)) {\r\n            shape.moveTo(p0.x !== undefined ? p0.x : 0, p0.y !== undefined ? p0.y : 0)\r\n        } else {\r\n            shape.moveTo(0, 0);\r\n        }\r\n\r\n        for (let i = 1; i < params.shape.length; i++) {\r\n            const point = params.shape[i];\r\n            if (isArray(point)) {\r\n                shape.lineTo(point[0] !== undefined ? point[0] : 0, point[1] !== undefined ? point[1] : 0);\r\n            }\r\n            else if (isObject(point)) {\r\n                shape.lineTo(point.x !== undefined ? point.x : 0, point.y !== undefined ? point.y : 0)\r\n            }\r\n        }\r\n\r\n        var geo = new THREE.ShapeBufferGeometry(shape, params.curveSegments);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    spherebuffer: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            radius: 1, widthSegments: 8, heightSegments: 8, phiStart: 0, phiLength: Math.PI * 2, thetaStart: 0, thetaLength: Math.PI\r\n        });\r\n        var geo = new THREE.SphereBufferGeometry(params.radius, params.widthSegments, params.heightSegments, params.phiStart, params.phiLength, params.thetaStart, params.thetaLength);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    sphere: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            radius: undefined, widthSegments: undefined, heightSegments: undefined, phiStart: undefined, phiLength: undefined, thetaStart: undefined, thetaLength: undefined\r\n        });\r\n        var geo = new THREE.SphereGeometry(params.radius, params.widthSegments, params.heightSegments, params.phiStart, params.phiLength, params.thetaStart, params.thetaLength);\r\n        // geo.___params = params;\r\n\r\n        return geo;\r\n    },\r\n    tetrahedronbuffer: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            radius: 1, detail: 0\r\n        });\r\n        var geo = new THREE.TetrahedronBufferGeometry(params.radius, params.detail);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    tetrahedron: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            radius: 1, detail: 0\r\n        });\r\n        var geo = new THREE.TetrahedronGeometry(params.radius, params.detail);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    textbuffer: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            text: \"\", font: null, options: {}\r\n        });\r\n        var geo = new THREE.TextBufferGeometry(params.text, Object.assign({\r\n            font: params.font,\r\n            size: 80,\r\n            height: 5,\r\n            curveSegments: 12,\r\n            bevelEnabled: true,\r\n            bevelThickness: 10,\r\n            bevelSize: 8,\r\n            bevelOffset: 0,\r\n            bevelSegments: 5\r\n        }, params.options));\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    text: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            text: \"\", font: null, options: {}\r\n        });\r\n        var geo = new THREE.TextGeometry(params.text, Object.assign({\r\n            font: params.font,\r\n            size: 80,\r\n            height: 5,\r\n            curveSegments: 12,\r\n            bevelEnabled: true,\r\n            bevelThickness: 10,\r\n            bevelSize: 8,\r\n            bevelOffset: 0,\r\n            bevelSegments: 5\r\n        }, params.options));\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    torusbuffer: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            radius: 1, tube: 0.4, radialSegments: 8, tubularSegments: 6, arc: Math.PI * 2\r\n        });\r\n        var geo = new THREE.TorusBufferGeometry(params.radius, params.tobe, params.radialSegments, params.tubularSegments, params.arc);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    torus: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            radius: 1, tube: 0.4, radialSegments: 8, tubularSegments: 6, arc: Math.PI * 2\r\n        });\r\n        var geo = new THREE.TorusGeometry(params.radius, params.tobe, params.radialSegments, params.tubularSegments, params.arc);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    torusknotbuffer: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            radius: 1, tube: 0.4, tubularSegments: 64, radialSegments: 8, p: 2, q: 3\r\n        });\r\n        var geo = new THREE.TorusKnotBufferGeometry(params.radius, params.tobe, params.tubularSegments, params.radialSegments, params.p, params.q);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n    torusknot: function (args?: any) {\r\n        var params = parseParams(args, {\r\n            radius: 1, tube: 0.4, tubularSegments: 64, radialSegments: 8, p: 2, q: 3\r\n        });\r\n        var geo = new THREE.TorusKnotGeometry(params.radius, params.tobe, params.tubularSegments, params.radialSegments, params.p, params.q);\r\n        // geo.___params = params;\r\n        return geo;\r\n    },\r\n\r\n    getConfig: function (key?: any) {\r\n        if (!key) return this.config.instances;\r\n        if (!isString(key)) return {};\r\n        var k = Str.replace(String(key).toLowerCase(), 'geometry', '');\r\n        var cfg = this.config.instances[k];\r\n        return cfg ? cfg : {};\r\n\r\n    },\r\n\r\n\r\n    config: {\r\n        instances: {\r\n            box: {\r\n                params: {\r\n                    width: \"float\",\r\n                    height: \"float\",\r\n                    depth: \"float\",\r\n                    widthSegments: \"integer\",\r\n                    heightSegments: \"integer\",\r\n                    depthSegments: \"integer\"\r\n                },\r\n                props: {},\r\n                data: {\r\n                    params: {\r\n                        width: 1, height: 1, depth: 1, widthSegments: undefined, heightSegments: undefined, depthSegments: undefined\r\n                    }\r\n                }\r\n            },\r\n            sphere: {\r\n                params: {\r\n                    radius: \"float\", widthSegments: \"integer\", heightSegments: \"integer\", phiStart: \"float\", phiLength: \"float\", thetaStart: \"float\", thetaLength: \"float\"\r\n                },\r\n                props: {},\r\n                data: {\r\n                    params: {\r\n                        radius: 1, widthSegments: 50, heightSegments: 50, phiStart: undefined, phiLength: undefined, thetaStart: undefined, thetaLength: undefined\r\n                    }\r\n                }\r\n            },\r\n\r\n            cone: {\r\n                params: {\r\n                    radius: \"float\",\r\n                    height: \"float\",\r\n                    radialSegments: \"integer\",\r\n                    heightSegments: \"integer\",\r\n                    openEnded: \"boolean\",\r\n                    thetaStart: \"float\",\r\n                    thetaLength: \"float\"\r\n                },\r\n                props: {},\r\n                data: {\r\n                    params: {\r\n                        radius: 1, height: 1, radialSegments: 8, heightSegments: undefined, openEnded: undefined, thetaStart: undefined, thetaLength: undefined\r\n                    }\r\n                }\r\n            },\r\n            cylinder: {\r\n                params: {\r\n                    radiusTop: \"float\", radiusBottom: \"float\", height: \"float\", radialSegments: \"integer\", heightSegments: \"integer\", openEnded: \"boolean\", thetaStart: \"float\", thetaLength: \"float\"\r\n                },\r\n                props: {},\r\n                data: {\r\n                    params: {\r\n                        radiusTop: 1, radiusBottom: 1, height: 1, radialSegments: 8, heightSegments: 1, openEnded: undefined, thetaStart: undefined, thetaLength: undefined\r\n                    }\r\n                }\r\n            },\r\n            plane: {\r\n                params: {\r\n                    width: \"float\", height: \"float\", widthSegments: \"integer\", heightSegments: \"integer\"\r\n                },\r\n                props: {},\r\n                data: {\r\n                    params: {\r\n                        width: 1, height: 1, widthSegments: 1, heightSegments: 1\r\n                    }\r\n                }\r\n            },\r\n\r\n\r\n            circle: {\r\n                params: {\r\n                    radius: \"float\",\r\n                    segments: \"integer\",\r\n                    thetaStart: \"float\",\r\n                    thetaLength: \"float\"\r\n                },\r\n                props: {},\r\n                data: {\r\n                    params: {\r\n                        radius: 1, segments: 8, thetaStart: undefined, thetaLength: undefined\r\n                    }\r\n                }\r\n            },\r\n\r\n            ring: {\r\n                params: {\r\n                    innerRadius: \"float\", outerRadius: \"float\", thetaSegments: \"integer\", phiSegments: \"integer\", thetaStart: \"float\", thetaLength: \"float\"\r\n                },\r\n                props: {},\r\n                data: {\r\n                    params: {\r\n                        innerRadius: 0.5, outerRadius: 1, thetaSegments: 8, phiSegments: 1, thetaStart: 0, thetaLength: Math.PI * 2\r\n                    }\r\n                }\r\n            },\r\n\r\n            dodecahedron: {\r\n                params: {\r\n                    radius: \"float\", detail: \"integer\"\r\n                },\r\n                props: {},\r\n                data: {\r\n                    params: {\r\n                        radius: 1, detail: 0\r\n                    }\r\n                }\r\n            },\r\n\r\n            icosahedron: {\r\n                params: {\r\n                    radius: \"float\", detail: \"integer\"\r\n                },\r\n                props: {},\r\n                data: {\r\n                    params: {\r\n                        radius: 1, detail: 0\r\n                    }\r\n                }\r\n            },\r\n\r\n            octahedron: {\r\n                params: {\r\n                    radius: \"float\", detail: \"integer\"\r\n                },\r\n                props: {},\r\n                data: {\r\n                    params: {\r\n                        radius: 1, detail: 0\r\n                    }\r\n                }\r\n            },\r\n\r\n\r\n\r\n            tetrahedron: {\r\n                params: {\r\n                    radius: \"float\", detail: \"integer\"\r\n                },\r\n                props: {},\r\n                data: {\r\n                    params: {\r\n                        radius: 1, detail: 0\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        propTypes: {\r\n            buffer: {\r\n                attributes: \"object\",\r\n                boundingBox: \"Box3\",\r\n                boundingSphere: \"Sphere\",\r\n                drawRange: \"object\",\r\n                groups: \"array\",\r\n                id: \"locked\",\r\n                index: \"BufferAttribute\",\r\n                morphAttributes: \"object\",\r\n                morphTargetsRelative: \"boolean\",\r\n                name: \"string\",\r\n                userData: \"object\",\r\n                uuid: \"string\"\r\n            },\r\n            instancedbuffer: {\r\n                instanceCount: \"number\"\r\n            }\r\n        },\r\n        options: []\r\n    }\r\n});\r\n\r\nfor (const key in Geometries.config.instances) {\r\n    if (Object.hasOwnProperty.call(Geometries.config.instances, key)) {\r\n        const intenceConfig = Geometries.config.instances[key];\r\n        intenceConfig.props = assignValue({ parameters: \"object\" }, Geometries.config.propTypes.buffer);\r\n        if (inArray(['box', 'plane', 'sphere', 'circle', 'cylinder'], key)) {\r\n            Geometries.config.options.push({\r\n                name: key,\r\n                value: key,\r\n                type: key,\r\n                label: Str.ucfirst(key)\r\n            })\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\nconst sideOptions = {};\r\nsideOptions[THREE.FrontSide] = \"Front Side\";\r\nsideOptions[THREE.BackSide] = \"Back Side\";\r\nsideOptions[THREE.DoubleSide] = \"Double Side\";\r\nObject.assign(Materials, {\r\n    getMaterial: function (type?: any, args?: any, props?: any, ignoreFlipY?: boolean, success?: any) {\r\n        var self: any = this;\r\n        if (typeof type == \"object\") {\r\n            args = assignWithout({}, type.params || type, ['type', 'props']);\r\n            props = type.props || assignWithout({}, type, ['type', 'params'], args);\r\n            type = type.type;\r\n\r\n        } else {\r\n            if (!args) args = {};\r\n            props = props || args.props || assignWithout({}, args, ['type']);\r\n        }\r\n        var t = String(type).toLowerCase();\r\n        t = Str.replace(t, ['mesh'], '');\r\n        if (!t) t = 'basic';\r\n        else if (t == 'material') t = 'default';\r\n        t = Str.replace(t, ['material'], '');\r\n\r\n        if (typeof self['__' + t] == \"function\") {\r\n            if (!isEmpty(args)) args = this.parseParams(Props.parse(cutWithout(args, ['type'])), ignoreFlipY, success);\r\n            if (!isEmpty(props)) props = Props.parse(props);\r\n            var propTypes = this.getTypeProps(t);\r\n            for (const key in props) {\r\n                if (Object.hasOwnProperty.call(props, key)) {\r\n                    const vl = props[key];\r\n                    if (Object.hasOwnProperty.call(propTypes, key)) {\r\n                        var tp = propTypes[key];\r\n                        if (tp == \"Color\") {\r\n                            props[key] = parseColor(vl)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            for (const key in args) {\r\n                if (Object.hasOwnProperty.call(args, key)) {\r\n                    const vl = args[key];\r\n                    if (Object.hasOwnProperty.call(propTypes, key)) {\r\n                        var tp = propTypes[key];\r\n                        if (tp == \"Color\") {\r\n                            args[key] = parseColor(vl)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            var material = this['__' + t].call(this, args);\r\n            var p = assignWithout({}, props, material.___params, ['type']);\r\n\r\n            this.setProperties(t, material, p, ignoreFlipY);\r\n            // console.log(material)\r\n            return material;\r\n        }\r\n        return null;\r\n    },\r\n    get: function (type?: any, args?: any, props?: any, ignoreFlipY?: boolean, success?: any) {\r\n        return this.getMaterial(type, args, props, ignoreFlipY, success);\r\n    },\r\n    parseParams: function (params, ignoreFlipY?: boolean, success?: any) {\r\n        if (isObject(params)) {\r\n            for (const key in params) {\r\n                if (Object.prototype.hasOwnProperty.call(params, key)) {\r\n                    const val = params[key];\r\n                    if (objectHasKey(this.config.properties, key)) {\r\n                        let inp = this.config.properties[key];\r\n\r\n\r\n                        if (inp.type == \"Texture\" && isString(val)) {\r\n                            let lo: any = {\r\n                                file: val,\r\n                                ignoreFlipY\r\n                            };\r\n                            if (!ignoreFlipY) {\r\n                                lo.flipY = false;\r\n                            }\r\n                            var map = LoaderLib.load(\"texture\", lo, function (d) {\r\n                                if (typeof success == \"function\") {\r\n                                    success(d);\r\n                                }\r\n                            });\r\n                            params[key] = map;\r\n\r\n                        } else if (inp.type == \"Color\") {\r\n\r\n                            params[key] = parseColor(val);\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n        return params;\r\n    },\r\n    setProperties: function (type?: any, material?: any, properties?: any, success?: any, ignoreFlipY?: boolean) {\r\n        let props: any = {};\r\n        if (typeof properties == \"object\") {\r\n            if (!isEmpty(properties)) {\r\n                assignWithout(props, properties, ['type']);\r\n                Props.parse(props, success);\r\n            }\r\n\r\n            var defProps = this.getTypeProps(type);\r\n            for (const key in props) {\r\n                if (props.hasOwnProperty(key) && typeof defProps[key] != \"undefined\" && key != \"type\") {\r\n                    const val = props[key];\r\n                    const typ = typeof defProps[key] != \"undefined\" ? defProps[key] : null;\r\n                    if (!typ) {\r\n                        continue;\r\n                    }\r\n                    else if (typeof typ == \"function\") {\r\n                        if (typ(val)) {\r\n                            material[key] = val;\r\n                        }\r\n                    }\r\n                    else if (typeof typ == \"string\") {\r\n                        if (inArray([\"Texture\", \"Vector2\", \"Vector3\"], typ)) {\r\n                            if (isObject(val) && val.uuid) {\r\n                                material[key] = val;\r\n                            } else if (typ == \"Texture\" && isString(val)) {\r\n                                let lo: any = {\r\n                                    file: val,\r\n                                    ignoreFlipY\r\n                                };\r\n                                if (!ignoreFlipY) {\r\n                                    lo.flipY = false;\r\n                                }\r\n                                var map = LoaderLib.load(\"texture\", lo, function (d) {\r\n                                    if (typeof success == \"function\") {\r\n                                        success(d);\r\n                                    }\r\n                                });\r\n                                material[key] = map;\r\n                            }\r\n                        } else if (typ == \"Color\") {\r\n\r\n                            material[key] = parseColor(val);\r\n\r\n                        }\r\n                        else {\r\n                            var ts = typ.split(\"|\");\r\n                            var s = false;\r\n                            for (let i = 0; i < ts.length; i++) {\r\n                                const ti = ts[i];\r\n                                const tis = ti.split(':');\r\n                                if (checkType(tis[0].trim(), val)) {\r\n                                    if (tis.length > 1) {\r\n                                        let vl = tis[1].trim().split(',').map(function (v) {\r\n                                            return String(v).trim();\r\n                                        });\r\n                                        if (inArray(vl, String(val))) {\r\n                                            s = true;\r\n                                            i += ts.length;\r\n                                        }\r\n                                    } else {\r\n                                        s = true;\r\n                                        i += ts.length;\r\n                                    }\r\n                                }\r\n                            }\r\n                            if (s) {\r\n                                material[key] = val;\r\n                            }\r\n                        }\r\n                        material.needsUpdate = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return material;\r\n    },\r\n\r\n    /**\r\n     * lay ra kieu thuoc tinh cuar loaai material tuong ung\r\n     * @param {string} type loai material\r\n     */\r\n    getTypeProps: function (type?: any) {\r\n        var properties = {};\r\n        function addPropType(key, prop) {\r\n            properties[key] = prop.type;\r\n        }\r\n        var def = arrayJoin([], this.config.propGroup.default);\r\n        var t = Str.replace(String(type).toLowerCase(), ['mesh', 'material'], '');\r\n        if (t && t != 'default' && typeof this.config.propGroup[t] != \"undefined\") {\r\n            arrayJoin(def, this.config.propGroup[t]);\r\n        }\r\n        // addPropType(def);\r\n        var self = this;\r\n        def.map(function (t) {\r\n            if (typeof self.config.properties[t] != \"undefined\") {\r\n                addPropType(t, self.config.properties[t]);\r\n            }\r\n        })\r\n        return properties;\r\n\r\n    },\r\n\r\n    /**\r\n     * chuan hoa thuoc tinh matẻial\r\n     * @param {string} type loai5 matẻial\r\n     * @param {object} props \r\n     */\r\n    parseProps: function (type?: any, props?: any) {\r\n        var properties = {};\r\n        var p = this.getTypeProps(type);\r\n        if (isObject(props) && !isEmpty(props)) {\r\n            for (const key in props) {\r\n                if (props.hasOwnProperty(key)) {\r\n                    const val = props[key];\r\n                    if (typeof p[key] == \"string\") {\r\n                        const typeVal = p[key];\r\n                        var t = typeVal.toLowerCase();\r\n                        if (inArray(['texture', 'texturecube', 'object', 'color', 'vector', 'vector2', 'vector3', 'vector4'], t) && isObject(val)) {\r\n                            properties[key] = val;\r\n                        } else if (t == \"color\" && (inArray(['string', 'number'], getType(val)))) {\r\n                            properties[key] = createColor(val);\r\n                        } else if (t == \"boolean\") {\r\n                            if (isString(val)) {\r\n                                var v = val.toLowerCase();\r\n                                properties[key] = v && v !== \"false\" && v !== \"0\" && v != \"off\" ? true : false;\r\n                            } else {\r\n                                properties[key] = val ? true : false;\r\n                            }\r\n                        } else if (checkType(typeVal, val)) {\r\n                            properties[key] = val;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return properties;\r\n\r\n    },\r\n\r\n    parseType: function (type: any) {\r\n        return Str.replace(String(isObject(type) ? type.type : type).toLowerCase(), ['mesh', 'material'], '');;\r\n    },\r\n\r\n    getDetectedProps: function detectProps(material?: any) {\r\n        var props = {};\r\n        if (isObject(material)) {\r\n            var type = material.type ? Str.replace(String(material.type), ['mesh', 'material'], '') : \"\";\r\n            if (type) {\r\n                var defProps = this.getTypeProps(type);\r\n\r\n                for (const key in material) {\r\n                    if (material.hasOwnProperty(key)) {\r\n                        const val = material[key];\r\n                        if (typeof defProps[key] != \"undefined\") {\r\n                            props[key] = val;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return props;\r\n    },\r\n    getPropData: function getPropData(material?: any) {\r\n        var props = {};\r\n        if (isObject(material)) {\r\n            var type = material.type ? Str.replace(String(material.type), ['mesh', 'material'], '') : \"\";\r\n            if (!type) type = 'default';\r\n\r\n            var defProps = this.getTypeProps(type);\r\n\r\n            for (const key in material) {\r\n                if (material.hasOwnProperty(key)) {\r\n                    const val = material[key];\r\n                    if (typeof defProps[key] != \"undefined\" && key != \"uuid\") {\r\n                        switch (defProps[key]) {\r\n                            case \"Color\":\r\n                                props[key] = \"#\" + val.getHexString();\r\n                                break;\r\n\r\n                            default:\r\n                                props[key] = val;\r\n                                break;\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        return props;\r\n    },\r\n    /**\r\n     * lay map cuar material\r\n     * @param {object} material \r\n     */\r\n    getMaps: function getMaps(material?: any) {\r\n        var props = {};\r\n        if (isObject(material)) {\r\n            var type = material.type ? Str.replace(String(material.type), ['mesh', 'material'], '') : \"\";\r\n            if (type) {\r\n                var defProps = this.getTypeProps(type);\r\n\r\n                for (const key in defProps) {\r\n                    if (defProps.hasOwnProperty(key)) {\r\n                        const value = defProps[key];\r\n                        if (value.toLowerCase() == \"texture\") {\r\n                            if (material.hasOwnProperty(key) && material[key]) {\r\n                                props[key] = material[key];\r\n                            } else {\r\n                                props[key] = null;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return props;\r\n    },\r\n    /**\r\n     * lay map cuar material\r\n     * @param {object} material \r\n     */\r\n    getColors: function getMaps(material?: any) {\r\n        var props = {};\r\n        if (isObject(material)) {\r\n            var type = material.type ? Str.replace(String(material.type), ['mesh', 'material'], '') : \"\";\r\n            if (type) {\r\n                var defProps = this.getTypeProps(type);\r\n\r\n                for (const key in defProps) {\r\n                    if (defProps.hasOwnProperty(key)) {\r\n                        const value = defProps[key];\r\n                        if (value.toLowerCase() == \"color\") {\r\n                            if (material.hasOwnProperty(key) && material[key]) {\r\n                                props[key] = material[key];\r\n                            } else {\r\n                                props[key] = null;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return props;\r\n    },\r\n\r\n    /**\r\n     * lay map cuar material\r\n     * @param {object} material \r\n     */\r\n    getCloneMaps: function getCloneMaps(material?: any) {\r\n        var m = material;\r\n        if (isObject(material)) {\r\n            var type = material.type ? Str.replace(String(material.type), ['mesh', 'material'], '') : \"\";\r\n            var props = {};\r\n            if (type) {\r\n                var defProps = this.getTypeProps(type);\r\n                for (const key in defProps) {\r\n                    if (defProps.hasOwnProperty(key)) {\r\n                        const value = defProps[key];\r\n                        if (value.toLowerCase() == \"texture\") {\r\n                            if (material.hasOwnProperty(key) && material[key]) {\r\n                                props[key] = material[key];\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                m = this.get(type, props);\r\n            }\r\n        }\r\n        return m;\r\n    },\r\n\r\n    getMaterialType: function (str: string) {\r\n        return str ? Str.replace(String(str).toLowerCase(), ['mesh', 'material'], '') : null;\r\n    },\r\n\r\n    getMaterialInputs: function (materialType: string, material: any, settings?: any, editableList?: any): any[] {\r\n        let _type = materialType ? Str.replace(String(materialType).toLowerCase(), ['mesh', 'material'], '') : 'basic';\r\n        let _material = this.config.data[_type];\r\n        let _settings = isObject(settings) ? settings : {};\r\n        if (!_material) return [];\r\n        let inputs = [];\r\n\r\n        let ignore = [];\r\n\r\n\r\n        /**\r\n         * \r\n         * @param type loại input\r\n         * @param name tên input\r\n         * @param value gia tri\r\n         * @param options option\r\n         */\r\n        const addInput = (type: string, name: string, value: (string | number | boolean | { [x: string]: any }), options?: any) => {\r\n            inputs.push(assignValue({\r\n                type: type,\r\n                name: name,\r\n                value: value\r\n            }, options));\r\n        }\r\n\r\n        let materialProps = _material.props;\r\n        let editable = _material.editable;\r\n        const isArrayEditAble = isArray(editableList);\r\n\r\n        for (let index = 0; index < editable.length; index++) {\r\n            const key = editable[index];\r\n\r\n            if (Object.prototype.hasOwnProperty.call(materialProps, key) && key != \"name\" && ignore.indexOf(key) == -1 && inArray(this.config.availableInputs, key)) {\r\n\r\n                const prop = materialProps[key];\r\n                const type = prop.type.split(\":\")[0].toLowerCase();\r\n                const value = typeof _settings[key] != \"undefined\" ? _settings[key] : (isObject(material) && typeof material[key] != \"undefined\" ? material[key] : prop.value);\r\n                var inputType = prop.data.inputType;\r\n                const inputOptions: any = {};\r\n                let isEditAble = (isArrayEditAble && editableList.indexOf(key) !== -1) || (!isArrayEditAble);\r\n                switch (type) {\r\n                    case 'boolean':\r\n                        addInput(\"checkbox\", key, value, { editable: isEditAble });\r\n                        break;\r\n                    case 'string':\r\n                        if (inputType == \"select\") {\r\n                            addInput(\"select\", key, value, { options: prop.data.options, editable: isEditAble, valueType: prop.data.valueType || null })\r\n                        } else {\r\n                            addInput(\"text\", key, value, { editable: isEditAble })\r\n                        }\r\n                        break;\r\n                    case \"number\":\r\n                    case \"float\":\r\n                    case \"integer\":\r\n                        if (inputType == \"select\") {\r\n                            addInput(\"select\", key, value, { options: prop.data.options, editable: isEditAble, valueType: prop.data.valueType || null });\r\n                        } else {\r\n                            assignWithout(inputOptions, prop.data, ['inputType']);\r\n                            //  inputOptions.layout = \"smart\";\r\n                            if (inputType == \"range\") inputOptions.outputWidth = 2;\r\n                            inputOptions.editable = isEditAble;\r\n                            if (type == \"integer\") {\r\n                                let a = assignValue({\r\n                                    min: -99999999,\r\n                                    max: 99999999,\r\n                                    step: 1\r\n                                }, inputOptions);\r\n                                assignValue(inputOptions, a);\r\n                            }\r\n                            addInput(inputType == \"range\" ? inputType : 'number', key, value, inputOptions);\r\n                        }\r\n                        break;\r\n\r\n                    case \"color\":\r\n                    case 'texture':\r\n                        inputOptions.editable = isEditAble;\r\n                        if (typeof materialProps[key + \"Intensity\"] != \"undefined\") {\r\n                            inputOptions.attach = assignValue(materialProps[key + \"Intensity\"].data);\r\n                            inputOptions.attach.name = key + \"Intensity\";\r\n                            inputOptions.attach.type = inputOptions.attach.inputType || \"range\";\r\n                            if (_settings[key + \"Intensity\"] !== undefined) {\r\n                                inputOptions.attach.value = _settings[key + \"Intensity\"];\r\n                            }\r\n                            else if (_material[key + \"Intensity\"] !== undefined) {\r\n                                inputOptions.attach.value = _material[key + \"Intensity\"];\r\n                            } else {\r\n                                inputOptions.attach.value = materialProps[key + \"Intensity\"].value;\r\n                            }\r\n                            ignore.push(key + \"Intensity\");\r\n                        }\r\n\r\n                        var vl = type == \"color\" && isObject(value) ? (\r\n                            value.isColor ? \"#\" + value.getHexString() : (\r\n                                value.$three == \"color\" ? value.color : \"#000000\"\r\n                            )\r\n                        ) : value;\r\n\r\n                        addInput(type, key, vl, inputOptions);\r\n                        break;\r\n\r\n\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return inputs;\r\n    },\r\n\r\n    __default: function () {\r\n        return new THREE.Material();\r\n    },\r\n\r\n    __linebasic: function (parameters?: any) {\r\n        var options = {\r\n            color: 0xffffff,\r\n            linewidth: 1,\r\n            linecap: 'round', //ignored by WebGLRenderer\r\n            linejoin: 'round' //ignored by WebGLRenderer\r\n        };\r\n        assignValue(options, parameters);\r\n        options.color = parseColorIntVal(options.color);\r\n        return new THREE.LineBasicMaterial(options);\r\n\r\n    },\r\n\r\n    __linedashed: function (parameters?: any) {\r\n        var options = {\r\n            color: 0xffffff,\r\n            linewidth: 1,\r\n            scale: 1,\r\n            dashSize: 3,\r\n            gapSize: 1,\r\n        };\r\n        assignValue(options, parameters);\r\n        options.color = parseColorIntVal(options.color);\r\n        return new THREE.LineDashedMaterial(options);\r\n\r\n    },\r\n\r\n    __basic: function (parameters?: any) {\r\n        return new THREE.MeshBasicMaterial(parameters);\r\n    },\r\n\r\n    __depth: function (parameters?: any) {\r\n        return new THREE.MeshDepthMaterial(parameters);\r\n    },\r\n\r\n    __distance: function (parameters?: any) {\r\n        return new THREE.MeshDistanceMaterial(parameters);\r\n    },\r\n\r\n    __lambert: function (parameters?: any) {\r\n        return new THREE.MeshLambertMaterial(parameters);\r\n    },\r\n\r\n    __matcap: function (parameters?: any) {\r\n        return new THREE.MeshMatcapMaterial(parameters);\r\n    },\r\n\r\n    __normal: function (parameters?: any) {\r\n        return new THREE.MeshNormalMaterial(parameters);\r\n    },\r\n\r\n    __phong: function (parameters?: any) {\r\n        return new THREE.MeshPhongMaterial(parameters);\r\n    },\r\n\r\n    __physical: function (parameters?: any) {\r\n        return new THREE.MeshPhysicalMaterial(parameters);\r\n    },\r\n    __standard: function (parameters?: any) {\r\n        return new THREE.MeshStandardMaterial(parameters);\r\n    },\r\n\r\n    __toon: function (parameters?: any) {\r\n        return new THREE.MeshToonMaterial(parameters);\r\n    },\r\n\r\n    __points: function (parameters?: any) {\r\n        return new THREE.PointsMaterial(parameters);\r\n    },\r\n    __shadow: function (parameters?: any) {\r\n        return new THREE.ShadowMaterial(parameters);\r\n    },\r\n\r\n    config: {\r\n        data: {\r\n            basic: {\r\n                type: \"BasicMaterial\",\r\n                props: {},\r\n            },\r\n            lambert: {\r\n                type: \"LambertMaterial\",\r\n                props: {},\r\n            },\r\n            normal: {\r\n                type: \"NormalMaterial\",\r\n                props: {},\r\n            },\r\n            phong: {\r\n                type: \"PhongMaterial\",\r\n                props: {},\r\n            },\r\n            physical: {\r\n                type: \"PhysicalMaterial\",\r\n                props: {},\r\n            },\r\n            standard: {\r\n                type: \"StandardMaterial\",\r\n                props: {},\r\n            },\r\n        },\r\n        availableInputs: [\r\n            \"type\",\r\n            \"color\",\r\n            \"map\",\r\n            \"bumpMap\",\r\n            \"bumpScale\",\r\n            \"normalMap\",\r\n            \"normalMapType\",\r\n            \"normalScale\",\r\n            \"side\",\r\n            \"opacity\",\r\n            \"transparent\",\r\n            \"visible\",\r\n\r\n        ],\r\n        options: {},\r\n        editable: {\r\n            name: 'String',\r\n            opacity: 'Float',\r\n            side: 'Integer:' + THREE.FrontSide + ',' + THREE.BackSide + ',' + THREE.DoubleSide,\r\n            shadowSide: 'Integer:' + THREE.FrontSide + ',' + THREE.BackSide + ',' + THREE.DoubleSide,\r\n            transparent: 'Boolean',\r\n            visible: 'Boolean',\r\n        },\r\n        properties: {\r\n            type: { type: \"String\", editable: false, data: {}, value: \"Material\" },\r\n            color: { type: \"Color\", editable: true, data: {} },\r\n            map: { type: \"Texture\", editable: true, data: {}, value: null },\r\n            bumpMap: { type: \"Texture\", editable: true, data: { addons: [\"bumpScale\"] }, value: null },\r\n            bumpScale: { type: \"Float\", editable: true, data: { min: 0, max: 1, step: 0.01, inputType: \"range\" }, value: 1 },\r\n            normalMap: { type: \"Texture\", editable: true, data: { addons: [\"normalMapType\", \"normalScale\"] }, value: null },\r\n            normalMapType: { type: \"Integer\", editable: true, data: {}, value: 0 },\r\n            normalScale: { type: \"Vector2\", editable: true, data: {} },\r\n            side: { type: \"Integer:0,1,2\", editable: true, data: { inputType: \"select\", valueType: \"number\", options: sideOptions }, value: 0 },\r\n            opacity: { type: \"Float\", editable: true, data: { min: 0, max: 1, step: 0.01, inputType: \"range\" }, value: 1 },\r\n            transparent: { type: \"Boolean\", editable: true, data: {}, value: true },\r\n            visible: { type: \"Boolean\", editable: true, data: {}, value: true },\r\n\r\n\r\n\r\n            alphaMap: { type: \"Texture\", editable: true, data: {}, value: null },\r\n            alphaTest: { type: \"number\", editable: false, data: { min: 0, max: 1, step: 0.01, inputType: \"range\" }, value: 0 },\r\n            aoMap: { type: \"Texture\", editable: true, data: {}, value: null },\r\n            aoMapIntensity: { type: \"Float\", editable: true, data: { min: 0, max: 1, step: 0.01, inputType: \"range\" }, value: 1 },\r\n            blendDst: { type: \"integer\", editable: false, data: {}, value: 205 },\r\n            blendDstAlpha: { type: \"Integer\", editable: false, data: {}, value: null },\r\n            blendEquation: { type: \"Integer\", editable: false, data: {}, value: 100 },\r\n            blendEquationAlpha: { type: \"Integer\", editable: false, data: {}, value: null },\r\n            blendSrc: { type: \"Integer\", editable: false, data: {}, value: 204 },\r\n            blendSrcAlpha: { type: \"Integer\", editable: false, data: {}, value: null },\r\n            blending: { type: \"mixed\", editable: false, data: {}, value: 1 },\r\n            clearcoat: { type: \"Float\", editable: true, data: { min: 0, max: 1, step: 0.01, inputType: \"range\" }, value: 0 },\r\n            clearcoatMap: { type: \"Texture\", editable: true, data: {}, value: null },\r\n            clearcoatNormalMap: { type: \"Texture\", editable: true, data: {}, value: null },\r\n            clearcoatNormalScale: { type: \"Vector2\", editable: true, data: {} },\r\n            clearcoatRoughness: { type: \"Float\", editable: true, data: {}, value: 0 },\r\n            clearcoatRoughnessMap: { type: \"Texture\", editable: true, data: {}, value: null },\r\n            clipIntersection: { type: \"Boolean\", editable: false, data: {}, value: false },\r\n            clipShadows: { type: \"Boolean\", editable: false, data: {}, value: false },\r\n            clippingPlanes: { type: \"Array\", editable: false, data: {}, value: null },\r\n            colorWrite: { type: \"Boolean\", editable: false, data: {}, value: true },\r\n            combine: { type: \"Integer\", editable: true, data: { min: 0, step: 1 }, value: 0 },\r\n            defines: { type: \"Object\", editable: false, data: {} },\r\n            depthFunc: { type: \"Integer\", editable: false, data: {}, value: 3 },\r\n            depthPacking: { type: \"Constant\", editable: true, data: {}, value: 3200 },\r\n            depthTest: { type: \"Boolean\", editable: false, data: {}, value: true },\r\n            depthWrite: { type: \"Boolean\", editable: false, data: {}, value: true },\r\n            displacementBias: { type: \"Float\", editable: true, data: { min: -1, max: 1, step: 0.01, inputType: \"range\" }, value: 0 },\r\n            displacementMap: { type: \"Texture\", editable: true, data: {}, value: null },\r\n            displacementScale: { type: \"Float\", editable: true, data: { min: 0, max: 1, step: 0.01, inputType: \"range\" }, value: 1 },\r\n            dithering: { type: \"Boolean\", editable: false, data: {}, value: false },\r\n            emissive: { type: \"Color\", editable: true, data: {} },\r\n            emissiveIntensity: { type: \"Float\", editable: true, data: { min: 0, max: 1, step: 0.01, inputType: \"range\" }, value: 1 },\r\n            emissiveMap: { type: \"Texture\", editable: true, data: {}, value: null },\r\n            envMap: { type: \"TextureCube\", editable: true, data: {}, value: null },\r\n            envMapIntensity: { type: \"Float\", editable: true, data: { min: 0, max: 1, step: 0.01, inputType: \"range\" }, value: 1 },\r\n            farDistance: { type: \"Float\", editable: true, data: { min: 0, step: 0.01, inputType: \"range\" }, value: 1000 },\r\n            flatShading: { type: \"Boolean\", editable: false, data: {}, value: false },\r\n            fog: { type: \"Boolean\", editable: false, data: {}, value: true },\r\n            gradientMap: { type: \"Texture\", editable: true, data: {}, value: null },\r\n            id: { type: \"Integer\", editable: false, data: {} },\r\n            lightMap: { type: \"Texture\", editable: true, data: {}, value: null },\r\n            lightMapIntensity: { type: \"Float\", editable: true, data: { min: 0, max: 1, step: 0.01, inputType: \"range\" }, value: 1 },\r\n            matcap: { type: \"Texture\", editable: true, data: {}, value: null },\r\n            metalness: { type: \"Float\", editable: true, data: { min: 0, max: 1, step: 0.01, inputType: \"range\" }, value: 0 },\r\n            metalnessMap: { type: \"Texture\", editable: true, data: {}, value: null },\r\n            morphNormals: { type: \"boolean\", editable: true, data: {}, value: false },\r\n            morphTargets: { type: \"Boolean\", editable: true, data: {}, value: false },\r\n            name: { type: \"String\", editable: true, data: {}, value: \"\" },\r\n            nearDistance: { type: \"Float\", editable: true, data: { min: 0 }, value: 1 },\r\n            needsUpdate: { type: \"Boolean\", editable: false, data: {} },\r\n            polygonOffset: { type: \"Boolean\", editable: false, data: {}, value: false },\r\n            polygonOffsetFactor: { type: \"Integer\", editable: false, data: {}, value: 0 },\r\n            polygonOffsetUnits: { type: \"Integer\", editable: false, data: {}, value: 0 },\r\n            precision: { type: \"String: highp, mediump, lowp\", editable: false, data: {}, value: null },\r\n            premultipliedAlpha: { type: \"Boolean\", editable: false, data: {}, value: false },\r\n            referencePosition: { type: \"Vector3\", editable: true, data: {} },\r\n            reflectivity: { type: \"Float\", editable: true, data: { min: 0, max: 1, step: 0.01, inputType: \"range\" }, value: 1 },\r\n            refractionRatio: { type: \"Float\", editable: true, data: { min: 0, max: 1, step: 0.01, inputType: \"range\" }, value: 0.98 },\r\n            roughness: { type: \"Float\", editable: true, data: { min: 0, max: 1, step: 0.01, inputType: \"range\" }, value: 1 },\r\n            roughnessMap: { type: \"Texture\", editable: true, data: {}, value: null },\r\n            shadowSide: { type: \"Integer:0,1,2\", editable: false, data: {}, value: null },\r\n            shininess: { type: \"Float\", editable: true, data: {}, value: 30 },\r\n            size: { type: \"Number\", editable: true, data: {}, value: 1 },\r\n            sizeAttenuation: { type: \"Boolean\", editable: true, data: {}, value: true },\r\n            skinning: { type: \"Boolean\", editable: true, data: {}, value: false },\r\n            specular: { type: \"Color\", editable: true, data: {} },\r\n            specularMap: { type: \"Texture\", editable: true, data: {}, value: null },\r\n            stencilFail: { type: \"Integer\", editable: false, data: {}, value: 7680 },\r\n            stencilFunc: { type: \"Integer\", editable: false, data: {}, value: 519 },\r\n            stencilFuncMask: { type: \"Integer\", editable: false, data: {}, value: 255 },\r\n            stencilRef: { type: \"Integer\", editable: false, data: {}, value: 0 },\r\n            stencilWrite: { type: \"Boolean\", editable: false, data: {}, value: false },\r\n            stencilWriteMask: { type: \"Integer\", editable: false, data: {}, value: 255 },\r\n            stencilZFail: { type: \"Integer\", editable: false, data: {}, value: 7680 },\r\n            stencilZPass: { type: \"Integer\", editable: false, data: {}, value: 7680 },\r\n            toneMapped: { type: \"Boolean\", editable: false, data: {}, value: true },\r\n            transmission: { type: \"Float\", editable: true, data: { min: 0, max: 1, step: 0.01, inputType: \"range\" }, value: 0 },\r\n            transmissionMap: { type: \"Texture\", editable: true, data: {}, value: null },\r\n            userData: { type: \"object\", editable: false, data: {}, value: {} },\r\n            uuid: { type: \"String\", editable: false, data: {}, value: \"\" },\r\n            version: { type: \"Integer\", editable: false, data: {}, value: 0 },\r\n            vertexColors: { type: \"Boolean\", editable: false, data: {}, value: false },\r\n            vertexTangents: { type: \"Boolean\", editable: true, data: {}, value: false },\r\n            wireframe: { type: \"Boolean\", editable: true, data: {}, value: false },\r\n            wireframeLinecap: { type: \"String\", editable: true, data: {}, value: \"round\" },\r\n            wireframeLinejoin: { type: \"String\", editable: true, data: {}, value: \"round\" },\r\n            wireframeLinewidth: { type: \"Float\", editable: true, data: {}, value: 1 }\r\n        },\r\n\r\n        propGroup: {\r\n            default: [\r\n                \"opacity\",\r\n                \"side\",\r\n                \"alphaTest\",\r\n                \"blendDst\",\r\n                \"blendDstAlpha\",\r\n                \"blendEquation\",\r\n                \"blendEquationAlpha\",\r\n                \"blending\",\r\n                \"blendSrc\",\r\n                \"blendSrcAlpha\",\r\n                \"clipIntersection\",\r\n                \"clippingPlanes\",\r\n                \"clipShadows\",\r\n                \"colorWrite\",\r\n                \"defines\",\r\n                \"depthFunc\",\r\n                \"depthTest\",\r\n                \"depthWrite\",\r\n                \"stencilWrite\",\r\n                \"stencilWriteMask\",\r\n                \"stencilFunc\",\r\n                \"stencilRef\",\r\n                \"stencilFuncMask\",\r\n                \"stencilFail\",\r\n                \"stencilZFail\",\r\n                \"stencilZPass\",\r\n                \"flatShading\",\r\n                \"fog\",\r\n                \"id\",\r\n                \"name\",\r\n                \"needsUpdate\",\r\n                \"polygonOffset\",\r\n                \"polygonOffsetFactor\",\r\n                \"polygonOffsetUnits\",\r\n                \"precision\",\r\n                \"premultipliedAlpha\",\r\n                \"dithering\",\r\n                \"shadowSide\",\r\n                \"toneMapped\",\r\n                \"transparent\",\r\n                \"type\",\r\n                \"uuid\",\r\n                \"version\",\r\n                \"vertexColors\",\r\n                \"visible\",\r\n                \"userData\"\r\n            ],\r\n            basic: [\r\n                \"name\",\r\n\r\n                \"color\",\r\n                \"map\",\r\n                \"side\",\r\n                \"transparent\",\r\n                \"opacity\",\r\n                \"visible\",\r\n\r\n                \"aoMap\",\r\n                \"aoMapIntensity\",\r\n                \"combine\",\r\n                \"envMap\",\r\n                \"lightMap\",\r\n                \"lightMapIntensity\",\r\n                \"morphTargets\",\r\n                \"reflectivity\",\r\n                \"refractionRatio\",\r\n                \"skinning\",\r\n                \"specularMap\",\r\n                \"wireframe\",\r\n                \"wireframeLinecap\",\r\n                \"wireframeLinejoin\",\r\n                \"wireframeLinewidth\",\r\n                \"shadowSide\"\r\n\r\n            ],\r\n            depth: [\r\n                \"name\",\r\n                \"map\",\r\n                \"side\",\r\n                \"transparent\",\r\n                \"opacity\",\r\n                \"visible\",\r\n\r\n                \"alphaMap\",\r\n                \"depthPacking\",\r\n                \"displacementMap\",\r\n                \"displacementScale\",\r\n                \"displacementBias\",\r\n                \"fog\",\r\n                \"morphTargets\",\r\n                \"skinning\",\r\n                \"wireframe\",\r\n                \"wireframeLinewidth\",\r\n                \"shadowSide\"\r\n            ],\r\n            distance: [\r\n                \"name\",\r\n                \"map\",\r\n                \"side\",\r\n                \"transparent\",\r\n                \"opacity\",\r\n                \"visible\",\r\n\r\n                \"alphaMap\",\r\n                \"displacementMap\",\r\n                \"displacementScale\",\r\n                \"displacementBias\",\r\n                \"farDistance\", \"fog\", \"morphTargets\", \"nearDistance\", \"referencePosition\", \"skinning\", \"shadowSide\"\r\n            ],\r\n            lambert: [\r\n                \"name\", \"color\", \"map\", \"transparent\", \"opacity\", \"side\", \"visible\",\r\n                \"emissive\", \"emissiveMap\", \"emissiveIntensity\",\r\n                \"alphaMap\", \"aoMap\", \"aoMapIntensity\", \"combine\", \"envMap\", \"lightMap\", \"lightMapIntensity\", \"morphNormals\", \"morphTargets\", \"reflectivity\", \"refractionRatio\", \"skinning\", \"specularMap\", \"wireframe\", \"wireframeLinecap\", \"wireframeLinejoin\", \"wireframeLinewidth\", \"shadowSide\"\r\n            ],\r\n            matcap: [\r\n                \"name\", \"color\", \"map\", \"bumpMap\", \"bumpScale\", \"normalMap\", \"normalMapType\", \"normalScale\", \"transparent\", \"opacity\", \"side\", \"visible\",\r\n                \"alphaMap\", \"displacementMap\", \"displacementScale\", \"displacementBias\", \"matcap\", \"morphNormals\", \"morphTargets\", \"skinning\", \"shadowSide\"\r\n            ],\r\n            normal: [\r\n                \"name\", \"bumpMap\", \"bumpScale\", \"normalMap\", \"normalMapType\", \"normalScale\", \"transparent\", \"opacity\", \"side\", \"visible\", \"displacementMap\", \"displacementScale\", \"displacementBias\", \"fog\", \"morphNormals\", \"morphTargets\", \"skinning\", \"wireframe\", \"wireframeLinewidth\", \"shadowSide\"\r\n            ],\r\n            phong: [\r\n                \"name\", \"color\", \"map\", \"bumpMap\", \"bumpScale\", \"normalMap\", \"normalMapType\", \"normalScale\", \"opacity\", \"side\", \"transparent\", \"visible\", \"alphaMap\", \"aoMap\", \"aoMapIntensity\",\r\n                \"combine\", \"displacementMap\", \"displacementScale\", \"displacementBias\", \"emissive\", \"emissiveMap\", \"emissiveIntensity\", \"envMap\", \"lightMap\", \"lightMapIntensity\", \"morphNormals\", \"morphTargets\", \"reflectivity\", \"refractionRatio\", \"shininess\", \"skinning\", \"specular\", \"specularMap\", \"wireframe\", \"wireframeLinecap\", \"wireframeLinejoin\", \"wireframeLinewidth\", \"shadowSide\"\r\n            ],\r\n            physical: [\r\n                \"name\", \"color\", \"map\", \"bumpMap\", \"bumpScale\", \"normalMap\", \"normalMapType\", \"normalScale\", \"transparent\", \"opacity\", \"side\", \"visible\",\r\n                \"alphaMap\", \"aoMap\", \"aoMapIntensity\",\r\n                \"defines\", \"displacementMap\", \"displacementScale\", \"displacementBias\", \"emissive\", \"emissiveMap\", \"emissiveIntensity\", \"envMap\", \"envMapIntensity\", \"lightMap\", \"lightMapIntensity\", \"metalness\", \"metalnessMap\", \"morphNormals\", \"morphTargets\", \"refractionRatio\", \"roughness\", \"roughnessMap\", \"skinning\", \"vertexTangents\", \"wireframe\", \"wireframeLinecap\", \"wireframeLinejoin\", \"wireframeLinewidth\", \"clearcoat\", \"clearcoatMap\", \"clearcoatNormalMap\", \"clearcoatNormalScale\", \"clearcoatRoughness\", \"clearcoatRoughnessMap\", \"reflectivity\", \"transmission\", \"transmissionMap\", \"shadowSide\"\r\n            ],\r\n            standard: [\r\n                \"name\", \"color\", \"map\", \"bumpMap\", \"bumpScale\", \"normalMap\", \"normalMapType\", \"normalScale\", \"transparent\", \"opacity\", \"side\", \"visible\",\r\n                \"alphaMap\", \"aoMap\", \"aoMapIntensity\", \"defines\", \"displacementMap\", \"displacementScale\", \"displacementBias\", \"emissive\", \"emissiveMap\", \"emissiveIntensity\", \"envMap\", \"envMapIntensity\", \"lightMap\", \"lightMapIntensity\", \"metalness\", \"metalnessMap\", \"morphNormals\", \"morphTargets\", \"refractionRatio\", \"roughness\", \"roughnessMap\", \"skinning\", \"vertexTangents\", \"wireframe\", \"wireframeLinecap\", \"wireframeLinejoin\", \"wireframeLinewidth\", \"shadowSide\"\r\n            ],\r\n            toon: [\r\n                \"name\", \"alphaMap\", \"aoMap\", \"aoMapIntensity\", \"bumpMap\", \"bumpScale\", \"color\", \"displacementMap\", \"displacementScale\", \"displacementBias\", \"emissive\", \"emissiveMap\", \"emissiveIntensity\", \"gradientMap\", \"lightMap\", \"lightMapIntensity\", \"map\", \"morphNormals\", \"morphTargets\", \"normalMap\", \"normalMapType\", \"normalScale\", \"skinning\", \"wireframe\", \"wireframeLinecap\", \"wireframeLinejoin\", \"wireframeLinewidth\", \"opacity\", \"side\", \"shadowSide\", \"transparent\", \"visible\"\r\n            ],\r\n            points: [\r\n                \"name\", \"alphaMap\", \"color\", \"map\", \"morphTargets\", \"size\", \"sizeAttenuation\", \"opacity\", \"side\", \"shadowSide\", \"transparent\", \"visible\"\r\n            ],\r\n            shadow: [\r\n                \"name\", \"transparent\", \"opacity\", \"side\", \"shadowSide\", \"visible\"\r\n            ]\r\n        }\r\n\r\n    }\r\n\r\n});\r\n\r\nfor (const key in Materials.config.data) {\r\n    if (Object.hasOwnProperty.call(Materials.config.data, key)) {\r\n        const data = Materials.config.data[key];\r\n\r\n        data.props = {};\r\n        data.editable = [];\r\n        const material = Materials.get(key);\r\n        const properties = Materials.getPropData(material);\r\n        for (const k in properties) {\r\n            if (Object.hasOwnProperty.call(properties, k)) {\r\n                const vl = properties[k];\r\n                data.props[k] = assignValue({}, Materials.config.properties[k]);\r\n                data.props[k].value = vl;\r\n            }\r\n        }\r\n        data.editable = Materials.config.propGroup[key].filter(function (prop) {\r\n            if (Object.hasOwnProperty.call(data.props, prop)) {\r\n                return data.props[prop].editable;\r\n            }\r\n\r\n            return false;\r\n        });\r\n\r\n        data.getEditableProps = function () {\r\n            var props = {};\r\n            this.editable.map(function (prop) {\r\n                if (Object.hasOwnProperty.call(this.props, prop)) {\r\n                    props = data.props[prop];\r\n                }\r\n            });\r\n            return props;\r\n\r\n        };\r\n        // data.props = copyByList(Materials.config.properties, Materials.config.propGroup[key]);\r\n        Materials.config.options[key] = data.type;\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nObject.assign(Meshes, {\r\n\r\n    /**\r\n     * lay ve mot mesh\r\n     * @param {object} options thong tin khoi tao va thuoc tinh\r\n     */\r\n    getMesh: function (options?: any, success?:any) {\r\n        var self = this;\r\n        var opt = typeof options == \"object\" ? options : {};\r\n        var params = {};\r\n        var t = String(opt.type || \"\").toLowerCase();\r\n        var geometry = this.getGeometry(opt.geometry);\r\n        var material = this.getMaterial(\r\n            isObject(opt.material) ? opt.material : {}, \r\n            isObject(opt.geometry) ? opt.geometry : {},\r\n            success\r\n        );\r\n        if (!geometry || !material) return null;\r\n        var mesh = null;\r\n        if (t == 'instanced') {\r\n            mesh = new THREE.InstancedMesh(geometry, material, opt.count);\r\n        } else if (t == 'skinned') {\r\n            mesh = new THREE.SkinnedMesh(geometry, material);\r\n        } else {\r\n            mesh = new THREE.Mesh(geometry, material);\r\n        }\r\n        if (mesh) {\r\n            var props = Props.parse(opt.props || copyWithout(opt, ['geometry', 'material']));\r\n            this.setProperties(mesh, props);\r\n        }\r\n        return mesh;\r\n\r\n    },\r\n    /**\r\n     * giong ham tren\r\n     * @param {object} options \r\n     */\r\n    get: function (options?: any, success?:any) {\r\n        return this.getMesh(options, success);\r\n    },\r\n    /**\r\n     * lay ve mot geometry\r\n     * @param {object} options \r\n     */\r\n    getGeometry: function (options?: any) {\r\n        if (typeof options != \"object\") options = {};\r\n        var args = options.params || options.args || options.options || copyWithout(options, ['type']);\r\n        return Geometries.get(options.type, args);\r\n    },\r\n\r\n    /**\r\n     * lay ve material cho mesh\r\n     * @param {object} options thuoc tinh cua material\r\n     * @param {object} geometryOptions thuoc tinh cua geometry\r\n     */\r\n    getMaterial: function (options?: any, geometryOptions?: any, success?:any) {\r\n        var material;\r\n        var self = this;\r\n        var t = String(options ? (options.type || 'basic') : 'basic').toLowerCase();\r\n        // neu co thuoc tinh cua geometry va thuoc cac loai box\r\n        if (geometryOptions && inArray(['cube', 'box', 'boxbuffer'], String(geometryOptions.type).toLowerCase())) {\r\n            var item_type = options.item_type ? String(options.item_type).toLowerCase() : 'basic';\r\n            if (inArray(['images', 'boximages', 'boximg'], t)) {\r\n                if (t == 'images') {\r\n                    var cubeMaterials = [\r\n\r\n                    ];\r\n                    if (options.images && isArray(options.images)) {\r\n                        for (let i = 0; i < options.images.length; i++) {\r\n                            const image = options.images[i];\r\n                            let o: any = { file: image, ignoreFlipY: true };\r\n                            if (options.path) o.path = options.path;\r\n                            let opt = {\r\n                                map: LoaderLib.load('texture', o),\r\n                                side: inArray([THREE.DoubleSide, THREE.FrontSide, THREE.BackSide], options.side) ? options.side : THREE.DoubleSide\r\n                            };\r\n                            assignWithout(opt, options.item_params || options.item_args || options.params || options.args || options, ['type', 'images', 'files', 'file', 'imagge', 'props', 'path', 'side']);\r\n                            cubeMaterials.push(Materials.get(item_type, opt));\r\n                        }\r\n                    }\r\n                    return cubeMaterials;\r\n                }\r\n\r\n\r\n                var files = options.files || options.file || options.images;\r\n                if (isArray(files)) {\r\n                    var loadOpt = newObj({ file: files });\r\n                    if (options.path) loadOpt.path = options.path;\r\n                    let opt = newObj({\r\n                        envMap: this.parent.Loader.load('cubetexture', loadOpt)\r\n                    });\r\n\r\n                    // console.log(opt)\r\n                    assignWithout(opt, options.params || options.args || options, ['type', 'images', 'files', 'file', 'imagge', 'props', 'params', 'attrs', 'attributes', 'path', 'side']);\r\n                    var params = cutWithout(opt, ['tyoe', 'args', 'params', 'props']);\r\n                    var props = cutWithout(options.props || options.properties || options.attrs || options.attributes || cutWithout(options, ['type', 'images', 'files', 'file', 'imagge', 'props', 'params', 'attrs', 'attributes', 'path']), params);\r\n\r\n                    material = Materials.get(item_type, params, props, true);\r\n                    return material;\r\n                }\r\n            }\r\n\r\n            else if (t == 'list' || options.children) {\r\n                var materials = [];\r\n                var list = options.list || options.children;\r\n                if (isArray(list)) {\r\n                    for (let j = 0; j < list.length; j++) {\r\n                        const mat = list[j];\r\n                        if (typeof mat == \"object\") {\r\n                            let op = mat;\r\n                            let tc = op.type || options.item_type || (t != \"list\" ? t : item_type);\r\n                            let p = op.props || op;\r\n                            materials.push(Materials.get(tc, op.params || op, p));\r\n                        }\r\n                    }\r\n                }\r\n                return materials.length ? materials : Materials.get(t || item_type, {});\r\n            }\r\n            else {\r\n                var params = options.options || options.params || options.args || assignWithout({}, options, ['tyoe', 'args', 'params', 'props']);\r\n                var props = assignWithout({}, options.props || options.properties || options.attrs || options.attributes || assignWithout({}, options, ['tyoe', 'args', 'params', 'props']), params);\r\n                return Materials.get(t, params, props);\r\n            }\r\n        } else {\r\n            var params = options.options || options.params || options.args || assignWithout({}, options, ['tyoe', 'args', 'params', 'props']);\r\n            var props = assignWithout({}, options.props || options.properties || options.attrs || options.attributes || assignWithout({}, options, ['tyoe', 'args', 'params', 'props']), params);\r\n            return Materials.get(t, params, props, true, success);\r\n        }\r\n    },\r\n    setProperties: function (mesh?: any, props?: any) {\r\n        if (typeof props == \"object\") {\r\n            for (const key in props) {\r\n                if (props.hasOwnProperty(key) && typeof this.propertyTypes[key] != \"undefined\") {\r\n                    let val = props[key];\r\n                    const type = this.propertyTypes[key];\r\n                    if (!type || type == \"locked\") {\r\n                        continue;\r\n                    }\r\n                    else if (typeof type == \"function\") {\r\n                        if (type(val)) {\r\n                            mesh[key] = val;\r\n                        }\r\n                    } else if (typeof type == \"string\") {\r\n                        var ts = type.split(\"|\");\r\n                        var s = false;\r\n                        for (let i = 0; i < ts.length; i++) {\r\n                            const ti = ts[i];\r\n                            const tis = ti.split(':');\r\n                            if (tis.length == 1) {\r\n                                // console.log(key, type, val);\r\n                                if (ti.toLowerCase() == \"boolean\") {\r\n                                    val = val === true || val == 1 || String(val).toLowerCase() == \"on\" ? true : false;\r\n                                    s = true;\r\n                                    i += ts.length;\r\n                                } else if (checkType(ti.trim(), val)) {\r\n                                    s = true;\r\n                                    i += ts.length;\r\n                                }\r\n\r\n                            }\r\n                            else if (tis[0].toLowerCase() == \"boolean\") {\r\n                                val = val === true || val == 1 || String(val).toLowerCase() == \"on\" ? true : false;\r\n                                s = true;\r\n                                i += ts.length;\r\n                            }\r\n\r\n\r\n                            else if (checkType(tis[0].trim(), val)) {\r\n                                if (isString(val) || isNumber(val)) {\r\n                                    if (tis.length > 1) {\r\n                                        let vl = tis[1].trim().split(',').map(function (v) {\r\n                                            return String(v).trim();\r\n                                        });\r\n\r\n                                        if (inArray(vl, val)) {\r\n                                            s = true;\r\n                                            i += ts.length;\r\n                                        }\r\n                                    }\r\n                                } else {\r\n                                    s = true;\r\n                                }\r\n\r\n                            }\r\n                        }\r\n                        if (s) {\r\n                            assignValue(mesh, key, val);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return mesh;\r\n    },\r\n    propertyTypes: {\r\n        castShadow: 'Boolean',\r\n        children: 'Object3D',\r\n        customDepthMaterial: \"locked\",// 'Material',\r\n        customDistanceMaterial: \"locked\",// 'Material',\r\n        frustumCulled: 'Boolean',\r\n        id: \"locked\",// 'Integer',\r\n        layers: \"locked\",// 'Layers',\r\n        matrix: 'Matrix4',\r\n        matrixAutoUpdate: 'Boolean',\r\n        matrixWorld: \"locked\",// 'Matrix4',\r\n        matrixWorldNeedsUpdate: 'Boolean',\r\n        modelViewMatrix: \"locked\",// 'Matrix4',\r\n        name: \"string\",// 'String',\r\n        normalMatrix: \"locked\",// 'Matrix3',\r\n        onAfterRender: \"locked\",// 'Function',\r\n        onBeforeRender: \"locked\",// 'Function',\r\n        parent: \"locked\",// 'Object3D',\r\n        position: 'object',\r\n        quaternion: \"locked\",// 'Quaternion',\r\n        receiveShadow: 'Boolean',\r\n        renderOrder: 'Number',\r\n        rotation: 'object',\r\n        scale: 'object',\r\n        up: 'Vector3',\r\n        userData: 'Object',\r\n        uuid: \"locked\",// 'String',\r\n        visible: 'Boolean'\r\n    }\r\n\r\n\r\n});\r\n\r\n\r\nObject.assign(LoaderLib, {\r\n\r\n    loadingCount: 0,\r\n    engine: null,\r\n    /**\r\n     * @var {App} parent\r\n     */\r\n    parent: null,\r\n    setParent: function (parent: any) {\r\n        this.parent = parent;\r\n    },\r\n    setEngine: function (engine: any) {\r\n        LoaderLib.engine = engine;\r\n    },\r\n\r\n\r\n\r\n    /**\r\n     * load gì đó\r\n     * @param {string} format định dạng\r\n     * @param {object} options các tham số load\r\n     * @param {function} success hàm sẽ được gôi khi thành công\r\n     * @param {function} progressing \r\n     * @param {function} error \r\n     */\r\n    load: function (format?: any, options?: any, success?: any, progressing?: any, error?: any) {\r\n        var f;\r\n        if (isObject(format)) {\r\n            f = String(format.type || format.format).toLowerCase();\r\n            options = options || assignWithout({}, format, ['type', 'format'])\r\n        } else {\r\n            f = String(format).toLowerCase();\r\n        }\r\n\r\n        if (typeof options == \"string\" || !options) {\r\n            options = {\r\n                file: options\r\n            };\r\n        }\r\n        var loader = this.getLoader(f, options.path || null);\r\n\r\n\r\n        if (!loader) return undefined;\r\n        if (!options.file && !options.files) return false;\r\n        var self = this;\r\n\r\n        var file = options.file || options.files;\r\n\r\n        if (inArray(['texture', 'cubetexture'], f)) {\r\n            return loader.load(file, function (texture) {\r\n                var ps = copyWithout(options.props || options, ['file', 'files', 'images', 'path', 'type', 'format']);\r\n                if (!isEmpty(ps)) {\r\n                    assignValue(texture, ps);\r\n                    if (!ps.flipY && !options.ignoreFlipY) texture.flipY = false;\r\n                } else {\r\n                    if (!options.ignoreFlipY) texture.flipY = false;\r\n                }\r\n                if (typeof success == \"function\") success(texture);\r\n\r\n            }, progressing, error);\r\n        }\r\n\r\n        self.loadingCount++;\r\n        if ((f == \"gltf\" || f == \"glb\") && typeof loader.setDRACOLoader == \"function\") {\r\n            var dracoLoader = new DRACOLoader();\r\n            dracoLoader.setDecoderPath(String(getConfig('urls.assets')) + '/libs/draco/gltf/');\r\n            loader.setDRACOLoader(dracoLoader);\r\n        }\r\n\r\n        var roughnessMipmapper = null;\r\n        if (self.parent) {\r\n            roughnessMipmapper = new RoughnessMipmapper(self.parent.renderer)\r\n        }\r\n\r\n        var setMaterialNeedsUpdate = material => {\r\n            if (isArray(material)) {\r\n                for (let index = 0; index < material.length; index++) {\r\n                    const mat = material[index];\r\n                    setMaterialNeedsUpdate(mat);\r\n                }\r\n            } else if (isObject(material)) {\r\n                material.needsUpdate = true;\r\n            }\r\n        };\r\n\r\n        var ps = copyWithout(options.props || options, ['file', 'files', 'images', 'path', 'type', 'format']);\r\n\r\n\r\n        var traverseChild = function (obj, fn) {\r\n            obj.castShadow = ps.castShadow || false;\r\n            obj.receiveShadow = ps.receiveShadow || false;\r\n\r\n            if (obj.isMesh) {\r\n                if (options.materialNeedsUpdate) {\r\n                    setMaterialNeedsUpdate(obj.material);\r\n                }\r\n                // obj.geometry.computeFaceNormals();\r\n                // obj.geometry.computeVertexNormals();\r\n                if (options.useRoughnessMipmapper && roughnessMipmapper) {\r\n                    roughnessMipmapper.generateMipmaps(obj.material);\r\n                }\r\n\r\n                obj.traverse(function (child) {\r\n                    if (child.isMesh) {\r\n                        // child.geometry.computeFaceNormals();\r\n                        // child.geometry.computeVertexNormals();\r\n                        if (options.materialNeedsUpdate) {\r\n                            setMaterialNeedsUpdate(child.material);\r\n                        }\r\n                    }\r\n\r\n                    if (child.isMesh || (child.type && String(child.type).toLowerCase() == \"mesh\")) {\r\n                        // child.geometry.mergeVertices();\r\n\r\n                        // child.geometry.computeVertexNormals(true);\r\n                        if (options.useRoughnessMipmapper && roughnessMipmapper) {\r\n                            roughnessMipmapper.generateMipmaps(child.material);\r\n                        }\r\n                        child.castShadow = ps.castShadow || false;\r\n                        child.receiveShadow = ps.receiveShadow || false;\r\n                        if (options.materialNeedsUpdate) {\r\n                            setMaterialNeedsUpdate(child.material);\r\n                        }\r\n\r\n                        if (isFunction(fn)) {\r\n                            fn(child);\r\n                        }\r\n                    }\r\n\r\n                    if (typeof options.traverse == \"function\") {\r\n                        options.traverse(child);\r\n                    }\r\n\r\n                });\r\n\r\n            }\r\n            else if (obj.children && obj.children.length) {\r\n\r\n                for (let gi = 0; gi < obj.children.length; gi++) {\r\n                    const child = obj.children[gi];\r\n                    var ct = child.type ? String(child.type).toLowerCase() : \"\";\r\n                    if (child.isMesh || ct == \"mesh\") {\r\n                        child.castShadow = ps.castShadow || false;\r\n                        child.receiveShadow = ps.receiveShadow || false;\r\n\r\n                        if (options.materialNeedsUpdate) {\r\n                            setMaterialNeedsUpdate(obj.material);\r\n                        }\r\n\r\n                        child.traverse(traverseChild);\r\n                    }\r\n                    if (child.children && child.children.length) {\r\n                        traverseChild(child, fn);\r\n                    }\r\n                }\r\n\r\n\r\n            }\r\n\r\n        };\r\n\r\n        var loadArgs = [\r\n            file,\r\n            // called when the resource is loaded\r\n            function (modelData) {\r\n\r\n                var succ = typeof options.success == \"function\" ? options.success :\r\n                    typeof success == \"function\" ? success : function (data) {\r\n                        // console.log(data)\r\n                    };\r\n\r\n                if (typeof modelData.scene != \"undefined\") {\r\n                    modelData.scene.castShadow = true;\r\n                    modelData.scene.receiveShadow = true;\r\n                    modelData.scene.traverse(function (child) {\r\n                        traverseChild(child, options.traverse);\r\n                    });\r\n\r\n                }\r\n                else if (modelData.isMesh) {\r\n                    traverseChild(modelData, options.traverse);\r\n\r\n                }\r\n                else if (modelData.isGroup) {\r\n                    traverseChild(modelData, options.traverse);\r\n                } else if (modelData.isObject3D) {\r\n                    traverseChild(modelData, options.traverse);\r\n                }\r\n\r\n                \r\n\r\n\r\n                self.loadingCount--;\r\n                succ(modelData);\r\n                \r\n                if (self.parent) self.parent.emit('load.success', {data: modelData, tasks: self.loadingCount});\r\n\r\n            },\r\n            // called while loading is progressing\r\n            function (xhr) {\r\n                var pro = typeof options.progressing == \"function\" ? options.progressing :\r\n                    typeof progressing == \"function\" ? progressing : function (msg) {\r\n                        // console.log(msg + '% loaded');\r\n                    };\r\n\r\n\r\n                var pc = xhr.loaded / xhr.total * 100;\r\n                pro(pc);\r\n\r\n            },\r\n            // called when loading has errors\r\n            function (e) {\r\n\r\n                // console.log('An error happened');\r\n                var err = typeof options.error == \"function\" ? options.error :\r\n                    typeof error == \"function\" ? error : function (msg) {\r\n                        // console.log(\"Loõi\", e);\r\n                    }\r\n\r\n                self.loadingCount--;\r\n                err(e);\r\n                \r\n                if (self.parent) self.parent.emit('load.fail', {error: e, tasks: self.loadingCount});\r\n            }\r\n        ];\r\n        var result = null;\r\n        try {\r\n            result = f == \"obj\" ? loader.loadWithMaterials.apply(loader, loadArgs) : loader.load.apply(loader, loadArgs);\r\n        } catch (error) {\r\n            result = null;\r\n            this.loadingCount--;\r\n        }\r\n        return result;\r\n\r\n\r\n    },\r\n\r\n    getLoader: function (format: any, path?: any) {\r\n        var loader = null;\r\n        if (typeof this.loaders[format] != \"undefined\") {\r\n            loader = this.loaders[format]();\r\n            if (path) loader.setPath(path);\r\n        }\r\n        return loader;\r\n    },\r\n\r\n    loadFont: function (file?: any, success?: any, progressing?: any, error?: any) {\r\n        var self = this;\r\n\r\n        if (!file) return false;\r\n        // Instantiate a loader\r\n        var loader = new THREE.FontLoader();\r\n\r\n        loader.load(\r\n            file,\r\n            function (font) {\r\n                var succ = typeof success == \"function\" ? success :\r\n                    typeof success == \"function\" ? success : function (data) {\r\n                        // console.log(data)\r\n                    };\r\n\r\n\r\n\r\n                if (self.parent) self.parent.emit('font.load.success', font);\r\n\r\n                succ(font);\r\n\r\n            },\r\n            // called while loading is progressing\r\n            function (xhr?: any) {\r\n                var pro = typeof progressing == \"function\" ? progressing :\r\n                    typeof progressing == \"function\" ? progressing : function (msg?: any) {\r\n                        // console.log(msg + '% loaded');\r\n                    };\r\n\r\n\r\n                var pc = xhr.loaded / xhr.total * 100;\r\n                if (self.parent) self.parent.emit('font.load.progressing', pc);\r\n                pro(pc);\r\n\r\n            },\r\n            // called when loading has errors\r\n            function (e?: any) {\r\n\r\n                var err = typeof error == \"function\" ? error :\r\n                    typeof error == \"function\" ? error : function (msg?: any) {\r\n                        // console.log(\"Lỗi\", e);\r\n                    }\r\n\r\n                if (self.parent) self.parent.emit('font.load.error', e);\r\n                err(e);\r\n\r\n            }\r\n        );\r\n    },\r\n\r\n    /**\r\n     * Load moi truong\r\n     * @param {object} options tham so tải\r\n     * @param {function(Texture)} onSuccess ham xu ly khi load thanh cong\r\n     * @param {function(Error)} onError ham xử lý khi gặp lổi\r\n     */\r\n    LoadEnv: function LoadEnv(options?: any, onSuccess?: any, onError?: any) {\r\n        var opt = typeof options == \"object\" ? options : {};\r\n        Props.parse(opt);\r\n        var f = opt && opt.format ? String(opt.format).toLowerCase() : \"\";\r\n        var self = this;\r\n        if (opt.file) {\r\n            if (f == 'hdr') {\r\n                var engine = self.parent || LoaderLib.engine;\r\n                var pmremGenerator = new THREE.PMREMGenerator(engine.renderer);\r\n                pmremGenerator.compileEquirectangularShader();\r\n                var loader = new RGBELoader();\r\n                loader.setDataType(THREE.UnsignedByteType);\r\n                if (opt.path) {\r\n                    loader.setPath(opt.path);\r\n                }\r\n                loader.load(opt.file, function (texture) {\r\n\r\n                    var envMap = pmremGenerator.fromEquirectangular(texture).texture;\r\n                    if (typeof onSuccess == \"function\") {\r\n                        onSuccess(envMap, texture);\r\n                    }\r\n                    // texture.dispose();\r\n                    pmremGenerator.dispose();\r\n\r\n\r\n                }, function () { }, onError);\r\n            }\r\n        }\r\n    },\r\n\r\n    loaders: {\r\n        gltf: function () { return new GLTFLoader(); },\r\n        obj: function () { return new OBJLoader(); },\r\n        fbx: function () { return new FBXLoader(); },\r\n        texture: function () { return new THREE.TextureLoader(); },\r\n        cubetexture: function () { return new THREE.CubeTextureLoader(); },\r\n        max: function () { return new TDSLoader(); },\r\n        stl: function () { return new STLLoader(); },\r\n        mtl: function () { return new MTLLoader(); },\r\n        svg: function () { return new SVGLoader(); },\r\n        tds: function () { return new TDSLoader(); },\r\n        \"3ds\": function () { return new TDSLoader(); },\r\n\r\n    }\r\n});\r\n\r\n\r\nObject.assign(LightLib, {\r\n    /**\r\n     * \r\n     * @param {App} parent \r\n     */\r\n    setParent: function (parent?: any) {\r\n        this.parent = parent;\r\n    },\r\n\r\n    get: function (type?: any, args?: any, props?: any) {\r\n        return this.getLight(type, args, props);\r\n    },\r\n\r\n\r\n    /**\r\n     * hiệu ung anh sang\r\n     * @param {string} type loai hieu ung anh sang\r\n     * @param {object} options thiet lap\r\n     */\r\n    getLight: function (type?: any, options?: any, props?: any) {\r\n        return this.create(type, options, props);\r\n    },\r\n\r\n    /**\r\n     * hiệu ung anh sang\r\n     * @param {string} type loai hieu ung anh sang\r\n     * @param {object} options thiet lap\r\n     */\r\n    create: function (type?: any, options?: any, props?: any) {\r\n        var light: any, args: any, t: any, params = newObj(), udf = undefined, prop = newObj();\r\n        if (typeof type == \"object\") {\r\n            t = String(type.type || \"\").toLowerCase();\r\n            args = type.params || type.args || type;\r\n            prop = type.props || props || copyWithout(type, [\"params\", \"type\"]) || null;\r\n        } else {\r\n            args = typeof options == \"object\" ? (options.params || options.args || options) : {};\r\n            t = String(type).toLowerCase();\r\n            prop = typeof options == \"object\" ? (options.props || copyWithout(options, [\"params\", \"type\"])) : (props || null);\r\n        }\r\n        if (!t) t = 'light';\r\n\r\n        var config = this.getConfigData(t);\r\n        if (!config && isEmpty(config)) return null;\r\n        params = Props.parseParams(args, config.params);\r\n        var str = \"light = new THREE.\" + config.name + \"(\";\r\n        var i = 0;\r\n        for (const key in params) {\r\n            if (Object.hasOwnProperty.call(params, key)) {\r\n                const value = params[key];\r\n                if (config.props[key] == \"color\" && !isColor(value)) params[key] = Props.parseColorIntVal(value);\r\n                str += (i ? ', ' : '') + \"params.\" + key;\r\n                i++;\r\n            }\r\n        }\r\n        str += \");\";\r\n\r\n        try {\r\n            eval(str);\r\n        } catch (error) {\r\n            // console.log(error);\r\n        }\r\n        // console.log(light);\r\n        if (!light) return null;\r\n        if (light.type == \"ReactAreaLight\") {\r\n            var la = [0, 0, 0];\r\n            if (args.lookAt) {\r\n                if (isArray(args.lookAt)) {\r\n                    for (let i = 0; i < args.lookAt.length; i++) {\r\n                        const v = args.lookAt[i];\r\n                        la[i] = v;\r\n                    }\r\n                }\r\n                else if (isObject(args.lookAt)) {\r\n                    var p = [\"x\", \"y\", \"z\"];\r\n                    for (let i = 0; i < p.length; i++) {\r\n                        const v = p[i];\r\n                        if (typeof args.lookAt[v] != \"undefined\" && isNumber(args.lookAt[v])) la[i] = args.lookAt[v];\r\n                    }\r\n\r\n                }\r\n            }\r\n            light.lookAt.apply(light, la);\r\n        }\r\n        var lightProps = assignWithout({}, prop, params, [\"type\", \"params\", \"args\", \"options\"]);\r\n        this.setProperties(light, lightProps);\r\n        // console.log(light)\r\n        return light;\r\n\r\n    },\r\n\r\n    parseProperties: function parseProperties(light?: any, inputProps?: any) {\r\n        var outputProps = {};\r\n        if (typeof inputProps == \"object\") {\r\n            // console.log(\"light obj\");\r\n            var il = [];\r\n            for (let index = 2; index < arguments.length; index++) {\r\n                const list = arguments[index];\r\n                if (isArray(list)) {\r\n                    for (let i = 0; i < list.length; i++) {\r\n                        const field = list[i];\r\n                        il.push(field);\r\n                    }\r\n                } else if (isObject(list)) {\r\n                    for (const field in list) {\r\n                        if (list.hasOwnProperty(field)) {\r\n                            const val = list[field];\r\n                            il.push(field);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            var propTypes = this.getTypeProps(light.type);\r\n            for (const key in inputProps) {\r\n                if (inputProps.hasOwnProperty(key) && typeof propTypes[key] != \"undefined\" && !inArray(il, key)) {\r\n                    let val = inputProps[key];\r\n                    var setable = [\r\n                        \"Boolean\", \"Integer\", \"String\", \"Function\", \"Number\", \"Object\"\r\n                    ];\r\n                    var checkBefore = [\"Object3D\", \"Euler\", \"Vector3\", \"Euler\"];\r\n                    const type = typeof propTypes[key] != \"undefined\" ? propTypes[key] : null;\r\n                    if (!type || type == \"Locked\") {\r\n                        continue;\r\n                    }\r\n                    // else if (type == \"set\") {\r\n                    //     var tv = getType(val);\r\n                    //     if (!inArray([\"object\", \"array\"], tv)) continue;\r\n                    //     if (tv == \"array\") {\r\n                    //         if (typeof light[key] == \"object\" && typeof light[key].set == \"function\") {\r\n                    //             light[key].set.apply(light[key], val);\r\n                    //         }\r\n                    //     }\r\n                    //     else {\r\n                    //         assignValue(light, key, val);\r\n                    //     }\r\n\r\n                    // }\r\n                    else if (type === \"Color\") {\r\n                        outputProps[key] = parseColor(val);\r\n                    }\r\n                    else if (inArray(setable, type)) {\r\n                        if (checkType(type, val)) {\r\n                            assignValue(obj, key, val);\r\n                        }\r\n                    }\r\n\r\n                    else if (inArray(checkBefore, type)) {\r\n\r\n                        if (isObject(val)) {\r\n                            if (val[\"is\" + type]) {\r\n                                outputProps[key] = val\r\n                            } else if (val.$three) {\r\n                                var obj = Props.parse(val);\r\n                                if (obj && obj[\"is\" + type]) {\r\n                                    outputProps[key] = obj;\r\n                                }\r\n                            }\r\n                            else {\r\n                                if (light[key] && isObject(light[key])) {\r\n                                    assignValue(outputProps, key, val)\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    else if (key == \"shadow\" && light[key] != undefined && isObject(val)) {\r\n\r\n                        assignValue(outputProps, key, val)\r\n\r\n                    }\r\n                    else if (typeof type == \"function\") {\r\n                        if (type(val)) {\r\n                            assignValue(outputProps, key, val);\r\n                        }\r\n                    } else if (typeof type == \"string\") {\r\n                        var ts = type.split(\"|\");\r\n                        var s = false;\r\n\r\n                        for (let i = 0; i < ts.length; i++) {\r\n                            const ti = ts[i];\r\n                            const tis = ti.split(\":\");\r\n                            if (tis.length == 1) {\r\n                                // console.log(key, type, val);\r\n                                if (ti.toLowerCase() == \"boolean\") {\r\n                                    val = val === true || val == 1 || String(val).toLowerCase() == \"on\" ? true : false;\r\n                                    s = true;\r\n                                    i += ts.length;\r\n                                } else if (checkType(ti.trim(), val)) {\r\n                                    s = true;\r\n                                    i += ts.length;\r\n                                }\r\n\r\n                            }\r\n                            else if (tis[0].toLowerCase() == \"boolean\") {\r\n                                val = val === true || val == 1 || String(val).toLowerCase() == \"on\" ? true : false;\r\n                                s = true;\r\n                                i += ts.length;\r\n                            }\r\n\r\n                            else if (checkType(tis[0].trim(), val)) {\r\n                                if (tis.length > 1) {\r\n                                    let vl = tis[1].trim().split(\",\").map(function (v) {\r\n                                        return String(v).trim();\r\n                                    });\r\n                                    if (inArray(vl, String(val))) {\r\n                                        s = true;\r\n                                        i += ts.length;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        if (s) {\r\n                            assignValue(outputProps, key, val);\r\n                            // console.log(obj[key])\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return outputProps;\r\n    },\r\n    setProperties: function setProperties(light?: any, props?: any) {\r\n        if (typeof props == \"object\") {\r\n            // console.log(\"light obj\");\r\n            var il = [];\r\n            for (let index = 2; index < arguments.length; index++) {\r\n                const list = arguments[index];\r\n                if (isArray(list)) {\r\n                    for (let i = 0; i < list.length; i++) {\r\n                        const field = list[i];\r\n                        il.push(field);\r\n                    }\r\n                } else if (isObject(list)) {\r\n                    for (const field in list) {\r\n                        if (list.hasOwnProperty(field)) {\r\n                            const val = list[field];\r\n                            il.push(field);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            var propTypes = this.getTypeProps(light.type);\r\n            for (const key in props) {\r\n\r\n                if (props.hasOwnProperty(key) && typeof propTypes[key] != \"undefined\" && !inArray(il, key)) {\r\n                    let val = props[key];\r\n                    var setable = [\r\n                        \"Boolean\", \"Integer\", \"String\", \"Function\", \"Number\", \"Object\"\r\n                    ];\r\n                    var checkBefore = [\"Object3D\", \"Euler\", \"Vector3\", \"Euler\"];\r\n                    const type = typeof propTypes[key] != \"undefined\" ? propTypes[key] : null;\r\n                    if (!type || type == \"Locked\") {\r\n                        continue;\r\n\r\n                    }\r\n                    else if (type == \"set\") {\r\n                        var tv = getType(val);\r\n                        if (!inArray([\"object\", \"array\"], tv)) continue;\r\n                        if (tv == \"array\") {\r\n                            if (typeof light[key] == \"object\" && typeof light[key].set == \"function\") {\r\n                                light[key].set.apply(light[key], val);\r\n                            }\r\n                        }\r\n                        else {\r\n                            assignValue(light, key, val);\r\n                        }\r\n\r\n                    }\r\n                    else if (type === \"Color\") {\r\n                        light[key] = parseColor(val);\r\n                    }\r\n                    else if (inArray(setable, type)) {\r\n                        if (checkType(type, val)) {\r\n                            assignValue(light, key, val);\r\n                        }\r\n                    }\r\n\r\n                    else if (inArray(checkBefore, type)) {\r\n\r\n                        if (isObject(val)) {\r\n                            if (val[\"is\" + type]) {\r\n                                light[key] = val\r\n                            } else if (val.$three) {\r\n                                var obj = Props.parse(val);\r\n                                if (obj && obj[\"is\" + type]) {\r\n                                    light[key] = obj;\r\n                                }\r\n                            }\r\n                            else {\r\n                                if (light[key] && isObject(light[key])) {\r\n                                    assignValue(light, key, val)\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    else if (key == \"shadow\" && light[key] != undefined && isObject(val)) {\r\n\r\n                        assignValue(light[key], val)\r\n\r\n                    }\r\n                    else if (typeof type == \"function\") {\r\n                        if (type(val)) {\r\n                            assignValue(light, key, val);\r\n                        }\r\n                    } else if (typeof type == \"string\") {\r\n                        var ts = type.split(\"|\");\r\n                        var s = false;\r\n\r\n                        for (let i = 0; i < ts.length; i++) {\r\n                            const ti = ts[i];\r\n                            const tis = ti.split(\":\");\r\n                            if (tis.length == 1) {\r\n                                // console.log(key, type, val);\r\n                                if (ti.toLowerCase() == \"boolean\") {\r\n                                    val = val === true || val == 1 || String(val).toLowerCase() == \"on\" ? true : false;\r\n                                    s = true;\r\n                                    i += ts.length;\r\n                                } else if (checkType(ti.trim(), val)) {\r\n                                    s = true;\r\n                                    i += ts.length;\r\n                                }\r\n\r\n                            }\r\n                            else if (tis[0].toLowerCase() == \"boolean\") {\r\n                                val = val === true || val == 1 || String(val).toLowerCase() == \"on\" ? true : false;\r\n                                s = true;\r\n                                i += ts.length;\r\n                            }\r\n\r\n                            else if (checkType(tis[0].trim(), val)) {\r\n                                if (tis.length > 1) {\r\n                                    let vl = tis[1].trim().split(\",\").map(function (v) {\r\n                                        return String(v).trim();\r\n                                    });\r\n                                    if (inArray(vl, String(val))) {\r\n                                        s = true;\r\n                                        i += ts.length;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        if (s) {\r\n                            assignValue(light, key, val);\r\n                            // console.log(obj[key])\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // console.log(\"end light\");\r\n        }\r\n        return light;\r\n    },\r\n\r\n    getLightProperties: function getLightProperties(light?: any) {\r\n        var props = {};\r\n        if (isObject(light) && light.isLight) {\r\n            var propTypes = this.getTypeProps(light.type);\r\n            for (const key in propTypes) {\r\n                if (Object.hasOwnProperty.call(propTypes, key)) {\r\n                    const type = propTypes[key];\r\n                    if (typeof light[key] != \"undefined\") {\r\n                        props[key] = light[key];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return props;\r\n    },\r\n\r\n\r\n\r\n    /**\r\n     * lay thuoc tinh cua anh sang\r\n     * @param {string} lightType loai anh sanh\r\n     * @returns {object}\r\n     */\r\n    getTypeProps: function (lightType?: any) {\r\n        var propTypes = {},\r\n            type = String(lightType).toLowerCase();\r\n        if (typeof this.lightPropertyTypes[type] == \"undefined\") return propTypes;\r\n        assignValue(propTypes, this.lightPropertyTypes.object3d);\r\n        assignValue(propTypes, this.lightPropertyTypes.light);\r\n        if (type != \"light\") {\r\n            assignValue(propTypes, this.lightPropertyTypes[type]);\r\n        }\r\n        return propTypes;\r\n\r\n    },\r\n\r\n\r\n    /**\r\n     * lay thuoc tinh cua anh sang\r\n     * @param {string} lightType loai anh sanh\r\n     * @returns {object}\r\n     */\r\n    getShadowPropTypes: function (lightType?: any) {\r\n        var propTypes = {},\r\n            type = String(lightType).toLowerCase();\r\n\r\n        if (typeof this.shadowPropertyTypes[type] == \"undefined\") return propTypes;\r\n        assignValue(propTypes, this.shadowPropertyTypes.light);\r\n        if (type != \"light\") {\r\n            assignValue(propTypes, this.shadowPropertyTypes[type]);\r\n        }\r\n        return propTypes;\r\n    },\r\n\r\n    getConfigData: function (type?: any) {\r\n        type = String(type).toLowerCase();\r\n        for (const key in this.lightConfigData) {\r\n            if (Object.hasOwnProperty.call(this.lightConfigData, key)) {\r\n                const config = this.lightConfigData[key];\r\n                if (type == key || inArray(config.keywords, type)) {\r\n                    return config;\r\n                }\r\n            }\r\n        }\r\n        return {};\r\n    },\r\n\r\n    lightConfigData: {\r\n        ambientlight: {\r\n            name: \"AmbientLight\",\r\n            keywords: [\"ambient\", \"a\", \"ambientlight\", \"al\"],\r\n            params: [\"color\", \"intensity\"],\r\n            props: {}\r\n        },\r\n        ambientlightprobe: {\r\n            name: \"AmbientLightProbe\",\r\n            keywords: [\"ambientlightprobe\", \"ambientprobe\", \"ap\", \"alp\"],\r\n            params: [\"color\", \"intensity\"],\r\n            props: {}\r\n        },\r\n        directionallight: {\r\n            name: \"DirectionalLight\",\r\n            keywords: [\"directionallight\", \"directional\", \"direction\", \"d\"],\r\n            params: [\"color\", \"intensity\"],\r\n            props: {}\r\n        },\r\n        hemispherelight: {\r\n            name: \"HemisphereLight\",\r\n            keywords: [\"hemispherelight\", \"hemisphere\", \"h\", \"hl\"],\r\n            params: [\"color\", \"groundColor\", \"intensity\"],\r\n            props: {}\r\n        },\r\n        hemispherelightprobe: {\r\n            name: \"HemisphereLight\",\r\n            keywords: [\"hemispherelightprobe\", \"hemisphereprobe\", \"hp\", \"hlp\"],\r\n            params: [\"skyColor\", \"groundColor\", \"intensity\"],\r\n            props: {}\r\n        },\r\n        pointlight: {\r\n            name: \"PointLight\",\r\n            keywords: [\"pointlight\", \"point\", \"p\", \"pl\"],\r\n            params: [\"color\", \"intensity\", \"distance\", \"decay\"],\r\n            props: {}\r\n        },\r\n        rectarealight: {\r\n            name: \"RectAreaLight\",\r\n            keywords: [\"rectarealight\", \"rectarea\", \"rect\", \"rectlight\", \"r\", \"rl\", \"ral\"],\r\n            params: [\"color\", \"intensity\", \"width\", \"height\"],\r\n            props: {}\r\n        },\r\n        spotlight: {\r\n            name: \"SpotLight\",\r\n            keywords: [\"rectarealight\", \"rectarea\", \"rect\", \"rectlight\", \"r\", \"rl\", \"ral\"],\r\n            params: [\"color\", \"intensity\", \"distance\", \"angle\", \"penumbra\", \"decay\"],\r\n            props: {}\r\n        },\r\n        lightprobe: {\r\n            name: \"LightProbe\",\r\n            keywords: [\"lightprobe\", \"lp\", \"probe\"],\r\n            params: [],\r\n            props: {}\r\n        },\r\n        light: {\r\n            name: \"Light\",\r\n            keywords: [\"light\", \"l\"],\r\n            params: [\"color\", \"intensity\"],\r\n            props: {}\r\n        },\r\n\r\n    },\r\n\r\n\r\n    lightPropertyTypes: {\r\n        object3d: {\r\n            // animations: \"AnimationClip\",\r\n            castShadow: \"Locked\",\r\n            children: \"Object3D\",\r\n            // customDepthMaterial: \"Material\",\r\n            // customDistanceMaterial: \"Material\",\r\n            // frustumCulled: \"Boolean\",\r\n            // id: \"Integer\",\r\n            // layers: \"Layers\",\r\n            // matrix: \"Matrix4\",\r\n            // matrixAutoUpdate: \"Boolean\",\r\n            // matrixWorld: \"Matrix4\",\r\n            // matrixWorldNeedsUpdate: \"Boolean\",\r\n            // modelViewMatrix: \"Matrix4\",\r\n            name: \"String\",\r\n            // normalMatrix: \"Matrix3\",\r\n            // onAfterRender: \"Function\",\r\n            onBeforeRender: \"Function\",\r\n            // parent: \"Object3D\",\r\n            position: \"Vector3\",\r\n            // quaternion: \"Quaternion\",\r\n            // receiveShadow: \"Boolean\",\r\n            renderOrder: \"Number\",\r\n            rotation: \"Euler\",\r\n            scale: \"Vector3\",\r\n            up: \"Vector3\",\r\n            userData: \"Object\",\r\n            // uuid: \"String\",\r\n            visible: \"Boolean\"\r\n        },\r\n        light: {\r\n            color: \"Color\",\r\n            intensity: \"Float\"\r\n\r\n        },\r\n        lightprobe: {\r\n            sh: \"SphericalHarmonics3\"\r\n        },\r\n        ambientlight: {\r\n\r\n        },\r\n        ambientlightprobe: {\r\n\r\n        },\r\n        directionallight: {\r\n            castShadow: \"Boolean\",\r\n            position: \"Vector3\",\r\n            shadow: \"DirectionalLightShadow\",\r\n            target: \"Object3D\"\r\n        },\r\n        hemispherelight: {\r\n            color: \"Color\",\r\n            groundColor: \"Color\",\r\n            position: \"Vector3\"\r\n        },\r\n        hemispherelightprobe: {\r\n\r\n        },\r\n        pointlight: {\r\n            decay: \"Float\",\r\n            distance: \"Float\",\r\n            power: \"Float\",\r\n            shadow: \"PointLightShadow\",\r\n            castShadow: \"Boolean\"\r\n\r\n        },\r\n        rectarealight: {\r\n\r\n        },\r\n        spotlight: {\r\n            angle: \"Float\",\r\n            castShadow: \"Boolean\",\r\n            decay: \"Float\",\r\n            distance: \"Float\",\r\n            penumbra: \"Float\",\r\n            position: \"Vector3\",\r\n            power: \"Float\",\r\n            shadow: \"SpotLightShadow\",\r\n            target: \"Object3D\"\r\n        }\r\n\r\n    },\r\n    shadowPropertyTypes: {\r\n        light: {\r\n            autoUpdate: \"Boolean\",\r\n            camera: \"Camera\",\r\n            bias: \"Float\",\r\n            map: \"WebGLRenderTarget\",\r\n            mapPass: \"WebGLRenderTarget\",\r\n            mapSize: \"Vector2\",\r\n            matrix: \"Matrix4\",\r\n            needsUpdate: \"Boolean\",\r\n            normalBias: \"Float\",\r\n            radius: \"Float\"\r\n        },\r\n        pointlight: {\r\n\r\n        },\r\n        directionallight: {\r\n            camera: \"Camera\"\r\n        },\r\n        spotlight: {\r\n            camera: \"Camera\",\r\n            focus: \"Number\"\r\n        }\r\n\r\n    }\r\n});\r\n\r\n\r\nfor (const key in LightLib.lightConfigData) {\r\n    if (Object.hasOwnProperty.call(LightLib.lightConfigData, key)) {\r\n        const data = LightLib.lightConfigData[key];\r\n        data.props = LightLib.getTypeProps(key);\r\n        data.inputs = {};\r\n        for (const key in data.props) {\r\n            if (Object.prototype.hasOwnProperty.call(data.props, key)) {\r\n                const type = data.props[key];\r\n                let t = type.toLowerCase();\r\n                if (inArray(['Vector3', 'Color', 'Number', 'Boolean', 'Float', 'String'], type)) {\r\n                    let options: any = {};\r\n                    let val = null;\r\n                    if (type == \"Vector3\") {\r\n                        if (key == \"scale\") {\r\n                            val = {\r\n                                x: 1, y: 1, z: 1\r\n                            }\r\n                        } else {\r\n                            val = {\r\n                                x: 0, y: 0, z: 0\r\n                            }\r\n                        }\r\n                    } else if (type == \"Color\") {\r\n                        val = \"#FFF\";\r\n                    }\r\n                    else if (type == \"Boolean\") {\r\n                        val = false;\r\n                    }\r\n                    else if (key == \"intensity\") {\r\n                        t = \"range\";\r\n                        options = {\r\n                            min: 0,\r\n                            max: 4,\r\n                            step: 0.01,\r\n                            output: true\r\n                        }\r\n                        val = 1;\r\n                    }\r\n                    else if (type == \"Float\") {\r\n                        options = {\r\n                            min: 0,\r\n                            step: 0.01\r\n                        }\r\n                        val = 0;\r\n                    }\r\n                    let inpCfg = getInputCfg(t, key, val, options);\r\n                    // console.log(t, inpCfg);\r\n                    if (inpCfg != null) {\r\n                        data.inputs[key] = inpCfg;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\ninterface AnyObject {\r\n    [x: string]: any\r\n}\r\n\r\nvar checkedValues = [];\r\nfunction addCheckedItem(item) {\r\n    if (inArray(checkedValues, item, true)) checkedValues.push(item);\r\n}\r\n/**\r\n * chuẩn hóa đối tượng và các giá trị của three js\r\n * @param {object} obj doi tuomg dau vao\r\n * @returns {object}\r\n */\r\nconst parseObject = function parseObject(obj: any, success?: any): AnyObject {\r\n    if (typeof obj != \"object\") return obj;\r\n    if (inArray(checkedValues, obj, true) || obj.uuid || obj.isMesh || obj.isColor || obj.isGeometry || obj.isMaterial) return obj;\r\n\r\n    if (isObject(obj)) {\r\n        if (obj.$three) {\r\n            var newObj = {};\r\n            let params = parseObject(assignWithout({}, obj.data || obj, ['$three']));\r\n            var t = obj.$three.toLowerCase();\r\n            switch (t) {\r\n                case 'geometry':\r\n                    newObj = Geometries.get(params);\r\n                    break;\r\n                case 'material':\r\n                    newObj = Materials.get(params);\r\n                    break;\r\n                case 'mesh':\r\n                    newObj = Meshes.get(params);\r\n                    break;\r\n                case 'texture':\r\n\r\n                    newObj = LoaderLib.load(t, params, success);\r\n                    break;\r\n                case 'cubetexture':\r\n                    newObj = LoaderLib.load(t, params, success);\r\n                    break;\r\n\r\n                case 'color':\r\n                    newObj = createColor(params.hex || params.rgb || params.hsl || params.color);\r\n                    break;\r\n\r\n\r\n                default:\r\n                    break;\r\n            }\r\n            return newObj;\r\n        }\r\n        else {\r\n            for (const key in obj) {\r\n                if (obj.hasOwnProperty(key)) {\r\n                    let element = obj[key];\r\n\r\n                    var s = String(key).substr(0, 1);\r\n                    if (s == '@') {\r\n                        let n = String(key).substr(1);\r\n                        let k = n.toLowerCase();\r\n                        let params = parseObject(element, success);\r\n                        if (k == 'geometry') {\r\n                            let geo = Geometries.get(params);\r\n                            delete obj[key];\r\n                            obj[n] = geo;\r\n                        } else if (k == 'material') {\r\n                            let mesh = Materials.get(params);\r\n                            delete obj[key];\r\n                            obj[n] = mesh;\r\n                        } else if (k == 'mesh') {\r\n                            let mesh = Meshes.get(params);\r\n                            delete obj[key];\r\n                            obj[n] = mesh;\r\n                        } else if (k == 'coler') {\r\n                            let color = createColor(element);\r\n                            delete obj[key];\r\n                            obj[n] = color;\r\n                        }\r\n                        else if (isArray(element)) {\r\n                            parse(obj[key], success);\r\n                            addCheckedItem(obj[key]);\r\n                        }\r\n\r\n                    }\r\n                    else if (isNumber(element)) {\r\n                        obj[key] = Number(element);\r\n                    }\r\n                    else if (isString(element)) {\r\n                        obj[key] = parseString(element);\r\n                    }\r\n                    else if (isObject(element)) {\r\n                        if (Object.hasOwnProperty.call(element, '$three')) {\r\n                            obj[key] = parseObject(element, success);\r\n\r\n                        } else {\r\n                            parseObject(obj[key], success);\r\n                            addCheckedItem(obj[key]);\r\n                        }\r\n                    } else if (isArray(element)) {\r\n                        parse(obj[key], success);\r\n                        addCheckedItem(obj[key]);\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n    addCheckedItem(obj);\r\n    return obj;\r\n};\r\n\r\n\r\n/**\r\n * chuẩn hóa đối tượng và các giá trị của three js\r\n * @param {array} obj doi tuomg dau vao\r\n * @returns {object}\r\n */\r\nconst parseArray = function parseArray(obj?: any, success?: any) {\r\n    if (isArray(obj)) {\r\n        for (let index = 0; index < obj.length; index++) {\r\n            const element = obj[index];\r\n            if (isObject(element)) {\r\n                if (typeof element.$three != \"undefined\") {\r\n                    obj[index] = parseObject(element, success);\r\n                } else {\r\n                    parseObject(element, success);\r\n                }\r\n            }\r\n            else if (isArray(element)) {\r\n                parseArray(element, success);\r\n            } else if (isString(element)) {\r\n                obj[index] = parseString(element);\r\n            }\r\n        }\r\n        // if(typeof success == \"function\") success(obj);\r\n    }\r\n    return obj;\r\n\r\n};\r\n\r\n\r\nconst parseThree = (key:string) => getObjectPropDepth(THREE, key);\r\n\r\n\r\n/**\r\n * chuẩn hóa chuỗi thành giá trị trong js\r\n * @param {string} str chuoi dau vao\r\n * @returns {string}\r\n */\r\nconst parseString = function parseString(str?: any) {\r\n    var e = String(str);\r\n    // console.log(e);\r\n    if (e.substr(0, 1) == '{' && e.substr(e.length - 1) == '}') {\r\n        var f = e.substr(1, e.length - 2);\r\n        var fp = f.split(\".\");\r\n        var t = fp.shift();\r\n        if(t=='THREE') return parseThree(fp.join(\".\"));\r\n        var vl = null;\r\n        var exp = \"vl = \" + f + \";\";\r\n        try {\r\n            eval(exp);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n        if (vl !== null) {\r\n            str = vl;\r\n        }\r\n    }\r\n    return str;\r\n};\r\n\r\n\r\n/**\r\n * chuẩn hóa đối tượng và các giá trị của three js\r\n * @param {object|array|string} obj doi tuomg dau vao\r\n * @returns {object|array|string}\r\n */\r\n\r\nconst parse = function parse(obj?: any, success?: any): AnyObject {\r\n    if (isObject(obj)) return parseObject(obj, success);\r\n    else if (isArray(obj)) return parseArray(obj, success);\r\n    else if (isString(obj)) return parseString(obj);\r\n    return obj;\r\n}\r\n\r\n\r\n\r\n\r\n/**\r\n * lấy các tham số chứa trong phầm thông tin thiết lập đối tượng\r\n * @param {object|array} argms tham so cau hinh\r\n * @param {object|array} list tham so cau hinh\r\n * @param {array|object} opt danh sachs cac key trong constructor\r\n * @returns {object}\r\n */\r\nconst parseParams = function parseParams(argms?: any, list?: any, opt?: any): AnyObject {\r\n    var params = newObj();\r\n    opt = typeof opt == \"object\" ? opt : {};\r\n    var args = argms && (isArray(argms) || isObject(argms)) ? argms : [];\r\n    // nếu list đầu vào là một màng tên các tham số\r\n    if (isArray(list)) {\r\n        // và tham số cũng là 1 mảng\r\n        if (isArray(args)) {\r\n            for (let i = 0; i < list.length; i++) {\r\n                const p = list[i];\r\n                if (typeof args[i] != \"undefined\") {\r\n                    params[p] = args[i];\r\n                } else {\r\n                    params[p] = typeof opt[p] != \"undefined\" ? opt[p] : undefined\r\n                }\r\n            }\r\n        }\r\n        // nếu tham số là object\r\n        else {\r\n            for (let i = 0; i < list.length; i++) {\r\n                const p = list[i];\r\n                if (typeof args[p] != \"undefined\") {\r\n                    params[p] = args[p];\r\n                } else {\r\n                    params[p] = typeof opt[p] != \"undefined\" ? opt[p] : undefined\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    // nếu list là một object có dạng key là tên tham số còn value gla giá trị mặc định\r\n    else if (isObject(list)) {\r\n        // duyệt list với các giá trị mặc định\r\n        if (isArray(args)) {\r\n            // biến đếm để lấy giá trị tham số theo thứ tự\r\n            var i = 0;\r\n            for (const key in list) {\r\n                if (list.hasOwnProperty(key)) {\r\n                    const defVal = list[key];\r\n                    // opt là mảng giá trị mặc định không cần thứ tự\r\n                    // lấy giá trị opt trước\r\n                    params[key] = typeof opt[key] != 'undefined' ? opt[key] : (\r\n                        // không có sẽ lấy trong args. không có nữa sẽ lấy bên list cũng là default\r\n                        args && typeof args[i] != \"undefined\" ? args[i] : defVal\r\n                    )\r\n                    i++;\r\n                }\r\n            }\r\n        } else {\r\n            for (const key in list) {\r\n                if (list.hasOwnProperty(key)) {\r\n                    const defVal = list[key];\r\n                    params[key] = args && typeof args[key] != \"undefined\" ? args[key] : (\r\n                        typeof opt[key] != 'undefined' ? opt[key] : defVal\r\n                    );\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    if (params.color && (isString(params.color) || isNumber(params.color) || (isObject(params.color) && !params.color.isColor))) {\r\n        params.color = createColor(params.color);\r\n    }\r\n    return parse(params);\r\n};\r\n\r\nconst createColor = function createColor(color?: any) {\r\n    var c = new THREE.Color(0xffffff).convertSRGBToLinear();\r\n    if (isColor(color)) {\r\n        if (isObject(color)) {\r\n            c = new THREE.Color(color.r, color.g, color.b);\r\n            c.convertSRGBToLinear();\r\n        } else {\r\n            c = new THREE.Color(parseColorIntVal(color));\r\n            c.convertSRGBToLinear();\r\n        }\r\n    }\r\n    return c;\r\n}\r\n\r\n/**\r\n * \r\n * @param {THREE.Color} val \r\n * @returns \r\n */\r\nconst parseColor = (val) => {\r\n    // console.log(val);\r\n    return (isObject(val) && val.isColor) ? (val.totalSRGBToLinear ? val : val.convertSRGBToLinear()) : createColor(val);\r\n}\r\n\r\nconst parseColorIntVal = function (val) {\r\n    if (!isColor(val)) return 0;\r\n    if (typeof val == \"string\") {\r\n        if (val.substr(0, 1) == \"#\") {\r\n            var b = parseInt(val.substr(1), 16);\r\n            if (!isNaN(b) && isNumber(b)) {\r\n                return b;\r\n            }\r\n        } else {\r\n            var b = parseInt(val, 16);\r\n            if (!isNaN(b) && isNumber(b)) {\r\n                return b;\r\n            }\r\n        }\r\n    } else if (isNumber(val)) {\r\n        return val;\r\n    }\r\n\r\n    return 0;\r\n};\r\n\r\nconst isColor = function isColor(obj: any): boolean {\r\n    if (isInteger(obj)) return true;\r\n    if (isString(obj)) {\r\n        var re = /[0-9A-Fa-f]{6}/g;\r\n        var re2 = /[0-9A-Fa-f]{3}/g;\r\n\r\n        if (obj.substr(0, 1) == \"#\") {\r\n            var hex = obj.substr(1);\r\n            if (re.test(hex) || re2.test(hex)) return true;\r\n        }\r\n        else if (re.test(obj) || re2.test(obj)) return true;\r\n    } else if (isObject(obj) && obj.isColor) return true;\r\n\r\n    return false;\r\n}\r\n\r\n\r\nfunction getObjectAnimateHandler(options?: any): any {\r\n    if (!isObject(options)) return null;\r\n    var keys = [\r\n        \"updateHhndler\",\r\n        \"handler\",\r\n        \"animate\",\r\n        \"animatehandler\",\r\n        \"handlerdata\",\r\n        \"updatehandlerdata\",\r\n        \"animatedata\",\r\n        \"updateanimatedata\",\r\n        \"updateanimatehandlerdata\"\r\n    ];\r\n    if (isObject(options.props)) {\r\n        for (const key in options.props) {\r\n            if (options.props.hasOwnProperty(key)) {\r\n                const d = options.props[key];\r\n                if (inArray(keys, key)) {\r\n                    return d;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    for (const key in options) {\r\n        if (options.hasOwnProperty(key)) {\r\n            const d = options[key];\r\n            if (inArray(keys, key)) {\r\n                return d;\r\n            }\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction Props(params?: any) {\r\n    this.origin = params;\r\n    this.parseData = parse(params);\r\n}\r\nObject.assign(Props.prototype, {\r\n    constructor: Props,\r\n    parse: parse,\r\n    parseArray: parseArray,\r\n    parseObject: parseObject,\r\n    parseString: parseString,\r\n    parseParams: parseParams,\r\n    parseColorIntVal: parseColorIntVal,\r\n    parseColor: parseColor,\r\n    isColor: isColor,\r\n    createColor: createColor,\r\n    getObjectAnimateHandler: getObjectAnimateHandler,\r\n    toString: function () {\r\n        return this.toJSON();\r\n    }\r\n});\r\nProps.parse = parse;\r\nProps.parseArray = parseArray;\r\nProps.parseObject = parseObject;\r\nProps.parseString = parseString;\r\nProps.createColor = createColor;\r\nProps.isColor = isColor;\r\nProps.parseColorIntVal = parseColorIntVal;\r\nProps.parseColor = parseColor;\r\nProps.parseParams = parseParams;\r\nProps.getObjectAnimateHandler = getObjectAnimateHandler;\r\n\r\n\r\nconst TransparentBase64Image = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAQAAAAm93DmAAAAJ0lEQVR42u3MMQEAAAgDIGf/vN6G0BMCkOl6FaFQKBQKhUKhUCi8WVAwJunuz1eHAAAAAElFTkSuQmCC\";\r\n\r\nexport {\r\n    Meshes, Geometries, Materials, LoaderLib, LightLib, TransparentBase64Image\r\n}\r\n\r\ninterface ThreeVector3 {\r\n    x: number,\r\n    y: number,\r\n    z: number\r\n}\r\n\r\ninterface ThreeVector2 {\r\n    x: number,\r\n    y: number\r\n}\r\n\r\ninterface ThreeColor {\r\n    r: number,\r\n    g: number,\r\n    b: number\r\n}\r\n\r\nexport interface MeshMaterial {\r\n    alphaMap: string,\r\n    alphaTest: number,\r\n    aoMap: string,\r\n    aoMapIntensity: number,\r\n    blendDst: number,\r\n    blendDstAlpha: number,\r\n    blendEquation: number,\r\n    blendEquationAlpha: number,\r\n    blendSrc: number,\r\n    blendSrcAlpha: number,\r\n    blending: any,\r\n    bumpMap: string,\r\n    bumpScale: number,\r\n    clearcoat: number,\r\n    clearcoatMap: string,\r\n    clearcoatNormalMap: string,\r\n    clearcoatNormalScale: ThreeVector3,\r\n    clearcoatRoughness: number,\r\n    clearcoatRoughnessMap: string,\r\n    clipIntersection: boolean,\r\n    clipShadows: boolean,\r\n    clippingPlanes: any[],\r\n    color: ThreeColor,\r\n    colorWrite: boolean,\r\n    combine: number,\r\n    defines: Object,\r\n    depthFunc: number,\r\n    depthPacking: any,\r\n    depthTest: boolean,\r\n    depthWrite: boolean,\r\n    displacementBias: number,\r\n    displacementMap: string,\r\n    displacementScale: number,\r\n    dithering: boolean,\r\n    emissive: ThreeColor,\r\n    emissiveIntensity: number,\r\n    emissiveMap: string,\r\n    envMap: any,\r\n    envMapIntensity: number,\r\n    farDistance: number,\r\n    flatShading: Boolean,\r\n    fog: Boolean,\r\n    gradientMap: string,\r\n    id: number,\r\n    lightMap: string,\r\n    lightMapIntensity: number,\r\n    map: string,\r\n    matcap: string,\r\n    metalness: number,\r\n    metalnessMap: string,\r\n    morphNormals: boolean,\r\n    morphTargets: Boolean,\r\n    name: String,\r\n    nearDistance: number,\r\n    needsUpdate: Boolean,\r\n    normalMap: string,\r\n    normalMapType: number,\r\n    normalScale: ThreeVector2,\r\n    opacity: number,\r\n    polygonOffset: Boolean,\r\n    polygonOffsetFactor: number,\r\n    polygonOffsetUnits: number,\r\n    precision: String,\r\n    premultipliedAlpha: Boolean,\r\n    referencePosition: ThreeVector3,\r\n    reflectivity: number,\r\n    refractionRatio: number,\r\n    roughness: number,\r\n    roughnessMap: string,\r\n    shadowSide: number,\r\n    shininess: number,\r\n    side: number,\r\n    size: number,\r\n    sizeAttenuation: boolean,\r\n    skinning: boolean,\r\n    specular: ThreeColor,\r\n    specularMap: string,\r\n    stencilFail: number,\r\n    stencilFunc: number,\r\n    stencilFuncMask: number,\r\n    stencilRef: number,\r\n    stencilWrite: Boolean,\r\n    stencilWriteMask: number,\r\n    stencilZFail: number,\r\n    stencilZPass: number,\r\n    toneMapped: Boolean,\r\n    transmission: number,\r\n    transmissionMap: string,\r\n    transparent: Boolean,\r\n    type: string,\r\n    userData: object,\r\n    uuid: String,\r\n    version: number,\r\n    vertexColors: Boolean,\r\n    vertexTangents: Boolean,\r\n    visible: Boolean,\r\n    wireframe: Boolean,\r\n    wireframeLinecap: String,\r\n    wireframeLinejoin: String,\r\n    wireframeLinewidth: number\r\n}\r\n\r\nexport interface MaterialSettingData {\r\n    index: number,\r\n    isArrayMAterial?: boolean,\r\n    material: {\r\n        ref: MeshMaterial,\r\n        settings: { [prop: string]: any },\r\n        editable: string[],\r\n        type: string,\r\n        inputs?: any[]\r\n    },\r\n    title: string\r\n}","import { assignValue, inArray, isArray, isEmpty, isNumber, isObject, isString, Str } from '@app/_core/helpers/utils';\r\nimport * as THREE from 'three';\r\nimport Props, { isColor } from '../libs/props';\r\nimport { RGBELoader } from 'three/examples/jsm/loaders/RGBELoader.js';\r\nimport { RoomEnvironment } from 'three/examples/jsm/environments/RoomEnvironment.js';\r\n\r\n\r\n\r\n\r\n\r\n// var initCount = 0;\r\n/**\r\n * Các thuộc tính và phương thức xử lý scene\r\n */\r\nconst Scene = {\r\n    scene: null,\r\n\r\n    sceneHelper: null,\r\n    showSceneHelper: false,\r\n\r\n    sceneSettings: null,\r\n\r\n    getScene: function (opts:any, cmt?:any) {\r\n        var scene = new THREE.Scene();\r\n        // this.scene = scene;\r\n        // return null;\r\n        var opt:any = typeof opts == \"object\" ? opts : {};\r\n        Props.parse(opt);\r\n        if (opt.env) {\r\n            if (isString(opt.env)) {\r\n                var env = opt.env.toLowerCase();\r\n                this.addSimpleEnv(env, scene);\r\n            } else if (isObject(opt.env)) {\r\n                var t = opt.env.type ? String(opt.env.type).toLowerCase() : null;\r\n                switch (t) {\r\n                    case \"room\":\r\n                        this.addSimpleEnv(\"room\", scene);\r\n                        break;\r\n\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        if (opt.fog) {\r\n            if (isArray(opt.fog)) {\r\n                scene.fog = new THREE.Fog(\r\n                    typeof opt.fog[0] != \"undefined\" ? opt.fog[0] : 0xffffff,\r\n                    typeof opt.fog[1] != \"undefined\" ? opt.fog[1] : 0,\r\n                    typeof opt.fog[2] != \"undefined\" ? opt.fog[2] : 20000\r\n                );\r\n                this.renderer.setClearColor(scene.fog.color);\r\n            } else if (isObject(opt.fog)) {\r\n                if (opt.fog.type == 2) {\r\n                    var params = Props.parseParams(opt.fog, ['color', 'density']);\r\n                    scene.fog = new THREE.FogExp2(\r\n                        params.color,\r\n                        params.density\r\n                    );\r\n                } else {\r\n                    var params = Props.parseParams(opt.fog, ['color', 'near', 'far']);\r\n                    scene.fog = new THREE.Fog(\r\n                        params.color,\r\n                        params.near,\r\n                        params.far\r\n                    );\r\n                }\r\n                this.renderer.setClearColor(scene.fog.color);\r\n\r\n            }\r\n        } else if (opt.fogExp2) {\r\n            if (isArray(opt.fogExp2)) {\r\n                scene.fog = new THREE.FogExp2(\r\n                    typeof opt.fog[0] != \"undefined\" ? opt.fog[0] : 0xffffff,\r\n                    typeof opt.fog[1] != \"undefined\" ? opt.fog[1] : 0,\r\n                    typeof opt.fog[2] != \"undefined\" ? opt.fog[2] : 20000\r\n                );\r\n                this.renderer.setClearColor(scene.fog.color);\r\n            } else if (isObject(opt.fogExp2)) {\r\n\r\n                scene.fog = new THREE.FogExp2(\r\n                    typeof opt.fog.color != \"undefined\" ? opt.fog.color : 0xffffff,\r\n                    typeof opt.fog.near != \"undefined\" ? opt.fog.near : 0,\r\n                    typeof opt.fog.far != \"undefined\" ? opt.fog.far : 20000\r\n                );\r\n                this.renderer.setClearColor(scene.fog.color);\r\n\r\n            }\r\n\r\n            scene.fog = new THREE.Fog();\r\n        }\r\n        if (opt.background && !isEmpty(opt.background)) {\r\n            this.setBackground(opt.background, scene, cmt);\r\n        }\r\n        if (opt.axesHelper) {\r\n            this.addAxesHelper(opt.axesHelper, scene);\r\n        }\r\n\r\n        return scene;\r\n    },\r\n    /**\r\n     * khởi tạo scene\r\n     * @param {object} opts thuộc tính của scene\r\n     */\r\n    initScene: function (opts?:any) {\r\n        this.sceneSettings = assignValue({}, opts);\r\n        this.scene = this.getScene(opts, \"init\");\r\n        this.sceneHelper = this.getScene(opts);\r\n        // console.log(++initCount)\r\n        this.emit({\r\n            type: \"scene.inited\",\r\n            data: opts\r\n        });\r\n        return this;\r\n    },\r\n    updateSceneSettings: function(data){\r\n        assignValue(this.sceneSettings, data);\r\n        this.emit({\r\n            type:\"scene.settings.updated\",\r\n            data: data\r\n        });\r\n    },\r\n\r\n    updateSceneSizeSetting: function(size){\r\n        assignValue(this.sceneSettings.size, size);\r\n        this.emit({\r\n            type:\"scene.settings.updated:size\",\r\n            data: size\r\n        });\r\n\r\n    },\r\n    updateSceneFloorSetting: function(floor){\r\n        assignValue(this.sceneSettings.floor, floor);\r\n        this.emit({\r\n            type:\"scene.settings.updated:floor\",\r\n            data: floor\r\n        });\r\n\r\n    },\r\n    \r\n    setScene: function (scene?:any) {\r\n\r\n        this.scene.uuid = scene.uuid;\r\n        this.scene.name = scene.name;\r\n\r\n        this.scene.background = (scene.background !== null) ? scene.background.clone() : null;\r\n\r\n        if (scene.fog !== null) this.scene.fog = scene.fog.clone();\r\n\r\n        this.scene.userData = JSON.parse(JSON.stringify(scene.userData));\r\n\r\n        // avoid render per object\r\n\r\n        // this.signals.sceneGraphChanged.active = false;\r\n\r\n        while (scene.children.length > 0) {\r\n\r\n            this.addObject(scene.children[0]);\r\n\r\n        }\r\n\r\n        // this.signals.sceneGraphChanged.active = true;\r\n        // this.signals.sceneGraphChanged.dispatch();\r\n\r\n    },\r\n\r\n    /**\r\n     * Thêm môi trường\r\n     * @param {string} env môi trường\r\n     */\r\n    addSimpleEnv: function (env?:any) {\r\n        switch (env.toLowerCase()) {\r\n            case \"room\":\r\n                var environment = new RoomEnvironment();\r\n                var pmremGenerator = new THREE.PMREMGenerator(this.renderer);\r\n                this.scene.environment = pmremGenerator.fromScene(environment).texture;\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * set Màu nền\r\n     * @param {int|string} color màu\r\n     */\r\n    setBackgroundCokor: function (color?:any, scene?:any) {\r\n        if (!scene) scene = this.scene;\r\n        scene.background = new THREE.Color(color);\r\n    },\r\n\r\n    /**\r\n     * Set nền khung cảnh\r\n     * @param {object} opts tham số\r\n     */\r\n    setBackground: function (opts?:any, scene?:any, cmt?:any) {\r\n        if (!scene) scene = this.scene;\r\n\r\n        if (isString(opts)) {\r\n            if (isColor(opts)) {\r\n                scene.background = new THREE.Color(Props.parseColorIntVal(opts)).convertSRGBToLinear();\r\n                return true;\r\n            }\r\n        }\r\n        var opt = typeof opts == \"object\" ? opts : {};\r\n        Props.parse(opt);\r\n        var t = opt && opt.type ? String(opt.type).toLowerCase() : \"\";\r\n\r\n        var self = this;\r\n        if (t == \"color\") {\r\n            scene.environment = null;\r\n            scene.background = new THREE.Color(Props.parseColorIntVal(opt.color)).convertSRGBToLinear();\r\n            self.refresh();\r\n            return true;\r\n        }\r\n        else if (inArray(['file', 'texture'], t)) {\r\n            if (isObject(opt.texture)) opt = opt.texture;\r\n            var f = opt && opt.format ? String(opt.format).toLowerCase() : \"\";\r\n            if (opt.file) {\r\n                if (f == 'hdr') {\r\n\r\n                    if (this.inited) {\r\n                        this.Loader.LoadEnv({ format: f, file: opt.file, path: opt.path || null }, function (envMap, texture) {\r\n\r\n                            scene.background = envMap;\r\n                            scene.environment = envMap;\r\n                            texture.dispose();\r\n                            self.refresh();\r\n                        });\r\n                        \r\n                    }\r\n                    else{\r\n                        this.on('ready', function () {\r\n                            self.setBackground(opts, scene);\r\n                        });\r\n            \r\n                    }\r\n                }\r\n                else{\r\n                    this.Loader.load('texture', { format: f, file: opt.file, path: opt.path || null }, function (envMap, texture) {\r\n\r\n                        scene.background = envMap;\r\n                        // scene.environment = envMap;\r\n                        self.refresh();\r\n                    });\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n        scene.background = null;\r\n        scene.environment = null;\r\n        self.refresh();\r\n    },\r\n\r\n\r\n    /**\r\n     * them doi tuong vao khung\r\n     * @param {object} obj doi tuong\r\n     */\r\n    addToScene: function (obj?:any) {\r\n\r\n        if (!this.scene) return false;\r\n        this.scene.add(obj);\r\n        return true;\r\n    },\r\n\r\n\r\n\r\n    removeFromScene: function (object?:any) {\r\n        this.scene.remove(object);\r\n    },\r\n\r\n    addAxesHelper: function (size?:any) {\r\n        if (isNumber(size) && size > 0) {\r\n            this.scene.add(new THREE.AxesHelper(size));\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n\r\n\r\n    getSceneSize: function () {\r\n\r\n        var sceneData:any = {\r\n            min: {\r\n                x: null, y: null, z: null\r\n            },\r\n            max: {\r\n                x: null, y: null, z: null\r\n            }\r\n        };\r\n        if (this.objects) {\r\n            this.dispatchEvent({\r\n                type: \"scene.size.get.begin\"\r\n            });\r\n            for (var i = 0; i < this.objects.length; i++) {\r\n                // if (Object.hasOwnProperty.call(this.objects, id)) {\r\n                const obj = this.objects[i];\r\n                if (obj.type == 'mesh' || obj.type == 'model') {\r\n                    const box = new THREE.Box3().setFromObject(obj.object);\r\n                    for (const sizeKey in sceneData) {\r\n                        if (Object.hasOwnProperty.call(sceneData, sizeKey) && Object.hasOwnProperty.call(box, sizeKey)) {\r\n                            const sizeData = sceneData[sizeKey];\r\n                            const boxData = box[sizeKey];\r\n                            for (const posKey in boxData) {\r\n                                if (Object.hasOwnProperty.call(boxData, posKey)) {\r\n                                    if (sizeData[posKey] === null) sizeData[posKey] = boxData[posKey];\r\n                                    else if (sizeKey == 'min' && boxData[posKey] < sizeData[posKey]) sizeData[posKey] = boxData[posKey];\r\n                                    else if (sizeKey == 'max' && boxData[posKey] > sizeData[posKey]) sizeData[posKey] = boxData[posKey];\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                // }\r\n\r\n            }\r\n\r\n            \r\n            this.dispatchEvent({\r\n                type: \"scene.size.get.end\"\r\n            });\r\n        }\r\n        sceneData.size = {\r\n            x: sceneData.max.x - sceneData.min.x,\r\n            y: sceneData.max.y - sceneData.min.y,\r\n            z: sceneData.max.z - sceneData.min.z\r\n        };\r\n        return sceneData;\r\n    }\r\n\r\n};\r\n\r\nexport default Scene;","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { User, Role } from '../models';\r\nimport { RestService } from '@app/_core/services/rest.service';\r\nimport { SettingService } from '@app/_core/services';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthenticationService {\r\n  public currentUser: Observable<User>;\r\n\r\n  constructor(private restService: RestService, private settingService: SettingService) {}\r\n\r\n  public get currentUserType(): string {\r\n    const roles = [];\r\n    if (roles.includes(Role.ADMIN)) {\r\n      return 'ROLE_ADMIN';\r\n    }\r\n    if (roles.includes(Role.AGENCY)) {\r\n      return 'ROLE_AGENCY';\r\n    }\r\n    if (roles.includes(Role.AFFILIATE)) {\r\n      return 'ROLE_AFFILIATE';\r\n    }\r\n  }\r\n\r\n  public get currentUserValue(): User {\r\n    return this.settingService.user;\r\n  }\r\n\r\n  login(email: string, password: string) {\r\n    return this.restService.post(`auth/login`, { email, password });\r\n  }\r\n\r\n  logout() {\r\n    // remove user from local storage to log user out\r\n    this.settingService.setUser(null);\r\n  }\r\n}\r\n","import createClass, { _class } from '@app/_core/helpers/es5.class';\r\nimport * as THREE from 'three';\r\n\r\nimport { assignValue, inArray, isArray, isEmpty, isObject, isString, queueTask } from '@app/_core/helpers/utils';\r\nimport Props from '../libs/props';\r\n\r\n\r\nconst meshes = [];\r\n\r\nconst PLANE_WIDTH = 2.5;\r\nconst PLANE_HEIGHT = 2.5;\r\nconst CAMERA_HEIGHT = 2;\r\n\r\nconst state = {\r\n    shadow: {\r\n        blur: 3.5,\r\n        darkness: 1,\r\n        opacity: 1,\r\n        pcss: true\r\n    },\r\n    plane: {\r\n        color: '#ffffff',\r\n        opacity: 1,\r\n        position_x: 0,\r\n        position_y: 0,\r\n        position_z: 0,\r\n        rotation_x: -Math.PI / 2,\r\n        rotation_y: 0,\r\n        rotation_z: 0\r\n    },\r\n    blur_plane: {\r\n        position: {\r\n            x: 0,\r\n            y: 0,\r\n            z: 0\r\n        },\r\n        rotation: {\r\n            x: 0,\r\n            y: 0,\r\n            z: 0\r\n        }\r\n\r\n\r\n\r\n    },\r\n\r\n    showWireframe: false,\r\n    camera: {\r\n        position_x: 0,\r\n        position_y: 0,\r\n        position_z: 0,\r\n        rotation_x: Math.PI / 2,\r\n        rotation_y: 0,\r\n        rotation_z: 0,\r\n        far: 2000\r\n    },\r\n    model: {\r\n        position_x: 0,\r\n        position_y: 0,\r\n        position_z: 0,\r\n        rotation_x: 0,\r\n        rotation_y: 0,\r\n        rotation_z: 0\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\nlet originShader, isAssigned = false;\r\nlet deployed = false;\r\nvar _ShaderChunk = {};\r\n\r\nif (!isAssigned) {\r\n    isAssigned = true;\r\n    originShader = THREE.ShaderChunk.shadowmap_pars_fragment + ``;\r\n    _ShaderChunk = assignValue(_ShaderChunk, THREE.ShaderChunk);\r\n}\r\n\r\n\r\n\r\n\r\nconst DynamicShadows = createClass('DynamicShadows')({\r\n    /**\r\n     * @property App\r\n     */\r\n    parent: null,\r\n    origin: originShader,\r\n    defaultProps: { frustrum: 3.75, size: 0.005, near: 9.5, samples: 17, rings: 11 },\r\n    options: {},\r\n    isActive: false,\r\n    queueTask: null,\r\n    shadowLights: {},\r\n    lightShadowList: {},\r\n    cloneLightShadowList: {},\r\n    meshes: {},\r\n\r\n    type: \"no\",\r\n    shader: \"\",\r\n    boots: [\"bootstrap\"],\r\n    bootstrap: function(){\r\n        this.options = {};\r\n        this.isActive = false;\r\n        this.queueTask = null;\r\n        this.shadowLights = {};\r\n        this.lightShadowList = {};\r\n        this.cloneLightShadowList = {};\r\n        this.meshes = {};\r\n    \r\n    },\r\n    constructor: function (parent, options) {\r\n        this.parent = parent;\r\n        if (isObject(options)) {\r\n            this.options = options;\r\n            this.defaultProps = Props.parseParams(options.data || options, this.defaultProps);\r\n        }\r\n    },\r\n\r\n    init: function () {\r\n        var self = this;\r\n        if (this.options.pcss || (this.options.type == 'pcss' && this.options.active)) {\r\n            self.pcssInit();\r\n        }\r\n\r\n    },\r\n\r\n\r\n\r\n\r\n    pcssInit: function () {\r\n        var self = this;\r\n        self.type = 'pcss';\r\n        self.active();\r\n        // return false;\r\n        if (self.parent.lights && self.parent.lights.length) {\r\n            self.active();\r\n            // self.cloneLightShadows();\r\n            // self.active();\r\n            // self.refreshShadows();\r\n        } else {\r\n            self.parent.on('setdata', () => {\r\n                if (self.parent.lights && self.parent.lights.length) {\r\n                    // self.cloneLightShadows();\r\n                    self.active();\r\n                    // self.refreshShadows();\r\n                }\r\n            })\r\n        }\r\n\r\n\r\n    },\r\n\r\n    turnOffPcss: function () {\r\n        var self = this;\r\n        if (self.isActive) {\r\n            self.deactive();\r\n            this.type = \"no\";\r\n            self.refreshShadows();\r\n\r\n            // self.setAllLightProps({ castShadow: false, intensity: 0, visible: false });\r\n            // self.setCloneLightIntensityNyReference();\r\n        }\r\n    },\r\n    turnOnPcss: function () {\r\n        var self: any = this;\r\n        if (!state.shadow.pcss) return false;\r\n        this.type = \"pcss\";\r\n        self.active();\r\n        if (self.isActive) {\r\n            self.refreshShadows();\r\n            var light_intensity = 1;\r\n            var clone_intensity = 0;\r\n        }\r\n    },\r\n\r\n    active: function (args: any = undefined) {\r\n        if (this.isActive || deployed) return this;\r\n        var self = this;\r\n        var defaultProps = this.defaultProps;\r\n        var params = assignValue({}, defaultProps);\r\n        if (isObject(args)) {\r\n            params = Props.parseParams(args, defaultProps);\r\n        } else if (arguments.length) {\r\n            args = [];\r\n            for (let index = 0; index < arguments.length; index++) {\r\n                const element = arguments[index];\r\n                args[index] = element;\r\n            }\r\n            params = Props.parseParams(args, defaultProps);\r\n        }\r\n\r\n\r\n        this.isActive = true;\r\n        deployed = true;\r\n        let shader = this.shader;\r\n        if (!this.shader) {\r\n            shader = this.origin + \"\";\r\n            let pcss = this.getPCSS(params);\r\n\r\n\r\n            shader = shader.replace(\r\n                '#ifdef USE_SHADOWMAP',\r\n                '#ifdef USE_SHADOWMAP' +\r\n                pcss\r\n            );\r\n\r\n            shader = shader.replace(\r\n                '#if defined( SHADOWMAP_TYPE_PCF )',\r\n                `            \r\n\t\t\treturn PCSS( shadowMap, shadowCoord );\r\n\r\n            ` +\r\n                '#if defined( SHADOWMAP_TYPE_PCF )'\r\n            );\r\n\r\n\r\n            this.shader = shader;\r\n        }\r\n\r\n        THREE.ShaderChunk.shadowmap_pars_fragment = shader;\r\n\r\n        // self.refreshShadows();\r\n        return this;\r\n    },\r\n    deactive: function () {\r\n        if (!this.isActive || !deployed) return this;\r\n        var self = this;\r\n        THREE.ShaderChunk.shadowmap_pars_fragment = this.origin;\r\n        deployed = false;\r\n        this.isActive = false;\r\n        // self.refreshShadows();\r\n\r\n        return this;\r\n    },\r\n\r\n\r\n    addMesh: function (object: any = undefined) {\r\n        if ((typeof this.meshes[object.id] === \"undefined\" || !this.meshes[object.id]) && (object.castShadow || object.receiveShadow)) {\r\n            this.meshes[object.id] = {\r\n                castShadow: object.castShadow,\r\n                receiveShadow: object.receiveShadow\r\n            };\r\n        }\r\n        return object;\r\n    },\r\n\r\n    removeMesh: function (object) {\r\n        var id = isObject(object) ? object.id : object;\r\n        if (typeof this.meshes[id] != \"undefined\") {\r\n            this.meshes[id] = null;\r\n            delete this.meshes[id];\r\n        }\r\n\r\n    },\r\n\r\n    cloneLightShadows: function () {\r\n        var scope = this;\r\n        if (!scope.parent) return false;\r\n        // for (const id in scope.parent.l) {\r\n        //     if (Object.hasOwnProperty.call(scope.parent.objects, id)) {\r\n        //         if (scope.parent.objects[id].type == 'light') {\r\n        //             if (scope.parent.objects[id].object.castShadow == true) {\r\n        //                 if (typeof scope.lightShadowList[id] == \"undefined\") {\r\n        //                     scope.lightShadowList[id] = scope.parent.objects[id].object.intensity;\r\n        //                 }\r\n        //                 const light = scope.parent.objects[id].object.clone(true);\r\n        //                 light.intensity = 0;\r\n        //                 const sid = scope.parent.addToScene({\r\n        //                     $type: \"light\",\r\n        //                     object: light\r\n        //                 });\r\n        //                 if (sid) {\r\n        //                     scope.cloneLightShadowList[id] = sid;\r\n        //                 }\r\n        //             }\r\n        //         }\r\n        //     }\r\n        // }\r\n    },\r\n\r\n    /**\r\n     * thay doi thuoc tinh\r\n     * @param {string|object} prop thuoc tinh\r\n     * @param {*} val \r\n     */\r\n\r\n    setAllLightProps: function (prop, val) {\r\n        var scope = this;\r\n        if (prop) {\r\n            var props = {};\r\n            if (isString(prop)) props[prop] = val;\r\n            else if (isObject(prop)) props = prop;\r\n            else return null;\r\n            if (!isEmpty(scope.lightShadowList)) {\r\n                for (const id in scope.lightShadowList) {\r\n                    if (Object.hasOwnProperty.call(scope.lightShadowList, id)) {\r\n\r\n                        const intensity = scope.lightShadowList[id];\r\n                        if (typeof scope.parent.objects[id] != \"undefined\") {\r\n                            if (scope.parent.objects[id].type == \"light\") {\r\n\r\n                                assignValue(scope.parent.objects[id].object, props);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n\r\n    /**\r\n     * thay doi thuoc tinh\r\n     * @param {string|object} prop thuoc tinh\r\n     * @param {*} val \r\n     */\r\n\r\n    setAllCloneLightProps: function (prop, val) {\r\n        var scope = this;\r\n        if (prop && !isEmpty(scope.cloneLightShadowList)) {\r\n            var props = {};\r\n            if (isString(prop)) props[prop] = val;\r\n            else if (isObject(prop)) props = prop;\r\n            else return null;\r\n            for (const lightID in scope.cloneLightShadowList) {\r\n                if (Object.hasOwnProperty.call(scope.cloneLightShadowList, lightID)) {\r\n                    const cloneLightID = scope.cloneLightShadowList[lightID];\r\n                    if (typeof scope.parent.objects[cloneLightID] != \"undefined\" && scope.parent.objects[cloneLightID].type == \"light\") {\r\n                        assignValue(scope.parent.objects[cloneLightID].object, props);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * thiết lập cường độ ánh sáng cho tất cả ánh sáng đổ bóng\r\n     * @param {float} percentage phần trăn cường độ ánh sáng\r\n     */\r\n    setAllLightIntensityNyPercentage: function (percentage) {\r\n        var scope = this;\r\n        if (!isEmpty(scope.lightShadowList)) {\r\n            for (const id in scope.lightShadowList) {\r\n                if (Object.hasOwnProperty.call(scope.lightShadowList, id)) {\r\n                    const intensity = scope.lightShadowList[id];\r\n\r\n                    if (typeof scope.parent.objects[id] != \"undefined\") {\r\n                        if (scope.parent.objects[id].type == \"light\") {\r\n                            const pc = intensity * percentage;\r\n                            scope.parent.objects[id].object.intensity = pc;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * thay doi thuoc tinh\r\n     * @param {string|object} prop thuoc tinh\r\n     * @param {*} val \r\n     */\r\n\r\n    setCloneLightIntensityNyPercentage: function (percentage, visible) {\r\n        var scope = this;\r\n\r\n        if (!isEmpty(scope.lightShadowList)) {\r\n            for (const id in scope.lightShadowList) {\r\n                if (Object.hasOwnProperty.call(scope.lightShadowList, id) && Object.hasOwnProperty.call(scope.cloneLightShadowList, id)) {\r\n                    const intensity = scope.lightShadowList[id];\r\n                    const cloneLightID = scope.cloneLightShadowList[id];\r\n                    if (typeof scope.parent.objects[cloneLightID] != \"undefined\" && scope.parent.objects[cloneLightID].type == \"light\") {\r\n                        scope.parent.objects[cloneLightID].object.intensity = intensity * percentage;\r\n                        if (typeof visible == \"boolean\") scope.parent.objects[cloneLightID].object.visible = visible;\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n\r\n    updateLightShadows: function () {\r\n        var scope = this;\r\n\r\n        if (scope.parent.lights) {\r\n            scope.parent.lights.map(function (lightData) {\r\n                var object = lightData.object;\r\n                if (object.isLight && (object.isDirectionalLight || object.isPointLight || object.isSpotLight)) {\r\n                    if (typeof scope.shadowLights[object.id] === \"undefined\" && object.castShadow) {\r\n                        scope.shadowLights[object.id] = object.castShadow;\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n    },\r\n    updateMeshShadows: function () {\r\n        var scope = this;\r\n        if (scope.parent.objects) {\r\n            scope.parent.objects.map(function (objectDAta) {\r\n                if (objectDAta.type == \"mesh\") {\r\n                    var object = objectDAta.object;\r\n                    scope.addMesh(object);\r\n                } else if (objectDAta.meshes) {\r\n                    objectDAta.meshes.map(function (object) {\r\n                        scope.addMesh(object);\r\n                    })\r\n                }\r\n\r\n            })\r\n        }\r\n    },\r\n\r\n    off: function () {\r\n        if (this.parent) {\r\n            var scope = this;\r\n            this.parent.renderer.shadowMap.enabled = false;\r\n            // if(this.type==\"pcss\") this.deactive();\r\n            if (this.type == 'pcss') {\r\n                if (scope.parent.lights) {\r\n                    scope.parent.lights.map(function (lightData) {\r\n                        var object = lightData.object;\r\n                        if (object.isLight && (object.isDirectionalLight || object.isPointLight || object.isSpotLight)) {\r\n                            if (typeof scope.shadowLights[object.id] !== \"boolean\" && object.castShadow) {\r\n                                scope.shadowLights[object.id] = object.castShadow;\r\n                            }\r\n                            object.castShadow = false;\r\n                            object.needsUpdate = true;\r\n                        }\r\n                    });\r\n\r\n                }\r\n            }\r\n\r\n            if (scope.parent.objects) {\r\n                scope.parent.objects.map(function (objectDAta) {\r\n                    if (objectDAta.type == \"mesh\") {\r\n                        var object = objectDAta.object;\r\n                        var o = scope.addMesh(object);\r\n                        o.castShadow = false;\r\n                        o.receiveShadow = false;\r\n                        o.needsUpdate = true;\r\n\r\n                    } else if (objectDAta.meshes) {\r\n                        objectDAta.meshes.map(function (object) {\r\n                            var o = scope.addMesh(object);\r\n                            o.castShadow = false;\r\n                            o.receiveShadow = false;\r\n                            o.needsUpdate = true;\r\n                        })\r\n                    }\r\n\r\n                })\r\n            }\r\n            if (scope.parent.floorObject && scope.parent.floorObject.isMesh && scope.parent.floorObject.inScene) {\r\n                var o = scope.addMesh(scope.parent.floorObject);\r\n                o.castShadow = false;\r\n                o.receiveShadow = false;\r\n                o.needsUpdate = true;\r\n            }\r\n\r\n\r\n        }\r\n    },\r\n\r\n    restore: function () {\r\n        if (this.parent) {\r\n            var scope = this;\r\n            this.parent.renderer.shadowMap.enabled = true;\r\n            // if(this.type==\"pcss\") this.active();\r\n            if (this.type == 'pcss') {\r\n                if (scope.parent.lights) {\r\n                    scope.parent.lights.map(function (lightData) {\r\n                        var object = lightData.object;\r\n                        if (object.isLight && (object.isDirectionalLight || object.isPointLight || object.isSpotLight)) {\r\n                            if (typeof scope.shadowLights[object.id] === \"boolean\") {\r\n                                object.castShadow = scope.shadowLights[object.id];\r\n                                object.needsUpdate = true;\r\n                                scope.shadowLights[object.id] = null;\r\n                                delete scope.shadowLights[object.id];\r\n                            }\r\n\r\n                        }\r\n                    });\r\n\r\n                }\r\n            }\r\n\r\n\r\n            if (scope.parent.objects) {\r\n                scope.parent.objects.map(function (objectDAta) {\r\n                    if (objectDAta.type == \"mesh\") {\r\n                        var object = objectDAta.object;\r\n                        var o = scope.addMesh(object);\r\n                        if(typeof scope.meshes[o.id] != \"undefined\"){\r\n                            object.castShadow = scope.meshes[o.id].castShadow;\r\n                            object.receiveShadow = scope.meshes[o.id].receiveShadow;\r\n                            object.needsUpdate = true;\r\n                            delete scope.meshes[o.id];\r\n                        }\r\n                        \r\n\r\n                    } else if (objectDAta.meshes) {\r\n                        objectDAta.meshes.map(function (object) {\r\n                            var o = scope.addMesh(object);\r\n                            if (typeof scope.meshes[o.id] != \"undefined\" && scope.meshes[o.id]) {\r\n                                object.castShadow = scope.meshes[o.id].castShadow;\r\n                                object.receiveShadow = scope.meshes[o.id].receiveShadow;\r\n                                object.needsUpdate = true;\r\n                                scope.meshes[o.id] = null;\r\n                                delete scope.meshes[o.id];\r\n                            }\r\n\r\n                        })\r\n                    }\r\n\r\n                })\r\n            }\r\n            if (scope.parent.floorObject && scope.parent.floorObject.isMesh) {\r\n                var o = scope.addMesh(scope.parent.floorObject);\r\n\r\n                o.castShadow = scope.meshes[o.id].castShadow;\r\n                o.receiveShadow = scope.meshes[o.id].receiveShadow;\r\n                o.needsUpdate = true;\r\n                delete scope.meshes[o.id];\r\n            }\r\n\r\n        }\r\n    },\r\n\r\n    refreshShadows: function () {\r\n        var self = this;\r\n        var _parent = self.parent;\r\n        self.off();\r\n        if (_parent) {\r\n            _parent.refresh();\r\n        }\r\n        self.restore();\r\n\r\n    },\r\n\r\n\r\n    updateShaderChunk: function () {\r\n        var list = ['shadowmap_pars_fragment', 'meshlambert_frag', 'meshtoon_frag', 'meshphong_frag', 'meshphysical_frag', 'shadow_frag'];\r\n        var updateList = {\r\n            basic: [\"meshbasic_vert\", \"meshbasic_frag\"],\r\n            lambert: [\"meshlambert_vert\", \"meshlambert_frag\"],\r\n            phong: [\"meshphong_vert\", \"meshphong_frag\"],\r\n            standard: [\"meshphysical_vert\", \"meshphysical_frag\"],\r\n            toon: [\"meshtoon_vert\", \"meshtoon_frag\"],\r\n            matcap: [\"meshmatcap_vert\", \"meshmatcap_frag\"],\r\n            points: [\"points_vert\", \"points_frag\"],\r\n            dashed: [\"linedashed_vert\", \"linedashed_frag\"],\r\n            depth: [\"depth_vert\", \"depth_frag\"],\r\n            normal: [\"normal_vert\", \"normal_frag\"],\r\n            sprite: [\"sprite_vert\", \"sprite_frag\"],\r\n            background: [\"background_vert\", \"background_frag\"],\r\n            /* -------------------------------------------------------------------------\r\n            //\tCube map shader\r\n             ------------------------------------------------------------------------- */\r\n            cube: [\"cube_vert\", \"cube_frag\"],\r\n            equirect: [\"equirect_vert\", \"equirect_frag\"],\r\n            distanceRGBA: [\"distanceRGBA_vert\", \"distanceRGBA_frag\"],\r\n            shadow: [\"shadow_vert\", \"shadow_frag\"],\r\n            physical: [\"meshphysical_vert\", \"meshphysical_frag\"]\r\n\r\n        }\r\n        for (const key in updateList) {\r\n            if (Object.hasOwnProperty.call(updateList, key)) {\r\n                const keyArr = updateList[key];\r\n                THREE.ShaderLib[key].vertexShader = THREE.ShaderChunk[keyArr[0]];\r\n                THREE.ShaderLib[key].fragmentShader = THREE.ShaderChunk[keyArr[0]];\r\n\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    updateAllMaterial: function () {\r\n        var self = this;\r\n        const setMaterialNeedsUpdate = material => {\r\n            if (isArray(material)) {\r\n                for (let index = 0; index < material.length; index++) {\r\n                    const mat = material[index];\r\n                    setMaterialNeedsUpdate(mat);\r\n                }\r\n            } else if (isObject(material)) {\r\n                material.needsUpdate = true;\r\n            }\r\n        };\r\n        if (this.parent.objects) {\r\n\r\n            for (const a in this.parent.objects) {\r\n                if (Object.hasOwnProperty.call(this.parent.objects, a)) {\r\n                    const obj = this.parent.objects[a];\r\n                    if (obj.meshes) {\r\n                        for (const b in obj.meshes) {\r\n                            if (Object.hasOwnProperty.call(obj.meshes, b)) {\r\n                                const mesh = obj.meshes[b];\r\n                                setMaterialNeedsUpdate(mesh.material);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    getCurrentFragment: function () {\r\n        return THREE.ShaderChunk.shadowmap_pars_fragment;\r\n    },\r\n    getPCSS: function (args) {\r\n        var defaultProps = this.defaultProps;\r\n        var params = assignValue({}, defaultProps);\r\n        if (isObject(args)) {\r\n            params = Props.parseParams(args, defaultProps);\r\n        } else if (arguments.length) {\r\n            args = [];\r\n            for (let index = 0; index < arguments.length; index++) {\r\n                const element = arguments[index];\r\n                args[index] = element;\r\n            }\r\n            params = Props.parseParams(args, defaultProps);\r\n        }\r\n        var frustrum = params.frustrum,\r\n            size = params.size,\r\n            near = params.near,\r\n            samples = params.samples,\r\n            rings = params.rings;\r\n\r\n        return `\r\n        \r\n\t\t\t\t#define LIGHT_WORLD_SIZE 0.005\r\n\t\t\t\t#define LIGHT_FRUSTUM_WIDTH 3.75\r\n\t\t\t\t#define LIGHT_SIZE_UV (LIGHT_WORLD_SIZE / LIGHT_FRUSTUM_WIDTH)\r\n\t\t\t\t#define NEAR_PLANE 9.5\r\n\r\n\t\t\t\t#define NUM_SAMPLES 17\r\n\t\t\t\t#define NUM_RINGS 11\r\n\t\t\t\t#define BLOCKER_SEARCH_NUM_SAMPLES NUM_SAMPLES\r\n\t\t\t\t#define PCF_NUM_SAMPLES NUM_SAMPLES\r\n\r\n\t\t\t\tvec2 poissonDisk[NUM_SAMPLES];\r\n\r\n\t\t\t\tvoid initPoissonSamples( const in vec2 randomSeed ) {\r\n\t\t\t\t\tfloat ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );\r\n\t\t\t\t\tfloat INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );\r\n\r\n\t\t\t\t\t// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/\r\n\t\t\t\t\tfloat angle = rand( randomSeed ) * PI2;\r\n\t\t\t\t\tfloat radius = INV_NUM_SAMPLES;\r\n\t\t\t\t\tfloat radiusStep = radius;\r\n\r\n\t\t\t\t\tfor( int i = 0; i < NUM_SAMPLES; i ++ ) {\r\n\t\t\t\t\t\tpoissonDisk[i] = vec2( cos( angle ), sin( angle ) ) * pow( radius, 0.75 );\r\n\t\t\t\t\t\tradius += radiusStep;\r\n\t\t\t\t\t\tangle += ANGLE_STEP;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfloat penumbraSize( const in float zReceiver, const in float zBlocker ) { // Parallel plane estimation\r\n\t\t\t\t\treturn (zReceiver - zBlocker) / zBlocker;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfloat findBlocker( sampler2D shadowMap, const in vec2 uv, const in float zReceiver ) {\r\n\t\t\t\t\t// This uses similar triangles to compute what\r\n\t\t\t\t\t// area of the shadow map we should search\r\n\t\t\t\t\tfloat searchRadius = LIGHT_SIZE_UV * ( zReceiver - NEAR_PLANE ) / zReceiver;\r\n\t\t\t\t\tfloat blockerDepthSum = 0.0;\r\n\t\t\t\t\tint numBlockers = 0;\r\n\r\n\t\t\t\t\tfor( int i = 0; i < BLOCKER_SEARCH_NUM_SAMPLES; i++ ) {\r\n\t\t\t\t\t\tfloat shadowMapDepth = unpackRGBAToDepth(texture2D(shadowMap, uv + poissonDisk[i] * searchRadius));\r\n\t\t\t\t\t\tif ( shadowMapDepth < zReceiver ) {\r\n\t\t\t\t\t\t\tblockerDepthSum += shadowMapDepth;\r\n\t\t\t\t\t\t\tnumBlockers ++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif( numBlockers == 0 ) return -1.0;\r\n\r\n\t\t\t\t\treturn blockerDepthSum / float( numBlockers );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfloat PCF_Filter(sampler2D shadowMap, vec2 uv, float zReceiver, float filterRadius ) {\r\n\t\t\t\t\tfloat sum = 0.0;\r\n\t\t\t\t\tfor( int i = 0; i < PCF_NUM_SAMPLES; i ++ ) {\r\n\t\t\t\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadowMap, uv + poissonDisk[ i ] * filterRadius ) );\r\n\t\t\t\t\t\tif( zReceiver <= depth ) sum += 1.0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor( int i = 0; i < PCF_NUM_SAMPLES; i ++ ) {\r\n\t\t\t\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadowMap, uv + -poissonDisk[ i ].yx * filterRadius ) );\r\n\t\t\t\t\t\tif( zReceiver <= depth ) sum += 1.0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn sum / ( 2.0 * float( PCF_NUM_SAMPLES ) );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfloat PCSS ( sampler2D shadowMap, vec4 coords ) {\r\n\t\t\t\t\tvec2 uv = coords.xy;\r\n\t\t\t\t\tfloat zReceiver = coords.z; // Assumed to be eye-space z in this code\r\n\r\n\t\t\t\t\tinitPoissonSamples( uv );\r\n\t\t\t\t\t// STEP 1: blocker search\r\n\t\t\t\t\tfloat avgBlockerDepth = findBlocker( shadowMap, uv, zReceiver );\r\n\r\n\t\t\t\t\t//There are no occluders so early out (this saves filtering)\r\n\t\t\t\t\tif( avgBlockerDepth == -1.0 ) return 1.0;\r\n\r\n\t\t\t\t\t// STEP 2: penumbra size\r\n\t\t\t\t\tfloat penumbraRatio = penumbraSize( zReceiver, avgBlockerDepth );\r\n\t\t\t\t\tfloat filterRadius = penumbraRatio * LIGHT_SIZE_UV * NEAR_PLANE / zReceiver;\r\n\r\n\t\t\t\t\t// STEP 3: filtering\r\n\t\t\t\t\t//return avgBlockerDepth;\r\n\t\t\t\t\treturn PCF_Filter( shadowMap, uv, zReceiver, filterRadius );\r\n\t\t\t\t}\r\n\r\n        `;\r\n    }\r\n});\r\nexport default DynamicShadows;\r\nexport { DynamicShadows };","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { EditorIO, EditorMethods } from '@app/_shared/components/editor/base/editor-io';\nimport { ItemModel } from '@app/_store/item';\n\n@Component({\n    selector: 'model-list',\n    templateUrl: './model-list.component.html',\n    styleUrls: ['./model-list.component.scss']\n})\nexport class ModelListComponent extends BaseComponent implements OnInit {\n\n    @Input() title: string = 'All Item';\n\n    @Input() items: ItemModel[];\n\n\n    @Output() clickMore = new EventEmitter<any>();\n    @Output() clickItem = new EventEmitter<any>();\n    constructor(){\n        super();\n    }\n    onInit(){\n        \n    }\n}\n","<div class=\"model-list-header\">\n    <h4 class=\"list-title\">{{title}}</h4>\n    <div class=\"list-more\">\n        <i nz-icon nzType=\"right\" nzTheme=\"outline\"></i>\n    </div>\n</div>\n<div class=\"model-list-body\">\n    <model-item *ngFor=\"let item of items; let i=index\" [item]=\"item\"></model-item>\n</div>","import { Injectable } from '@angular/core';\r\nimport { Actions, Effect, ofType } from '@ngrx/effects';\r\nimport { map, switchMap, catchError, tap } from 'rxjs/operators';\r\nimport * as authActions from './auth.actions';\r\nimport { AuthenticationService } from '../services';\r\nimport { Router } from '@angular/router';\r\nimport { Observable, of } from 'rxjs';\r\nimport { SettingService } from '@app/_core/services/setting/setting.service';\r\n\r\nconst { AuthActionTypes } = authActions;\r\n\r\n@Injectable()\r\nexport class AuthEffects {\r\n  constructor(\r\n    private actions$: Actions<authActions.AuthActions>,\r\n    private authenticationService: AuthenticationService,\r\n    private settingService: SettingService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  @Effect()\r\n  login$: Observable<any> = this.actions$.pipe(\r\n    ofType(AuthActionTypes.LOGIN),\r\n    map((action: authActions.Login) => action.payload),\r\n    switchMap((payload) => {\r\n      return this.authenticationService.login(payload.email, payload.password).pipe(\r\n        map((user) => new authActions.LoginSuccess(user)),\r\n        catchError((error) => {\r\n          return of(new authActions.LoginFailure({ error }));\r\n        })\r\n      );\r\n    })\r\n  );\r\n\r\n  @Effect({ dispatch: false })\r\n  loginSuccess$: Observable<any> = this.actions$.pipe(\r\n    ofType(AuthActionTypes.LOGIN_SUCCESS),\r\n    tap((res) => {\r\n      this.settingService.setUser(res.payload);\r\n      this.router.navigate(['p/teams']);\r\n    })\r\n  );\r\n}\r\n","import { Directive, Input, HostListener, Output, EventEmitter } from '@angular/core';\r\nimport { debounce } from 'lodash-es';\r\n\r\n@Directive({\r\n  selector: '[appDebounceInput]',\r\n})\r\nexport class DebounceInputDirective {\r\n  private defaultDebounceTime = 1000;\r\n  @Input() time: number;\r\n\r\n  private debounceEmit = debounce(this.updateChange, this.defaultDebounceTime);\r\n\r\n  @Output() changeInput = new EventEmitter<string>();\r\n  @HostListener('keyup', ['$event']) onkeyup(e) {\r\n    const value = e.target.value;\r\n    this.debounceEmit(value);\r\n  }\r\n\r\n  updateChange(value) {\r\n    this.changeInput.emit(value);\r\n  }\r\n  constructor() {}\r\n}\r\n","import {\r\n\tEuler,\r\n\tEventDispatcher,\r\n\tVector3\r\n} from 'three';\r\n\r\nconst _euler = new Euler( 0, 0, 0, 'YXZ' );\r\nconst _vector = new Vector3();\r\n\r\nconst _changeEvent = { type: 'change' };\r\nconst _lockEvent = { type: 'lock' };\r\nconst _unlockEvent = { type: 'unlock' };\r\n\r\nconst _PI_2 = Math.PI / 2;\r\n\r\nclass PointerLockControls extends EventDispatcher {\r\n\r\n\tconstructor( camera, domElement ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tif ( domElement === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.PointerLockControls: The second parameter \"domElement\" is now mandatory.' );\r\n\t\t\tdomElement = document.body;\r\n\r\n\t\t}\r\n\r\n\t\tthis.domElement = domElement;\r\n\t\tthis.isLocked = false;\r\n\r\n\t\t// Set to constrain the pitch of the camera\r\n\t\t// Range is 0 to Math.PI radians\r\n\t\tthis.minPolarAngle = 0; // radians\r\n\t\tthis.maxPolarAngle = Math.PI; // radians\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\tfunction onMouseMove( event ) {\r\n\r\n\t\t\tif ( scope.isLocked === false ) return;\r\n\r\n\t\t\tconst movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;\r\n\t\t\tconst movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0;\r\n\r\n\t\t\t_euler.setFromQuaternion( camera.quaternion );\r\n\r\n\t\t\t_euler.y -= movementX * 0.002;\r\n\t\t\t_euler.x -= movementY * 0.002;\r\n\r\n\t\t\t_euler.x = Math.max( _PI_2 - scope.maxPolarAngle, Math.min( _PI_2 - scope.minPolarAngle, _euler.x ) );\r\n\r\n\t\t\tcamera.quaternion.setFromEuler( _euler );\r\n\r\n\t\t\tscope.dispatchEvent( _changeEvent );\r\n\r\n\t\t}\r\n\r\n\t\tfunction onPointerlockChange() {\r\n\r\n\t\t\tif ( scope.domElement.ownerDocument.pointerLockElement === scope.domElement ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( _lockEvent );\r\n\r\n\t\t\t\tscope.isLocked = true;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tscope.dispatchEvent( _unlockEvent );\r\n\r\n\t\t\t\tscope.isLocked = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction onPointerlockError() {\r\n\r\n\t\t\tconsole.error( 'THREE.PointerLockControls: Unable to use Pointer Lock API' );\r\n\r\n\t\t}\r\n\r\n\t\tthis.connect = function () {\r\n\r\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'mousemove', onMouseMove );\r\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerlockchange', onPointerlockChange );\r\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerlockerror', onPointerlockError );\r\n\r\n\t\t};\r\n\r\n\t\tthis.disconnect = function () {\r\n\r\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'mousemove', onMouseMove );\r\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerlockchange', onPointerlockChange );\r\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerlockerror', onPointerlockError );\r\n\r\n\t\t};\r\n\r\n\t\tthis.dispose = function () {\r\n\r\n\t\t\tthis.disconnect();\r\n\r\n\t\t};\r\n\r\n\t\tthis.getObject = function () { // retaining this method for backward compatibility\r\n\r\n\t\t\treturn camera;\r\n\r\n\t\t};\r\n\r\n\t\tthis.getDirection = function () {\r\n\r\n\t\t\tconst direction = new Vector3( 0, 0, - 1 );\r\n\r\n\t\t\treturn function ( v ) {\r\n\r\n\t\t\t\treturn v.copy( direction ).applyQuaternion( camera.quaternion );\r\n\r\n\t\t\t};\r\n\r\n\t\t}();\r\n\r\n\t\tthis.moveForward = function ( distance ) {\r\n\r\n\t\t\t// move forward parallel to the xz-plane\r\n\t\t\t// assumes camera.up is y-up\r\n\r\n\t\t\t_vector.setFromMatrixColumn( camera.matrix, 0 );\r\n\r\n\t\t\t_vector.crossVectors( camera.up, _vector );\r\n\r\n\t\t\tcamera.position.addScaledVector( _vector, distance );\r\n\r\n\t\t};\r\n\r\n\t\tthis.moveRight = function ( distance ) {\r\n\r\n\t\t\t_vector.setFromMatrixColumn( camera.matrix, 0 );\r\n\r\n\t\t\tcamera.position.addScaledVector( _vector, distance );\r\n\r\n\t\t};\r\n\r\n\t\tthis.lock = function () {\r\n\r\n\t\t\tthis.domElement.requestPointerLock();\r\n\r\n\t\t};\r\n\r\n\t\tthis.unlock = function () {\r\n\r\n\t\t\tscope.domElement.ownerDocument.exitPointerLock();\r\n\r\n\t\t};\r\n\r\n\t\tthis.connect();\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport { PointerLockControls };\r\n","export const PriVacyStatusLabels = {\r\n    // cac trang thai duoi dang value: label\r\n    draft: 'Draft',\r\n    private: 'Private',\r\n    published: 'Published',\r\n}\r\n\r\n\r\nexport const PriVacyStatusOptions:Array<{value:any, label:any}> = [\r\n    {\r\n        value: \"draft\",\r\n        label: \"Draft\"\r\n    },\r\n    {\r\n        value: \"private\", \r\n        label: 'Private'\r\n    },\r\n    {\r\n        value: \"published\",\r\n        label: 'Published'\r\n    }\r\n\r\n]","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { zip } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { SettingService } from './setting/setting.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { MenuService } from '@delon/theme';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class StartupService {\r\n  constructor(\r\n    private httpClient: HttpClient,\r\n    private settingService: SettingService,\r\n    private translateService: TranslateService,\r\n    private menuService: MenuService\r\n  ) {}\r\n\r\n  init(): void {}\r\n\r\n  load(): Promise<any> {\r\n    return new Promise((resolve) => {\r\n      zip(this.httpClient.get(`assets/data/i18n/vi-data.json`), this.httpClient.get('assets/data/app-data.json'))\r\n        .pipe(\r\n          catchError(([langData, appData]) => {\r\n            resolve(null);\r\n            return [langData, appData];\r\n          })\r\n        )\r\n        .subscribe(\r\n          ([langData, appData]) => {\r\n            // setting language data\r\n            this.translateService.setTranslation('vi', langData);\r\n            this.translateService.setDefaultLang('vi');\r\n\r\n            this.settingService.setApp(appData?.app);\r\n            this.settingService.setPaths(appData?.paths);\r\n\r\n            this.setupMenu(appData.menu);\r\n          },\r\n          () => {},\r\n          () => {\r\n            resolve(null);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  setupMenu(myMenu) {\r\n    const menuItems = myMenu.map((item) => this.buildMenuItem(item));\r\n    this.menuService.add([\r\n      {\r\n        group: true,\r\n        children: menuItems,\r\n      },\r\n    ]);\r\n  }\r\n\r\n  buildMenuItem(item) {\r\n    let childrenItem = [];\r\n    if (Array.isArray(item.children)) {\r\n      childrenItem = item.children.map((c) => this.buildMenuItem(c));\r\n    }\r\n    return {\r\n      text: item.text,\r\n      i18n: item.text,\r\n      icon: item.iconCode,\r\n      link: item.link,\r\n      children: childrenItem,\r\n    };\r\n  }\r\n\r\n  getMenuData(menuDefault, myRoleData, hasAdminRole) {\r\n    try {\r\n      const myMenu = JSON.parse(myRoleData?.webMenu);\r\n      return myMenu?.children || [];\r\n    } catch (error) {\r\n      return hasAdminRole ? menuDefault : [];\r\n    }\r\n  }\r\n}\r\n","import {\r\n    assignValue,\r\n    assignWithout,\r\n    copyByList,\r\n    copyWithout,\r\n    getEl,\r\n    inArray,\r\n    isArray,\r\n    isEmpty,\r\n    isFunction,\r\n    isObject,\r\n    isString,\r\n    newObj\r\n} from '@app/_core/helpers/utils';\r\nimport * as THREE from 'three';\r\nimport {LoaderLib} from './three.libs';\r\n\r\nimport Props from './props';\r\n\r\n\r\nconst Models = {\r\n\r\n    /**\r\n     * \r\n     * @param {object} obj \r\n    */\r\n    getMeshFromObject: function (obj: any = undefined) {\r\n        var meshes = [];\r\n        if (obj && typeof obj.traverse == \"function\") {\r\n            try {\r\n                obj.traverse(function (object) {\r\n                    if (object.isMesh || (object.type && String(object.type).toLowerCase() == \"mesh\")) {\r\n                        meshes.push(object);\r\n                    }\r\n                });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n        return meshes;\r\n    },\r\n    /**\r\n     * load moidel\r\n     * @param {object} option các thông số load\r\n     * @param {function} success hoàn thành quá trình load\r\n     * @param {function} progress tiến trình load\r\n     * @param {function} error xảy ra lổi\r\n     */\r\n    loadModel: function (option: any = undefined, success: any = undefined, progress: any = undefined, error: any = undefined) {\r\n        if (typeof option != \"object\") return false;\r\n        if (!option.type || !isString(option.type)) return this;\r\n        var self = this;\r\n        var loadParams = [option.type.toLowerCase(), option, function (data) {\r\n            if (self.trigger) {\r\n                self.emit(\"model.load.success\", data);\r\n\r\n            }\r\n            if (typeof success == \"function\") {\r\n                success(data);\r\n            }\r\n        }, function (percentage) {\r\n            if (self.trigger) {\r\n                self.emit(\"model.load.proccessing\", percentage);\r\n            }\r\n            if (typeof progress == \"function\") {\r\n                progress(percentage)\r\n            }\r\n        }, function (e) {\r\n            if (self.trigger) {\r\n                self.emit(\"model.load.error\", e);\r\n            }\r\n            if (typeof error == \"function\") {\r\n                error(e)\r\n            }\r\n        }];\r\n        if (self.Loader) {\r\n            self.Loader.load.apply(self.Loader, loadParams);\r\n        } else {\r\n            LoaderLib.load.apply(self.Loader, loadParams);\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * \r\n     * @param {Object3D} obj \r\n     * @param {Object} options \r\n     */\r\n    parseModel: function (obj:any=undefined, options:any=undefined, model:any=undefined) {\r\n        var data = newObj()\r\n        try {\r\n\r\n            var castShadow = (options.props ? (options.props.castShadow || false) : (options.data ? (options.data.castShadow || false) : (options.castShadow || false))),\r\n                receiveShadow = (options.props ? (options.props.receiveShadow || false) : (options.data ? (options.data.receiveShadow || false) : (options.receiveShadow || false)));\r\n            \r\n            data = newObj({\r\n                meshes: this.getMeshFromObject(obj)\r\n            });\r\n            \r\n            // neu co object\r\n            if (obj) {\r\n                obj.castShadow = true;\r\n                obj.receiveShadow = true;\r\n                var props = {};\r\n                if (options.props) {\r\n\r\n                    try {\r\n                        props = Props.parse(options.props);\r\n\r\n                    } catch (error) {\r\n                        console.log(error);\r\n                    }\r\n\r\n                    var ignore = ['params', 'animateData', 'handle', 'type', 'file', 'path', 'format', 'traverse', '__trans', 'custom', '$id', 'obj_id'];\r\n\r\n                    if (options.options && isObject(options.options)) ignore.push('position');\r\n                    assignWithout(obj, props || options, ignore);\r\n                }\r\n                var ot = obj.type ? String(obj.type).toLowerCase() : \"\";\r\n                if (castShadow || receiveShadow) {\r\n                    if (obj.isMesh || ot == \"mesh\") {\r\n                        if (castShadow) obj.castShadow = true;\r\n                        if (receiveShadow) obj.receiveShadow = receiveShadow;\r\n                    }\r\n                    if (obj.traverse) {\r\n                        obj.traverse(function (child) {\r\n                            var ct = child.type ? String(child.type).toLowerCase() : \"\";\r\n                            if (child.isMesh || ct == \"mesh\") {\r\n                                if (castShadow) child.castShadow = true;\r\n                                if (receiveShadow) child.receiveShadow = receiveShadow;\r\n                            }\r\n                        });\r\n                    }\r\n                    else if (ot == \"group\" && obj.children && obj.children.length) {\r\n                        var trans;\r\n\r\n                        trans = function (o, lv) {\r\n                            for (let gi = 0; gi < o.children.length; gi++) {\r\n                                const child = o.children[gi];\r\n                                var ct = child.type ? String(child.type).toLowerCase() : \"\";\r\n                                if (child.isMesh || ct == \"mesh\") {\r\n                                    // data.meshes.push(child);\r\n                                    child.castShadow = castShadow;\r\n                                    child.receiveShadow = receiveShadow;\r\n                                }\r\n\r\n                                if (child.children && child.children.length) {\r\n                                    if (!lv) lv = 0;\r\n                                    lv++;\r\n                                    trans(child, lv);\r\n                                }\r\n                            }\r\n                        };\r\n                        trans(obj);\r\n                    }\r\n                }\r\n\r\n\r\n\r\n                var box = new THREE.Box3().setFromObject(obj);\r\n                box.getCenter(obj.position); // this re-sets the mesh position\r\n                const dimensions = new THREE.Vector3();\r\n                var size:any = box.getSize(dimensions);\r\n                data.size = newObj({\r\n                    origin: {\r\n                        width: size.x,\r\n                        height: size.y,\r\n                        depth: size.z\r\n                    }\r\n                });\r\n                assignValue(data.size.origin, size);\r\n                // console.log(box);\r\n                // return false;\r\n                var ps = copyByList(props || options, ['position']);\r\n                var opt = options.options;\r\n                // nếu can giua doi tuong\r\n                // data.raw = obj;\r\n                if (opt && isObject(opt)) {\r\n\r\n                    if (opt.pivot || opt.centerPivot) {\r\n                        obj.position.multiplyScalar(-1);\r\n                        var pivot = new THREE.Object3D();\r\n                        pivot.add(obj);\r\n                        if (opt.centerPivot) {\r\n                            assignValue(pivot, ps);\r\n                        }\r\n                        if (isString(opt.pivot)) {\r\n                            assignValue(pivot, ps);\r\n                        }\r\n                        else if (isObject(opt.pivot)) {\r\n                            if (opt.pivot.x) {\r\n\r\n                            }\r\n                            assignValue(pivot, ps);\r\n                        }\r\n                        pivot.castShadow = castShadow;\r\n                        pivot.receiveShadow = castShadow;\r\n                        data.object = pivot;\r\n                    } else {\r\n                        assignValue(obj, ps);\r\n                        data.object = obj;\r\n                    }\r\n\r\n\r\n                } else {\r\n\r\n                    assignValue(obj, ps);\r\n\r\n                    data.object = obj;\r\n                }\r\n                data.$type = 'model';\r\n\r\n                if (options.options && isObject(options.options)) {\r\n                    data.options = options.options;\r\n                }\r\n\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n        return data;\r\n\r\n    },\r\n    /**\r\n     * Get model\r\n     * @param {Object} options các thong so load\r\n     * @param {function(obj, model)} onSuccess \r\n     * @param {function(error)} onError \r\n     * @param {function(proccessing)} onProgress\r\n     */\r\n    getModel: function getModel(options:any=undefined, onSuccess:any=undefined, onError:any=undefined, onProgress:any=undefined) {\r\n        if (typeof options != \"object\") return false;\r\n        var params = isObject(options.params) ? options.params : options;\r\n        var t = String(params.type ? params.type : (options.type ? options.type : '')).toLowerCase();\r\n        var self = this;\r\n\r\n\r\n        var select = params.select || options.select || null;\r\n\r\n\r\n        // load model\r\n        this.loadModel(params, function (model) {\r\n\r\n            // neu thuoc cac dinh dang thong thuong\r\n            if (inArray(['fbx', 'gltf', 'obj', 'max', '3ds', 'stl'], t)) {\r\n                try {\r\n                    // var animations = null;\r\n                    var obj = null;\r\n                    var box = null;\r\n                    // neu co kem thong tin select\r\n                    if (t == 'gltf') {\r\n                        if (model.scene) {\r\n                            if (select && select != 'default') {\r\n                                var o = getEl(model.scene, select);\r\n                                if (o) obj = o;\r\n\r\n                            } else {\r\n                                obj = model.scene;\r\n                            }\r\n                        }\r\n                        else {\r\n                            obj = model;\r\n                        }\r\n                    }\r\n                    else {\r\n                        obj = model;\r\n                    }\r\n\r\n                    if (typeof onSuccess == \"function\") {\r\n                        onSuccess(obj, model)\r\n                    }\r\n\r\n\r\n                } catch (error) {\r\n                    if (typeof onError == \"function\") {\r\n                        console.log(error)\r\n                        onError(error);\r\n                    }\r\n                }\r\n            }\r\n        }, function (p) {\r\n            if (typeof onProgress == \"function\") {\r\n                onProgress(p);\r\n            }\r\n        }, onError);\r\n\r\n    },\r\n\r\n    /**\r\n     * them model\r\n     * @param {object} options các thong so load\r\n     * @param {function(data)} onSuccess \r\n     * @param {function(s)} onError \r\n     */\r\n    getModelAndConvertToAppObjectData: function(options:any=undefined, onSuccess:any=undefined, onError:any=undefined, onProgress:any=undefined) {\r\n        if (typeof options != \"object\") return false;\r\n        var params = isObject(options.params) ? options.params : options;\r\n        var t = String(params.type ? params.type : (options.type ? options.type : '')).toLowerCase();\r\n        var self = this;\r\n\r\n        var data = newObj({\r\n            meshes:[]\r\n        });\r\n        \r\n        var select = params.select || options.select || null;\r\n        var trans = typeof params.traverse == \"function\" ? params.traverse :\r\n            typeof options.traverse == \"function\" ? options.traverse : null;\r\n\r\n        if (trans) {\r\n            params.__trans = trans;\r\n        }\r\n        params.traverse = function (object) {\r\n\r\n            try {\r\n                if (typeof params.__trans == \"function\") {\r\n                    params.__trans(object);\r\n                }\r\n                if (object.isMesh || (object.type && String(object.type).toLowerCase() == \"mesh\")) {\r\n\r\n                    if (data.meshes.indexOf(object) == -1) {\r\n                        data.meshes.push(object);\r\n                    }\r\n\r\n                    if (options.castShadow || (typeof options.props == \"object\" && options.props.castShadow)) {\r\n                        object.castShadow = true;\r\n                        object.receiveShadow = true;\r\n\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        };\r\n\r\n        // load model\r\n        this.loadModel(params, function (model) {\r\n\r\n            // neu thuoc cac dinh dang thong thuong\r\n            if (inArray(['fbx', 'gltf', 'obj', 'max', '3ds', 'stl'], t)) {\r\n                try {\r\n                    var animations = null;\r\n                    var obj = null;\r\n                    var box = null;\r\n                    // neu co kem thong tin select\r\n                    if (t == 'gltf') {\r\n                        if (model.scene) {\r\n                            if (select && select != 'default') {\r\n                                var o = getEl(model.scene, select);\r\n                                if (o) obj = o;\r\n\r\n                            } else {\r\n                                obj = model.scene;\r\n                            }\r\n                        }\r\n                        else {\r\n                            obj = model;\r\n                        }\r\n                    }\r\n                    else {\r\n                        obj = model;\r\n                    }\r\n                    if (model.animations) {\r\n                        animations = model.animations;\r\n                    }\r\n\r\n                    // neu co object\r\n                    if (obj) {\r\n                        obj.castShadow = true;\r\n                        obj.receiveShadow = true;\r\n                        var props = {};\r\n                        if (options.props) {\r\n\r\n                            try {\r\n                                props = Props.parse(options.props);\r\n\r\n                            } catch (error) {\r\n                                console.log(error);\r\n                            }\r\n\r\n                            var ignore = ['params', 'animateData', 'handle', 'type', 'file', 'path', 'format', 'traverse', '__trans', 'custom', '$id', 'obj_id'];\r\n\r\n                            if (options.options && isObject(options.options)) ignore.push('position');\r\n                            assignWithout(obj, props || options, ignore);\r\n                        }\r\n                        var ot = obj.type ? String(obj.type).toLowerCase() : \"\";\r\n                        if (obj.isMesh || ot == \"mesh\") {\r\n                            obj.castShadow = true;\r\n                            // data.meshes.push(obj);\r\n                        } else if (ot == \"group\" && obj.children && obj.children.length) {\r\n                            var trans;\r\n\r\n                            trans = function (o, lv) {\r\n                                for (let gi = 0; gi < o.children.length; gi++) {\r\n                                    const child = o.children[gi];\r\n                                    var ct = child.type ? String(child.type).toLowerCase() : \"\";\r\n                                    if (child.isMesh || ct == \"mesh\") {\r\n                                        // data.meshes.push(child);\r\n                                        child.castShadow = true;\r\n                                        child.receiveShadow = true;\r\n                                    }\r\n\r\n                                    if (child.children && child.children.length) {\r\n                                        if (!lv) lv = 0;\r\n                                        lv++;\r\n                                        trans(child, lv);\r\n                                    }\r\n                                }\r\n                            };\r\n                            trans(obj);\r\n                        } else if (typeof obj.traverse == \"function\") {\r\n                            obj.traverse(params.traverse);\r\n                        }\r\n\r\n\r\n                        var box = new THREE.Box3().setFromObject(obj);\r\n                        box.getCenter(obj.position); // this re-sets the mesh position\r\n                        // console.log(box.min, box.max, box.getSize());\r\n                        var sizeA = new THREE.Vector3();\r\n                        var size = box.getSize(sizeA);\r\n                        data.size = {\r\n                            origin: {\r\n                                length: size.x,\r\n                                width: size.z,\r\n                                height: size.y\r\n                            }\r\n                        };\r\n                        assignValue(data.size.origin, size);\r\n                        // console.log(box);\r\n                        // return false;\r\n                        var ps = copyByList(props || options, ['position']);\r\n                        var opt = options.options || (options.settings ? options.settings.options : undefined);\r\n                        // nếu can giua doi tuong\r\n                        if (opt && isObject(opt)) {\r\n                            if (opt.pivot || opt.centerPivot) {\r\n                                obj.position.multiplyScalar(-1);\r\n                                var pivot = new THREE.Object3D();\r\n                                pivot.add(obj);\r\n                                if (opt.centerPivot) {\r\n                                    assignValue(pivot, ps);\r\n                                }\r\n                                if (isString(opt.pivot)) {\r\n                                    assignValue(pivot, ps);\r\n                                }\r\n                                else if (isObject(opt.pivot)) {\r\n                                    if (opt.pivot.x) {\r\n\r\n                                    }\r\n                                    assignValue(pivot, ps);\r\n                                }\r\n                                pivot.castShadow = true;\r\n                                pivot.receiveShadow = true;\r\n                                data.object = pivot;\r\n                            } else {\r\n                                assignValue(obj, ps);\r\n                                data.object = obj;\r\n                            }\r\n\r\n\r\n                        } else {\r\n\r\n                            assignValue(obj, ps);\r\n\r\n                            data.object = obj;\r\n                        }\r\n                        data.$type = 'model';\r\n\r\n                        if (animations) {\r\n                            data.animations = animations;\r\n                        }\r\n                        if (typeof onSuccess == \"function\") {\r\n                            onSuccess(data);\r\n                        }\r\n                    }\r\n\r\n                } catch (error) {\r\n                    if (typeof onError == \"function\") {\r\n                        console.log(error)\r\n                        onError(error);\r\n                    }\r\n                }\r\n            }\r\n        }, function (p) {\r\n            if (typeof onProgress == \"function\") onProgress(p);\r\n        }, onError);\r\n\r\n    }\r\n};\r\n\r\nexport default Models;","import { Injectable } from '@angular/core';\nimport { DbTableColumns } from '@app/_core/helpers/local-db';\nimport { LostDbTableService } from '@app/_core/services/lost-db-table.service';\nimport { LostDbService } from '@app/_core/services/lost-db.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ItemTableService extends LostDbTableService {\n    name: string = 'items';\n    columns: DbTableColumns = {\n        id: {\n            type: \"number\",\n            autoIncrement: true\n        },\n        name: {\n            type: \"string\",\n            required: true,\n        },\n        category_id: {\n            type: \"number\",\n            defVal: 0\n        },\n        description: {\n            type: \"string\",\n            defVal: \"\"\n        },\n        status: {\n            type: \"string\",\n            defVal: \"draft\"\n        },\n        type: {\n            type: \"string\",\n            defVal: \"gltf\"\n        },\n        path: {\n            type: \"string\",\n            defVal: \"\"\n        },\n        file: {\n            type: \"string\",\n            defVal: \"\"\n        },\n        download_source_url: {\n            type: \"string\",\n            defVal: \"\"\n        },\n        thumbnail: {\n            type: \"string\",\n            defVal: \"\"\n        },\n        load_options: {\n            type: \"object\",\n            defVal: {\n                useRoughnessMipmapper: true,\n                materialNeedsUpdate: true\n            }\n        },\n        settings: {\n            type: \"object\",\n            defVal: {}\n        },\n        size: {\n            type: \"object\",\n            defVal: {\n                x: 0,\n                y: 0,\n                z: 0\n            }\n        },\n    }\n    constructor(private dbService: LostDbService) {\n        super(dbService);\n        this.init();\n    }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { isNumber } from '@app/_core/helpers/utils';\nimport { BaseInputComponent } from '../base-input/base-input.component';\n\n@Component({\n  selector: 'inp-textarea',\n  templateUrl: './inp-textarea.component.html',\n  styleUrls: ['./inp-textarea.component.scss']\n})\nexport class InpTextareaComponent extends BaseInputComponent implements OnInit {\n\n  @Input() minRows: number = 3;\n  @Input() maxRows: Number = 5;\n  \n  _old: any = null;\n\n  size: any = {\n    minRows: 3,\n    maxRows: 5\n  }\n  constructor() {\n    super();\n   }\n\n  ngOnInit(): void {\n    this._old = this.value;\n    if(!isNumber(this.minRows) || this.minRows < 1) this.minRows = 3;\n    if(!isNumber(this.maxRows) || this.maxRows < this.maxRows) this.maxRows = this.minRows;\n\n    this.size.minRows = this.minRows;\n    this.size.maxRows = this.maxRows;\n    \n  }\n\n  onChangeValue(event){\n    if(this._old !== this.value){\n      this.emit();\n      this._old = this.value;\n    }\n  }\n\n}\n","<textarea \n    nz-input\n    placeholder=\"{{placeholder?placeholder:name|translate}}\" \n    [(ngModel)]=\"value\" \n    (input)=\"onChangeValue($event)\" \n    (change)=\"onChangeValue($event)\" \n    [nzAutosize]=\"size\">\n</textarea>","import { Component, Output, EventEmitter, OnInit, Input } from '@angular/core';\r\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\r\nimport { EditorIO, EditorMethods } from '../../base/editor-io';\r\n\r\n@Component({\r\n  selector: 'app-tab-object',\r\n  templateUrl: './tab-object.component.html',\r\n  styleUrls: ['./tab-object.component.scss'],\r\n})\r\nexport class TabObjectComponent extends BaseComponent implements OnInit {\r\n  @Input() loaded: EventEmitter<any> = new EventEmitter();\r\n\r\n  @Output() loadedChange: EventEmitter<any> = new EventEmitter();\r\n\r\n  loadedPhoto = false;\r\n  loadedElement = false;\r\n  loadedBackground = false;\r\n\r\n  onInit(): void {\r\n    this.loadedChange.emit(true);\r\n  }\r\n}\r\n","<div class=\"tab-inner\">\r\n  <h2>Objects</h2>\r\n  <nz-tabset nzTabPosition=\"top\" nzType=\"line\" class=\"sub-tab\">\r\n    \r\n    <nz-tab [nzTitle]=\"iconModel\">\r\n      <ng-template #iconModel>\r\n        <img src=\"/assets/icons/new-design/tab-sub/model.svg\" alt=\"Item\" />\r\n        <div>Item</div>\r\n      </ng-template>\r\n      <app-tab-model></app-tab-model>\r\n    </nz-tab>\r\n\r\n    <nz-tab [nzTitle]=\"iconGeometry\" [nzForceRender]=\"loadedPhoto\">\r\n      <ng-template #iconGeometry>\r\n        <img src=\"/assets/icons/new-design/tab-sub/element.svg\" alt=\"Geometry\" />\r\n        <div>Geometry</div>\r\n      </ng-template>\r\n      <ng-template nz-tab>\r\n        <app-tab-geometry></app-tab-geometry>\r\n      </ng-template>\r\n    </nz-tab>\r\n  </nz-tabset>\r\n</div>\r\n","import { assignValue, assignWithout, inArray, isArray, isEmpty, isNumber, isObject, objectHasKey, Str } from '@app/_core/helpers/utils';\r\nimport * as THREE from 'three';\r\n\r\nimport Props from '../libs/props';\r\nimport { CameraSetting, FacePosKeyValues } from '../store/data.type';\r\nexport const caculateFacePos = (key: string, val: number) => {\r\n    const pos = {\r\n        x:0, y: 0, z: val\r\n    };\r\n\r\n    if(checkFacePos(key)){\r\n        const posRefs = FacePosKeyValues[key];\r\n        let i = 0;\r\n        for (const key in posRefs) {\r\n            if (Object.prototype.hasOwnProperty.call(posRefs, key)) {\r\n                const v = posRefs[key];\r\n                let c = Math.abs(v);\r\n                if(c > 0) i++;\r\n            }\r\n        }\r\n\r\n        if(i > 0){\r\n            let powVal = Math.pow(val, 2);\r\n            let p = Math.sqrt(powVal/i);\r\n            for (const k in posRefs) {\r\n                if (Object.prototype.hasOwnProperty.call(posRefs, k)) {\r\n                    const v = posRefs[k];\r\n                    pos[k] = p*v;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return pos;\r\n\r\n}\r\n\r\n// objectHasKey(FacePosKeys, key) ? (inArray(['left', 'bottom', 'back'], key) ? -val : val) : val;\r\nexport const checkFacePos = (face: string) => objectHasKey(FacePosKeyValues, face);\r\nconst Camera = {\r\n    camera: null,\r\n    cameraList: null,\r\n    boots: ['bootCamera'],\r\n    bootCamera: function () {\r\n        this.cameraList = {};\r\n    },\r\n    /**\r\n     * thiết lập cam chính\r\n     * @param {object} opts \r\n     */\r\n    setMainCamera: function (opts?: any) {\r\n        var self = this;\r\n        var opt = assignValue({}, opts);\r\n        Props.parse(opt);\r\n        var fov = isNumber(opt.fov) && opt.fov > 0 ? opt.fov : 45;\r\n        var aspect = isNumber(this.aspect) && this.aspect > 0 ? this.aspect : 1;\r\n        var near = isNumber(opt.near) && opt.near > 0 ? opt.near : 0.01;\r\n        var far = isNumber(opt.far) && opt.far > 0 ? opt.far : 10000;\r\n        \r\n        var camera = new THREE.PerspectiveCamera(fov, aspect, near, far);\r\n        this.camera = camera;\r\n        // return this;\r\n        if (camera) {\r\n            \r\n            // không có tác dụng gì nhiều nhưng không muốn dùng if\r\n            // var r = this.scene ? this.scene.add(this.camera) : 0;\r\n\r\n            // kiểm tra và set vị trí\r\n            if (opt.position) {\r\n                self.setCameraPosition(opt.position);\r\n            }\r\n\r\n            // kiểm tra và set góc xoay\r\n            if (opt.rotation) {\r\n                self.setCameraRotation(opt.rotation);\r\n            }\r\n\r\n            /**\r\n             * kiểm tra và thiết lập vị trí\r\n             */\r\n            if (this.data.control && !this.data.control.disabled && (opt.rotation || opt.position)) {\r\n                setTimeout(function () {\r\n                    if (opt.position) {\r\n                        assignValue(camera.position, opt.position);\r\n                    }\r\n                    if (opt.rotation) {\r\n                        assignValue(camera.rotation, opt.rotation);\r\n                    }\r\n                    if (opt.quaternion) {\r\n                        assignValue(camera.quaternion, opt.quaternion);\r\n                    }\r\n                    \r\n\r\n                }, 10);\r\n            }\r\n            var id = opt.id || \"main\";\r\n            this.cameraList[id] = camera;\r\n            if(isObject(opt.settings)) this.updateControlSettings({\r\n                settings: opt.settings\r\n            }, true);\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    changeCameraLookFace: function (face, update?: any) {\r\n        if (checkFacePos(face)) {\r\n            let camera = this.camera;\r\n            let camPos = camera.position;\r\n            let distence = Math.sqrt(\r\n                Math.pow(camPos.x, 2) + Math.pow(camPos.y, 2) + Math.pow(camPos.z, 2)\r\n            );\r\n\r\n            // let pk = objectHasKey(FacePosKeyValues, face) ? FacePosKeyValues[face] : FacePosKeyValues.front;\r\n            assignValue(camera.position, caculateFacePos(face, distence));\r\n            this.camera.lookAt(0, 0, 0);\r\n            this.camera.updateProjectionMatrix();\r\n                \r\n            if (update) {\r\n                this.refresh()\r\n                this.emit({\r\n                    type: \"controls.change.camera\",\r\n                    camera: this.camera\r\n                });\r\n            }\r\n        }\r\n    },\r\n\r\n    /** \r\n     * thiết lập cam chính\r\n     * @param {object} opts \r\n    */\r\n    updateMainCameraSettings: function (setting, update?: boolean) {\r\n        let camera = this.camera;\r\n        var props = assignValue({}, setting);\r\n        assignWithout(camera, props, ['id', 'type', 'lookat', 'lookAt', 'settings', 'rotation', 'position']);\r\n        // var la = props.lookAt || props.lookat;\r\n        var refresh = false;\r\n        if (isObject(props.settings)) {\r\n            if (isObject(props.settings.position)) {\r\n                let camPos = camera.position;\r\n                let posSetting = props.settings.position;\r\n                if (posSetting.type == \"system\" || posSetting.type == \"faces\" || posSetting.type == \"face\") {\r\n                    this.changeCameraLookFace(posSetting.face);\r\n                    refresh = true;\r\n                } else if (update && posSetting.type == \"custom\") {\r\n                    assignValue(camera.position, posSetting.custom);\r\n                    refresh = true;\r\n\r\n                }\r\n\r\n            }\r\n        }\r\n        if(objectHasKey(props, 'fov')) refresh = true;\r\n        if (refresh) {\r\n            this.camera.lookAt(0, 0, 0);\r\n            this.camera.updateProjectionMatrix();\r\n            this.refresh()\r\n            this.emit({\r\n                type: \"controls.change.camera\",\r\n                camera: this.camera\r\n            });\r\n        }\r\n        else{\r\n            this.emit({\r\n                type: \"camera.settings.updated\",\r\n                camera: this.camera\r\n            });\r\n        }\r\n\r\n\r\n        return this\r\n    },\r\n\r\n    /**\r\n     * thêm vào danh sách camera\r\n     * @param {option} options thuộc tính\r\n     */\r\n    addCamera: function (options?: any) {\r\n        if (!isObject(options) || isEmpty(options)) return null;\r\n        var id = options.id || \"camera_\" + Str.rand();\r\n\r\n        var camera = this.getCamera(options);\r\n        if (camera) {\r\n            this.cameraList[id] = camera;\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * thêm nhiều camera\r\n     * @param {Array} cameras array\r\n     */\r\n    addCameras: function (cameras?: any[]) {\r\n        if (isArray(cameras)) {\r\n            for (let i = 0; i < cameras.length; i++) {\r\n                const ctlopt = cameras[i];\r\n                if (isObject(ctlopt)) {\r\n                    this.addCamera(ctlopt);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    /**\r\n     * \r\n     * @param {object} opts \r\n     */\r\n    getCamera: function (opts?: any) {\r\n        var self = this;\r\n        var opt = typeof opts == \"object\" ? assignWithout({}, opts, ['id']) : {};\r\n\r\n        Props.parse(opt);\r\n        var pars = isObject(opt.params) || isArray(opt.params) ? opt.params : opt;\r\n\r\n        var params: any = {};\r\n        var camera;\r\n        if (opt.type == \"cube\") {\r\n            params = Props.parseParams(pars, {\r\n                near: 0.1,\r\n                far: 10000\r\n            });\r\n            var cubeRenderTarget = new THREE.WebGLCubeRenderTarget(128, {\r\n                format: THREE.RGBFormat,\r\n                generateMipmaps: true,\r\n                minFilter: THREE.LinearMipmapLinearFilter\r\n            });\r\n            camera = new THREE.CubeCamera(\r\n                params.near || 0.1,\r\n                params.far || 1000,\r\n                cubeRenderTarget\r\n            );\r\n        }\r\n        else if (opt.type == 'orthographic') {\r\n            params = Props.parseParams(pars, {\r\n                left: - this.width / 2,\r\n                right: this.width / 2,\r\n                top: this.height / 2,\r\n                bottom: - this.height / 2,\r\n                near: 0.1,\r\n                far: 10000\r\n            });\r\n\r\n            camera = new THREE.OrthographicCamera(\r\n                params.left,\r\n                params.right,\r\n                params.top,\r\n                params.bottom,\r\n                params.near,\r\n                params.far\r\n            );\r\n        }\r\n        else if (opt.type == \"stereo\") {\r\n            camera = new THREE.StereoCamera();\r\n        }\r\n        else {\r\n            params = Props.parseParams(pars, {\r\n                fov: 45,\r\n                aspect: this.aspect,\r\n                near: 0.1,\r\n                far: 10000\r\n            });\r\n\r\n            camera = new THREE.PerspectiveCamera(\r\n                params.fov,\r\n                params.aspect,\r\n                params.near,\r\n                params.far\r\n            );\r\n        }\r\n        if (camera) {\r\n            var props = assignWithout({}, opt.props || opt, params, ['id']);\r\n\r\n            assignWithout(camera, props, ['id', 'lookat', 'lookAt']);\r\n            var la = props.lookAt || props.lookat;\r\n\r\n            if (la) {\r\n                params = Props.parseParams(la, {\r\n                    x: 0,\r\n                    y: 0,\r\n                    z: 0\r\n                });\r\n\r\n                camera.lookAt(params.x, params.y, params.z);\r\n                camera.updateProjectionMatrix();\r\n            }\r\n\r\n\r\n        }\r\n        return camera;\r\n    },\r\n\r\n    /**\r\n     * thiết lập vị trí\r\n     * @param {int} x vĩ trí x\r\n     * @param {number} y vị trí y\r\n     * @param {number} z vị trí z\r\n     */\r\n    setCameraPosition: function (x?: any, y?: number, z?: number) {\r\n        if (typeof x == \"object\") {\r\n            if (x.x !== undefined && isNumber(x.x)) {\r\n                this.camera.position.x = x.x;\r\n            }\r\n            if (x.y !== undefined && isNumber(x.y)) {\r\n                this.camera.position.y = x.y;\r\n            }\r\n            if (x.z !== undefined && isNumber(x.z)) {\r\n                this.camera.position.z = x.z;\r\n            }\r\n        } else {\r\n            if (x !== undefined && isNumber(x)) {\r\n                this.camera.position.x = x;\r\n            }\r\n            if (y !== undefined && isNumber(y)) {\r\n                this.camera.position.y = y;\r\n            }\r\n            if (z !== undefined && isNumber(z)) {\r\n                this.camera.position.z = z;\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n    setCameraRotation: function (x?: any, y?: number, z?: number) {\r\n        if (typeof x == \"object\") {\r\n            if (x.x !== undefined && isNumber(x.x)) {\r\n                this.camera.rotation.x = x.x;\r\n            }\r\n            if (x.y !== undefined && isNumber(x.y)) {\r\n                this.camera.rotation.y = x.y;\r\n            }\r\n            if (x.z !== undefined && isNumber(x.z)) {\r\n                this.camera.rotation.z = x.z;\r\n            }\r\n        } else {\r\n            if (x !== undefined && isNumber(x)) {\r\n                this.camera.rotation.x = x;\r\n            }\r\n            if (y !== undefined && isNumber(y)) {\r\n                this.camera.rotation.y = y;\r\n            }\r\n            if (z !== undefined && isNumber(z)) {\r\n                this.camera.rotation.z = z;\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * lấy ra các camera đã dc add\r\n     * @param {string} id \r\n     */\r\n    getAddedCamera: function (id: any) {\r\n        return typeof this.cameraList[id] != \"undefined\" ? this.cameraList[id] : null;\r\n    },\r\n\r\n    changeCamera: function (id: any, options?: any) {\r\n        var camera = this.getAddedCamera(id, options);\r\n        if (camera) {\r\n            const position = this.camera.position.clone();\r\n\r\n            this.camera = camera;\r\n            this.camera.position.copy(position);\r\n\r\n            this.control.object = camera;\r\n            this.camera.lookAt(this.control.target.x, this.control.target.y, this.control.target.z);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n};\r\n\r\nexport default Camera;\r\nexport { Camera }","import { ChangeDetectorRef, Component, OnInit, SimpleChanges } from '@angular/core';\nimport { LightLib } from '@app/_3D/libs/three.libs';\nimport { LightPropDefaultData, LightProps, ShadowMap } from '@app/_3D/store/data.type';\nimport { assignValue, assignWithout, inArray, isObject, Str } from '@app/_core/helpers/utils';\nimport { CallbackFunction } from '@app/_shared/shared.type';\nimport { BaseComponent } from '../../base/base.component';\nimport { PanelLightService } from './panel-light.service';\n\nenum TabIndex {\n    Params = 0,\n    Properties = 1,\n}\n\n@Component({\n    selector: 'panel-light',\n    templateUrl: './panel-light.component.html',\n    styleUrls: ['./panel-light.component.scss']\n})\nexport class PanelLightComponent extends BaseComponent implements OnInit {\n\n    title: string = 'Title';\n    hasTitle: boolean = false;\n    isShow: boolean = false;\n\n    btnDoneText: string = 'Done';\n    onUpdateHandle: CallbackFunction = null;\n    onDoneHandle: CallbackFunction = null;\n    _service: PanelLightService = null;\n\n\n\n    prevTab: number = TabIndex.Params;\n    currentTab: number = TabIndex.Params;\n\n    secretKey: string = '';\n\n    data: any = {};\n    object: any = null;\n\n    settings: any = {};\n\n    paramFormGroup: any[] = [];\n    params: any = {};\n    props: LightProps = assignValue({}, LightPropDefaultData);\n    hasShadow:boolean = true;\n    hasTarget: boolean = false;\n    hasShadowCamera: boolean = false;\n    shadow: ShadowMap = {};\n\n    constructor(private cd: ChangeDetectorRef, private service: PanelLightService) {\n        super();\n        this._service = service;\n        this.service.on(\"panel.show\", e => this.show(e.data));\n        this.service.on(\"panel.hide\", e => this.hide());\n        this.service.on(\"editor.update.props\", e => {\n\n            if(!this.isFocus) return;\n            if (isObject(e.data) && e.data.secret_key == this.secretKey) {\n                assignValue(this.settings.props, e.data.key, e.data.value);\n                assignValue(this.props, e.data.key, e.data.value);\n                if (e.data.key == \"rotation\") {\n                    setTimeout(() => {\n                        this.service.emit({\n                            type: \"props.rotation.change\"\n                        });\n                    }, 1);\n                }\n                this.cd.detectChanges();\n            }\n        });\n        this.service.on(\"editor.update.props.target\", e => {\n            if(!this.isFocus) return;\n            if (isObject(e.data) && e.data.secret_key == this.secretKey && this.hasTarget) {\n                assignValue(this.settings.props.target, e.data.key, e.data.value);\n                assignValue(this.props.target, e.data.key, e.data.value);\n                // if (e.data.key == \"rotation\") {\n                //     setTimeout(() => {\n                //         this.service.emit({\n                //             type: \"props.rotation.change\"\n                //         });\n                //     }, 1);\n                // }\n                this.cd.detectChanges();\n            }\n        });\n\n\n        this.service.on(\"component.checkchange\", () => this.cd.detectChanges());\n    }\n\n    onInit(): void {\n        // this._service = this.service;\n        this.cd.detectChanges();\n        \n\n    }\n\n    setData(data: any) {\n        this.secretKey = data.secret_key;\n        this.data = data.data;\n        this.object = data.ref;\n        this.setDefaultSettingData();\n        this.asyncSettings(data.data);\n    }\n\n    // dong bo setting cua item voi tab\n    asyncSettings(settings: any) {\n\n        this.paramFormGroup = [];\n        assignWithout(this.settings, settings, ['meshes']);\n        var config = LightLib.getConfigData(this.object.type);\n        let params: any = {}\n        for (const key in config.inputs) {\n            if (Object.prototype.hasOwnProperty.call(config.inputs, key)) {\n                const inp = config.inputs[key];\n                if (inArray(config.params, inp.name)) {\n                    inp.value = typeof this.settings.params[inp.name] != \"undefined\" ? this.settings.params[inp.name] : this.object[inp.name];\n                    params[inp.name] = inp;\n                }\n            }\n        }\n        config.params.map(name => Object.prototype.hasOwnProperty.call(params, name)? this.paramFormGroup.push(params[name]) : null);\n\n        var castShadow = config.props.castShadow == \"Boolean\";\n        this.initProps(castShadow);\n        this.hasShadow = false;\n        this.hasShadowCamera = false;\n        this.hasTarget = false;\n        if(castShadow){\n            this.hasShadow = true;\n            this.props.castShadow = typeof this.settings.props.castShadow == \"boolean\"?this.settings.props.castShadow:this.object.castShadow;\n\n            var lightShadow = this.object.shadow;\n            var mapSize = lightShadow.mapSize;\n            var camera = lightShadow.camera;\n            var shadowTemp = {\n                mapSize: {\n                    width: mapSize.width,\n                    height: mapSize.height\n                },\n                camera: {\n                    near: camera.near,\n                    far: camera.far,\n                    left: camera.left,\n                    right: camera.right,\n                    top: camera.top,\n                    bottom: camera.bottom\n                },\n                darkness: lightShadow.darkness,\n                bias: lightShadow.bias,\n                radius: lightShadow.radius\n            };\n\n            assignValue(shadowTemp, settings.props ? settings.props.shadow : {});\n            if(!this.object.isPointLight){\n                this.hasShadowCamera = true;\n            }\n            this.props.shadow = shadowTemp;\n\n\n        }\n        if(config.props.target && config.props.target == \"Object3D\"){\n            this.hasTarget = true;\n            let defPos = {x: 0, y: 0, z: 0};\n            this.props.target = {\n                position: {\n                    x: 0,\n                    y: 0, \n                    z: 0\n                }\n            }\n            for (const key in defPos) {\n                if (Object.prototype.hasOwnProperty.call(defPos, key)) {\n                    const vl = defPos[key];\n                    this.props.target.position[key] = typeof this.settings.props.target == \"object\" && typeof this.settings.props.target.position ==\"object\" && typeof this.settings.props.target.position[key] != \"undefined\" ? this.settings.props.target.position[key] : (\n                        typeof this.object.target == \"object\"? this.object.target.position[key] : vl\n                    );\n                }\n            }\n        }\n\n    }\n\n\n\n    initProps(castShadow?:boolean) {\n        for (const key in LightPropDefaultData) {\n            if (Object.prototype.hasOwnProperty.call(LightPropDefaultData, key)) {\n                const value = LightPropDefaultData[key];\n                assignValue(this.props, key, value);\n                if (isObject(value)) {\n                    if (Object.prototype.hasOwnProperty.call(this.object, key) && isObject(this.object[key]) && key != \"shadow\") {\n                        for (const k in value) {\n                            if (Object.prototype.hasOwnProperty.call(value, k)) {\n                                if (typeof this.object[key][k] != \"undefined\") {\n                                    this.props[key][k] = this.object[key][k];\n                                }\n                            }\n                        }\n                    }\n                    if (Object.prototype.hasOwnProperty.call(this.settings.props, key)) {\n                        for (const k in value) {\n                            if (Object.prototype.hasOwnProperty.call(value, k)) {\n                                if (Object.prototype.hasOwnProperty.call(this.settings.props[key], k)) {\n                                    this.props[key][k] = this.settings.props[key][k];\n                                }\n\n                            }\n                        }\n                    }\n                } else {\n                    if (Object.prototype.hasOwnProperty.call(this.object, key)) {\n                        this.props[key] = this.object[key];\n                    }\n                    if (Object.prototype.hasOwnProperty.call(this.settings.props, key)) {\n                        this.props[key] = this.settings.props[key];\n                    }\n                }\n\n\n            }\n        }\n    }\n\n    // updateProps(event: InpEvent) {\n\n    // }\n\n    onDone() {\n        this.hide();\n\n        return typeof this.onDoneHandle == \"function\" ? this.onDoneHandle() : 0;\n    }\n\n\n\n\n    /**\n     * thiết lập giá trị mặc định\n     */\n    setDefaultSettingData() {\n        this.settings = {\n            params: {},\n            props: assignValue({}, LightPropDefaultData),\n\n        }\n    }\n\n\n\n\n\n    updateProps(event) {\n        let name = event.name;\n        let value = event.value;\n        var accessName = Str.replace(name, [\"[\", \"]\"], [\".\", \"\"]);\n        var temp = {};\n        var accNs = accessName.split(\".\");\n        // if(!this.lightData[group]) this.lightData[group] = {};\n        // var d = this.lightData[group];\n        let updateName = accNs[0];\n        function mkObjMap(o, k, v) {\n            o[k] = v;\n            return v;\n        }\n        if (accNs.length == 1) {\n            temp[accessName] = value;\n        } else {\n            var d = null;\n            for (let i = 0; i < accNs.length; i++) {\n                const ns = accNs[i];\n                if (i == 0) {\n                    d = mkObjMap(temp, ns, {});\n                }\n                else if (i < accNs.length - 1) {\n                    d = mkObjMap(d, ns, {});\n\n                } else {\n                    mkObjMap(d, ns, value);\n                }\n            }\n        }\n        \n        assignValue(this.settings.props, temp);\n\n        if (typeof this.onUpdateHandle == \"function\") {\n            this.onUpdateHandle({\n                secret_key: this.secretKey,\n                type: \"props\",\n                name: updateName,\n                value: temp[updateName],\n                data: this.settings.props\n            });\n        }\n        this.service.emit({\n            type: \"props.change\",\n            secret_key: this.secretKey,\n            data: this.settings.props\n        });\n    }\n\n    updateParams(event) {\n        this.settings.params[event.name] = event.value;\n        if (typeof this.onUpdateHandle == \"function\") {\n            this.onUpdateHandle({\n                secret_key: this.secretKey,\n                type: \"params\",\n                name: event.name,\n                value: event.value,\n                data: this.settings.params\n            });\n        }\n        this.service.emit({\n            type: \"params.change\",\n            secret_key: this.secretKey,\n            data: this.settings.params\n        });\n    }\n\n\n\n    ngOnChanges(changes: SimpleChanges) {\n\n    }\n\n    onChangeTab(e) {\n        this.currentTab = e.index;\n        this.cd.detectChanges();\n    }\n\n    reset() {\n        this.settings = {};\n        this.object = null;\n        this.data = null;\n        this.btnDoneText = 'Done';\n    }\n\n\n\n    show(data: any) {\n        if(!this.isFocus) return;\n        if (isObject(data)) {\n\n            if (this.isShow) {\n                if (data.secret_key == this.secretKey) return false;\n                this.hide();\n                setTimeout(() => this.display(data), 10);\n            }\n            else {\n                this.currentTab = TabIndex.Params;\n                this.display(data);\n            }\n        }\n\n    }\n    hide() {\n        if(!this.isFocus) return;\n        this.isShow = false;\n        this.reset();\n    }\n\n    display(data: any) {\n        if(!this.isFocus) return;\n        if (data.title) {\n            this.title = data.title;\n            this.hasTitle = true;\n        }\n        if (data.btnDone || data.btnDoneText) {\n            this.btnDoneText = data.btnDone || data.btnDoneText;\n        }\n        this.onUpdateHandle = null;\n        if (typeof data.onUpdate == \"function\") {\n            this.onUpdateHandle = data.onUpdate;\n        }\n        if (typeof data.onChange == \"function\") {\n            this.onUpdateHandle = data.onChange;\n        }\n        if (typeof data.change == \"function\") {\n            this.onUpdateHandle = data.change;\n        }\n        if (typeof data.done == \"function\") {\n            this.onDoneHandle = data.done;\n        } else if (typeof data.onDone == \"function\") {\n            this.onDoneHandle = data.onDone;\n        }\n\n        if (isObject(data.data) && data.secret_key) {\n            this.setData(data);\n\n            this.isShow = true;\n        }\n    }\n\n}\n","<div class=\"panel inner-layout\" *ngIf=\"isShow\">\n    <div class=\"panel-body\">\n        <nz-tabset [nzSelectedIndex]=\"currentTab\" nzTabPosition=\"top\" nzType=\"line\" class=\"main-tab w100\" (nzSelectChange)=\"onChangeTab($event)\">\n            <nz-tab [nzTitle]=\"iconParams\">\n                <ng-template #iconParams>\n                    Params\n                </ng-template>\n                <!-- <mesh-geometry-tab-geometry [inputs]=\"geoInputs\" (subcribe)=\"onGeometryParamChange($event)\"></mesh-geometry-tab-geometry> -->\n                <panel-light-tab-params [inputs]=\"paramFormGroup\" (subcribe)=\"updateParams($event)\"></panel-light-tab-params>\n            </nz-tab>\n\n            <nz-tab [nzTitle]=\"iconProperties\">\n                <ng-template #iconProperties>\n                    Properties\n                </ng-template>\n                <ng-template nz-tab>\n                    <panel-light-tab-properties \n                        [(props)]=\"props\" \n                        (subcribe)=\"updateProps($event)\" \n                        [service]=\"_service\"\n                        [hasShadow]=\"hasShadow\"\n                        [hasTarget]=\"hasTarget\"\n                        [hasShadowCamera]=\"hasShadowCamera\"\n                    ></panel-light-tab-properties>\n                </ng-template>\n            </nz-tab>\n\n\n        </nz-tabset>\n    </div>\n\n\n\n    <div class=\"panel-footer\">\n        <h3>{{\"Actions\" | translate}}</h3>\n        <div class=\"buttons\">\n            <button nz-button nzType=\"primary\" (click)=\"onDone()\">{{btnDoneText}}</button>\n\n\n        </div>\n    </div>\n\n</div>","import { isArray, isEmpty, isObject, Str } from '@app/_core/helpers/utils';\r\nimport createClass, { _class } from '@app/_core/helpers/es5.class';\r\nimport * as THREE from 'three';\r\n\r\nimport ComposerEffects from '../libs/composer.effects';\r\n\r\n\r\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer.js';\r\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass.js';\r\nimport { TexturePass } from 'three/examples/jsm/postprocessing/TexturePass.js';\r\nimport { CubeTexturePass } from 'three/examples/jsm/postprocessing/CubeTexturePass.js';\r\nimport { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass.js';\r\nimport { ClearPass } from 'three/examples/jsm/postprocessing/ClearPass.js';\r\nimport { CopyShader } from 'three/examples/jsm/shaders/CopyShader.js';\r\n\r\n\r\nimport { GUI } from 'three/examples/jsm/libs/dat.gui.module.js';\r\n\r\nconst params = {\r\n\r\n    clearPass: true,\r\n    clearColor: 'white',\r\n    clearAlpha: 1.0,\r\n\r\n    texturePass: true,\r\n    texturePassOpacity: 1.0,\r\n    texturePass2: true,\r\n    texturePass2Opacity: 1.0,\r\n\r\n    cubeTexturePass: true,\r\n    cubeTexturePassOpacity: 1.0,\r\n\r\n    renderPass: true\r\n};\r\n\r\n\r\nconst Composer = _class('Composer').uses(ComposerEffects)({\r\n    /**\r\n     * @var {App}\r\n     */\r\n    parent: null,\r\n    options: {},\r\n    renderPass: null,\r\n    /**\r\n     * \r\n     * @param {App} parent doi tuong xha\r\n     * @param {object} options thiết lập\r\n     */\r\n    constructor: function (parent, options) {\r\n        this.parent = parent;\r\n        this.renderer = parent.renderer;\r\n        this.scene = parent.scene;\r\n        this.camera = parent.camera;\r\n        const clock = new THREE.Clock();\r\n        this.clock = clock;\r\n        if (isObject(options)) {\r\n            this.options = options;\r\n        }\r\n        this.setup();\r\n    },\r\n    setup: function () {\r\n        this.composer = new EffectComposer(this.renderer);\r\n        this.renderPass = new RenderPass(this.scene, this.camera);\r\n        this.composer.addPass(this.renderPass);\r\n\r\n        if (isObject(this.options.effects)) {\r\n            for (const key in this.options.effects) {\r\n                if (this.options.effects.hasOwnProperty(key)) {\r\n                    const opt = this.options.effects[key];\r\n                    if (!isObject(opt)) {\r\n                        continue;\r\n                    } else {\r\n                        if (!isObject(opt.params) && !opt.type) {\r\n                            this.addEffect(key, opt);\r\n                        } else if (!opt.type) {\r\n                            this.addEffect(key, opt.params || opt.options || opt.effectOptions || opt.effectParams || opt);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else if (isArray(this.options.effects)) {\r\n            for (let index = 0; index < this.options.effects.length; index++) {\r\n                const effect = this.options.effects[index];\r\n                if (!isObject(effect)) continue;\r\n                else {\r\n                    var type = effect.type || effect.effect || effect.effect_type;\r\n                    var options = effect.params || effect.options || effect.effect_options;\r\n                    if (type) {\r\n                        this.addEffect(type, options);\r\n                    }\r\n                }\r\n            }\r\n        } else if (this.options.effect) {\r\n            this.addEffect(\r\n                this.options.effect, isObject(options) ? this.options.effectOptions :\r\n                isObject(this.options.effect_options) ? this.options.effect_options :\r\n                    isObject(this.options.params) ? this.options.params :\r\n                        isObject(this.options.options) ? this.options.options : {}\r\n            );\r\n        }\r\n\r\n        if (this.options.pass) {\r\n            this.addPass();\r\n        }\r\n    },\r\n    render: function () {\r\n        this.composer.render(this.clock.getDelta());\r\n    },\r\n\r\n    addPass: function (pass, options) {\r\n        var self = this;\r\n        let clearPass, texturePass, texturePass2;\r\n        let cubeTexturePassP;\r\n        let gui, stats;\r\n\r\n        const genCubeUrls = function (prefix, postfix) {\r\n\r\n            return [\r\n                prefix + 'px' + postfix, prefix + 'nx' + postfix,\r\n                prefix + 'py' + postfix, prefix + 'ny' + postfix,\r\n                prefix + 'pz' + postfix, prefix + 'nz' + postfix\r\n            ];\r\n\r\n        };\r\n        // clearPass = new ClearPass(params.clearColor, params.clearAlpha);\r\n        // self.composer.addPass(clearPass);\r\n\r\n\r\n\r\n    }\r\n});\r\n\r\nexport default Composer;\r\n\r\nexport { Composer };","import { ChangeDetectorRef, Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { assignValue } from '@app/_core/helpers/utils';\nimport { BaseInpGroupComponent } from '../base-inp-group/base-inp-group.component';\n\n@Component({\n    selector: 'inp-select-group',\n    templateUrl: './inp-select-group.component.html',\n    styleUrls: ['./inp-select-group.component.scss']\n})\nexport class InpSelectGroupComponent extends BaseInpGroupComponent implements OnInit, OnChanges {\n\n    @Input() options: any = null;\n    \n    configProps = [\"options\"];\n    constructor(private cd: ChangeDetectorRef) {\n        super();\n    }\n\n\n\n    onInit(): void {\n        assignValue(this.defaultValues, {\n            options: null\n          });\n        this.inpInit();\n        this.cd.detectChanges();\n        \n    }\n\n    \n    ngOnChanges(changes: SimpleChanges): void {\n        if (changes.options) {\n            this.cd.detectChanges();\n        }\n\n    }\n\n}\n","<div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\" class=\"input-group\">\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"10\">\n        <div class=\"inner-box\">{{label?label:name | translate}}</div>\n    </div>\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"14\">\n        <div class=\"inner-box text-right\">\n            <inp-select\n                [name]=\"name\"\n                [(value)]=\"value\"\n                [options]=\"options\"\n                [valueType]=\"valueType\"\n                (subcribe)=\"onChange($event)\"\n            ></inp-select>\n\n        </div>\n    </div>\n\n</div>","import { AfterViewInit, Component, ElementRef, OnInit } from '@angular/core';\nimport { CameraDefaultFacePositions } from '@app/_3D/store/data.type';\nimport { checkFacePos } from '@app/_3D/traits/camera';\nimport { objectHasKey } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '../../base/base.component';\nimport { ViewportService } from '../viewport.service';\nimport { VectorControlsService } from './vector-controls.service';\n\n\nconst faceOpts = [\n    {\n        value: \"custom\",\n        label: \"Custom\"\n    }\n]\nCameraDefaultFacePositions.map(opt=>faceOpts.push(opt));\n\n@Component({\n    selector: 'app-vector-controls',\n    templateUrl: './vector-controls.component.html',\n    styleUrls: ['./vector-controls.component.scss']\n})\nexport class VectorControlsComponent extends BaseComponent implements OnInit, AfterViewInit {\n\n    isShow: boolean = false;\n    canvas: Element = null;\n    css: string = '';\n    faceOptions = faceOpts;\n    currentFace = 'custom';\n    constructor(\n        private events: VectorControlsService,\n        // private viewportService: ViewportService,\n        private elemRef: ElementRef\n    ) {\n        super();\n\n        // this.initCanvas();\n\n        this.registerEventService(window, 'resize', e => this.updateCanvasSize(e));\n\n    }\n\n    onChangeSubEvents() {\n        this.registerEventService(this.subEvents, {\n            \"show|dispatch\": e => {\n                if(objectHasKey(e, 'value')){\n                    this.isShow = e.value\n                }else{\n                    this.isShow = true\n                }\n            },\n            \"hide|dispatch\": e => this.isShow = !1\n        });\n\n    }\n\n    onInit(): void {\n        // this.activeEventServiceRegistered(this.service);\n        this.activeEventServiceRegistered(window);\n    }\n    onDestroy() {\n        // this.deactiveEventServiceRegistered(this.service);\n        this.deactiveEventServiceRegistered(window);\n    }\n\n    changeFace(face: string) {\n        let f = face.toLowerCase();\n        if (checkFacePos(f)) {\n            this.subEvents.emit({\n                type: \"changeface\",\n                face: f\n            })\n        }\n    }\n\n\n    ngAfterViewInit(): void {\n        this.initCanvas();\n    }\n\n    updateCanvasSize(event?: Event) {\n        // if (this.app3D) {\n        //     this.app3D.engine.updateCanvasSize(event);\n        // }\n    }\n\n\n    initCanvas() {\n        // if (this.app3D && this.canvas3D && this.elementStatus) {\n        setTimeout(() => {\n            var wrapper = this.elemRef.nativeElement.querySelector(\".canvas-wrapper\");\n\n            if (wrapper) {\n                wrapper.innerHTML = '';\n                this.subEvents.setCanvasWrapper(wrapper);\n            }\n        }, 5);\n\n        // }\n    }\n\n    setApp(app) {\n\n        this.initCanvas();\n\n    }\n\n    setCanvas(canvas) {\n        // this.canvas3D = canvas;\n        this.initCanvas();\n    }\n}\n","<div class=\"fs\" *ngIf=\"isShow\">\n    <div class=\"face-selection\">\n        <inp-select name=\"face\" [(value)]=\"currentFace\" [options]=\"faceOptions\" [fullwidth]=\"true\" (subcribe)=\"changeFace($event.value)\"></inp-select>\n    </div>\n    <!-- <div class=\"face-matrix\">\n        <div class=\"row\" *ngFor=\"let faceRow of faceMatrix; let i=index\">\n            <div class=\"col\" *ngFor=\"let face of faceRow; let i=index\">\n                <div class=\"face-item\" *ngIf=\"face != null\" (click)=\"changeFace(face)\">{{face}}</div>\n            </div>\n        </div>\n    </div>\n     -->\n    <div class=\"canvas-wrapper\"></div>\n    \n</div>","\r\nimport { Injectable } from '@angular/core';\r\nimport { StorageService } from '@app/_core/services/storage.service';\r\nimport { AppStorageService } from './app-storage.service';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class AppEditorStorageService extends AppStorageService {\r\n    constructor(){\r\n        super();\r\n    }\r\n}","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { BaseComponent } from '../../base/base.component';\n\n@Component({\n    selector: 'app-panel-mesh-customize',\n    templateUrl: './panel-mesh-customize.component.html',\n    styleUrls: ['./panel-mesh-customize.component.scss']\n})\nexport class PanelMeshCustomizeComponent extends BaseComponent implements OnInit {\n    title: string = \"Mesh\";\n    mesh: any = null;\n\n    isShow: boolean = false;\n\n    inputs: any[] = [];\n\n\n    constructor(private events: AppEditorEventService, private cd: ChangeDetectorRef) {\n        super();\n    }\n\n    onChangeSubEvents() {\n        this.registerEventService(this.subEvents, {\n            \"editor.select:mesh\": e => this.showPanel(e.mesh),\n            hidemeshpanel: e => this.hidePanel()\n        });\n    }\n\n\n\n    onInit(): void {\n\n    }\n\n    showPanel(mesh) {\n        if (!(mesh && mesh.editable && mesh.editable.length)) return;\n        if (this.isShow) {\n            this.isShow = false;\n            this.mesh = null;\n            setTimeout(() => {\n                this.asyncMeshSetting(mesh);\n                this.isShow = true;\n            }, 10);\n        } else {\n            this.asyncMeshSetting(mesh);\n            this.isShow = true;\n        }\n\n    }\n    hidePanel() {\n\n    }\n    asyncMeshSetting(mesh) {\n        this.mesh = mesh;\n        \n        this.title = mesh.title || mesh.name || \"name\";\n\n        this.inputs = mesh.__inputs__.filter(i=>i.editable);\n        this.cd.detectChanges();\n    }\n\n    updateMaterial(event) {\n        if (!this.mesh.data) this.mesh.data = {};\n        if (!this.mesh.data.material) this.mesh.data.material = {};\n\n        this.mesh.data.material[event.name] = event.value;\n\n        var app = this.subEvents.app;\n        var update: any = {};\n        update[event.name] = event.value\n        app.updateModelMeshMaterial(this.mesh.__parent__key__, this.mesh.name, update);\n\n\n        this.subEvents.emit({\n            type: \"panel.mesh.update:material\",\n            name: this.mesh.name,\n            data: update,\n            secretKey: this.mesh.__parent__key__\n        })\n    }\n\n\n\n    close() {\n        this.isShow = false;\n    }\n    onDone() {\n        this.isShow = false;\n\n    }\n}\n","<div class=\"panel inner-layout\" *ngIf=\"isShow\">\n    <div class=\"panel-header\">\n        <h3>{{title}}</h3>\n        <div class=\"btn-close\" (click)=\"close()\">\n            <i nz-icon nzType=\"close-circle\" nzTheme=\"outline\"></i>\n        </div>\n    </div>\n    <div class=\"panel-body\">\n        <div class=\"store\">\n            <div class=\"input-group-item\" [class.first]=\"i==0\" *ngFor=\"let inp of inputs; let i=index\">\n                <div class=\"input-item\" [ngSwitch]=\"inp.type\">\n                    <inp-switch-group *ngSwitchCase=\"'checkbox'\" [config]=\"inp\" (subcribe)=\"updateMaterial($event)\" class=\"input-group\"></inp-switch-group>\n                    <inp-texture-group *ngSwitchCase=\"'texture'\" [config]=\"inp\" (subcribe)=\"updateMaterial($event)\" class=\"input-group\"></inp-texture-group>\n                    <inp-color-group *ngSwitchCase=\"'color'\" [config]=\"inp\" (subcribe)=\"updateMaterial($event)\" class=\"input-group\"></inp-color-group>\n                    <inp-select-group *ngSwitchCase=\"'select'\" [config]=\"inp\" (subcribe)=\"updateMaterial($event)\" class=\"input-group\"></inp-select-group>\n                    <inp-range-group *ngSwitchCase=\"'range'\" [config]=\"inp\" (subcribe)=\"updateMaterial($event)\" class=\"input-group\"></inp-range-group>\n                    <inp-number-group *ngSwitchCase=\"'number'\" [config]=\"inp\" (subcribe)=\"updateMaterial($event)\" class=\"input-group\"></inp-number-group>\n                    <inp-text-group *ngSwitchDefault [config]=\"inp\" (subcribe)=\"updateMaterial($event)\" class=\"input-group\"></inp-text-group>\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n\n    <div class=\"panel-footer\">\n        <h3>{{\"Actions\" | translate}}</h3>\n        <div class=\"buttons\">\n            <button nz-button nzType=\"primary\" (click)=\"onDone()\">{{\"Done\"|translate}}</button>\n\n\n        </div>\n    </div>\n\n</div>","import { Component } from '@angular/core';\r\nimport { Angulartics2Mixpanel } from 'angulartics2/mixpanel';\r\nimport { SettingService } from './_core/services';\r\nimport { environment } from '@env/environment';\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss'],\r\n})\r\nexport class AppComponent {\r\n  title = 'Brandgos - Admin';\r\n  constructor(\r\n    angulartics2Mixpanel: Angulartics2Mixpanel,\r\n    settingService: SettingService\r\n  ) {\r\n    if (environment.production) {\r\n      const { user } = settingService;\r\n      angulartics2Mixpanel.startTracking();\r\n      angulartics2Mixpanel.setUsername(user.username);\r\n    }\r\n  }\r\n}\r\n","<router-outlet></router-outlet>\r\n","import { ChangeDetectorRef, Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { AppEditorStorageService } from '@app/_3D/services/app-editor-storage.service';\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\nimport { assignWithout, copyByList, isArray, isObject } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { InpEvent } from '@app/_shared/shared.type';\nimport { CategoryModel } from '@app/_store/category';\nimport { PriVacyStatusOptions } from '@app/_store/form';\nimport { ItemModel } from '@app/_store/item';\nimport { TemplateService } from '@app/_store/template';\nimport { TemplateTableService } from '@app/_store/template/table';\n\n@Component({\n    selector: 'app-tab-template-create-form',\n    templateUrl: './tab-template-create-form.component.html',\n    styleUrls: ['./tab-template-create-form.component.scss']\n})\nexport class TabTemplateCreateFormComponent extends BaseComponent implements OnInit, OnDestroy {\n    @Input() loaded: EventEmitter<any> = new EventEmitter();\n\n    @Output() loadedChange: EventEmitter<any> = new EventEmitter();\n\n    mode: string = \"explore\";\n\n    searchStatus: string = 'ready';\n\n    categories: CategoryModel[] = [];\n\n    searchResults: ItemModel[] = [];\n\n    q = {\n        s: null,\n        category_id: null,\n    };\n\n\n    isSearching: boolean = false;\n\n    hasResult: boolean = false;\n    info: any = {};\n    asyncForm: boolean = true;\n    categoryOptions: Array<{ label: string, value: any }> = [];\n    privacyStatusOptions: any[] = PriVacyStatusOptions.map(stt => ({ label: stt.label, value: stt.value }))\n\n    showForm: boolean = false;\n    app: AppEditorService;\n    constructor(\n        public templateService: TemplateService,\n        // public templateTable: TemplateTableService,\n        private events: AppEditorEventService,\n        private storage: AppEditorStorageService,\n        private cd: ChangeDetectorRef\n    ) {\n\n        super();\n        this.storage.subcribe(\"info\", (data) => {\n            this.syncInfo(data);\n        }, true);\n\n\n        this.storage.subcribe('categories', (categories) => {\n            this.updateCategories(categories);\n        }, true);\n\n        // this.storage.subcribe('editorMode', (mode) => {\n        //     this.mode = mode;\n        // }, true);\n    }\n\n    \n    \n    initOnce(){\n        this.app = this.events.app;\n     \n    }\n    init() {\n        if(this.isChangeSubEvents){\n            this.app = this.subEvents.app;\n        }\n        if (this.mode == \"explore\") {\n            this.explore();\n        } else {\n            this.search();\n        }\n    }\n    \n\n    explore() {\n        this.subEvents.emit(\"component.checkchange\");\n        this.templateService.getByCategories({}).subscribe(rs => {\n            if (rs.status) {\n                this.categories = rs.data;\n\n                if (rs.data.length) {\n                    rs.data.map(cate => this.parseItemList(cate.templates));\n                }\n                this.subEvents.emit(\"component.checkchange\");\n                this.cd.detectChanges();\n            }\n        })\n    }\n\n    search() {\n        this.searchStatus = 'searching';\n        this.searchResults.splice(0);\n        this.subEvents.emit(\"component.checkchange\");\n        this.templateService.getAll(this.q).subscribe(rs => {\n            if (rs.count > 0) {\n                this.searchResults = rs.data;\n                this.parseItemList(this.searchResults);\n                this.searchStatus = 'done';\n                this.cd.detectChanges();\n            } else {\n                this.searchStatus = 'notfound';\n                this.cd.detectChanges();\n            }\n            this.subEvents.emit(\"component.checkchange\");\n\n        }, error => {\n            this.searchStatus = 'error';\n            this.subEvents.emit(\"component.checkchange\");\n            this.cd.detectChanges();\n        });\n    }\n\n    parseItemList(list) {\n        if (isArray(list)) {\n            list.map(item => this.parseItem(item));\n        }\n    }\n    parseItem(item) {\n        if (isObject(item)) {\n            // var rs = this.templateTable.first('*', { id: item.id });\n            // if (rs) {\n            //     // assignValue(item, copyByList(rs, ['name', 'id', 'category_id', 'status', 'description', 'status', '']))\n            //     assignWithout(item, rs, ['id', 'lights', 'meshes', 'objects']);\n            //     item.objects = rs.objects;\n            //     item.lights = rs.lights;\n            //     item.meshes = rs.meshes;\n            // }\n        }\n    }\n\n\n\n\n    updateCategories(categories: CategoryModel[] = []) {\n        this.categories = categories;\n        let a: any[] = []\n        for (let index = 0; index < categories.length; index++) {\n            const cat = categories[index];\n            a.push({ label: cat.name, value: cat.id })\n        }\n        this.categoryOptions = a;\n    }\n\n    syncInfo(data: any) {\n        this.info = copyByList(data, ['name', 'description', 'category_id', 'status', 'allow_custom']);\n    }\n    onInpChange(event: InpEvent) {\n        this.info[event.name] = event.value;\n        this.app.updateInfo(this.info);\n    }\n    onClickSearch() {\n        if (String(this.q.s).length) {\n            this.mode = \"search\";\n            this.search();\n        } else if (this.mode == \"search\") {\n            this.mode = \"explore\";\n        }\n    }\n\n    onLayoutComplete({ isLayout, endLoading }) {\n        if (!isLayout) {\n            endLoading();\n        }\n    }\n\n    // getFileUrl(files) {\n    //   const file = files.find((f) => f.quanlity === EMediaFileQuanlity.screen);\n    //   return (file && file.url) || '';\n    // }\n\n}\n","<div class=\"tab-inner\">\n    <h2>{{\"Template\"|translate}}</h2>\n    <div class=\"search block\">\n        <div class=\"search-inner\">\n            <nz-input-group nzSearch [nzSuffix]=\"suffixIconSearch\">\n                <input type=\"text\" nz-input placeholder=\"Find in 1.000.000 items\" [(ngModel)]=\"q.s\" />\n            </nz-input-group>\n            <ng-template #suffixIconSearch>\n                <button nz-button nzType=\"link\" (click)=\"onClickSearch()\">\n                    <em nz-icon nzType=\"search\"></em>\n                </button>\n            </ng-template>\n        </div>\n    </div>\n    \n    <div class=\"store\">\n        <!-- <div class=\"info-form\">\n            <ng-container *ngIf=\"asyncForm; then formTemplate; else waitTemplate\"></ng-container>\n            <ng-template #formTemplate>\n                <div class=\"inputs\">\n                    <inp-text-group name=\"name\" label=\"Project Name\" [(value)]=\"info.name\" placeholder=\"Enter Name\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item-first\"></inp-text-group>\n                    <div class=\"sf\" *ngIf=\"showForm\">\n                        <inp-select-group name=\"category_id\" [(value)]=\"info.category_id\" [options]=\"categoryOptions\" label=\"Category\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item\"></inp-select-group>\n                        <inp-textarea-group name=\"description\" [(value)]=\"info.description\" label=\"Description\" placeholder=\"Enter Description\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item\"></inp-textarea-group>\n                        <inp-radio-group name=\"status\" [(value)]=\"info.status\" [options]=\"privacyStatusOptions\" label=\"Status\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item\"></inp-radio-group>\n\n                        <inp-switch-group name=\"allow_custom\" [(value)]=\"info.allow_custom\" label=\"Allow Custom in View\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item\"></inp-switch-group>\n\n                    </div>\n                    <div class=\"btn-show\" (click)=\"showForm = !showForm\">\n                        <i nz-icon nzType=\"down\" nzTheme=\"outline\" *ngIf=\"!showForm\"></i>\n                        <i nz-icon nzType=\"up\" nzTheme=\"outline\" *ngIf=\"showForm\"></i>\n                    </div>\n\n                </div>\n            </ng-template>\n            <ng-template #waitTemplate>\n                <div class=\"sys-alert\">\n                    <h2>Vui lòng chờ...</h2>\n                </div>\n            </ng-template>\n        </div>\n        <h3>{{\"Template\"|translate}}</h3> -->\n        <div class=\"templates\">\n            <ng-container *ngIf=\"mode=='explore'; then thenTemplate; else elseTemplate\"></ng-container>\n            <ng-template #thenTemplate>\n                <div *ngFor=\"let cate of categories; let i=index\" class=\"cate-item\">\n                    <template-list [items]=\"cate.templates\" [title]=\"cate.name\"></template-list>\n                </div>\n            </ng-template>\n            <ng-template #elseTemplate>\n                <ng-container [ngSwitch]=\"searchStatus\">\n                    <p *ngSwitchCase=\"'done'\">\n                        <template-list [items]=\"searchResults\" title=\"Tất cả\"></template-list>\n                    </p>\n                    <p *ngSwitchCase=\"'notfound'\">\n                        {{\"Not Found\" | translate}}\n                    </p>\n                    <p *ngSwitchCase=\"'error'\">\n                        {{\"Error\" | translate}}\n                    </p>\n                    <p *ngSwitchDefault>\n                        {{\"searching...\" | translate}}\n                    </p>\n                </ng-container>\n            </ng-template>\n        </div>\n    </div>\n</div>","import { ChangeDetectorRef, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { MaterialSettingData } from '@app/_3D/libs/three.libs';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { assignValue, objectKeys } from '@app/_core/helpers/utils';\nimport { ItemMeshSettings } from '@app/_store/item';\nimport { CollapseBaseComponent } from '../collapse-base/collapse-base.component';\n\n\n\n@Component({\n    selector: 'collapse-mesh-material',\n    templateUrl: './collapse-mesh-material.component.html',\n    styleUrls: ['./collapse-mesh-material.component.scss']\n})\nexport class CollapseMeshMaterialComponent extends CollapseBaseComponent implements OnInit {\n    @Input() index: number = 0;\n    @Output() onUpdate = new EventEmitter<any>();\n    @Output() onUpdateTitle = new EventEmitter<{ index: number, title: string }>();\n    @Input() service: any = null;\n    @Input() mesh: ItemMeshSettings;\n\n    inputs: any[] = [];\n    constructor(private events: AppEditorEventService, private cd: ChangeDetectorRef) {\n        super();\n    }\n\n\n    onChangeSubEvents(){\n        this.registerEventService(this.subEvents, {\n            \"panel.mesh.update:material\": e => this.updateInputs(e)\n        })\n    }\n\n    onInit(): void {\n        if (this.mesh.title) {\n            this.title = this.mesh.title;\n        } else {\n            this.title = this.mesh.name;\n        }\n        this.inputs = this.mesh.__inputs__.filter(i => i.editable);\n    }\n    updateInputs(e){\n        if(e.secretKey == this.mesh.__parent_key__ && e.name == this.mesh.name){\n            if(!this.mesh.data) this.mesh.data={};\n            if(!this.mesh.data.material) this.mesh.data.material={};\n            assignValue(this.mesh.data.material, e.data);\n            \n            let ns = objectKeys(e.data);\n            let name = ns[0];\n            // console.log(objectKeys(e.data))\n            // console.log(name)\n            this.mesh.__inputs__.map(inp => {\n                if(inp.name == name && inp.value != e.data[name]){\n                    inp.value = e.data[name];\n                }\n            })\n            this.inputs = this.mesh.__inputs__.filter(i => i.editable);\n            if(this.show){\n                this.show = false;\n                setTimeout(() => {\n                    this.show = true;\n                    this.cd.detectChanges();\n                }, 10);\n                \n            }\n            this.cd.detectChanges();\n            \n        }\n    }\n    changeHandle(event) {\n        if (!this.mesh.data.material) this.mesh.data.material = {};\n        this.mesh.data.material[event.name] = event.value;\n        this.onUpdate.emit({\n            data: this.mesh.data,\n            index: this.index\n        })\n        this.subcribe.emit({\n            name: event.name,\n            value: event.value,\n            index: this.mesh.index,\n            settings: this.mesh.data.material\n        })\n    }\n}","<div class=\"collapse\" [class.expand]=\"show\">\n    <div class=\"collapse-header\" (click)=\"toggle()\">\n        <h3 class=\"title\">{{title}}</h3>\n        <div class=\"toggle-icon\">\n            <ng-container *ngIf=\"show; then showTemplate; else hideTemplate\"></ng-container>\n            <ng-template #showTemplate>\n                <i nz-icon nzType=\"down\" nzTheme=\"outline\"></i>\n            </ng-template>\n            <ng-template #hideTemplate>\n                <i nz-icon nzType=\"right\" nzTheme=\"outline\"></i>\n            </ng-template>\n        </div>\n    </div>\n    <div class=\"collapse-body\" *ngIf=\"show\">\n        <!-- <inp-text-group class=\"inp-group-item\" name=\"title\" label=\"Mesh Title\" [(value)]=\"data.title\" (subcribe)=\"onTitle($event)\"></inp-text-group> -->\n        <div class=\"inputs\">\n            <div class=\"input-group-item\" *ngFor=\"let inp of inputs; let i=index\">\n                <div class=\"input-item\" [ngSwitch]=\"inp.type\">\n                    <inp-switch-group *ngSwitchCase=\"'checkbox'\" [config]=\"inp\" (subcribe)=\"changeHandle($event)\" class=\"input-group inp-group-item\"></inp-switch-group>\n                    <inp-texture-group *ngSwitchCase=\"'texture'\" [config]=\"inp\" (subcribe)=\"changeHandle($event)\" class=\"input-group inp-group-item\"></inp-texture-group>\n                    <inp-color-group *ngSwitchCase=\"'color'\" [config]=\"inp\" (subcribe)=\"changeHandle($event)\" class=\"input-group inp-group-item\"></inp-color-group>\n                    <inp-select-group *ngSwitchCase=\"'select'\" [config]=\"inp\" (subcribe)=\"changeHandle($event)\" class=\"input-group inp-group-item\"></inp-select-group>\n                    <inp-range-group *ngSwitchCase=\"'range'\" [config]=\"inp\" (subcribe)=\"changeHandle($event)\" class=\"input-group inp-group-item\"></inp-range-group>\n                    <inp-number-group *ngSwitchCase=\"'number'\" [config]=\"inp\" (subcribe)=\"changeHandle($event)\" class=\"input-group inp-group-item\"></inp-number-group>\n                    <inp-text-group *ngSwitchDefault [config]=\"inp\" (subcribe)=\"changeHandle($event)\" class=\"input-group inp-group-item\"></inp-text-group>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\n\n@Component({\n    selector: 'app-tab-light',\n    templateUrl: './tab-light.component.html',\n    styleUrls: ['./tab-light.component.scss']\n})\nexport class TabLightComponent extends BaseComponent implements OnInit {\n\n    height50: boolean = false;\n    constructor(\n        private cd: ChangeDetectorRef,\n        private events: AppEditorEventService\n    ){\n        super();\n        \n    }\n\n    \n    initOnce(){\n     \n    }\n    init() {\n        if(this.isChangeSubEvents){\n            this.registerEventService(this.subEvents, {\n                \"tab.light.refresh\": e => {\n                    // console.log('r11')\n                    this.height50 = true;\n                    this.cd.detectChanges();\n                    setTimeout(() => {\n                        this.height50 = false;\n                        this.cd.detectChanges();\n                            \n                    }, 100);\n                }\n            })\n        }\n        this.activeEventServiceRegistered(this.subEvents);\n        this.cd.detectChanges();\n    }\n    onDestroy(){\n        this.deactiveEventServiceRegistered(this.subEvents);\n    }\n}\n","<div class=\"tab-inner\" [class.height-50]=\"height50\">\n    <h2>Lights & Shadows</h2>\n    <nz-tabset nzTabPosition=\"top\" nzType=\"line\" class=\"sub-tab\">\n      <nz-tab [nzTitle]=\"iconLights\">\n        <ng-template #iconLights>\n          <img src=\"/assets/icons/new-design/tab-sub/light.svg\" alt=\"Light\" />\n          <div>Light</div>\n        </ng-template>\n        <app-tab-lights></app-tab-lights>\n      </nz-tab>\n      <nz-tab [nzTitle]=\"iconShadow\">\n        <ng-template #iconShadow>\n          <img src=\"/assets/icons/new-design/tab-sub/shadow.svg\" alt=\"Shadow\" />\n          <div>Shadow</div>\n        </ng-template>\n        <ng-template nz-tab>\n          <app-tab-shadow></app-tab-shadow>\n        </ng-template>\n      </nz-tab>\n      \n    </nz-tabset>\n  </div>\n  ","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { TemplateModel } from '@app/_store/template';\n\n@Component({\n    selector: 'template-list',\n    templateUrl: './template-list.component.html',\n    styleUrls: ['./template-list.component.scss']\n})\nexport class TemplateListComponent extends BaseComponent implements OnInit {\n\n    @Input() title: string = 'All Template';\n\n    @Input() items: TemplateModel[];\n\n\n    @Output() clickMore = new EventEmitter<any>();\n    @Output() clickItem = new EventEmitter<any>();\n    \n    \n}\n\n","<div class=\"template-list-header\">\n    <h4 class=\"list-title\">{{title}}</h4>\n    <div class=\"list-more\">\n        <i nz-icon nzType=\"right\" nzTheme=\"outline\"></i>\n    </div>\n</div>\n<div class=\"template-list-body\">\n    <template-item *ngFor=\"let item of items; let i=index\" [item]=\"item\"></template-item>\n</div>","import { date, getArguments, isBoolean, isFunction, isObject, isString, Str } from '@app/_core/helpers/utils';\n\nconst DEFAULT_VALUE = Str.rand(Str.rand(date('ms')));\n\n\ntype EventEmit = {\n    type: string,\n    data?:any,\n    [key:string]:any \n}\ntype Listener = (event?:EventEmit)=>any\n\n\ntype OnEventListener = {\n    [event:string]: (Listener | string)\n}\n\n\nexport interface EventDispatcherInstance {\n    /**\n     * lắng nghe sự kiện\n     * @param {string} type loại hoạc tên sự kiện\n     * @param {function|string} handler hàm hoặc tên phương thức xử lý sự kiện\n     * @param {boolean} dispatch Thực thi trên tất cả các sự kiện trước đó\n     * @returns this\n     */\n    addEventListener (type:string, handler?:Listener, dispatch?:boolean) : Listener\n\n    /**\n     * Kiểm tra sự kiện có tồn tại hay không\n     * @param {string} type tên sự kiện\n     * @param {function} listener hàm xử lý\n     * @returns {boolean}\n     */\n    hasEventListener (type:string, listener?:Listener): boolean\n\n    /**\n     * Xóa / Gỡ sự kiện\n     * @param {string} type tên sự kiện\n     * @param {function} listener hàm xử lý\n     * @returns {boolean}\n     */\n    removeEventListener(type:string, listener?:Listener): boolean\n\n\n    /**\n     * Tạo, gọi ra một sự kiện\n     * @param {string|object} event Tên hoặc sự kiện\n     * @param {*} data dữ liệu\n     * @returns {boolean}\n     */\n    dispatchEvent (event:(EventEmit | String), data?:any):boolean \n    /**\n     * lắng nghe sự kiện\n     * @param {string} type loại hoạc tên sự kiện\n     * @param {function|string} handler hàm hoặc tên phương thức xử lý sự kiện\n     * @param {boolean} passed tham số báo có cần kiểm tra hay ko\n     * @returns this\n     */\n    on(type:(OnEventListener|string), listener?:Listener|string|boolean, dispatch?:boolean) : this\n    /**\n     * lắng nghe sự kiện\n     * @param {string} type loại hoạc tên sự kiện\n     * @param {function|string} handler hàm hoặc tên phương thức xử lý sự kiện\n     * @param {boolean} passed tham số báo có cần kiểm tra hay ko\n     * @returns this\n     */\n    subcribe(type:(OnEventListener|string), listener?:Listener, dispatch?:boolean): this\n\n    off(type?:any, listener?:Listener):this\n\n    /**\n     * Tạo, gọi ra một sự kiện\n     * @param {string|object} event Tên hoặc sự kiện\n     * @param {*} data dữ liệu\n     * @returns {boolean}\n     */\n    emit(event:(EventEmit | String), data?:any): boolean\n\n    /**\n     * Tạo, gọi ra một sự kiện\n     * @param {string|object} event Tên hoặc sự kiện\n     * @param {*} data dữ liệu\n     * @returns {boolean}\n     */\n    trigger(event:(EventEmit | String), data?:any): boolean\n}\n\nexport const EventDispatcher = {\n\n    $_listeners: null,\n    $_dispatchedEvents: null,\n    boots: ['setDefaultEventOptions'],\n    setDefaultEventOptions: function(){\n        this._listeners = {};\n        this._dispatchedEvents = {};\n    },\n    \n\n    /**\n     * chuẩn hóa hàn lắng nghe sự kiện\n     * @param {string|function} handler tên phương thức hoạc hàm handler\n     * @returns function\n     */\n\n     parseEventHandler(handler:any):Listener{\n        var self = this;\n        if (typeof handler == \"function\") {\n            return handler;\n        }\n        var fnt = handler ? handler : function (e) {\n            console.log(e);\n        };\n        if (typeof handler == \"string\") {\n            var params = [];\n            var handleParams = handler.split(\":\");\n            if (handleParams.length == 2) {\n                handler = handleParams[0];\n                params = handleParams[1].split(\",\").map(function (s) { return s.trim(); });\n\n            }\n\n            fnt = function (e) {\n                var args = [e];\n                params.map(function (p) { args.push(p); });\n                \n                if (typeof self[handler] == \"function\") {\n                    return self[handler].apply(self, args);\n                }\n            };\n\n\n        }\n        return fnt;\n    },\n\n    /**\n     * lắng nghe sự kiện\n     * @param {string} type loại hoạc tên sự kiện\n     * @param {function|string} handler hàm hoặc tên phương thức xử lý sự kiện\n     * @param {boolean} dispatch Thực thi trên tất cả các sự kiện trước đó\n     * @returns this\n     */\n     addEventListener (type:string, handler:any, dispatch?:any) {\n        var self = this;\n        var listener = this.parseEventHandler(handler);\n        \n        if (this._listeners === undefined || this._listeners === null) this._listeners = {};\n\n        type = String(type).toLowerCase();\n\n\n\n        // if (isDomEvent(type)) return this.addDomEvent(type, listener, DEFAULT_VALUE);\n        const listeners = this._listeners;\n\n        if (listeners[type] === undefined) {\n\n            listeners[type] = [];\n\n        }\n        if(dispatch === true){\n            this.handleDispatchedEvents(type, listener);\n        }\n        \n        if (listeners[type].indexOf(listener) === - 1) {\n            listeners[type].push(listener);\n        }\n        return listener;\n    },\n\n    /**\n     * Kiểm tra sự kiện có tồn tại hay không\n     * @param {string} type tên sự kiện\n     * @param {function} listener hàm xử lý\n     * @returns {boolean}\n     */\n    hasEventListener (type:string, listener:any = undefined): boolean {\n\n        if (this._listeners === undefined || this._listeners === null) return false;\n\n        const listeners = this._listeners;\n        type = String(type).toLowerCase();\n        return listeners[type] !== undefined && (listener?listeners[type].indexOf(listener) !== - 1:true);\n\n    },\n\n    /**\n     * Xóa / Gỡ sự kiện\n     * @param {string} type tên sự kiện\n     * @param {function} listener hàm xử lý\n     * @returns {boolean}\n     */\n    removeEventListener(type:string, listener:any = undefined): boolean {\n\n        if (this._listeners === undefined || this._listeners === null) return false;\n        type = String(type).toLowerCase();\n        const listeners = this._listeners;\n        const listenerArray = listeners[type];\n        if (listenerArray !== undefined) {\n            if(!listener){\n                this._listeners[type].splice(0, this._listeners[type].length);\n                return true;\n            }\n\n            const index = listenerArray.indexOf(listener);\n\n            if (index !== - 1) {\n\n                listenerArray.splice(index, 1);\n\n                return true;\n            }\n\n        }\n        return false;\n\n\n    },\n\n\n    /**\n     * Tạo, gọi ra một sự kiện\n     * @param {string|object} event Tên hoặc sự kiện\n     * @param {*} data dữ liệu\n     * @returns {boolean}\n     */\n    dispatchEvent (event:any, data:any=undefined):boolean {\n        if (this._listeners === undefined || this._listeners === null || !event) return null;\n        var e:any = {};\n        if(isString(event)){\n            e.type = event;\n            if(data){\n                e.data = data;\n            }\n            // console.log(event, data);\n        }else if(isObject(event)){\n            if(!event.type) return false;\n            e = event;\n            if(!e.data && data){\n                e.data = data;\n            }\n        }\n        else{\n            return false;\n        }\n\n        // if (isDomEvent(event.type)) return this.trigger.apply(this, getArguments(arguments));\n        const listeners = this._listeners;\n        const listenerArray = listeners[e.type];\n        var s = true;\n        if(!e.target){\n            e.target = this;\n        }\n\n        e.stopImmediatePropagation = function () {\n            s = false;\n        }\n\n        this.addDispatchedEvent(e);\n\n        if (listenerArray !== undefined) {\n            // Make a copy, in case listeners are removed while iterating.\n            const array = listenerArray.slice(0);\n\n            for (var i = 0, l = array.length; i < l; i++) {\n                array[i].call(this, e);\n                if (!s) break;\n\n            }\n            return s;\n        }\n        \n    },\n    /**\n     * lắng nghe sự kiện\n     * @param {string} type loại hoạc tên sự kiện\n     * @param {function|string} handler hàm hoặc tên phương thức xử lý sự kiện\n     * @param {boolean} passed tham số báo có cần kiểm tra hay ko\n     * @returns this\n     */\n    on(type:any, listener?:any, dispatch?:any){\n        if(isObject(type)){\n            var listeners = {};\n            var d = isBoolean(listener)?listener:dispatch;\n            for (const key in type) {\n                if (Object.hasOwnProperty.call(type, key)) {\n                    const fn = type[key];\n                    if(isFunction(fn) || isString(fn)){\n                        const fnAdded = this.addEventListener(key, fn, d);\n                        if(fnAdded){\n                            listeners[type]=fnAdded;\n                        }\n                    }\n                }\n            }\n            return listeners;\n        }\n        return this.addEventListener(type, listener, dispatch);\n    },\n\n    off(type:any=undefined, listener:any=undefined){\n        if(isObject(type)){\n            for (const key in type) {\n                if (Object.prototype.hasOwnProperty.call(type, key)) {\n                    const l = type[key];\n                    this.removeEventListener(key, l);\n                }\n            }\n            return true;\n        }\n        return this.removeEventListener(type, listener);\n    },\n    /**\n     * Tạo, gọi ra một sự kiện\n     * @param {string|object} event Tên hoặc sự kiện\n     * @param {*} data dữ liệu\n     * @returns {boolean}\n     */\n    emit(event:any=undefined, data:any=undefined): boolean{\n        return this.dispatchEvent.apply(this, getArguments(arguments));\n    },\n    \n    addDispatchedEvent(event:any=undefined){\n        if(this._dispatchedEvents[event.type] === undefined) this._dispatchedEvents[event.type] = [];\n        this._dispatchedEvents[event.type].push(event);\n        // console.log(event.type, this._pendingListeners[event.type])\n        return this\n    },\n\n    handleDispatchedEvents(type:string, handler:(...args:any[]) => any){\n        var listenerArray = this._dispatchedEvents[type];\n        // console.log(type, this._pendingListeners[type], this);\n        if (listenerArray !== undefined) {\n            \n        \n            // console.log(type)\n            // Make a copy, in case listeners are removed while iterating.\n            const array = listenerArray.slice(0);\n\n            for (var i = 0, l = array.length; i < l; i++) {\n                // array[i].call(this, e);\n                var s = handler.call(this, array[i]);\n                if(s === false){\n                    return s;\n                }\n\n            }\n        }\n    }\n    \n}\n","import { assignValue, assignWithout, date, getType, inArray, isArray, isObject, objectKeys, Str } from '@app/_core/helpers/utils';\r\nimport * as THREE from 'three';\r\n\r\nimport Props from '../libs/props';\r\n\r\nimport { LightLib } from '../libs/three.libs';\r\n\r\nimport { Lensflare, LensflareElement } from 'three/examples/jsm/objects/Lensflare.js';\r\n// const textureLoader = new THREE.TextureLoader();\r\n\r\n// const textureFlare0 = textureLoader.load('/textures/lensflare/lensflare0.png');\r\n// const textureFlare3 = textureLoader.load('/textures/lensflare/lensflare3.png');\r\nconst Lights = {\r\n    lightTypes: [\r\n        \"AmbientLight\",\r\n        \"AmbientLightProbe\",\r\n        \"DirectionalLight\",\r\n        \"HemisphereLight\",\r\n        \"HemisphereLightProbe\",\r\n        \"Light\",\r\n        \"LightProbe\",\r\n        \"PointLight\",\r\n        \"RectAreaLight\",\r\n        \"SpotLight\"\r\n    ],\r\n    $lights: null,\r\n    resetLights: function(){\r\n        var self = this;\r\n        var lights = [];\r\n        if(isArray(this.lights)){\r\n            this.lights.map(function(light){\r\n                lights.push(light.secret_key);\r\n            });\r\n        }\r\n        \r\n        lights.map(function(light){\r\n            self.removeLight(light);\r\n        });\r\n    },\r\n    /**\r\n     * them doi tuong vao khung\r\n     * @param {object} obj doi tuong\r\n     * @param {function(<object>)} success\r\n     */\r\n    addLightObject: function (obj:any, secret_key?:string, success?:(...args:any[])=>any) {\r\n\r\n        if (!this.scene) return false;\r\n        if (this.lights == null) this.lights = [];\r\n        var t = obj.$type ? String(obj.$type) : \"\";\r\n        if (inArray(this.lightTypes, t)) {\r\n            var data:any = {\r\n                type: t,\r\n                object: obj.light || obj.object\r\n            };\r\n\r\n            this.scene.add(data.object);\r\n            var key = obj.secret_key ? obj.secret_key : (secret_key ? secret_key : date().time + '_' + Str.rand(6));\r\n            data.secret_key = key;\r\n            // if (obj.model) data.model = obj.model;\r\n            this.lights.push(data);\r\n            if (typeof success == \"function\") {\r\n                success(data);\r\n            }\r\n            this.emit('light.added', data);\r\n            this.refresh();\r\n            return data;\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n\r\n    removeLightObject: function (args:any) {\r\n        if (this.lights == null) return false;\r\n        for (let index = 0; index < this.lights.length; index++) {\r\n            const obj = this.lights[index];\r\n            if (args == obj || args == obj.object || args == obj.secret_key) {\r\n                this.scene.remove(obj.object);\r\n                this.emit('light.removed', obj);\r\n                this.lights.splice(index, 1);\r\n                return true;\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * them êm hiệu ung anh sang\r\n     * @param {string} type loai hieu ung anh sang\r\n     * @param {function(lightData:<Object>)} success \r\n     */\r\n    addLight: function (lightOptions:any, success?:(...args:any[])=>any) {\r\n        var light:any, opt:any, t:any;\r\n\r\n        if (isObject(lightOptions)) {\r\n            if (lightOptions.data && isObject(lightOptions.data)) {\r\n                opt = assignWithout({}, lightOptions.data, ['type']);\r\n                if (lightOptions.data.type) t = lightOptions.data.type;\r\n            }\r\n            else {\r\n                opt = assignWithout({}, lightOptions, ['type']);\r\n\r\n            }\r\n            if (!t && lightOptions.type) t = lightOptions.type;\r\n        }\r\n        \r\n        if (t && opt) {\r\n            light = LightLib.getLight(t, opt);\r\n            \r\n            if (light) {\r\n\r\n                if(light.target){\r\n                    if(!(opt.props && opt.props.target && opt.target.position)){\r\n                        light.target.position.y = this.dropbyPositionY;\r\n                    }\r\n                }\r\n\r\n                return this.addLightObject({\r\n                    $type: light.type,\r\n                    secret_key: lightOptions.id || lightOptions.secret_key || undefined,\r\n                    light: light\r\n                }, null, success);\r\n            }\r\n\r\n        }\r\n        return false;\r\n    },\r\n\r\n\r\n\r\n    /**\r\n     * Thêm nhiều ánh sáng\r\n     * @param {array} lights mảng các tham số\r\n     */\r\n    addLights: function (lights:any[]) {\r\n        if (isArray(lights)) {\r\n            for (let index = 0; index < lights.length; index++) {\r\n                const light = lights[index];\r\n                if (isObject(light)) {\r\n                    this.addLight(light);\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * \r\n     * @param {string} secret_key\r\n     * @returns \r\n     */\r\n    getLight: function (secret_key:any) {\r\n        var t = getType(secret_key);\r\n        if (t == \"string\" || t == \"number\") {\r\n            for (let i = 0; i < this.lights.length; i++) {\r\n                const obj = this.lights[i];\r\n                // console.log(obj.secret_key == secret_key);\r\n                if (obj.secret_key == secret_key) return obj;\r\n            }\r\n        } else if (t == \"object\") {\r\n            if (secret_key.uuid) {\r\n                for (let i = 0; i < this.lights.length; i++) {\r\n                    const obj = this.lights[i];\r\n                    if (obj.object == secret_key) return obj;\r\n                }\r\n            }\r\n            else {\r\n                for (let i = 0; i < this.lights.length; i++) {\r\n                    var s = true;\r\n                    const objectData = this.lights[i];\r\n                    for (const key in secret_key) {\r\n                        if (secret_key.hasOwnProperty(key)) {\r\n                            const cvalue = secret_key[key];\r\n                            if (objectData[key] != cvalue) s = false;\r\n                        }\r\n                    }\r\n                    if (s) return objectData;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    },\r\n\r\n\r\n    /**\r\n     * \r\n     * @param {string} secret_key\r\n     * @returns \r\n     */\r\n     removeLight: function (secret_key?:any) {\r\n        var t = getType(secret_key);\r\n        var light = null;\r\n        var index = -1;\r\n        if (t == \"string\" || t == \"number\") {\r\n            for (let i = 0; i < this.lights.length; i++) {\r\n                const obj = this.lights[i];\r\n                // console.log(obj.secret_key == secret_key);\r\n                if (obj.secret_key == secret_key) {\r\n                    light = obj;\r\n                    index = i;\r\n                    break;\r\n                }\r\n            }\r\n        } else if (t == \"object\") {\r\n            if (secret_key.uuid) {\r\n                for (let i = 0; i < this.lights.length; i++) {\r\n                    const obj = this.lights[i];\r\n                    if (obj.object == secret_key) {\r\n                        light = obj;\r\n                        index = i;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                for (let i = 0; i < this.lights.length; i++) {\r\n                    var s = true;\r\n                    const objectData = this.lights[i];\r\n                    for (const key in secret_key) {\r\n                        if (secret_key.hasOwnProperty(key)) {\r\n                            const cvalue = secret_key[key];\r\n                            if (objectData[key] != cvalue) s = false;\r\n                        }\r\n                    }\r\n                    if (s) {\r\n\r\n                        light = objectData;\r\n                        index = i;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if(light && index !== -1){\r\n            this.emit({\r\n                type: \"light.removing\",\r\n                light: light\r\n            });\r\n            \r\n            this.scene.remove(light.object);\r\n            this.lights.splice(index, 1);\r\n            this.emit({\r\n                type:\"light.removed\",\r\n                data: light\r\n            });\r\n            return light;\r\n        }\r\n        return false;\r\n    },\r\n\r\n\r\n    updateLightProps: function(secret_key?:any, properties?:any){\r\n        var data = this.getLight(secret_key);\r\n        if(!data) return false;\r\n        var props = Props.parse(properties);\r\n        var light = data.object;\r\n        LightLib.setProperties(light, props);\r\n        light.needsUpdate = true;\r\n        // console.log(light.object);\r\n        this.emit({\r\n            type: \"light.update\",\r\n            data: data\r\n        })\r\n\r\n    },\r\n\r\n    addFlare: function (light) {\r\n\r\n        const lensflare = new Lensflare();\r\n        // lensflare.addElement(new LensflareElement(textureFlare0, 700, 0, light.color));\r\n        // lensflare.addElement(new LensflareElement(textureFlare3, 60, 0.6));\r\n        // lensflare.addElement(new LensflareElement(textureFlare3, 70, 0.7));\r\n        // lensflare.addElement(new LensflareElement(textureFlare3, 120, 0.9));\r\n        // lensflare.addElement(new LensflareElement(textureFlare3, 70, 1));\r\n        light.add(lensflare);\r\n    },\r\n\r\n    getLightTemplateData: function(type?:any){\r\n        var t = String(type).toLowerCase();\r\n        return this.lightTemplateData[t] || this.lightTemplateData[t+\"light\"] || null;\r\n    },\r\n    lightTemplateData: {\r\n        ambientlight: {\r\n            type: \"ambientlight\",\r\n            data: {\r\n                params: {\r\n                    color: \"#222222\"\r\n                },\r\n                props: {\r\n\r\n                }\r\n            }\r\n        },\r\n        directionallight: {\r\n            type: \"Directionallight\",\r\n            data: {\r\n                params: {\r\n                    color: \"#FFE0B5\",\r\n                    intensity: 1\r\n                },\r\n                props: {\r\n                    position: {\r\n                        x: 10,\r\n                        y: 10,\r\n                        z: 0\r\n                    },\r\n                    castShadow: true,\r\n                    shadow: {\r\n                        mapSize: {\r\n                            width: 4096,\r\n                            height: 4096\r\n                        },\r\n                        camera: {\r\n                            near: 0.1,\r\n                            far: 100,\r\n                            left: 10,\r\n                            right: -10,\r\n                            top: 10,\r\n                            bottom: -10\r\n                        },\r\n                        darkness: 0.1,\r\n                        bias: -0.0002,\r\n                        radius: 5\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        hemispherelight: {\r\n            type: \"hemispherelight\",\r\n            data: {\r\n                params: {\r\n\r\n                    color: \"#00aaff\",\r\n                    groundColor: \"#ffaa00\",\r\n                    intensity: 1\r\n\r\n                }\r\n            }\r\n\r\n        },\r\n        pointlight: {\r\n\r\n            type: \"pointlight\",\r\n            data: {\r\n                params: {\r\n\r\n                    color: \"#00aaff\",\r\n                    intensity: 1\r\n\r\n                },\r\n                props: {\r\n                    position: {\r\n                        x: 0,\r\n                        y: 1,\r\n                        z: 0\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        rectarealight: {\r\n            type: \"rectarealight\",\r\n            data: {\r\n                params: {\r\n                    color: 0xffffff,\r\n                    intensity: 1,\r\n                    width: 10,\r\n                    height: 10\r\n                },\r\n                props: {\r\n                    position: {\r\n                        x: -2,\r\n                        y: 2,\r\n                        z: 1\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        spotlight: {\r\n            type: \"spotlight\",\r\n            data: {\r\n                params: {\r\n                    color: 0xffffff,\r\n                    intensity: 1,\r\n                    distance: 0,\r\n                    angle: Math.PI * 0.1,\r\n                    penumbra: 0\r\n                },\r\n                props: {\r\n                    position: {\r\n                        x: 5, y: 10, z: 6\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    },\r\n};\r\n\r\nexport default Lights;\r\nexport {Lights}","import { Component, Input, OnInit } from '@angular/core';\nimport { assignValue } from '@app/_core/helpers/utils';\nimport { BaseInpGroupComponent } from '../base-inp-group/base-inp-group.component';\n\n@Component({\n  selector: 'inp-range-group',\n  templateUrl: './inp-range-group.component.html',\n  styleUrls: ['./inp-range-group.component.scss']\n})\nexport class InpRangeGroupComponent extends BaseInpGroupComponent implements OnInit {\n\n  @Input() step: number = 1;\n  @Input() max: number = 9999999999999999;\n  @Input() min: number =-9999999999999999;\n\n  @Input() output: boolean = false;\n\n  \n  configProps = [\"step\", \"min\", \"max\", \"spin\", \"output\"];\n\n  constructor() {\n    super();\n  }\n\n  onInit(): void {\n    assignValue(this.defaultValues, {\n      step: 1,\n      min: -9999999999999999,\n      max:  9999999999999999,\n      output: false\n    });\n    this.inpInit();\n  }\n\n  \n  valChange(value){\n    this.onChange({value});\n  }\n\n  \n}\n","<div class=\"input-group text-group\">\n    <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\">\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"24\">\n            <div class=\"inner-box\">{{label?label:name | translate}}</div>\n        </div>\n    </div>\n    <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\" class=\"input-wrapper\">\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"16\">\n            <nz-slider [name]=\"name\" [nzMin]=\"min\" [nzMax]=\"max\" [nzStep]=\"step\" [(ngModel)]=\"value\" (ngModelChange)=\"valChange($event)\"></nz-slider>\n        </div>\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"8\">\n            <div class=\"inner-box\">\n                <nz-input-number [name]=\"name\" [nzMin]=\"min\" [nzMax]=\"max\" [nzStep]=\"step\" [(ngModel)]=\"value\" (ngModelChange)=\"valChange($event)\" [ngStyle]=\"{ marginLeft: '0px' }\"></nz-input-number>\n            </div>\n        </div>\n    </div>\n</div>","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","import { Component, OnInit } from '@angular/core';\nimport { BaseInputComponent } from '../base-input/base-input.component';\n\n@Component({\n  selector: 'inp-text',\n  templateUrl: './inp-text.component.html',\n  styleUrls: ['./inp-text.component.scss']\n})\nexport class InpTextComponent extends BaseInputComponent implements OnInit {\n\n  _old: any = null;\n  constructor() {\n    super();\n   }\n\n  ngOnInit(): void {\n    this._old = this.value;\n  }\n\n  onChangeValue(event){\n    if(this._old !== this.value){\n      this.emit();\n      this._old = this.value;\n    }\n  }\n\n}\n","<input nz-input \n    placeholder=\"{{placeholder?placeholder:name|translate}}\" \n    [(ngModel)]=\"value\" \n    (input)=\"onChangeValue($event)\" \n    (change)=\"onChangeValue($event)\" \n/>","import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\nimport { Object3DPropDataModel, Object3DPropDefaultData } from '@app/_3D/store/data.type';\nimport { assignValue, isObject } from '@app/_core/helpers/utils';\n\n\n@Component({\n    selector: 'prop-inputs',\n    templateUrl: './prop-inputs.component.html',\n    styleUrls: ['./prop-inputs.component.scss']\n})\nexport class PropInputsComponent implements OnInit, OnChanges {\n    @Input() props: Object3DPropDataModel = null;\n    @Input() index: number = 0;\n    @Output() onUpdate = new EventEmitter<Object3DPropDataModel>();\n    constructor() { }\n\n    ngOnInit(): void {\n        let defData = assignValue({}, Object3DPropDefaultData);\n        let finalData = assignValue(defData, this.props);\n        if (!isObject(this.props)) this.props = finalData;\n        else assignValue(this.props, finalData);\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        //Called before any other lifecycle hook. Use it to inject dependencies, but avoid any serious work here.\n        //Add '${implements OnChanges}' to the class.\n        console.log(changes)\n\n    }\n    onInputChange(event) {\n        if (event && isObject(event) && event.name) {\n            if (isObject(this.props[event.name]) && isObject(event.value)) {\n                assignValue(this.props[event.name], event.value);\n            }\n            else {\n                this.props[event.name] = event.value;\n            }\n            this.emitUpdate();\n        }\n    }\n\n    emitUpdate() {\n        this.onUpdate.emit(this.props);\n    }\n\n}\n","<div *ngIf=\"props\">\n    \n    <inp-switch-group name=\"castShadow\" [(value)]=\"props.castShadow\" label=\"Cast Shadow\" (subcribe)=\"onInputChange($event)\"></inp-switch-group>\n\n    <inp-switch-group name=\"receiveShadow\" [(value)]=\"props.receiveShadow\" label=\"Receive Shadow\" (subcribe)=\"onInputChange($event)\"></inp-switch-group>\n\n    <inp-vector3-group name=\"scale\" [(value)]=\"props.scale\" label=\"Scale\" (subcribe)=\"onInputChange($event)\"></inp-vector3-group>\n    \n    <inp-rotation-group name=\"rotation\" [(value)]=\"props.rotation\" label=\"Rotation\" (subcribe)=\"onInputChange($event)\"></inp-rotation-group>\n    \n    <inp-vector3-group name=\"position\" [(value)]=\"props.position\" label=\"Position\" (subcribe)=\"onInputChange($event)\"></inp-vector3-group>\n</div>","import { assignValue, assignWithout, combineElenentsJoinStringList, copyByList, copyWithout, date, getEl, getType, inArray, isArray, isEmpty, isNumber, isObject, isString, newObj, Str } from '@app/_core/helpers/utils';\r\nimport * as THREE from 'three';\r\n\r\nimport Props, { parseParams } from '../libs/props';\r\n\r\n\r\nimport { GLTFExporter } from 'three/examples/jsm/exporters/GLTFExporter.js';\r\nimport { Geometries, LightLib, LoaderLib, Materials, Meshes } from '../libs/three.libs';\r\n\r\nconst ObjectManager = {\r\n    $meshes: null,\r\n    $models: null,\r\n\r\n    $objects: null,\r\n\r\n\r\n    draggablePanel: null,\r\n\r\n    floorStatus: false,\r\n\r\n    downloadLink: null,\r\n    objectLoadingCount: 0,\r\n    objectLoadingTotal: 0,\r\n    boots: ['objectManagerBoot'],\r\n    pendingModels: null,\r\n    pendingObjects: null,\r\n\r\n    objectManagerBoot: function () {\r\n        this.meshes = [];\r\n        this.models = {};\r\n        this.objects = [];\r\n\r\n        this.pendingModels = [];\r\n        this.pendingObjects = [];\r\n\r\n    },\r\n\r\n\r\n    resetObjects: function () {\r\n        var self = this;\r\n        var objects = [];\r\n        this.meshes.map(function (mesh) {\r\n            objects.push(mesh.secret_key);\r\n        })\r\n        this.objects.map(function (mesh) {\r\n            objects.push(mesh.secret_key);\r\n        })\r\n        objects.map(function (mesh) {\r\n            self.removeObject(mesh);\r\n        })\r\n    },\r\n\r\n    /**\r\n     * them doi tuong vao khung\r\n     * @param {object} obj doi tuong\r\n     * @param {function} updateHandler hanh dong khi update\r\n     */\r\n    addObjectData: function (obj: any, updateHandler?: (...args: []) => any, secret_key?: any): string {\r\n\r\n        if (!this.scene) return null;\r\n        var type = obj.$type ? String(obj.$type).toLowerCase() : \"\";\r\n        if (inArray(['smartobject', '3dobject', 'sm', 'model', 'mesh', 'light', 'group'], type)) {\r\n            var data: any = {\r\n                type: type,\r\n                object: obj.object\r\n            };\r\n            const t = typeof updateHandler;\r\n            if (updateHandler && (t == \"function\" || (t == \"object\" && !isEmpty(updateHandler)))) {\r\n                data.handler = this.parseUpdateHandler(updateHandler);\r\n            }\r\n            if (obj.animations && isArray(obj.animations) && obj.animations.length) {\r\n                data.animations = obj.animations;\r\n            }\r\n            var propList = [\"meshes\", 'textures', 'wrapper', 'size', 'raw'];\r\n            for (let index = 0; index < propList.length; index++) {\r\n                const key = propList[index];\r\n                if (typeof obj[key] && obj[key]) {\r\n                    data[key] = obj[key];\r\n                }\r\n            }\r\n\r\n            // if (type == 'model') {\r\n                this.scene.add(obj.object);\r\n            // }\r\n\r\n            var key = obj.secret_key ? obj.secret_key :\r\n                (secret_key ? secret_key : date().time + '_' + Str.rand(6));\r\n            data.secret_key = key;\r\n            // if (obj.model) data.model = obj.model;\r\n            this.objects.push(data);\r\n            var s = this.emit('object.added', data);\r\n            // console.log(s);\r\n            this.refresh();\r\n            return key;\r\n        }\r\n\r\n        else {\r\n            var data: any = {\r\n                object: obj\r\n            };\r\n            const t = typeof updateHandler;\r\n            if (updateHandler && (t == \"function\" || (t == \"object\" && !isEmpty(updateHandler)))) {\r\n                data.handler = this.parseUpdateHandler(updateHandler);\r\n            }\r\n            this.scene.add(obj);\r\n            var key = obj.secret_key ? obj.secret_key :\r\n                (secret_key ? secret_key : date().time + '_' + Str.rand(6));\r\n            data.secret_key = key;\r\n            this.objects.push(data);\r\n            var s = this.emit('object.added', data);\r\n            // console.log(s);\r\n\r\n            this.refresh();\r\n            return key;\r\n        }\r\n        return null;\r\n    },\r\n\r\n\r\n    removeObjectData: function (args?: any) {\r\n        for (let index = 0; index < this.objects.length; index++) {\r\n            const obj = this.objects[index];\r\n            if (args == obj || args == obj.object || args == obj.secret_key) {\r\n                this.scene.remove(obj.object);\r\n                this.emit('object.removed', obj);\r\n                this.objects.splice(index, 1);\r\n                this.refresh();\r\n                return true;\r\n            }\r\n        }\r\n    },\r\n    /**\r\n     * Thêm model item để thiết lập \r\n     * @param {Object} options \r\n     * @param {function(obj, model)} onSuccess \r\n     * @param {function(error)} onError \r\n     * @param {function(proccessing)} onProgress\r\n     */\r\n    addSettingModelItem: function (options: any, onSuccess?: (obj?: any, model?: any) => any, onError?: (error?: any) => any, onProgress?: (percent?: number) => any) {\r\n        var params = copyByList(options, ['type', 'path', 'file', 'custom_file']);\r\n        assignValue(params, options.load_options);\r\n\r\n        if (params.custom_file) {\r\n            params.file = params.custom_file;\r\n        }\r\n        var optionData = options.settings || {};\r\n        // console.log(object);\r\n        optionData.options = {\r\n            pivot: {\r\n                x: \"center\",\r\n                y: \"center\",\r\n                z: \"center\"\r\n            }\r\n        };\r\n\r\n        var self = this;\r\n\r\n\r\n        return this.getModel(params, function (obj, model) {\r\n            var data = self.parseModel(obj, optionData);\r\n            if (!data) return console.log(\r\n                \"loi\"\r\n            )\r\n            // data.model = model;\r\n            data.name = options.name;\r\n            data.secret_key = options.secret_key;\r\n            var secret_key = self.addObjectData(data);\r\n            var ob = self.getObject(secret_key);\r\n            // console.log(options)\r\n            if (options.settings) {\r\n                self.updateObjectSettings(secret_key, options.settings);\r\n            }\r\n            onSuccess(ob);\r\n            self.refresh();\r\n        }, onError, onProgress);\r\n    },\r\n\r\n\r\n\r\n    /**\r\n     * Thêm model item để thiết lập templates\r\n     * @param {string} secret_key \r\n     * @param {Object} options \r\n     * @param {function(obj, model)} onSuccess \r\n     * @param {function(error)} onError \r\n     * @param {function(proccessing)} onProgress\r\n     */\r\n    addItemToTemplateSettingWorkspace: function (secret_key: string, options?: any, onSuccess?: (object?: any, model?: any) => any, onError?: (error?: any) => any, onProgress?: (percent?: number) => any) {\r\n        var params = copyByList(options, ['type', 'path', 'file', 'custom_file']);\r\n        assignValue(params, options.load_options);\r\n\r\n        if (params.custom_file) {\r\n            params.file = params.custom_file;\r\n        }\r\n        var optionData = options.settings || {};\r\n        optionData.options = {\r\n            pivot: {\r\n                x: \"center\",\r\n                y: \"center\",\r\n                z: \"center\"\r\n            }\r\n        };\r\n\r\n        var self = this;\r\n\r\n\r\n        return this.getModel(params, function (obj, model) {\r\n            var data = self.parseModel(obj, optionData);\r\n            if (!data) return console.log(\r\n                \"loi\"\r\n            )\r\n            // data.model = model;\r\n            data.name = options.name;\r\n            data.secret_key = secret_key || options.secret_key;\r\n            var _secret_key = self.addObjectData(data);\r\n            var ob = self.getObject(_secret_key);\r\n            if (options.settings) {\r\n                self.updateObjectSettings(_secret_key, options.settings);\r\n            }\r\n            onSuccess(ob);\r\n            self.refresh();\r\n        }, onError, onProgress);\r\n    },\r\n\r\n\r\n    /**\r\n     * them model\r\n     * @param {object} options các thong so load\r\n     * @param {function} success \r\n     * @param {function} onError \r\n     */\r\n    addModel: function (options: any, success?: (data?: any) => any, onError?: (error?: any) => any, onProgress?: (percent?: number) => any) {\r\n        if (typeof options != \"object\") return false;\r\n        var self = this;\r\n        this.getModelAndConvertToAppObjectData(options, function (data) {\r\n            var hd = Props.getObjectAnimateHandler(options);\r\n            if (hd) {\r\n                data.handler = hd;\r\n            }\r\n\r\n            // console.log(data)\r\n            // self.scene.add(data.object);\r\n            var secret_key = self.addObjectData(data, hd, options.secret_key);\r\n\r\n            // self.models[_id] = data;\r\n            // if (data.custom) {\r\n            //     self.Custom.add(_id);\r\n            // }\r\n            if (options.settings) {\r\n                self.updateObjectSettings(secret_key, options.settings);\r\n            }\r\n            if (typeof success == \"function\") {\r\n                success(self.getObject(secret_key));\r\n            }\r\n\r\n            self.refresh();\r\n        }, onError, onProgress);\r\n\r\n    },\r\n\r\n\r\n    /**\r\n     * Thêm nhiều ánh model\r\n     * @param {array} models mảng các tham số\r\n     */\r\n    addModels: function (models?: any[]) {\r\n        if (isArray(models)) {\r\n\r\n            for (let index = 0; index < models.length; index++) {\r\n                const model = models[index];\r\n\r\n                if (isObject(model)) {\r\n                    this.pendingModels.push(model)\r\n\r\n                }\r\n            }\r\n            var self = this;\r\n            var fn;\r\n            fn = function () {\r\n                if (self.pendingModels.length) {\r\n                    self.addModel(self.pendingModels.shift(), fn, fn);\r\n                }\r\n            };\r\n            fn()\r\n        }\r\n        return this;\r\n    },\r\n\r\n    addMesh: function addMesh(options: any, success?: (data?: any) => any) {\r\n        // console.log(options, typeof options == \"object\" && typeof options.geometry == \"object\" && typeof options.material == \"object\")\r\n        if (!isObject(options)) return null;\r\n        var self = this;\r\n        var meshData = isObject(options.data) ? options.data : options;\r\n        if (typeof meshData == \"object\" && typeof meshData.geometry == \"object\" && typeof meshData.material == \"object\") {\r\n\r\n            var mesh = this.Mesh.get(meshData, function (e) {\r\n                self.refresh();\r\n            });\r\n\r\n            if (mesh) {\r\n                assignWithout(mesh, meshData.props || meshData, ['type', 'geometry', 'material', 'props', 'update', 'handler', 'updateHandler', 'handlerData', 'id', \"custom\"]);\r\n                var hd = Props.getObjectAnimateHandler(meshData);\r\n                if (!mesh.name) mesh.name = meshData.geometry.type;\r\n                // console.log(mesh);\r\n                var data: any = {\r\n                    $type: \"mesh\",\r\n                    object: mesh,\r\n                    size: {}\r\n                }\r\n                var box = new THREE.Box3().setFromObject(mesh);\r\n                // box.getCenter(obj['position']); // this re-sets the mesh position\r\n                const dimensions = new THREE.Vector3();\r\n                var size: any = box.getSize(dimensions);\r\n                data.size = newObj({\r\n                    origin: {\r\n                        width: size.x,\r\n                        height: size.y,\r\n                        depth: size.z\r\n                    }\r\n                });\r\n                assignValue(data.size.origin, size);\r\n                var secret_key = this.addObjectData(data, hd, options.secret_key || options.id);\r\n\r\n                // this.meshes[secret_key] = data;\r\n                if (typeof success == \"function\") {\r\n                    success(this.getObject(secret_key))\r\n                }\r\n                this.refresh();\r\n\r\n                return secret_key;\r\n            }\r\n        }\r\n        return null;\r\n    },\r\n    addMeshes: function addMeshes(meshes: any[]) {\r\n        if (isArray(meshes)) {\r\n            for (let index = 0; index < meshes.length; index++) {\r\n                const mesh = meshes[index];\r\n                if (isObject(mesh)) {\r\n                    this.addMesh(mesh);\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n    addObject: function (object: any, onSuccess?: (data?: any) => any, onError?: (error?: any) => any, onProgress?: (p?: any) => any) {\r\n        try {\r\n            if (isObject(object) && object.type && isObject(object.data)) {\r\n                // console.log(object);\r\n                var data = object.data;\r\n                var type = String(object.type).toLowerCase();\r\n                // if (object.custom && !data.custom) {\r\n                //     data.custom = object.custom;\r\n                // }\r\n                if (object.secret_key) {\r\n                    data.secret_key = object.secret_key;\r\n                }\r\n                if (type == 'mesh') {\r\n                    this.addMesh(data, onSuccess, onError);\r\n                } else if (type == 'model') {\r\n                    this.addModel(data, onSuccess, onError, onProgress)\r\n                } else if (type == 'grid') {\r\n                    this.addGrid(data, onSuccess, onError)\r\n                } else if (type == 'group') {\r\n                    try {\r\n                        this.addGroup(data, onSuccess, onError);\r\n                    } catch (error) {\r\n                        // console.log(error);\r\n                        if (typeof onError == \"function\") {\r\n                            onError(error);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } catch (e) {\r\n            if (typeof onError == \"function\") {\r\n                onError(e);\r\n            }\r\n        }\r\n    },\r\n\r\n    addObjects: function addObjects(objects?: any[]) {\r\n        try {\r\n            var self = this;\r\n            this.objectLoadingCount = objects.length;\r\n            this.objectLoadingTotal = objects.length;\r\n            var currentLoad = 0;\r\n            if (isArray(objects)) {\r\n                if (objects.length == 0) {\r\n                    this.emit(\"object.load.completed\");\r\n                } else {\r\n                    this.emit(\"object.load.starting\");\r\n                }\r\n                for (let index = 0; index < objects.length; index++) {\r\n                    const obj = objects[index];\r\n                    if (isObject(obj)) {\r\n                        this.pendingObjects.push(obj);\r\n                    }\r\n                }\r\n                var fn;\r\n                fn = function () {\r\n                    if (self.pendingObjects.length) {\r\n                        self.addObject(self.pendingObjects.shift(), function (data) {\r\n                            self.objectLoadingCount--;\r\n                            currentLoad++;\r\n                            if (self.objectLoadingCount == 0) {\r\n                                self.emit(\"object.load.completed\");\r\n                            }\r\n                            else {\r\n                                fn();\r\n                            }\r\n                        }, function (e) {\r\n                            self.objectLoadingCount--;\r\n                            currentLoad++;\r\n                            if (self.objectLoadingCount == 0) {\r\n                                self.emit(\"object.load.completed\");\r\n                            }else {\r\n                                fn();\r\n                            }\r\n                        }, function(p){\r\n                            var n = currentLoad+(p/100);\r\n                            var pc:number = n/self.objectLoadingTotal;\r\n                            var a = parseInt(String(pc*10000)) / 100;\r\n                            self.emit({\r\n                                type: \"loadmore.progress\",\r\n                                percent: a\r\n                            })\r\n                        });\r\n                    }\r\n                };\r\n                fn()\r\n            } else if (isObject(objects)) {\r\n                for (const key in objects) {\r\n                    if (objects.hasOwnProperty(key)) {\r\n                        const object = objects[key];\r\n                        if (isObject(object)) {\r\n                            if (!object.id) object.secret_key = key;\r\n                            this.objectLoadingCount += 1;\r\n                            this.addObject(object, function (data) {\r\n                                self.objectLoadingCount--;\r\n                                if (self.objectLoadingCount == 0) {\r\n                                    this.emit(\"object.load.completes\");\r\n                                }\r\n                            }, function (e) {\r\n                                self.objectLoadingCount--;\r\n                                if (self.objectLoadingCount == 0) {\r\n                                    this.emit(\"object.load.completes\");\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n        return this;\r\n    },\r\n\r\n\r\n    /**\r\n     * Nhóm các đối tượng\r\n     * @param {object} groupData dữ liệu nhóm\r\n     */\r\n    addGroup: function addGroup(groupData: any, success?: (data?: any) => any) {\r\n        var id = \"group_\" + Str.rand();\r\n        var objects = [];\r\n        var meshes: any = {};\r\n        var self = this;\r\n        var getObj = function getObj(object: any) {\r\n            var o = null;\r\n            if (isObject(object) && object.type && isObject(object.data)) {\r\n                var data = object.data;\r\n                var type = String(object.type).toLowerCase();\r\n                if (type == 'mesh') {\r\n                    o = self.Mesh.get(data);\r\n                    if (o) {\r\n                        objects.push(o);\r\n                    }\r\n                }\r\n            }\r\n            return o;\r\n        }\r\n\r\n        try {\r\n            var children = [];\r\n            if (groupData.children && inArray(['array', 'object'], getType(groupData.children))) {\r\n                children = groupData.children;\r\n            } else if (groupData.objects && inArray(['array', 'object'], getType(groupData.objects))) {\r\n                children = groupData.objects;\r\n            }\r\n\r\n            if (isArray(children)) {\r\n                for (let index = 0; index < children.length; index++) {\r\n                    const obj = children[index];\r\n                    if (isObject(obj)) {\r\n                        const m = getObj(obj);\r\n                        if (m) {\r\n                            const n = m.name || \"mesh-\" + Str.rand();\r\n                            meshes[n] = m;\r\n                        }\r\n                    }\r\n                }\r\n            } else if (isObject(children)) {\r\n                for (const key in children) {\r\n                    if (children.hasOwnProperty(key)) {\r\n                        const object = children[key];\r\n                        if (isObject(object)) {\r\n                            const m = getObj(object);\r\n                            if (m) {\r\n                                const n = m.name || key;\r\n                                meshes[n] = m;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n            if (objects.length) {\r\n                var group = new THREE.Group();\r\n                for (let i = 0; i < objects.length; i++) {\r\n                    const obj = objects[i];\r\n                    group.add(obj);\r\n                }\r\n                if (isObject(groupData.props)) {\r\n                    assignValue(group, groupData.props);\r\n                }\r\n\r\n                meshes.main = group;\r\n                var hd = Props.getObjectAnimateHandler(groupData);\r\n                var d: any = {\r\n                    $type: \"group\",\r\n                    object: group,\r\n                    meshes: meshes\r\n                };\r\n\r\n                if (groupData.options && isObject(groupData.options)) {\r\n                    d.options = groupData.options;\r\n                }\r\n                if (groupData.id) {\r\n                    d.secret_key = groupData.id;\r\n                }\r\n                if (hd) {\r\n                    d.handler = hd;\r\n                }\r\n                if (isObject(groupData.textures) || isArray(groupData.textures)) {\r\n                    d.textures = groupData.textures;\r\n                }\r\n\r\n                var _id = this.addObjectData(d);\r\n\r\n                if (typeof success == \"function\") {\r\n                    success(this.getObject(_id))\r\n                }\r\n                this.refresh();\r\n\r\n\r\n            }\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n\r\n    },\r\n\r\n    getObject: function (secret_key: any): any {\r\n        var t = getType(secret_key);\r\n        if (t == \"string\" || t == \"number\") {\r\n            for (let i = 0; i < this.objects.length; i++) {\r\n                const obj = this.objects[i];\r\n                if (obj.secret_key == secret_key) return obj;\r\n            }\r\n        } else if (t == \"object\") {\r\n            if (secret_key.uuid) {\r\n                for (let i = 0; i < this.objects.length; i++) {\r\n                    const obj = this.objects[i];\r\n                    if (obj.object == secret_key) return obj;\r\n                }\r\n            }\r\n            else {\r\n                for (let i = 0; i < this.objects.length; i++) {\r\n                    var s = true;\r\n                    const objectData = this.objects[i];\r\n                    for (const key in secret_key) {\r\n                        if (secret_key.hasOwnProperty(key)) {\r\n                            const cvalue = secret_key[key];\r\n                            if (objectData[key] != cvalue) s = false;\r\n                        }\r\n                    }\r\n                    if (s) return objectData;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    },\r\n\r\n    removeObject: function (args: any) {\r\n        var t = getType(args);\r\n        if (t == \"string\" || t == \"number\") {\r\n            for (let i = 0; i < this.objects.length; i++) {\r\n                const obj = this.objects[i];\r\n                if (obj.secret_key == args) {\r\n                    this.objects.splice(i, 1);\r\n                    this.emit('object.removed', obj);\r\n                    this.scene.remove(obj.object);\r\n                    this.refresh();\r\n                    return obj;\r\n                }\r\n            }\r\n        } else if (t == \"object\") {\r\n            if (args.uuid) {\r\n                for (let i = 0; i < this.objects.length; i++) {\r\n                    const obj = this.objects[i];\r\n                    if (obj.object == args) {\r\n                        this.objects.splice(i, 1);\r\n                        this.emit('object.removed', obj);\r\n                        this.scene.remove(obj.object);\r\n                        this.refresh();\r\n                        return obj;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n\r\n                for (let i = 0; i < this.objects.length; i++) {\r\n                    var s = true;\r\n                    const objectData = this.objects[i];\r\n                    for (const key in args) {\r\n                        if (args.hasOwnProperty(key)) {\r\n                            const cvalue = args[key];\r\n                            if (objectData[key] != cvalue) s = false;\r\n                        }\r\n                    }\r\n                    if (s) {\r\n                        this.scene.remove(objectData.object);\r\n                        this.objects.splice(i, 1);\r\n                        this.emit('object.removed', objectData);\r\n                        return objectData;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    },\r\n\r\n    getMesh: function (args: any) {\r\n        if (typeof args == \"undefined\") return null;\r\n        if (typeof args == \"object\") {\r\n            args.type = 'mesh';\r\n        } else {\r\n            args = {\r\n                secret_key: args,\r\n                type: \"mesh\"\r\n            }\r\n        }\r\n        return this.getObject(args);\r\n    },\r\n    parseUpdateHandler: function (handler: any) {\r\n        return function (obj) {\r\n            // lặp qua các option opdate\r\n            for (const key in handler) {\r\n                if (handler.hasOwnProperty(key)) {\r\n                    const props = handler[key];\r\n                    if (isObject(props)) {\r\n                        // nếu là object pos hoac rota\r\n                        if (inArray(['rotation', 'position'], key)) {\r\n                            for (const p in props) {\r\n                                if (props.hasOwnProperty(p) && inArray(['x', 'y', 'z'], p)) {\r\n                                    const prop = props[p];\r\n                                    if (prop.hasOwnProperty('value') && isNumber(prop.value)) {\r\n                                        var v = Number(prop.value);\r\n                                        if (prop.hasOwnProperty('action')) {\r\n                                            if (inArray(['dec', 'decrement', '-'], prop.action)) {\r\n                                                obj[key][p] -= v;\r\n                                            } else {\r\n                                                obj[key][p] += v;\r\n                                            }\r\n\r\n                                        } else {\r\n                                            obj[key][p] = v;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        // end pos or rota\r\n                    }\r\n                    // nếu là phương thức hoặc\r\n                    else if (isArray(props) && key.substr(0, 1) == \"@\" && typeof obj[key.substr(1)] == \"function\") {\r\n                        obj[key.substr(1)].apply(obj, props);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Cập nhật thuộc tính cho đối tượng\r\n     * @param {string} id key nhan dien doi tuong trong scene\r\n     * @param {*} settings \r\n     */\r\n    updateObjectSettings: function (id: any, settings?: any, updateList?: any, meshIndex?: any, materialIndex?: number) {\r\n\r\n        var objectData = this.getObject(id);\r\n        var self = this;\r\n        if (objectData && settings && isObject(settings)) {\r\n            var settingData = assignValue({}, settings);\r\n            var obj = objectData.object;\r\n            if (isObject(settingData.props) && !isEmpty(settingData.props)) {\r\n                var props = settingData.props;\r\n                var cast = typeof props.castShadow == \"boolean\";\r\n                var receive = typeof props.receiveShadow == \"boolean\";\r\n                var ot = obj.type ? String(obj.type).toLowerCase() : \"\";\r\n                if (cast || receive) {\r\n                    if (obj.isMesh || ot == \"mesh\") {\r\n                        if (cast) obj.castShadow = props.castShadow;\r\n                        if (receive) obj.receiveShadow = props.receiveShadow;\r\n                        self.Shadows.removeMesh(obj);\r\n                    }\r\n                    if (obj.traverse) {\r\n                        obj.traverse(function (child) {\r\n                            var ct = child.type ? String(child.type).toLowerCase() : \"\";\r\n                            if (child.isMesh || ct == \"mesh\") {\r\n                                if (cast) child.castShadow = props.castShadow;\r\n                                if (receive) child.receiveShadow = props.receiveShadow;\r\n                                self.Shadows.removeMesh(obj);\r\n                            }\r\n                        });\r\n                    }\r\n                    else if (ot == \"group\" && obj.children && obj.children.length) {\r\n                        var trans;\r\n                        trans = function (o, lv) {\r\n                            for (let gi = 0; gi < o.children.length; gi++) {\r\n                                const child = o.children[gi];\r\n                                var ct = child.type ? String(child.type).toLowerCase() : \"\";\r\n                                if (child.isMesh || ct == \"mesh\") {\r\n                                    // data.meshes.push(child);\r\n                                    if (cast) child.castShadow = props.castShadow;\r\n                                    if (receive) child.receiveShadow = props.receiveShadow;\r\n                                    self.Shadows.removeMesh(obj);\r\n                                }\r\n                                if (child.children && child.children.length) {\r\n                                    if (!lv) lv = 0;\r\n                                    lv++;\r\n                                    trans(child, lv);\r\n                                }\r\n                            }\r\n                        };\r\n                        trans(obj);\r\n                    }\r\n                }// end if cast shadow\r\n                assignWithout(obj, props, ['receiveShadow', 'castShadow']);\r\n                this.dispatchEvent({\r\n                    type: \"object.update.props\",\r\n                    data: objectData\r\n                })\r\n            }// endd props\r\n\r\n            var setMeshData = function (mesh: any, data?: any) {\r\n                const paramData = Props.parse(assignWithout({}, data, ['material']), function (x) {\r\n                    self.refresh();\r\n                });\r\n                assignValue(mesh, paramData);\r\n                if (mesh.material && data.material) {\r\n                    if (isArray(mesh.material)) {\r\n                        const inb = isNumber(materialIndex) && materialIndex >= 0;\r\n                        if (isArray(data.material)) {\r\n                            for (let index = 0; index < mesh.material.length; index++) {\r\n                                const mat = mesh.material[index];\r\n                                const a = !inb || materialIndex == index;\r\n                                if (data.material[index] || a) {\r\n                                    const updateData = (updateList && isArray(updateList)) ? copyByList(data.material[index], updateList) : data.material[index];\r\n                                    Materials.setProperties(mat.type, mat, updateData, function (x) {\r\n                                        self.refresh();\r\n                                    });\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (!isArray(data.material)) {\r\n                        const updateData = (updateList && isArray(updateList)) ? copyByList(data.material, updateList) : data.material;\r\n                        Materials.setProperties(mesh.material.type, mesh.material, updateData, function (x) {\r\n                            self.refresh();\r\n                        });\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            if (settingData.meshes && isArray(settingData.meshes)) {\r\n                const ism = isString(meshIndex);\r\n                const isn = isNumber(meshIndex);\r\n                const hasInd = (ism || isn);\r\n                for (let i = 0; i < settingData.meshes.length; i++) {\r\n                    const mesh = settingData.meshes[i];\r\n                    for (let j = 0; j < objectData.meshes.length; j++) {\r\n                        const meshData = objectData.meshes[j];\r\n                        if (meshData.name == \"\" || mesh.name == \"\") {\r\n                            if ((meshData.name == mesh.name && i == j)) {\r\n                                if (!isn || meshIndex == i) {\r\n                                    setMeshData(meshData, mesh.data);\r\n                                    meshData.needsUpdate = true;\r\n                                }\r\n\r\n                            }\r\n                        }\r\n                        else if (meshData.name == mesh.name) {\r\n                            // assignValue(meshData, Props.parse(mesh.data));\r\n                            if (!hasInd || ((ism && mesh.name == meshIndex) || (isn && i == meshIndex))) {\r\n                                setMeshData(meshData, mesh.data);\r\n                                meshData.needsUpdate = true;\r\n                            }\r\n\r\n                        }\r\n\r\n                    }\r\n                }\r\n\r\n                this.dispatchEvent({\r\n                    type: \"object.update.meshes\",\r\n                    data: objectData\r\n                });\r\n            }\r\n\r\n            this.dispatchEvent({\r\n                type: \"object.update\",\r\n                data: objectData\r\n            })\r\n            this.refresh();\r\n        }\r\n    },\r\n\r\n    updateMeshMaterial: function (secret_key: any, meshName: any, material: any, materialIndex?: any) {\r\n        var objectData = this.getObject(secret_key);\r\n        var self = this;\r\n        if (objectData && material && isObject(material)) {\r\n            const isSn = isString(meshName);\r\n            const isNi = isNumber(meshName);\r\n\r\n            for (let index = 0; index < objectData.meshes.length; index++) {\r\n                const mesh = objectData.meshes[index];\r\n                if ((isNi && meshName == index) || (isSn && mesh.name == meshName)) {\r\n                    if (isArray(mesh.material)) {\r\n                        if (isNumber(materialIndex) && materialIndex >= 0) {\r\n                            if (typeof mesh.material[materialIndex] != \"undefined\") {\r\n                                if (material.type) {\r\n                                    let updateType = Materials.parseType(material.type);\r\n                                    let materialType = Materials.parseType(mesh.material[materialIndex].type);\r\n                                    if (updateType != materialType) {\r\n                                        mesh.material[materialIndex] = Materials.get(updateType, assignValue(Materials.getPropData(mesh.material[materialIndex]), assignWithout({}, material, ['type'])));\r\n                                    }\r\n                                    else {\r\n                                        Materials.setProperties(mesh.material[materialIndex].type, mesh.material[materialIndex], material, () => self.refresh());\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    Materials.setProperties(mesh.material[materialIndex].type, mesh.material[materialIndex], material, () => self.refresh());\r\n                                }\r\n                                break;\r\n                            }\r\n\r\n                        }\r\n                        else {\r\n                            if (material.type) {\r\n                                let updateType = Materials.parseType(material.type);\r\n                                let materialType = Materials.parseType(mesh.material[index].type);\r\n                                if (updateType != materialType) {\r\n                                    mesh.material[index] = Materials.get(updateType, assignValue(Materials.getPropData(mesh.material[index]), assignWithout({}, material, ['type'])));\r\n                                }\r\n                                else {\r\n                                    Materials.setProperties(mesh.material[index].type, mesh.material[index], material, () => self.refresh());\r\n                                }\r\n                            }\r\n                            else {\r\n                                Materials.setProperties(mesh.material[index].type, mesh.material[index], material, () => self.refresh());\r\n                            }\r\n                        }\r\n                    } else {\r\n\r\n                        if (material.type) {\r\n                            let updateType = Materials.parseType(material.type);\r\n                            let materialType = Materials.parseType(mesh.material.type);\r\n                            let m = assignWithout({}, material, ['type']);\r\n                            if (updateType != materialType) {\r\n                                mesh.material = Materials.get(updateType, assignValue(Materials.getPropData(mesh.material), m));\r\n                            }\r\n                            else {\r\n                                Materials.setProperties(mesh.material.type, mesh.material, m, () => self.refresh());\r\n                            }\r\n                        }\r\n                        else {\r\n                            Materials.setProperties(mesh.material.type, mesh.material, material, () => self.refresh());\r\n                        }\r\n\r\n                    }\r\n                    break;\r\n                }\r\n\r\n            }\r\n        }\r\n        self.refresh();\r\n    },\r\n\r\n    updateMeshesSettings: function updateMeshesSettings(secret_key: any, settings?: any, onlyProp?: string) {\r\n        var objectData = this.getMesh(secret_key);\r\n        var self = this;\r\n        if (objectData && settings && isObject(settings)) {\r\n\r\n            var settingData = assignValue({}, settings);\r\n            var obj = objectData.object;\r\n            if (isObject(settingData.props) && !isEmpty(settingData.props)) {\r\n                var props = settingData.props;\r\n                var cast = typeof props.castShadow == \"boolean\";\r\n                var receive = typeof props.receiveShadow == \"boolean\";\r\n                var ot = obj.type ? String(obj.type).toLowerCase() : \"\";\r\n                if (cast || receive) {\r\n                    if (obj.isMesh || ot == \"mesh\") {\r\n                        if (cast) obj.castShadow = props.castShadow;\r\n                        if (receive) obj.receiveShadow = props.receiveShadow;\r\n                        self.Shadows.removeMesh(obj);\r\n                    }\r\n\r\n                    if (obj.traverse) {\r\n                        obj.traverse(function (child) {\r\n                            var ct = child.type ? String(child.type).toLowerCase() : \"\";\r\n                            if (child.isMesh || ct == \"mesh\") {\r\n                                if (cast) child.castShadow = props.castShadow;\r\n                                if (receive) child.receiveShadow = props.receiveShadow;\r\n                                self.Shadows.removeMesh(obj);\r\n                            }\r\n                        });\r\n                    }\r\n\r\n                }// end if cast shadow\r\n                assignValue(obj, copyWithout(props, ['receiveShadow', 'castShadow']));\r\n\r\n                this.dispatchEvent({\r\n                    type: \"object.update.props\",\r\n                    data: objectData\r\n                });\r\n            }// endd props\r\n            if (settingData.geometry) {\r\n                var geometry = Geometries.get(settingData.geometry);\r\n                if (geometry) obj.geometry = geometry;\r\n                this.dispatchEvent({\r\n                    type: \"object.update.geometry\",\r\n                    data: objectData\r\n                });\r\n            }\r\n            if (settingData.material) {\r\n                try {\r\n\r\n                    if (isArray(obj.material)) {\r\n                        if (isArray(settingData.material)) {\r\n                            for (let i = 0; i < obj.material.length; i++) {\r\n                                if (typeof settingData.material[i] != \"undefined\") {\r\n                                    let material = assignWithout({}, settingData.material[i], ['type']);\r\n                                    let type = settingData.material[i].type;\r\n                                    if (type) {\r\n                                        let updateType = Materials.parseType(type);\r\n                                        let materialType = Materials.parseType(obj.material[i].type);\r\n                                        if (updateType != materialType) {\r\n                                            obj.material[i] = Materials.get(updateType, assignValue(Materials.getPropData(obj.material[i]), material));\r\n                                        }\r\n                                        else {\r\n                                            Materials.setProperties(obj.material[i].type, obj.material[i], material, () => self.refresh(), true);\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        Materials.setProperties(obj.material[i].type, obj.material[i], material, () => self.refresh(), true);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            let material = assignWithout({}, settingData.material, ['type']);\r\n                            let type = settingData.material.type;\r\n                            for (let i = 0; i < obj.material.length; i++) {\r\n                                if (type) {\r\n                                    let updateType = Materials.parseType(type);\r\n                                    let materialType = Materials.parseType(obj.material[i].type);\r\n                                    if (updateType != materialType) {\r\n                                        obj.material[i] = Materials.get(updateType, assignValue(Materials.getPropData(obj.material[i]), material));\r\n                                    }\r\n                                    else {\r\n                                        Materials.setProperties(obj.material[i].type, obj.material[i], material, () => self.refresh(), true);\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    Materials.setProperties(obj.material[i].type, obj.material[i], material, () => self.refresh(), true);\r\n                                }\r\n                            }\r\n\r\n                        }\r\n                    } else {\r\n\r\n                        let material = assignWithout({}, settingData.material, ['type']);\r\n                        let type = settingData.material.type;\r\n                        if (type) {\r\n                            let updateType = Materials.parseType(type);\r\n                            let materialType = Materials.parseType(obj.material.type);\r\n                            if (updateType != materialType) {\r\n                                obj.material = Materials.get(updateType, assignValue(Materials.getPropData(obj.material), material));\r\n                            }\r\n                            else {\r\n                                Materials.setProperties(obj.material.type, obj.material, material, () => self.refresh(), true);\r\n                            }\r\n                        }\r\n                        else {\r\n                            Materials.setProperties(obj.material.type, obj.material, material, () => self.refresh(), true);\r\n                        }\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    console.log(e);\r\n                }\r\n\r\n                this.dispatchEvent({\r\n                    type: \"object.update.material\",\r\n                    data: objectData\r\n                });\r\n            }\r\n\r\n            obj.needsUpdate = true;\r\n\r\n            self.refresh();\r\n            this.dispatchEvent({\r\n                type: \"object.update\",\r\n                data: objectData\r\n            })\r\n\r\n        }\r\n    },\r\n\r\n    getObjectSize: function (secret_key: any) {\r\n        let objectData = this.getObject(secret_key);\r\n        if (!objectData) return null;\r\n        let obj = objectData.object;\r\n        var box = new THREE.Box3().setFromObject(obj);\r\n        // box.getCenter(obj['position']); // this re-sets the mesh position\r\n        const dimensions = new THREE.Vector3();\r\n        var size: any = box.getSize(dimensions);\r\n        return size;\r\n    },\r\n\r\n    getDownloadLinkElement: function () {\r\n        if (!this.downloadLink) {\r\n            const link = document.createElement('a');\r\n            link.style.display = 'none';\r\n            document.body.appendChild(link); // Firefox workaround, see #6594\r\n            this.downloadLink = link;\r\n        }\r\n        return this.downloadLink;\r\n\r\n\r\n    },\r\n\r\n    downloadUrl: function (url?: string, filename?: string) {\r\n        var link = this.getDownloadLinkElement();\r\n        link.href = url;\r\n        link.download = filename;\r\n        link.click();\r\n    },\r\n    exportItemAsGltf: function (id: any, options?: any, callback?: (data: any) => any) {\r\n        var self = this;\r\n        var objectData = this.getObject(id);\r\n        if (objectData) {\r\n\r\n            const gltfExporter = new GLTFExporter();\r\n\r\n            var opt = {\r\n                trs: false,\r\n                onlyVisible: true,\r\n                truncateDrawRange: true,\r\n                binary: false,\r\n                maxTextureSize: Infinity // To prevent NaN value\r\n            };\r\n            assignValue(opt, options);\r\n            gltfExporter.parse(objectData.raw, function (result) {\r\n\r\n                if (typeof callback == \"function\") {\r\n                    callback(result);\r\n                }\r\n                else if (result instanceof ArrayBuffer) {\r\n\r\n                    self.saveArrayBuffer(result, 'scene.glb');\r\n\r\n                } else {\r\n\r\n                    const output = JSON.stringify(result, null, 2);\r\n                    self.saveString(output, 'scene.gltf');\r\n\r\n                }\r\n\r\n            }, opt);\r\n\r\n\r\n\r\n\r\n        }\r\n    },\r\n    save: function save(blob: any, filename?: string) {\r\n        var url = window.URL || window.webkitURL;\r\n        var link = url.createObjectURL(blob);\r\n        this.downloadUrl(link, filename);\r\n\r\n\r\n        // URL.revokeObjectURL( url ); breaks Firefox...\r\n\r\n    },\r\n\r\n    saveString: function (text: string, filename: string) {\r\n\r\n        this.save(new Blob([text], { type: 'text/plain' }), filename);\r\n\r\n    },\r\n\r\n\r\n    saveArrayBuffer: function (buffer: any, filename: string) {\r\n\r\n        this.save(new Blob([buffer], { type: 'application/octet-stream' }), filename);\r\n\r\n    }\r\n};\r\n\r\nexport default ObjectManager;\r\nexport { ObjectManager }","import { Injectable } from '@angular/core';\nimport LocalDB, { DbTableColumns, DbTableRow } from '../helpers/local-db';\nimport { isEmpty } from '../helpers/utils';\nimport { LocalStorageService } from './local-storage.service';\nimport { LostDbService } from './lost-db.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class LostDbTableService {\n\n    name: string = 'test';\n    dbname: string = '__LOSTDB__';\n    columns: DbTableColumns = {};\n    database: LostDbService;\n\n    primaryKey: string = \"id\";\n    constructor(private service: LostDbService) {\n        if (service) {\n            this.database = service;\n        }\n\n    }\n    init() {\n        if (isEmpty(this.columns)) {\n            throw new Error(\"column is not config\");\n\n        }\n        if (!this.database) {\n            this.database = new LostDbService(new LocalStorageService);\n        }\n        this.database.useDatabase(this.dbname);\n\n        this.database.createIfNotExists(this.name, this.columns);\n        if (this.primaryKey == \"id\") {\n            for (const col in this.columns) {\n                if (Object.prototype.hasOwnProperty.call(this.columns, col)) {\n                    const cfg = this.columns[col];\n                    if (cfg.autoIncrement) {\n                        this.primaryKey = cfg.name || col\n                    }\n                }\n            }\n        }\n\n    }\n\n    hasMany(table: string, foreinKey: string, localKey: string = 'id') {\n\n        return (row: DbTableRow) => {\n\n        }\n    }\n    addColumn(name: string, config?: any) {\n        return this.database.addColumn(this.name, name, config);\n    }\n    modifyTable(columns?: any) {\n        return this.database.modifyTable(this.name, columns);\n    }\n    dropColumn(...args: any[]) {\n        return this.database.dropColumn(this.name, ...args);\n    }\n    /**\n     * Thêm dữ liệu vào bảng\n     * @param data dữ liệu của một bản ghi\n     * @returns \n     */\n    insert(data) {\n        return this.database.insert(this.name, data);\n    }\n    /**\n     * Thêm dữ liệu vào bảng\n     * @param data dữ liệu của một bản ghi\n     * @returns \n     */\n    add(data) {\n        return this.database.insert(this.name, data);\n    }\n    /**\n     * cập nhật bảng\n     * @param data dữ liệu của một bản ghi\n     * @param condition diều kiện\n     * @returns \n     */\n    update(data, condition?: any) {\n        return this.database.update(this.name, data, condition);\n    }\n    /**\n     * lấy tất cã dữ liệu trong bảng\n     * @param condition diều kiện\n     * @param select\n     * @returns \n     */\n    getAll(condition?: any, select?: any): DbTableRow[] {\n        return this.database.select(this.name, select, condition);\n    }\n    /**\n     * lấy tất cã dữ liệu trong bảng\n     * @param condition diều kiện\n     * @param select các cột cần lấy\n     * @param orderBy kiểu sắp sếp\n     * @param limit Giới hạn\n     * @returns \n     */\n    get(condition?: any, select?: any, orderBy?: any, limit?: any): DbTableRow[] {\n        return this.database.select(this.name, select, condition, orderBy, limit);\n    }\n    /**\n     * lấy tất cã dữ liệu trong bảng\n     * @param condition diều kiện\n     * @param select các cột cần lấy\n     * @param orderBy kiểu sắp sếp\n     * @param limit Giới hạn\n     * @returns \n     */\n    select(columns?: any, condition?: any, orderBy?: any, limit?: any): DbTableRow[] {\n        return this.database.select(this.name, columns, condition, orderBy, limit);\n    }\n    /**\n     * lấy Một bản ghi trong bảng\n     * @param condition diều kiện\n     * @param select các cột cần lấy\n     * @param orderBy kiểu sắp sếp\n     * @returns \n     */\n    getOne(columns?: any, condition?: any, orderBy?: any): DbTableRow {\n        let rs = this.database.select(this.name, columns, condition, orderBy);\n        return rs.length == 1 ? rs[0] : null;\n    }\n    /**\n     * lấy Một bản ghi trong bảng\n     * @param condition diều kiện\n     * @param select các cột cần lấy\n     * @param orderBy kiểu sắp sếp\n     * @returns \n     */\n    first(columns?: any, condition?: any, orderBy?: any): DbTableRow {\n        let rs = this.database.select(this.name, columns, condition, orderBy);\n        return rs.length == 1 ? rs[0] : null;\n    }\n    /**\n     * lấy Một bản ghi trong bảng\n     * @returns \n     */\n    find(id: any): DbTableRow {\n        var params: any = {};\n        params[this.primaryKey] = id;\n        return this.first('*', params);\n    }\n    get lastInsertID(): number {\n        return this.database.getLastInsertID(this.name);\n    }\n    get lastInsertItem(): DbTableRow {\n        let lii = this.lastInsertID;\n        if (lii > 0) {\n            let params: any = {};\n            params[this.primaryKey] = lii;\n            return this.first('*', params);\n        }\n        return null;\n    }\n}\n","import { date, getArguments, isBoolean, isFunction, isObject, isString, Str } from '@app/_core/helpers/utils';\r\nconst DEFAULT_VALUE = Str.rand(Str.rand(date('ms')));\r\n\r\nexport type EventEmit = {\r\n    type?: string,\r\n    data?: any,\r\n    [key: string]: any\r\n}\r\nexport type Listener = (event?: EventEmit) => any\r\n\r\n\r\nexport type OnEventListener = {\r\n    [event: string]: (Listener | string)\r\n}\r\n\r\nexport class EventManager {\r\n    [prop: string]: any\r\n    constructor() {\r\n        Object.defineProperty(this, \"_listeners\", {\r\n            configurable: false,\r\n            enumerable: false,\r\n            value: {}\r\n        })\r\n        Object.defineProperty(this, \"_dispatchedEvents\", {\r\n            configurable: false,\r\n            enumerable: false,\r\n            value: {}\r\n        })\r\n        \r\n    }\r\n\r\n    /**\r\n     * chuẩn hóa hàn lắng nghe sự kiện\r\n     * @param {string|function} handler tên phương thức hoạc hàm handler\r\n     * @returns function\r\n     */\r\n\r\n    parseEventHandler(handler: any): (...args: any[]) => any {\r\n        var self = this;\r\n        if (typeof handler == \"function\") {\r\n            return handler;\r\n        }\r\n        var fnt = handler ? handler : function (e) {\r\n            console.log(e);\r\n        };\r\n\r\n        if (typeof handler == \"string\") {\r\n            var params = [];\r\n            var handleParams = handler.split(\":\");\r\n            if (handleParams.length == 2) {\r\n                handler = handleParams[0];\r\n                params = handleParams[1].split(\",\").map(function (s) { return s.trim(); });\r\n\r\n            }\r\n\r\n            fnt = function (e) {\r\n                var args = [e];\r\n                params.map(function (p) { args.push(p); });\r\n\r\n                if (typeof self[handler] == \"function\") {\r\n                    return self[handler].apply(self, args);\r\n                }\r\n            };\r\n\r\n\r\n        }\r\n        return fnt;\r\n    }\r\n\r\n    /**\r\n     * lắng nghe sự kiện\r\n     * @param {string} type loại hoạc tên sự kiện\r\n     * @param {function|string} handler hàm hoặc tên phương thức xử lý sự kiện\r\n     * @param {boolean} dispatch Thực thi trên tất cả các sự kiện trước đó\r\n     * @returns this\r\n     */\r\n    addEventListener(type: string, handler?: Listener, dispatch?: boolean) {\r\n        var self = this;\r\n        var listener = this.parseEventHandler(handler);\r\n\r\n        if (this._listeners === undefined || this._listeners === null) this._listeners = {};\r\n\r\n        type = String(type).toLowerCase();\r\n\r\n\r\n\r\n        // if (isDomEvent(type)) return this.addDomEvent(type, listener, DEFAULT_VALUE);\r\n        const listeners = this._listeners;\r\n\r\n        if (listeners[type] === undefined) {\r\n\r\n            listeners[type] = [];\r\n\r\n        }\r\n        if (dispatch === true) {\r\n            this.handleDispatchedEvents(type, listener);\r\n        }\r\n\r\n        if (listeners[type].indexOf(listener) === - 1) {\r\n            listeners[type].push(listener);\r\n        }\r\n        return listener;\r\n    }\r\n\r\n    /**\r\n     * Kiểm tra sự kiện có tồn tại hay không\r\n     * @param {string} type tên sự kiện\r\n     * @param {function} listener hàm xử lý\r\n     * @returns {boolean}\r\n     */\r\n    hasEventListener(type: string, listener?: Listener): boolean {\r\n\r\n        if (this._listeners === undefined || this._listeners === null) return false;\r\n\r\n        const listeners = this._listeners;\r\n        type = String(type).toLowerCase();\r\n        return listeners[type] !== undefined && (listener ? listeners[type].indexOf(listener) !== - 1 : true);\r\n\r\n    }\r\n\r\n    /**\r\n     * Xóa / Gỡ sự kiện\r\n     * @param {string} type tên sự kiện\r\n     * @param {function} listener hàm xử lý\r\n     * @returns {boolean}\r\n     */\r\n    removeEventListener(type: string, listener?: Listener): boolean {\r\n        if (this._listeners === undefined || this._listeners === null) return false;\r\n        type = String(type).toLowerCase();\r\n        const listeners = this._listeners;\r\n        const listenerArray = listeners[type];\r\n        if (listenerArray !== undefined) {\r\n            if (!listener) {\r\n                this._listeners[type].splice(0, this._listeners[type].length);\r\n                return true;\r\n            }\r\n            const index = listenerArray.indexOf(listener);\r\n            if (index !== - 1) {\r\n                listenerArray.splice(index, 1);\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n    /**\r\n     * Tạo, gọi ra một sự kiện\r\n     * @param {string|object} event Tên hoặc sự kiện\r\n     * @param {*} data dữ liệu\r\n     * @param {boolean} log lưu lại du lieu khi emit\r\n     * @returns {boolean}\r\n     */\r\n    dispatchEvent(event: (EventEmit | String), data?: any, log?: boolean): boolean {\r\n        if (this._listeners === undefined || this._listeners === null || !event) return null;\r\n\r\n        var e: any = {};\r\n        if (isString(event)) {\r\n            e.type = event;\r\n            if (data) {\r\n                e.data = data;\r\n            }\r\n            // console.log(event, data);\r\n        } else if (isObject(event)) {\r\n            e = event;\r\n            if (!e.type) return false;\r\n            if (!e.data && data) {\r\n                e.data = data;\r\n            }\r\n            if (isBoolean(data) && typeof log == \"undefined\") {\r\n                log = data;\r\n            }\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n        if(e.constructor === Object) e.type = String(e.type).toLowerCase();\r\n        const listeners = this._listeners;\r\n        const listenerArray = listeners[e.type];\r\n        var s = true;\r\n        if (!e.target) {\r\n            e.target = this;\r\n        }\r\n\r\n        if (!e.stopImmediatePropagation)\r\n            e.stopImmediatePropagation = function () {\r\n                s = false;\r\n            };\r\n\r\n        if (log === true) {\r\n            this.addDispatchedEvent(e);\r\n        }\r\n\r\n\r\n        if (listenerArray !== undefined) {\r\n            // Make a copy, in case listeners are removed while iterating.\r\n            const array1 = listenerArray.slice(0);\r\n            var rs: any[] = [];\r\n            for (var i = 0, l = array1.length; i < l; i++) {\r\n                let a = array1[i].call(this, e);\r\n                if (!s) break;\r\n                if (a !== undefined) {\r\n                    rs.push(a)\r\n                }\r\n\r\n            }\r\n            if (s && rs.length) {\r\n                return rs.length == 1 && array1.length == 1 ? rs[0] : rs;\r\n            }\r\n            return s;\r\n        }\r\n\r\n    }\r\n    /**\r\n     * lắng nghe sự kiện\r\n     * @param {string} type loại hoạc tên sự kiện\r\n     * @param {function|string} listener hàm hoặc tên phương thức xử lý sự kiện\r\n     * @param {boolean} dispatch có cần cần gọi ham voi cac su kien truoc do hay ko\r\n     * @returns this\r\n     */\r\n    on(type: (OnEventListener | string), listener?: Listener | boolean, dispatch?: boolean) {\r\n        if (isObject(type)) {\r\n            var listeners = {};\r\n            const events: OnEventListener = type as OnEventListener;\r\n            var d: boolean = isBoolean(listener) ? listener as boolean : (isBoolean(dispatch) ? dispatch : false);\r\n            for (const key in events) {\r\n                if (Object.hasOwnProperty.call(events, key)) {\r\n                    const fn = type[key];\r\n                    if (isFunction(fn) || isString(fn)) {\r\n                        const fnAdded = this.addEventListener(key, fn, d);\r\n                        if (fnAdded) {\r\n                            listeners[key] = fnAdded;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return listeners;\r\n        }\r\n        return this.addEventListener(type as string, listener as Listener, dispatch);\r\n    }\r\n    \r\n    off(type?: any, listener?: Listener) {\r\n        return this.removeEventListener(type, listener);\r\n    }\r\n    /**\r\n     * Tạo, gọi ra một sự kiện\r\n     * @param {string|object} event Tên hoặc sự kiện\r\n     * @param {*} data dữ liệu\r\n     * @returns {boolean}\r\n     */\r\n    emit(event: (EventEmit | String), data?: any, log?: boolean): boolean {\r\n        return this.dispatchEvent.apply(this, getArguments(arguments));\r\n    }\r\n    \r\n    addDispatchedEvent(event: EventEmit) {\r\n        if (this._dispatchedEvents[event.type] === undefined) this._dispatchedEvents[event.type] = [];\r\n        this._dispatchedEvents[event.type].push(event);\r\n        // console.log(event.type, this._pendingListeners[event.type])\r\n        return this\r\n    }\r\n\r\n    handleDispatchedEvents(type: string, handler: Listener) {\r\n        var listenerArray = this._dispatchedEvents[type];\r\n        // console.log(type, this._pendingListeners[type], this);\r\n        if (listenerArray !== undefined) {\r\n\r\n\r\n            // console.log(type)\r\n            // Make a copy, in case listeners are removed while iterating.\r\n            const array = listenerArray.slice(0);\r\n\r\n            for (var i = 0, l = array.length; i < l; i++) {\r\n                // array[i].call(this, e);\r\n                var s = handler.call(this, array[i]);\r\n                if (s === false) {\r\n                    return s;\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n","import * as fromAuth from './auth.reducer';\r\nimport { createSelector } from '@ngrx/store';\r\n\r\nexport const getIsAuthenticating = createSelector(fromAuth.selectAuthState, (state: fromAuth.AuthState) => state.isAuthenticating);\r\n","import { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { ModalConfirmService } from '@app/_shared/services/modal-confirm.service';\nimport { EditorIO, EditorMethods } from '../../../base/editor-io';\n\n@Component({\n    selector: 'app-tab-lights',\n    templateUrl: './tab-lights.component.html',\n    styleUrls: ['./tab-lights.component.scss']\n})\nexport class TabLightsComponent extends BaseComponent implements OnInit {\n\n    // app: TemplateEditorService = null;\n    isShow: boolean = false;\n    lights: any[] = [];\n    lightTemplates: string[] = [\n        \"Ambient\",\n        \"Directional\",\n        \"Hemisphere\",\n        \"Point\",\n        \"RectArea\",\n        \"Spot\"\n    ];\n    height50: boolean = false;\n    app: AppEditorService;\n\n    constructor(\n        private confirmService: ModalConfirmService, \n        private cd: ChangeDetectorRef,\n        private events: AppEditorEventService\n    ) {\n        super();\n        \n    }\n\n    \n    initFirst(){\n        this.app = this.events.app;\n        this.registerEventService(this.confirmService, {\n            \"close\": e => {\n                this.changeHeight()\n                this.subEvents.emit(\"tab.light.refresh\");\n            }\n        })\n    }\n    onInit() {\n        if(this.isChangeSubEvents){\n            this.app = this.subEvents.app;\n            this.registerEventService(this.app, {\n                \"light.deleted\": l => {\n                    this.loadLight();\n                    this.subEvents.emit(\"component.checkchange\");\n                }\n            })\n        \n        }\n        this.activeEventServiceRegistered(this.app);\n        this.activeEventServiceRegistered(this.confirmService);\n        this.loadLight();\n        this.isShow = true;\n        this.cd.detectChanges();\n    }\n    onDestroy(){\n        \n        this.deactiveEventServiceRegistered(this.app);\n        this.deactiveEventServiceRegistered(this.confirmService);\n        this.isShow = false;\n    }\n\n    changeHeight(){\n        this.height50 = true;\n            this.cd.detectChanges();\n            setTimeout(() => {\n                this.height50 = false;\n                this.cd.detectChanges();\n                    \n            }, 50);\n    }\n\n    loadLight() {\n        this.lights = this.app.getLightList();\n    }\n\n    addLight(name) {\n        if (this.app) {\n            this.app.addLightByTemplate(name, e => {\n                this.loadLight();\n                this.subEvents.emit(\"component.checkchange\");\n            })\n        }\n    }\n\n    deleteLight(secret_key) {\n        if (this.app) {\n            var name: string;\n            this.lights.map(light => {\n                if (light.secret_key == secret_key) {\n                    name = light.name;\n                }\n            });\n\n            if (name) {\n                this.confirmService.showDeleteConfirm(\"Are you sure delete \" + name + \" light?\", () => {\n                    this.app.deleteLight(secret_key);\n                })\n            }\n        }\n    }\n\n    clickLight(secret_key) {\n        if (this.app) {\n            this.app.attachLightInEditor(secret_key);\n            this.app.engine.refresh();\n        }\n        this.subEvents.emit({\n            type: \"show:light.panel\",\n            secret_key: secret_key\n        })\n    }\n\n}\n","<div class=\"tab-inner\" [class.height-50]=\"height50\">\n    <div class=\"tab-header\">\n        <h3>Light</h3>\n        <div class=\"btns\">\n            <button nz-button nz-dropdown nzTrigger=\"click\" [nzDropdownMenu]=\"menu\">\n                <span>+</span>\n                <i nz-icon nzType=\"down\"></i>\n            </button>\n            <nz-dropdown-menu #menu=\"nzDropdownMenu\">\n                <ul nz-menu>\n                    <li nz-menu-item *ngFor=\"let name of lightTemplates; let i=index\" (click)=\"addLight(name)\">{{name}}</li>\n                </ul>\n            </nz-dropdown-menu>\n        </div>\n    </div>\n    <div class=\"tab-body store\">\n        <ng-container *ngIf=\"lights.length; then lightList; else noLight\"></ng-container>\n        <ng-template #lightList>\n            <tab-light-item *ngFor=\"let light of lights; let i=index\" [light]=\"light\" (clickDelete)=\"deleteLight($event)\" (clickLight)=\"clickLight($event)\"></tab-light-item>\n        </ng-template>\n        <ng-template #noLight>\n            <div class=\"alert\">\n                there are no Light\n            </div>\n        </ng-template>\n\n    </div>\n</div>","/**\n * author Doan Le\n */\nimport { Injectable } from '@angular/core';\nimport { Database, DbTableRow, defaultTypeValues } from '../helpers/local-db';\nimport { checkType, getType, inArray, isObject, isString, isEmpty, isNumber, isBoolean, assignValue, isFunction, isInteger, isArray, Str, objectHasKey } from '../helpers/utils';\nimport { LocalStorageService } from './local-storage.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class LostDbService {\n    key = '__LOSTDB__';\n    db: Database = null;\n    taskCount: number = 0;\n    constructor(private storage: LocalStorageService) {\n        this.useDatabase(this.key);\n\n    }\n    open(){\n        if(this.taskCount == 0){\n            this.db = this.storage.get(this.key);\n            if (!this.db) {\n                this.storage.set(this.key, {\n                    version: 1.0,\n                    tables: {}\n                })\n                this.db = this.storage.get(this.key);\n            }\n        }\n        this.taskCount++;\n    }\n    close(){\n        if(this.taskCount > 0){\n            this.taskCount--;\n            if(this.taskCount==0){\n                this.db = null;\n            }\n        }\n    }\n    useDatabase(dbname: string) {\n        this.key = dbname;\n    }\n    getDB() {\n        return this.db;\n    }\n\n    isTableExists(tableName: string) {\n        this.open();\n        let exists = Object.prototype.hasOwnProperty.call(this.db.tables, tableName);\n        this.close();\n        return exists;\n    }\n\n    getTable(tableName) {\n        this.open();\n        var tables = this.db.tables;\n        let tb = Object.prototype.hasOwnProperty.call(tables, tableName) ? tables[tableName] : null;\n        this.close();\n        return tb;\n    }\n\n    updateTable(tableName, data: any) {\n        this.open();\n        var table = this.getTable(tableName);\n        if (!table) {\n            this.close();\n            return false;\n        }\n        table.data = data;\n        this.db.tables[tableName] = table;\n        this.storage.set(this.key, this.db);\n        this.close();\n    }\n    /**\n     * \n     * @param {string} name tên cộ\n     * @param {string} type loại dự liệu\n     * @param {*} defaultValue gia tri mac dinh\n     * @param {booluan} autoIncrement \n     * @returns {{name, type, defaultValue, autoIncrement}}\n     */\n    parseColumn(name, type?, length?, required?, defaultValue?, autoIncrement?): any {\n        var t = String(type).toLowerCase();\n        if (t == \"text\") t = \"string\";\n\n        if (!defaultTypeValues.hasOwnProperty(t) || !isString(name) || String(name).length == 0) {\n            return null;\n        }\n        return {\n            name: name,\n            type: t,\n            length: length,\n            required: isBoolean(required) ? required : false,\n            defVal: typeof defaultValue !== \"undefined\" ? defaultValue : defaultTypeValues[t],\n            autoIncrement: isBoolean(autoIncrement) ? autoIncrement : false\n        };\n    }\n\n\n    /**\n     * chuẩn hóa tất cả các cột\n     * @param {array|object} columns các cột\n     * @param {boolean} isA isArray\n     * @param {boolean} isO isObject\n     * @returns {object}\n     */\n    parseColumns(config): any {\n        let cfg: any = {};\n        let defTypeVals = {\n            boolean: false,\n            number: 0,\n            object: {},\n            array: [],\n            string: ''\n        }\n        for (const key in config) {\n            if (Object.prototype.hasOwnProperty.call(config, key)) {\n                const type = config[key];\n                let ty = getType(type);\n                if (ty == \"object\" && type.type) {\n                    let t = String(type.type).toLowerCase();\n                    if (inArray(['boolean', 'object', 'number', 'array', \"string\"], t)) {\n                        cfg[key] = {\n                            type: t,\n                            length: isNumber(type.length) && type.length > 0 ? type.length : null,\n                            required: isBoolean(type.required) ? type.required : false,\n                            defval: typeof type['default'] != \"undefined\" && getType(type['default']) == t ? type['default'] : (typeof type['defVal'] != \"undefined\" && getType(type['defValt']) == t ? type['defVal'] : defTypeVals[t]),\n                            autoIncrement: isBoolean(type.autoIncrement) ? type.autoIncrement : false\n                        }\n                    } else {\n                        cfg[key] = {\n                            type: ty,\n                            length: null,\n                            required: false,\n                            defVal: type,\n                            autoIncrement: false\n                        }\n                    }\n                }\n                else if (inArray(['boolean', 'object', 'number', 'array'], ty)) {\n                    cfg[key] = {\n                        type: ty,\n                        length: null,\n                        required: false,\n                        defVal: type,\n                        autoIncrement: false\n                    }\n                }\n                else if (ty == \"string\") {\n                    let t = String(type).toLowerCase();\n                    if (inArray(['boolean', 'object', 'number', 'array', \"string\"], t)) {\n                        cfg[key] = {\n                            type: t,\n                            length: null,\n                            required: false,\n                            autoIncrement: false,\n                            defval: defTypeVals[t]\n                        }\n                    } else {\n                        cfg[key] = {\n                            type: ty,\n                            length: null,\n                            required: false,\n                            autoIncrement: false,\n                            defVal: type\n                        }\n                    }\n\n                }\n            }\n        }\n        return cfg;\n    }\n\n    createIfNotExists(name: string, config: any) {\n        this.open();\n        var stt = false;\n        if (!this.isTableExists(name) && isObject(config)) {\n            let cfg = this.parseColumns(config);\n            if (!isEmpty(cfg)) {\n\n                this.db.tables[name] = {\n                    name: name,\n                    config: cfg,\n                    data: [],\n                    autoIncrement: 0\n                }\n                this.storage.set(this.key, this.db);\n\n                stt = true;\n            }\n        }\n        this.close()\n        return stt;\n    }\n\n    /**\n     * sửa bảng\n     * @param {string} tableName tên bảng\n     * @param {array|object} columns các cột\n     * @returns {boolean}\n     */\n    modifyTable(tableName, columns) {\n\n        this.open();\n        if (!Object.prototype.hasOwnProperty.call(this.db.tables, tableName)) {\n            this.close();\n            return false;\n        }\n        const table = this.db.tables[tableName];\n\n        var columns = this.parseColumns(columns);\n\n        if (!isEmpty(columns)) {\n            for (var key in columns) {\n                if (Object.hasOwnProperty.call(columns, key)) {\n                    var cfg = columns[key];\n                    table.config[key] = cfg;\n                }\n            }\n            if (table.data.length) {\n                for (var i = 0; i < table.data.length; i++) {\n                    var row = table.data.length[i];\n                    for (var key in columns) {\n                        if (Object.hasOwnProperty.call(columns, key)) {\n                            var cfg = columns[key];\n                            if (Object.hasOwnProperty.call(row, key)) {\n                                var t = getType(row[key]);\n                                if (t != cfg.type) {\n                                    if (t == \"number\" && cfg.type == \"string\") {\n                                        row[key] = String(row[key]);\n                                    } else if (t == \"string\" && cfg.type == \"number\") {\n                                        var a = Number(row[key]);\n                                        row[key] = !isNaN(a) ? a : cfg.defaultValue;\n                                    } else if (cfg.type == \"boolean\" && t == \"number\") {\n                                        row[key] = row[key] > 0;\n                                    } else if (cfg.type == \"array\") {\n                                        row[key] = [row[key]];\n                                    }\n                                    else if (cfg.type == \"object\") {\n                                        row[key] = Object.create(row[key]);\n                                    }\n                                    else {\n                                        row[key] = cfg.defVal;\n                                    }\n                                }\n                            } else {\n                                row[key] = cfg.defVal;\n                            }\n                        }\n                    }\n                }\n            }\n            // this.database.tables[tableName] = table;\n            this.storage.set(this.key, this.db);\n            this.close();\n            return true;\n        }\n        this.close();\n        return false;\n    }\n    dropTable(tableName) {\n        this.open();\n        var s = false;\n        if (Object.prototype.hasOwnProperty.call(this.db.tables, tableName)) {\n            delete this.db.tables[tableName];\n            this.storage.set(this.key, this.db);\n            s = true;\n\n        }\n        this.close();\n        return s;\n    }\n\n    /**\n    * thêm cột\n    * @param {string} tableName tên bảng\n    * @param {string} columnName tên cột\n    * @param {object} config cấu hình cột\n    */\n    addColumn(tableName, columnName, config): any {\n        this.open();\n        if (!Object.prototype.hasOwnProperty.call(this.db.tables, tableName)) {\n            this.close();\n            return false;\n        }\n        const table = this.db.tables[tableName];\n\n        var ct = getType(columnName);\n        var column = null;\n        if (ct == \"string\") {\n            if (isObject(config)) {\n                var col = this.parseColumn(columnName, config.type || \"string\", config.length || null, config.required || false, config.default || config.defaultValue, config.autoIncrement);\n                if (col) {\n                    column = col;\n                }\n            } else if (isString(config)) {\n                var type, defVal;\n                if (typeof defaultTypeValues[String(config).toLowerCase()] != \"undefined\") {\n                    type = config;\n                } else {\n                    type = 'string';\n                    defVal = config;\n                }\n                var col = this.parseColumn(columnName, type, null, false, defVal);\n                if (col) {\n                    column = col;\n                }\n            } else {\n                var col = this.parseColumn(columnName, typeof config != \"undefined\" ? getType(config) : \"string\", config);\n                if (col) {\n                    column = col;\n                }\n            }\n        } else if (ct == \"object\" && Object.prototype.hasOwnProperty.call(columnName, 'name')) {\n            var col = this.parseColumn(\n                columnName.name,\n                typeof columnName.type != \"undefined\" ? columnName.type : \"string\",\n                isNumber(columnName.length) ? columnName.length : null,\n                columnName.default || columnName.defaultValue,\n                columnName.autoIncrement || false\n            );\n            if (col) {\n                column = col;\n            }\n        }\n        if (column) {\n            if (Object.prototype.hasOwnProperty.call(table.config, column.name)) {\n                this.close();\n                return false;\n            }\n            table.config[column.name] = column;\n            for (var index = 0; index < table.data.length; index++) {\n                var row = table.data[index];\n                row[column.name] = column.defVal;\n            }\n\n            this.storage.set(this.key, this.db);\n        }\n        this.close();\n    }\n    /**\n     * xóa cột\n     * @param {string} tableName tyên bảng\n     * @param {string} columns danh sách cột cần xóa\n     * @returns {boolean}\n     */\n    dropColumn(tableName: string, ...args: any[]) {\n        this.open();\n        if (!Object.prototype.hasOwnProperty.call(this.db.tables, tableName)) {\n            this.close();\n            return false;\n        }\n        const table = this.db.tables[tableName];\n\n        var list = []\n        for (var index = 0; index < args.length; index++) {\n            var a = args[index];\n            if (isArray(a)) {\n                a.map(function (s) {\n                    if (Object.prototype.hasOwnProperty.call(table.config, s)) {\n                        table.config[s] = null;\n                        list.push(s);\n                        try {\n                            delete table.config[s];\n\n                        } catch (error) {\n\n                        }\n                    }\n                })\n            } else if (Object.prototype.hasOwnProperty.call(table.config, a)) {\n                table.config[a] = null;\n                list.push(a);\n                try {\n                    delete table.config[a];\n                } catch (error) {\n\n                }\n\n            }\n        }\n        if (list.length && table.data.length) {\n            table.data.map(function (row) {\n                list.map(function (col) {\n                    row[col] = null;\n                    try {\n                        delete row[col];\n                    } catch (error) {\n\n                    }\n                })\n            })\n        }\n        this.storage.set(this.key, this.db);\n        this.close();\n        return true;\n    }\n\n\n    parseColumnData(tableName, data, $id: number = 0) {\n        this.open();\n        let config = this.db.tables[tableName].config;\n        let d: any = {};\n        for (const k in config) {\n            if (Object.prototype.hasOwnProperty.call(config, k)) {\n                let dhk = Object.prototype.hasOwnProperty.call(data, k);\n                const column = config[k];\n                if (column.autoIncrement) {\n                    if ($id) {\n                        d[k] = $id;\n                    }\n                }\n                else if (!((column.type == \"string\" && isNumber(data[k])) || (column.type == \"number\" && isNumber(data[k]))) && column.type != getType(data[k])) {\n                    this.close();\n                    throw new Error(k + \" type is not match\");\n                }\n                else if (column.required && !dhk && $id) {\n                    this.close();\n                    throw new Error(k + \" is required\");\n                }\n                else if ($id && !column.required && !dhk) {\n                    d[k] = column.defVal;\n                } else if (dhk && column.type == \"number\") {\n                    d[k] = Number(data[k]);\n                } else if (dhk) {\n                    d[k] = data[k];\n                }\n            }\n        }\n        this.close();\n        return d;\n    }\n\n    insert(tableName: string, data: any) {\n        this.open();\n        if (!Object.prototype.hasOwnProperty.call(this.db.tables, tableName) || !isObject(data))\n        {\n            this.close();\n            return false;\n        }\n            \n        const table = this.db.tables[tableName];\n        let $id = table.autoIncrement +1;\n\n        let d = this.parseColumnData(tableName, data, $id);\n        if(d){\n            table.data.push(d);\n            table.autoIncrement++;\n            this.storage.set(this.key, this.db);\n        }\n        this.close();\n        return true;\n\n    }\n\n    /**\n     * cập nhật dữ liệu \n     * @param {string} tableName tên bảng\n     * @param {object} data dữ liệu\n     * @param {function|object} condition diều kiện\n     * @returns {integer}\n     */\n    update(tableName: string, data: any, condition?: any) {\n        this.open();\n        if (!Object.prototype.hasOwnProperty.call(this.db.tables, tableName) || !isObject(data)){\n            this.close();\n            return 0;\n        }\n            \n        const table = this.db.tables[tableName];\n        var d: any = this.parseColumnData(tableName, data, 0);\n        if (!d){\n            this.close();\n            return 0;\n        }\n        var count = 0;\n        if (!condition) {\n            table.data.map(function (row) {\n                for (const k in d) {\n                    if (Object.prototype.hasOwnProperty.call(d, k)) {\n                        const v = d[k];\n                        row[k] = v;\n                    }\n                }\n                count++;\n            });\n        }\n        else if (isObject(condition) && !isEmpty(condition)) {\n            table.data.map(function (row) {\n                var s = true;\n                for (var key in condition) {\n                    if (Object.hasOwnProperty.call(condition, key)) {\n                        if (!Object.hasOwnProperty.call(row, key)) s = false;\n                        if (isFunction(condition[key])) {\n                            if (!condition[key](row[key])) s = false;\n                        }\n                        else if (row[key] != condition[key]) s = false;\n                    }\n                }\n                if (s) {\n                    for (const k in d) {\n                        if (Object.prototype.hasOwnProperty.call(d, k)) {\n                            const v = d[k];\n                            row[k] = v;\n                        }\n                    }\n                    count++;\n                }\n            });\n        }\n        else if (isFunction(condition)) {\n            table.data.map(function (row) {\n                var s = condition(assignValue({}, row));\n                if (s) {\n                    for (const k in d) {\n                        if (Object.prototype.hasOwnProperty.call(d, k)) {\n                            const v = d[k];\n                            row[k] = v;\n                        }\n                    }\n                    count++;\n                }\n            });\n        }\n        this.storage.set(this.key, this.db);\n        this.close();\n        return count;\n    }\n\n    delete(tableName: string, condition?: any) {\n        this.open();\n        if (!Object.prototype.hasOwnProperty.call(this.db.tables, tableName)) {\n            return 0;\n        }\n        const table = this.db.tables[tableName];\n       var count = 0;\n        if (!condition) {\n            count = table.data.length;\n            table.data.splice(0);\n        }\n        else if (isObject(condition) && !isEmpty(condition)) {\n            var i = 0;\n            while (i < table.data.length) {\n                var s = true;\n                var row = table.data[i];\n                for (var key in condition) {\n                    if (Object.hasOwnProperty.call(condition, key)) {\n                        if (!Object.hasOwnProperty.call(row, key)) s = false;\n                        if (isFunction(condition[key])) {\n                            if (!condition[key](row[key])) s = false;\n                        }\n                        else if (row[key] != condition[key]) s = false;\n                    }\n                }\n                if (s) {\n                    table.data.splice(i, 1);\n                    count++;\n                } else {\n                    i++;\n                }\n            }\n        }\n        else if (isFunction(condition)) {\n            var i = 0;\n            while (i < table.data.length) {\n                var s = true;\n                var row = table.data[i];\n                s = condition(assignValue({}, row));\n                if (s) {\n                    table.data.splice(i, 1);\n                    count++;\n                } else {\n                    i++;\n                }\n            }\n        }\n        this.storage.set(this.key, this.db);\n        this.close();\n        return count;\n    }\n\n    /**\n    * lấy về dữ liệu\n    * @param tableName tên bảng\n    * @param columns danh sach cot\n    * @param condition dieu kien lay du lieu\n    * @param orderBy sap xep\n    * @param limit gioi han\n    * @returns \n    */\n    select(tableName: string, columns?: any, condition?: any, orderBy?: any, limit?: any): DbTableRow[] {\n        this.open();\n        if (!Object.prototype.hasOwnProperty.call(this.db.tables, tableName)) {\n            this.close();\n            return [];\n        }\n        const table = this.db.tables[tableName];\n\n        var maskTable = null;\n        var m = null;\n\n        var isN = isInteger(limit) && limit > 0;\n        // var count = 0;\n        var raw = [];\n        var results = [];\n        var selectColumns: any = '*';\n        if (!columns || columns == '*') {\n            // ko lam gi\n        }\n        else {\n            selectColumns = [];\n\n            if (isString(columns)) {\n                var ca = columns.split(\",\").map(function (a) {\n                    return a.trim();\n                }).filter(function (t) {\n                    return t.length > 0;\n                }).map(function (t) {\n                    var a = t.split(\" \").filter(function (v) {\n                        return v.length > 0\n                    });\n                    if (a.length == 3 && a[1].toLowerCase() == \"as\") {\n                        return [a[0], a[2]];\n                    }\n                    return a;\n                }).filter(function (a) {\n                    return a.length > 0;\n                }).map(function (a) {\n                    if (Object.prototype.hasOwnProperty.call(table.config, a[0])) {\n                        selectColumns.push(a);\n                    }\n                });\n            }\n            else if (isArray(columns) && columns.length) {\n                columns.map(function (t) {\n                    var a = t.split(\" \").filter(function (v) {\n                        return v.length > 0\n                    });\n                    if (a.length == 3 && a[1].toLowerCase() == \"as\") {\n                        return [a[0], a[2]];\n                    }\n                    return a;\n                }).filter(function (a) {\n                    return a.length > 0;\n                }).map(function (a) {\n                    if (Object.prototype.hasOwnProperty.call(table.config, a[0])) {\n                        selectColumns.push(a);\n                    }\n                });\n            }\n        }\n        var isCondFunc = isFunction(condition);\n        var isCondObj = isObject(condition);\n        if (!condition) {\n            // count = this.data.length;\n            table.data.map(function (row) {\n                raw.push(assignValue({}, row));\n            });\n        }\n        else if (isCondFunc || isCondObj) {\n            var masks = [];\n            var types = {};\n            var cfg = table.config;\n            if (selectColumns != \"*\") {\n                selectColumns.map(function (a) {\n                    if(objectHasKey(cfg, a[0])){\n                        types[a[0]] = cfg[a[0]].type;\n                        if(a.length > 1){\n                            types[a[1]] = cfg[a[0]].type;\n                        }\n                    }\n                    masks.push({\n                        column: a[0],\n                        mask: a.length > 1 ? a[1] : null\n                    });\n                })\n            }\n            else {\n                for (var key in table.config) {\n                    if (Object.hasOwnProperty.call(table.config, key)) {\n                        var col = table.config[key];\n                        types[key] = col.type;\n                        masks.push({\n                            column: col.name,\n                            mask: null\n                        });\n                    }\n                }\n            }\n\n            table.data.map(function (row) {\n                var b = assignValue({}, row);\n                masks.map(function (c) {\n                    if (c.mask) {\n                        b[c.mask] = b[c.column];\n                    }\n                });\n                if (isCondFunc) {\n                    var whereStt = condition(b);\n                    if (whereStt === true) {\n                        raw.push(b);\n                    }\n                } else if (isCondObj) {\n                    var s = true;\n                    for (const key in condition) {\n                        if (Object.hasOwnProperty.call(condition, key)) {\n                            const vl = condition[key];\n                            if (isFunction(vl)) {\n                                if (!vl(b[key])) s = false;\n                            }\n                            else if(objectHasKey(types, key) && types[key] != \"array\" && isArray(vl)){\n                                if(!inArray(vl, b[key])){\n                                    s = false;\n                                }\n                            }\n                            else if (b[key] != vl) {\n                                s = false;\n                            }\n                        }\n                    }\n                    if (s) {\n                        raw.push(b);\n                    }\n                }\n            })\n        }\n\n        if (raw.length) {\n            if (isObject(orderBy) && !isEmpty(orderBy)) {\n                var orderByList = [];\n                for (var key in orderBy) {\n                    if (Object.hasOwnProperty.call(orderBy, key)) {\n                        var type = String(orderBy[key]).toLowerCase();\n                        if (Object.hasOwnProperty.call(raw[0], key) && inArray(['asc', 'desc', 1, 0], type)) {\n                            orderByList.push({\n                                key: key,\n                                type: type\n                            })\n                        }\n\n                    }\n                }\n                for (var i = 0; i < orderByList.length; i++) {\n                    var order = orderByList[i];\n\n                    if (i == 0) {\n                        for (var j = 0; j < raw.length - 1; j++) {\n                            for (var k = j + 1; k < raw.length; k++) {\n                                var a = Str.compare(raw[j][order.key], raw[k][order.key]);\n                                // console.log(`${raw[j][order.key]} <> ${raw[k][order.key]}`, a)\n                                if (order.type == 'desc') {\n                                    if (a == -1) {\n                                        var t = raw[j];\n                                        raw[j] = raw[k];\n                                        raw[k] = t;\n                                    }\n                                } else if (a == 1) {\n                                    var t = raw[j];\n                                    raw[j] = raw[k];\n                                    raw[k] = t;\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        for (var j = 0; j < raw.length - 1; j++) {\n                            for (var k = j + 1; k < raw.length; k++) {\n                                var s = true;\n                                for (var l = 0; l < i; l++) {\n                                    var o = orderByList[l];\n\n                                    if (raw[j] == raw[k] || raw[j][o.key] != raw[k][o.key]) {\n                                        s = false;\n                                    }\n\n                                }\n                                if (s) {\n                                    var a = Str.compare(raw[j][order.key], raw[k][order.key]);\n                                    if (order.type == 'desc') {\n                                        if (a == -1) {\n                                            var t = raw[j];\n                                            raw[j] = raw[k];\n                                            raw[k] = t;\n                                        }\n                                    } else if (a == 1) {\n                                        var t = raw[j];\n                                        raw[j] = raw[k];\n                                        raw[k] = t;\n                                    }\n                                }\n\n                            }\n                        }\n                    }\n                }\n            }\n            if (isN) {\n                results = raw.slice(0, limit);\n            }\n            else {\n                results = raw;\n            }\n        }\n        if (selectColumns != \"*\") {\n            var rs = results.map(function (row) {\n                var obj = {};\n                for (var i = 0; i < selectColumns.length; i++) {\n                    var col = selectColumns[i];\n                    if (col[1]) {\n                        obj[col[1]] = row[col[0]];\n                    }\n                }\n                return obj;\n            }) as DbTableRow[];\n            this.close();\n            return rs;\n        }\n        this.close();\n        return results;\n    }\n    getLastInsertID(table: string): number {\n        this.open();\n        var count = Object.prototype.hasOwnProperty.call(this.db.tables, table) ? this.db.tables[table].autoIncrement : 0;\n        this.close();\n        return count;\n    }\n\n    getLastRecord(tableName) {\n        this.open();\n        if (!Object.prototype.hasOwnProperty.call(this.db.tables, tableName)) {\n            this.close();\n            return null;\n        }\n        const table = this.db.tables[tableName];\n        const rs = table.data.length ? table.data[table.data.length - 1] : null;\n        this.close();\n        return rs;\n\n    }\n\n}\n","import { Component, Output, EventEmitter, OnDestroy, OnInit, Input, ChangeDetectorRef } from '@angular/core';\r\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\r\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\r\nimport { assignValue, assignWithout, isArray, isObject } from '@app/_core/helpers/utils';\r\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\r\nimport { CategoryModel, CategoryResultsModel } from '@app/_store/category';\r\nimport { ItemModel, ItemService, ItemTableService } from '@app/_store/item';\r\nimport { ItemResultsModel } from '@app/_store/item/results.model';\r\n\r\n\r\n@Component({\r\n    selector: 'app-tab-model',\r\n    templateUrl: './tab-model.component.html',\r\n    styleUrls: ['./tab-model.component.scss'],\r\n})\r\nexport class TabModelComponent extends BaseComponent implements OnInit, OnDestroy {\r\n    @Output()\r\n    clickItem: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Input()\r\n    loaded: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output()\r\n    loadedChange: EventEmitter<any> = new EventEmitter();\r\n\r\n    mode: string = \"explore\";\r\n\r\n    searchStatus: string = 'ready';\r\n\r\n    categories: CategoryModel[] = [];\r\n\r\n    searchResults: ItemModel[] = [];\r\n\r\n    q = {\r\n        s: null,\r\n        category_id: \"\",\r\n    };\r\n\r\n\r\n    isSearching: boolean = false;\r\n\r\n    hasMoreResult: boolean = false;\r\n    \r\n    hasMoreCategories: boolean = true;\r\n\r\n    searchData: ItemResultsModel = null;\r\n\r\n    categoryData: CategoryResultsModel = null;\r\n\r\n\r\n    hasResult: boolean = false;\r\n    app: AppEditorService;\r\n    constructor(\r\n        private itemService: ItemService,\r\n        // private itemTable: ItemTableService,\r\n        private events: AppEditorEventService,\r\n        private cd: ChangeDetectorRef\r\n    ) {\r\n        super();\r\n    }\r\n\r\n    onInit(): void {\r\n        if (this.mode == \"explore\") {\r\n            this.explore();\r\n        } else {\r\n            this.search();\r\n        }\r\n    }\r\n\r\n    onDestroy() {\r\n\r\n\r\n    }\r\n\r\n    explore() {\r\n        // this.subEvents.emit(\"component.checkchange\");\r\n        this.refresh(1);\r\n        this.itemService.getByCategories({}).subscribe(rs => {\r\n            this.categoryData = rs;\r\n            this.hasMoreCategories = rs.current_page < rs.page_total;\r\n            if (rs.status) {\r\n                this.categories = rs.data;\r\n\r\n                if (rs.data.length) {\r\n                    rs.data.map(cate => this.parseItemList(cate.items));\r\n                }\r\n                // this.subEvents.emit(\"component.checkchange\");\r\n                // this.cd.checkNoChanges();\r\n            }\r\n            this.refresh(20);\r\n        })\r\n    }\r\n\r\n    search() {\r\n        this.searchStatus = 'searching';\r\n        this.searchResults.splice(0);\r\n        // this.subEvents.emit(\"component.checkchange\");\r\n        this.refresh(20);\r\n        this.itemService.getAll(this.q).subscribe(rs => {\r\n            this.searchData = rs;\r\n            this.hasMoreResult = rs.current_page < rs.page_total;\r\n            if (rs.count > 0) {\r\n                this.searchResults = rs.data;\r\n                this.parseItemList(this.searchResults);\r\n                this.searchStatus = 'done';\r\n                this.refresh(50);\r\n            } else {\r\n                this.searchStatus = 'notfound';\r\n                this.refresh(50);\r\n            }\r\n            // this.cd.checkNoChanges();\r\n            // this.subEvents.emit(\"component.checkchange\");\r\n\r\n        }, error => {\r\n            this.searchStatus = 'error';\r\n\r\n            // this.subEvents.emit(\"component.checkchange\");\r\n            this.refresh(20);\r\n            // this.cd.checkNoChanges();\r\n        });\r\n    }\r\n\r\n    moreCategory(){\r\n        if(this.hasMoreCategories){\r\n            this.itemService.getByCategories({page: this.categoryData.current_page+1}).subscribe(rs => {\r\n                this.categoryData = rs;\r\n                this.hasMoreCategories = rs.current_page < rs.page_total;\r\n                if (rs.status) {\r\n                    \r\n                    if (rs.data.length) {\r\n                        rs.data.map(cate => this.parseItemList(cate.items));\r\n                    }\r\n                    rs.data.map(cate => {\r\n                        this.categories.push(cate);\r\n                    });\r\n                    // this.subEvents.emit(\"component.checkchange\");\r\n                    this.refresh(20);\r\n                    // this.cd.checkNoChanges();\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    moreResult(){\r\n        let a = assignValue({}, this.q);\r\n        a.page = this.searchData.current_page+1;\r\n        this.itemService.getAll(a.page).subscribe(rs => {\r\n            this.searchData = rs;\r\n            this.hasMoreResult = rs.current_page < rs.page_total;\r\n            if (rs.count > 0) {\r\n                rs.data.map(item => this.searchResults.push(item));\r\n                this.parseItemList(rs.data);\r\n                this.searchStatus = 'done';\r\n            } else {\r\n                // this.searchStatus = 'notfound';\r\n            }\r\n            this.refresh(20);\r\n            // this.cd.checkNoChanges();\r\n            // this.subEvents.emit(\"component.checkchange\");\r\n\r\n        }, error => {\r\n            // this.searchStatus = 'error';\r\n            this.refresh(20);\r\n            // this.subEvents.emit(\"component.checkchange\");\r\n            // this.cd.checkNoChanges();\r\n        });\r\n    }\r\n\r\n    parseItemList(list) {\r\n        if (isArray(list)) {\r\n            list.map(item => this.parseItem(item));\r\n        }\r\n    }\r\n    parseItem(item) {\r\n        if (isObject(item)) {\r\n            // var rs = this.itemTable.first('*', { id: item.id });\r\n            // if (rs) {\r\n            //     assignWithout(item, rs, ['id', 'settings']);\r\n            //     item.settings = rs.settings;\r\n            // }\r\n        }\r\n    }\r\n\r\n    onClickSearch() {\r\n        if (String(this.q.s).length) {\r\n            this.mode = \"search\";\r\n            this.search();\r\n        } else if (this.mode == \"search\") {\r\n            this.mode = \"explore\";\r\n            this.refresh(20);\r\n        }\r\n    }\r\n\r\n    onLayoutComplete({ isLayout, endLoading }) {\r\n        if (!isLayout) {\r\n            endLoading();\r\n        }\r\n    }\r\n\r\n    // getFileUrl(files) {\r\n    //   const file = files.find((f) => f.quanlity === EMediaFileQuanlity.screen);\r\n    //   return (file && file.url) || '';\r\n    // }\r\n\r\n}","<div class=\"tab-inner\">\r\n    <div class=\"block search\">\r\n        <div class=\"search-inner\">\r\n            <nz-input-group nzSearch [nzSuffix]=\"suffixIconSearch\">\r\n                <input type=\"text\" nz-input placeholder=\"Find in 1.000.000 items\" [(ngModel)]=\"q.s\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <button nz-button nzType=\"link\" (click)=\"onClickSearch()\">\r\n                    <em nz-icon nzType=\"search\"></em>\r\n                </button>\r\n            </ng-template>\r\n        </div>\r\n    </div>\r\n    <div class=\"store\" *ngIf=\"__show__\">\r\n        <ng-container *ngIf=\"mode=='explore'; then thenTemplate; else elseTemplate\"></ng-container>\r\n        <ng-template #thenTemplate>\r\n            <div *ngFor=\"let cate of categories; let i=index\" class=\"cate-item\">\r\n                <model-list [items]=\"cate.items\" [title]=\"cate.name\"></model-list>\r\n            </div>\r\n            <div class=\"view-more\" *ngIf=\"hasMoreCategories\">\r\n                <button class=\"btn btn-ghost btn-icon\" nz-button nzType=\"text\" (click)=\"moreCategory()\">\r\n                    <!-- <img src=\"/assets/icons/new-design/header/save.svg\" /> -->\r\n                    <span>See More...</span>\r\n                </button>\r\n            </div>\r\n        </ng-template>\r\n        <ng-template #elseTemplate>\r\n\r\n            <ng-container [ngSwitch]=\"searchStatus\">\r\n                <div *ngSwitchCase=\"'done'\">\r\n                    <model-list [items]=\"searchResults\" title=\"Tất cả\"></model-list>\r\n                    <div class=\"view-more\" *ngIf=\"hasMoreCategories\">\r\n                        <button class=\"btn btn-ghost btn-icon\" nz-button nzType=\"text\" (click)=\"moreCategory()\">\r\n                            <!-- <img src=\"/assets/icons/new-design/header/save.svg\" /> -->\r\n                            <span>See More...</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div *ngSwitchCase=\"'notfound'\">\r\n                    {{\"Not Found\" | translate}}\r\n                </div>\r\n                <div *ngSwitchCase=\"'error'\">\r\n                    {{\"Error\" | translate}}\r\n                </div>\r\n                <div *ngSwitchDefault>\r\n                    {{\"searching...\" | translate}}\r\n                </div>\r\n\r\n\r\n            </ng-container>\r\n\r\n        </ng-template>\r\n    </div>\r\n</div>","import { Component, Output, EventEmitter, OnDestroy, OnInit, Input } from '@angular/core';\nimport { Geometries } from '@app/_3D/libs/three.libs';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { inArray, isEmpty, Str } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { MeshGeometryService } from '@app/_shared/components/panels/mesh-geometry/mesh-geometry.service';\n\n@Component({\n    selector: 'app-tab-geometry',\n    templateUrl: './tab-geometry.component.html',\n    styleUrls: ['./tab-geometry.component.scss']\n})\nexport class TabGeometryComponent extends BaseComponent implements OnInit, OnDestroy {\n    geometries: any[] = Geometries.config.options;\n\n    constructor(private geoService: MeshGeometryService, private events: AppEditorEventService) {\n        super();\n        \n    }\n    onChangeSubEvents(){\n        this.registerEventService(this.subEvents, \"geometry.added\", e => this.onAddSuccess(e.data));\n    }\n    initFirst(){\n        \n    }\n\n\n    onAddSuccess(data) {\n        if(!this.isFocus) return false;\n        this.geoService.open(data, e => {\n            let d: any = {};\n            if (inArray(['props', 'geometry', 'material'], e.key)) {\n                d[e.key] = e.data[e.key];\n                switch (e.key) {\n                    case \"props\":\n\n                        break;\n                    case \"geometry\":\n\n                        break;\n\n                    case \"material\":\n\n                        break;\n\n\n                    default:\n                        break;\n                }\n                this.subEvents.emit({\n                    type: \"mesh.setting.update\",\n                    secret_key: data.secret_key,\n                    data: d\n                });\n            }\n\n        });\n\n    }\n}\n","<div class=\"tab-inner\">\n    <h2>Geometry</h2>\n    <div class=\"store store-text\">\n        <geometry-item [geometry]=\"geo\" *ngFor=\"let geo of geometries\"></geometry-item>\n    </div>\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AuthRoutingModule, COMPONENTS } from './auth-routing.module';\r\nimport { StoreModule } from '@ngrx/store';\r\nimport { EffectsModule } from '@ngrx/effects';\r\nimport { reducer, AuthEffects } from './store';\r\n\r\nimport { AuthComponent } from './auth.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { SharedModule } from '../_shared/shared.module';\r\nimport { AppUIModule } from '../app-ui.module';\r\n\r\n@NgModule({\r\n  declarations: [AuthComponent, ...COMPONENTS],\r\n  imports: [\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    CommonModule,\r\n    AuthRoutingModule,\r\n    SharedModule,\r\n    AppUIModule,\r\n    EffectsModule.forFeature([AuthEffects]),\r\n    StoreModule.forFeature('authStore', reducer),\r\n  ],\r\n  providers: [],\r\n})\r\nexport class AuthModule {}\r\n","import { Injectable } from '@angular/core';\nimport { date, getArguments, isBoolean, isEmpty, isFunction, isObject, isString, objectHasKey, Str } from '@app/_core/helpers/utils';\nconst DEFAULT_VALUE = Str.rand(Str.rand(date('ms')));\n\ntype EventEmit = {\n    type: string,\n    data?: any,\n    [key: string]: any\n}\ntype Listener = (event?: EventEmit) => any\n\n\ntype OnEventListener = {\n    [event: string]: (Listener | string)\n}\n\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class EventManagerService {\n    [prop:string]: any;\n    app: any;\n    _listeners = {};\n    _dispatchedEvents = {};\n    __subServices: {\n        [id:string]: EventManagerService\n    } = {};\n    constructor() { }\n\n    sub(id?:string): this{\n        return this;\n        if(objectHasKey(this.__subServices, id)) return this.__subServices[id] as any;\n        this.__subServices[id] = new (<typeof EventManagerService> this.constructor);\n        return this.__subServices[id] as any;\n    }\n\n    addSub(id: string, sub?: EventManagerService){\n        if(!sub){\n            if(objectHasKey(this.__subServices, id)){\n                this.__subServices[id].off();\n            }\n            this.__subServices[id] = new this.prototype.constructor();\n        }else{\n            if(objectHasKey(this.__subServices, id)){\n                this.__subServices[id].off();\n            }\n            this.__subServices[id] = sub;\n        }\n    }\n    removeSub(id?:string){\n        if(id!==undefined && String(id).length){\n            if(objectHasKey(this.__subServices, id)){\n                this.__subServices[id].off();\n                delete this.__subServices[id];\n            }\n        }else if(!isEmpty(this.__subServices)){\n            for (const key in this.__subServices) {\n                if (Object.prototype.hasOwnProperty.call(this.__subServices, key)) {\n                    this.removeSub(key);\n                    \n                }\n            }\n        }\n    }\n    onSub(id:string, type:any, listenner?:any, dispatch?:any){\n        return this.on(type, listenner, dispatch);\n        // return this.sub(id).on(type, listenner, dispatch)\n    }\n    offSub(id:string, type:any, listenner?:any){\n        return this.off(type, listenner);\n        // return this.sub(id).off(type, listenner)\n    }\n    addSubEvent(id:string, type:any, listenner?:any, dispatch?:any){\n        return this.addEventListener(type, listenner, dispatch);\n        // return this.sub(id).addEventListener(type, listenner, dispatch);\n    }\n    removeSubEvent(id:string, type:any, listenner?:any){\n        return this.sub(id).removeEventListener(type, listenner);\n    }\n    emitSub(id:string, type:any, listenner?:any, dispatch?:any){\n        return this.emit(type, listenner, dispatch);\n        // return this.sub(id).emit(type, listenner, dispatch);\n    }\n    \n\n\n    /**\n     * chuẩn hóa hàn lắng nghe sự kiện\n     * @param {string|function} handler tên phương thức hoạc hàm handler\n     * @returns function\n     */\n\n    parseEventHandler(handler: any): (...args: any[]) => any {\n        var self = this;\n        if (typeof handler == \"function\") {\n            return handler;\n        }\n        var fnt = handler ? handler : function (e) {\n            console.log(e);\n        };\n\n        if (typeof handler == \"string\") {\n            var params = [];\n            var handleParams = handler.split(\":\");\n            if (handleParams.length == 2) {\n                handler = handleParams[0];\n                params = handleParams[1].split(\",\").map(function (s) { return s.trim(); });\n\n            }\n\n            fnt = function (e) {\n                var args = [e];\n                params.map(function (p) { args.push(p); });\n\n                if (typeof self[handler] == \"function\") {\n                    return self[handler].apply(self, args);\n                }\n            };\n\n\n        }\n        return fnt;\n    }\n\n    /**\n     * lắng nghe sự kiện\n     * @param {string} type loại hoạc tên sự kiện\n     * @param {function|string} handler hàm hoặc tên phương thức xử lý sự kiện\n     * @param {boolean} dispatch Thực thi trên tất cả các sự kiện trước đó\n     * @returns this\n     */\n    addEventListener(type: string, handler?: Listener, dispatch?: boolean) {\n        var self = this;\n        var listener = this.parseEventHandler(handler);\n        if(this.hasEventListener(type, handler)) return;\n        \n        if (this._listeners === undefined || this._listeners === null) this._listeners = {};\n\n        type = String(type).toLowerCase();\n\n\n\n        // if (isDomEvent(type)) return this.addDomEvent(type, listener, DEFAULT_VALUE);\n        const listeners = this._listeners;\n\n        if (listeners[type] === undefined) {\n\n            listeners[type] = [];\n\n        }\n        if (dispatch === true) {\n            this.handleDispatchedEvents(type, listener);\n        }\n\n        if (listeners[type].indexOf(listener) === - 1) {\n            listeners[type].push(listener);\n        }\n        return listener;\n    }\n\n    /**\n     * Kiểm tra sự kiện có tồn tại hay không\n     * @param {string} type tên sự kiện\n     * @param {function} listener hàm xử lý\n     * @returns {boolean}\n     */\n    hasEventListener(type: string, listener?: Listener): boolean {\n\n        if (this._listeners === undefined || this._listeners === null) return false;\n\n        const listeners = this._listeners;\n        type = String(type).toLowerCase();\n        return listeners[type] !== undefined && (listener ? listeners[type].indexOf(listener) !== - 1 : true);\n\n    }\n\n    /**\n     * Xóa / Gỡ sự kiện\n     * @param {string} type tên sự kiện\n     * @param {function} listener hàm xử lý\n     * @returns {boolean}\n     */\n    removeEventListener(type: string, listener?: Listener): boolean {\n        if (this._listeners === undefined || this._listeners === null) return false;\n        type = String(type).toLowerCase();\n        const listeners = this._listeners;\n        const listenerArray = listeners[type];\n        if (listenerArray !== undefined) {\n            if (!listener) {\n                this._listeners[type].splice(0, this._listeners[type].length);\n                return true;\n            }\n            const index = listenerArray.indexOf(listener);\n            if (index !== - 1) {\n                listenerArray.splice(index, 1);\n                return true;\n            }\n        }\n        return false;\n    }\n\n\n    /**\n     * Tạo, gọi ra một sự kiện\n     * @param {string|object} event Tên hoặc sự kiện\n     * @param {*} data dữ liệu\n     * @param {boolean} log lưu lại du lieu khi emit\n     * @returns {boolean}\n     */\n    dispatchEvent(event: (EventEmit | String), data?: any, log?: boolean): boolean {\n        if (this._listeners === undefined || this._listeners === null || !event) return null;\n\n        var e: any = {};\n        if (isString(event)) {\n            e.type = event;\n            if (data) {\n                e.data = data;\n            }\n            // console.log(event, data);\n        } else if (isObject(event)) {\n            e = event;\n            if (!e.type) return false;\n            if (!e.data && data) {\n                e.data = data;\n            }\n            if (isBoolean(data) && typeof log == \"undefined\") {\n                log = data;\n            }\n        }\n        else {\n            return false;\n        }\n        if(e.constructor === Object) e.type = String(e.type).toLowerCase();\n        const listeners = this._listeners;\n        const listenerArray = listeners[e.type];\n        var s = true;\n        if (!e.target) {\n            e.target = this;\n        }\n\n        if (!e.stopImmediatePropagation)\n            e.stopImmediatePropagation = function () {\n                s = false;\n            };\n\n        if (log === true) {\n            this.addDispatchedEvent(e);\n        }\n\n\n        if (listenerArray !== undefined) {\n            // Make a copy, in case listeners are removed while iterating.\n            const array1 = listenerArray.slice(0);\n            var rs: any[] = [];\n            for (var i = 0, l = array1.length; i < l; i++) {\n                let a = array1[i].call(this, e);\n                if (!s) break;\n                if (a !== undefined) {\n                    rs.push(a)\n                }\n\n            }\n            if (s && rs.length) {\n                return rs.length == 1 && array1.length == 1 ? rs[0] : rs;\n            }\n            return s;\n        }\n\n    }\n    /**\n     * lắng nghe sự kiện\n     * @param {string} type loại hoạc tên sự kiện\n     * @param {function|string} listener hàm hoặc tên phương thức xử lý sự kiện\n     * @param {boolean} dispatch có cần cần gọi ham voi cac su kien truoc do hay ko\n     * @returns this\n     */\n    on(type: (OnEventListener | string), listener?: Listener | boolean, dispatch?: boolean) {\n        if (isObject(type)) {\n            var listeners = {};\n            const events: OnEventListener = type as OnEventListener;\n            var d: boolean = isBoolean(listener) ? listener as boolean : (isBoolean(dispatch) ? dispatch : false);\n            for (const key in events) {\n                if (Object.hasOwnProperty.call(events, key)) {\n                    const fn = type[key];\n                    if (isFunction(fn) || isString(fn)) {\n                        const fnAdded = this.addEventListener(key, fn, d);\n                        if (fnAdded) {\n                            listeners[key] = fnAdded;\n                        }\n                    }\n                }\n            }\n            return listeners;\n        }\n        return this.addEventListener(type as string, listener as Listener, dispatch);\n    }\n    /**\n     * lắng nghe sự kiện\n     * @param {string} type loại hoạc tên sự kiện\n     * @param {function|string} listener hàm hoặc tên phương thức xử lý sự kiện\n     * @param {boolean} dispatch có cần cần gọi ham voi cac su kien truoc do hay ko\n     * @returns this\n     */\n    subcribe(type: (OnEventListener | string), listener?: Listener, dispatch?: boolean) {\n        return this.on(type, listener, dispatch);\n    }\n\n    off(type?: any, listener?: Listener) {\n        if(isObject(type)){\n            for (const key in type) {\n                if (Object.prototype.hasOwnProperty.call(type, key)) {\n                    const fn = type[key];\n                    this.removeEventListener(key,fn);\n                }\n            }\n            return this;\n        }\n        return this.removeEventListener(type, listener);\n    }\n    /**\n     * Tạo, gọi ra một sự kiện\n     * @param {string|object} event Tên hoặc sự kiện\n     * @param {*} data dữ liệu\n     * @returns {boolean}\n     */\n    emit(event: (EventEmit | String), data?: any, log?: boolean): boolean {\n        return this.dispatchEvent.apply(this, getArguments(arguments));\n    }\n    /**\n     * Tạo, gọi ra một sự kiện\n     * @param {string|object} event Tên hoặc sự kiện\n     * @param {*} data dữ liệu\n     * @returns {boolean}\n     */\n    trigger(event: (EventEmit | String), data?: any, log?: boolean): boolean {\n        return this.dispatchEvent.apply(this, getArguments(arguments));\n    }\n\n    addDispatchedEvent(event: EventEmit) {\n        if (this._dispatchedEvents[event.type] === undefined) this._dispatchedEvents[event.type] = [];\n        this._dispatchedEvents[event.type].push(event);\n        // console.log(event.type, this._pendingListeners[event.type])\n        return this\n    }\n\n    handleDispatchedEvents(type: string, handler: Listener) {\n        var listenerArray = this._dispatchedEvents[type];\n        // console.log(type, this._pendingListeners[type], this);\n        if (listenerArray !== undefined) {\n\n\n            // console.log(type)\n            // Make a copy, in case listeners are removed while iterating.\n            const array = listenerArray.slice(0);\n\n            for (var i = 0, l = array.length; i < l; i++) {\n                // array[i].call(this, e);\n                var s = handler.call(this, array[i]);\n                if (s === false) {\n                    return s;\n                }\n\n            }\n        }\n    }\n\n}\n","import { Injectable } from '@angular/core';\r\nimport { HttpService } from '@app/_core/services/http.service';\r\nimport { Observable } from 'rxjs';\r\nimport { CategoryResultsModel } from '../category';\r\n\r\nimport { TemplateModel } from './model';\r\nimport { TemplateResultModel, TemplateResultsModel } from './results.model';\r\n\r\nconst API_CUSTOMERS_URL = 'templates';\r\n\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class TemplateService {\r\n    results: TemplateResultsModel;\r\n\r\n    constructor(private httpService: HttpService) { }\r\n\r\n\r\n\r\n    getAll(params: {}): Observable<TemplateResultsModel> {\r\n        return this.httpService.get(API_CUSTOMERS_URL + \"/list\", params);\r\n    }\r\n\r\n    // get(key): Observable<TemplateResultModel> {\r\n    //   return this.httpService.get(`${API_CUSTOMERS_URL}/${key}.json`);\r\n    // }\r\n\r\n    get(key): Observable<TemplateModel> {\r\n        return this.httpService.get(`${API_CUSTOMERS_URL}/detail/${key}`);\r\n    }\r\n\r\n    getByCategories(params: {}): Observable<CategoryResultsModel> {\r\n        return this.httpService.get(API_CUSTOMERS_URL + \"/categories\", params);\r\n    }\r\n    create(model: TemplateModel): Observable<TemplateResultModel> {\r\n        return this.httpService.post(API_CUSTOMERS_URL + \"/create\", model);\r\n    }\r\n\r\n    update(model: TemplateModel): Observable<TemplateResultModel> {\r\n        const key = model.id;\r\n        // return this.httpService.patch(`${API_CUSTOMERS_URL}/${key}.json`, model);\r\n        // return this.httpService.patch(`${API_CUSTOMERS_URL}/actions.json`, model);\r\n        return this.httpService.put(`${API_CUSTOMERS_URL}/update/${key}`, model);\r\n    }\r\n\r\n\r\n    updateThumbnail(model: TemplateModel): Observable<TemplateResultModel> {\r\n        const key = model.id;\r\n        // return this.httpService.patch(`${API_CUSTOMERS_URL}/${key}.json`, model);\r\n        // return this.httpService.patch(`${API_CUSTOMERS_URL}/actions.json`, model);\r\n        return this.httpService.put(`${API_CUSTOMERS_URL}/thumbnail/${key}`, model);\r\n    }\r\n\r\n\r\n\r\n    delete(key): Observable<TemplateResultModel> {\r\n        // return this.httpService.delete(`${API_CUSTOMERS_URL}/${key}`);\r\n        return this.httpService.delete(`${API_CUSTOMERS_URL}/delete/${key}`);\r\n    }\r\n\r\n    search(query: { tag?: string; key?: string; collectionCode?: string }) {\r\n        return this.httpService.get(`${API_CUSTOMERS_URL}/list`, query);\r\n    }\r\n\r\n    searchNounProject(query: { tag?: string; key?: string; collectionCode?: string }) {\r\n        return this.httpService.get(`${API_CUSTOMERS_URL}/search/nounproject`, query);\r\n    }\r\n\r\n    render(params) {\r\n        return this.httpService.download(`Templates/render`, params);\r\n    }\r\n\r\n    getTemplateData(url) {\r\n        return this.httpService.getOut(url);\r\n    }\r\n\r\n    useTemplate(TemplateId): Observable<TemplateResultModel> {\r\n        return this.httpService.post(`${API_CUSTOMERS_URL}/${TemplateId}/use`, {}, false);\r\n    }\r\n}\r\n","import { NgModule, APP_INITIALIZER } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { HTTP_INTERCEPTORS, HttpClient } from '@angular/common/http';\r\nimport { JwtInterceptor, ErrorInterceptor } from '@app/_core/interceptors';\r\nimport { services, StartupService } from '@app/_core/services';\r\n\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\n\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { StoreModule } from '@ngrx/store';\r\nimport { EffectsModule } from '@ngrx/effects';\r\nimport { StoreDevtoolsModule } from '@ngrx/store-devtools';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { reducers, metaReducers } from './_store';\r\nimport { AuthModule } from './auth/auth.module';\r\nimport { AppUIModule } from './app-ui.module';\r\nimport { AppRoutingModule } from './app-routing.module';\r\n\r\nimport { NgxOneSignalModule } from 'ngx-onesignal-plus';\r\n\r\nimport { SharedModule } from './_shared/shared.module';\r\n\r\nimport en from '@angular/common/locales/en';\r\nimport { registerLocaleData } from '@angular/common';\r\nimport { environment } from '../environments/environment';\r\nimport { ServiceWorkerModule } from '@angular/service-worker';\r\nimport { SHARE_SERVICES } from './_shared/shared-services';\r\n\r\nregisterLocaleData(en);\r\n\r\nexport function I18nHttpLoaderFactory(http: HttpClient) {\r\n  return new TranslateHttpLoader(http, `assets/data/i18n/`, '.json');\r\n}\r\n\r\nexport function StartupServiceFactory(startupService: StartupService) {\r\n  return () => startupService.load();\r\n}\r\n\r\nconst APPINIT_PROVIDES = [\r\n  StartupService,\r\n  {\r\n    provide: APP_INITIALIZER,\r\n    useFactory: StartupServiceFactory,\r\n    deps: [StartupService],\r\n    multi: true,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  declarations: [AppComponent],\r\n  imports: [\r\n    CommonModule,\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    BrowserAnimationsModule,\r\n    AppUIModule,\r\n    AuthModule,\r\n    SharedModule,\r\n    BrowserAnimationsModule,\r\n\r\n    EffectsModule.forRoot([]),\r\n\r\n    StoreModule.forRoot(reducers, {\r\n      metaReducers,\r\n      runtimeChecks: {\r\n        strictStateImmutability: true,\r\n        strictActionImmutability: true,\r\n      },\r\n    }),\r\n\r\n    !environment.production ? StoreDevtoolsModule.instrument() : [],\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: I18nHttpLoaderFactory,\r\n        deps: [HttpClient],\r\n      },\r\n    }),\r\n    NgxOneSignalModule.forRoot({\r\n      appId: 'abc',\r\n      autoRegister: false,\r\n      autoResubscribe: false,\r\n\r\n      notificationClickHandlerMatch: 'exact',\r\n      notificationClickHandlerAction: 'navigate',\r\n      notifyButton: {\r\n        enable: true,\r\n      },\r\n    }),\r\n\r\n    ServiceWorkerModule.register('OneSignalSDKWorker.js', {\r\n      enabled: true,\r\n    }),\r\n  ],\r\n  providers: [\r\n    ...services,\r\n\r\n    { provide: HTTP_INTERCEPTORS, useClass: JwtInterceptor, multi: true },\r\n    { provide: HTTP_INTERCEPTORS, useClass: ErrorInterceptor, multi: true },\r\n    ...APPINIT_PROVIDES,\r\n    ...SHARE_SERVICES\r\n  ],\r\n  bootstrap: [AppComponent],\r\n  exports: [TranslateModule, RouterModule],\r\n})\r\nexport class AppModule {}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\n\n@Component({\n  selector: 'tab-light-item',\n  templateUrl: './light-item.component.html',\n  styleUrls: ['./light-item.component.scss']\n})\nexport class LightItemComponent extends BaseComponent implements OnInit {\n  @Input() light: any;\n  @Output() clickLight = new EventEmitter<any>();\n  @Output() clickDelete = new EventEmitter<any>();\n  \n  ngOnInit(): void {\n  }\n\n  onClick(){\n    this.clickLight.emit(this.light.secret_key);\n  }\n\n  onClickDelete(){\n    this.clickDelete.emit(this.light.secret_key);\n  }\n\n}\n\n","<div class=\"text text-subheading\">\n    <div class=\"item-text\">\n        <div class=\"text-content\">\n            <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\" class=\"light-group\">\n                <div nz-col class=\"gutter-row\" [nzSpan]=\"18\">\n                    <div class=\"inner-box light-name\" (click)=\"onClick()\">\n                        {{light.name}}\n                    </div>\n                </div>\n                <div nz-col class=\"gutter-row\" [nzSpan]=\"6\">\n                    <div class=\"inner-box text-right\">\n                        <div class=\"delete\" (click)=\"onClickDelete()\">\n                            <i nz-icon nzType=\"delete\" nzTheme=\"outline\"></i>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { Injectable } from '@angular/core';\nimport { EventManagerService } from '@app/_core/services/event-manager.service';\nimport { AppEditorService } from './app-editor.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AppEditorEventService extends EventManagerService {\n    app: AppEditorService = null;\n    [prop: string]: any;\n    constructor() {\n        super();\n    }\n\n  \n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { BaseInputComponent } from '../base-input/base-input.component';\n\n@Component({\n  selector: 'inp-number',\n  templateUrl: './inp-number.component.html',\n  styleUrls: ['./inp-number.component.scss']\n})\nexport class InpNumberComponent extends BaseInputComponent implements OnInit {\n\n  @Input() step: number = 1;\n  @Input() max: number = 9999999999999999;\n  @Input() min: number =-9999999999999999;\n\n  @Input() spin: boolean = false;\n  \n\n  constructor() {\n    super()\n   }\n\n  ngOnInit(): void {\n  }\n\n  valChange(value){\n    this.onChange({value});\n  }\n}\n","<ng-container *ngIf=\"spin; then thenTemplate; else elseTemplate\"></ng-container>\n<ng-template #thenTemplate>\n    <nz-input-number \n    [name]=\"name\" \n    [nzMin]=\"min\" \n    [nzMax]=\"max\" \n    [nzStep]=\"step\" \n    [(ngModel)]=\"value\" \n    (ngModelChange)=\"valChange($event)\"\n></nz-input-number>    \n</ng-template>\n<ng-template #elseTemplate>\n    <nz-input-number \n    [name]=\"name\" \n    [(ngModel)]=\"value\" \n    (ngModelChange)=\"valChange($event)\"\n></nz-input-number>\n</ng-template>\n\n","import { assignValue, assignWithout, isObject, objectHasKey } from \"@app/_core/helpers/utils\";\r\nimport { parseParams } from \"../libs/props\";\r\nimport { FloorDefaultData } from \"../store/data.type\";\r\nimport * as THREELibs from 'three';\r\nconst THREE = THREELibs;\r\n\r\nexport const Floor = {\r\n    enableFloor: false,\r\n\r\n    aboveFloor: false,\r\n\r\n    dropbyPositionY: FloorDefaultData.props.position.y,\r\n\r\n\r\n    floorSettings: {},\r\n\r\n    floorObject: null,\r\n    boots: ['bootFloor'],\r\n    inits: ['initFloor'],\r\n    bootFloor: function () {\r\n        this.floorSettings = {}\r\n    },\r\n    initFloor: function () {\r\n        // this.floorSettings = assignValue({}, FloorDefaultData);\r\n        // assignValue(this.floorSettings, this.data.scene.floor);\r\n        this.on(\"scene.inited\", () => this.updateFloorSetting(this.data.scene.floor));\r\n        var self = this;\r\n        this.on(\"scene.settings.updated:floor\", function (e) {\r\n            self.updateFloorSetting(e.data);\r\n        })\r\n    },\r\n    updateFloorSetting: function (setting) {\r\n        if (objectHasKey(setting, 'enabled')) {\r\n            this.enableFloor = setting.enabled;\r\n        } else if (objectHasKey(setting, \"above\")) {\r\n            this.aboveFloor = setting.above;\r\n        }\r\n        else if (objectHasKey(setting, \"props\")) {\r\n            if (objectHasKey(setting, \"position\")) {\r\n                this.dropbyPositionY = setting.props.position.y;\r\n            }\r\n        }\r\n\r\n        assignValue(this.floorSettings, setting);\r\n\r\n        this.updateFloorObject(this.floorSettings);\r\n        \r\n        this.updateGridHelper();\r\n\r\n        // this.updateAxesHelper();\r\n\r\n    },\r\n\r\n    gridHelperObject: null,\r\n    updateGridHelper: function () {\r\n        if (this.env != \"production\") {\r\n            if (this.gridHelperObject) {\r\n                this.scene.remove(this.gridHelperObject)\r\n            }\r\n\r\n            if (!this.floorSettings.enableGrid) {\r\n                return;\r\n            }\r\n            const size = this.floorSettings.params.width;\r\n            const divisions = size < 10 ? 10 : size;\r\n\r\n            const gridHelper = new THREE.GridHelper(size, divisions);\r\n            gridHelper.position.y = this.floorSettings.props.position.y;\r\n            this.gridHelperObject = gridHelper;\r\n\r\n            this.scene.add(gridHelper);\r\n            this.refresh();\r\n        }\r\n    },\r\n    showGridHelper: function(){\r\n        if (this.gridHelperObject) {\r\n            this.scene.remove(this.gridHelperObject);\r\n            this.scene.add(this.gridHelperObject);\r\n        }\r\n    },\r\n    hideGridHelper: function(){\r\n        if (this.gridHelperObject) {\r\n            this.scene.remove(this.gridHelperObject);\r\n        }\r\n    },\r\n    \r\n    axesHelperObject: null,\r\n    updateAxesHelper: function () {\r\n        if (this.env != \"production\") {\r\n            if (this.axesHelperObject) {\r\n                this.scene.remove(this.axesHelperObject)\r\n            }\r\n\r\n            if (!this.floorSettings.enableAxes) {\r\n                return;\r\n            }\r\n            let ss = this.sceneSettings.size;\r\n            let min = ss.width;\r\n            if (ss.height < min) min = ss.height;\r\n            else if (ss.depth < min) min = ss.depth;\r\n\r\n            const axesHelper = new THREE.AxesHelper(min / 10);\r\n            axesHelper.position.y = this.floorSettings.props.position.y;;\r\n            this.axesHelperObject = axesHelper;\r\n\r\n            this.scene.add(axesHelper);\r\n\r\n\r\n            this.refresh();\r\n        }\r\n    },\r\n\r\n    showAxesHelper: function(){\r\n        if (this.axesHelperObject) {\r\n            this.scene.remove(this.axesHelperObject);\r\n            this.scene.add(this.axesHelperObject);\r\n        }\r\n    },\r\n    hideAxesHelper: function(){\r\n        if (this.axesHelperObject) {\r\n            this.scene.remove(this.axesHelperObject);\r\n        }\r\n    },\r\n    updateFloorObject: function (setting) {\r\n        let floorParams = {\r\n            geometry: setting.params,\r\n            material: setting.material,\r\n            props: setting.props\r\n        };\r\n        if (!this.floorObject) {\r\n            this.floorObject = this.Mesh.get(floorParams);\r\n        }\r\n        else {\r\n            this.floorObject.copy(this.Mesh.get(floorParams));\r\n        }\r\n        if (setting.enabled) {\r\n            if (this.floorObject && this.floorObject.isMesh) {\r\n                this.floorObject.rotation.x = -Math.PI / 2;\r\n                if (!this.floorObject.inScene) {\r\n                    this.scene.add(this.floorObject);\r\n                    this.floorObject.inScene = true;\r\n                }\r\n                this.refresh();\r\n            }\r\n\r\n        } else {\r\n            if (this.floorObject && this.floorObject.isMesh && this.floorObject.inScene) {\r\n                this.scene.remove(this.floorObject);\r\n                this.floorObject.inScene = false;\r\n                this.refresh();\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    floorStatus: false,\r\n\r\n    __floorObject: null,\r\n    addFloor: function (options: any) {\r\n        var self = this;\r\n        if (this.Loader.loadingCount) {\r\n            this.on('model.load.success', function (data) {\r\n                if (!self.Loader.loadingCount && !self.floorStatus) {\r\n                    self.addFloor(options);\r\n                }\r\n            });\r\n            return this;\r\n        }\r\n        this.floorStatus = true;\r\n        var option = isObject(options) ? options : {};\r\n        var params = parseParams(option.params || option, { type: \"circle\", radius : 0.5, segments : 50 });\r\n        if (params.type == 'square') params.type = \"planebuffer\";\r\n\r\n        if (!params.radius) params.radius = 0.5;\r\n\r\n\r\n        var materialOptions = {\r\n            type: \"physical\",\r\n            params: {\r\n                roughness: 0.8,\r\n                color: \"#d9d9d9\",\r\n                metalness: 0.2,\r\n                bumpScale: 0.5\r\n            },\r\n            props: {\r\n                transparent: true,\r\n                opacity: 0.8,\r\n                receiveShadow: true,\r\n            }\r\n        };\r\n        assignValue(materialOptions, option.material);\r\n        var props = assignWithout({}, option.props || option, ['rotation'], params);\r\n        var sceneSize = this.getSceneSize();\r\n        if (sceneSize.size.x/2 > params.radius) params.radius = sceneSize.size.x * 1.6;\r\n        if (sceneSize.size.z/2 > params.radius) params.radius = sceneSize.size.z * 1.6;\r\n\r\n        assignValue(props, {\r\n            receiveShadow: true,\r\n            position: {\r\n                y: sceneSize.min.y - 0.001\r\n            },\r\n            rotation: {\r\n                x: - Math.PI / 2\r\n            }\r\n        });\r\n\r\n        this.addMesh({\r\n            geometry: params,\r\n            material: materialOptions,\r\n            props: props\r\n        }, function (object) {\r\n            self.__floorObject = object;\r\n        });\r\n        // console.log(self.__floorObject);\r\n\r\n        this.on('scene.size.get.begin', function () {\r\n            if (self.floorStatus) {\r\n                let index = this.objects.indexOf(self.__floorObject);\r\n                if (index != -1) {\r\n                    self.objects.splice(index, 1);\r\n                }\r\n                self.scene.remove(self.__floorObject.object);\r\n            }\r\n        })\r\n        this.on('scene.size.get.end', function () {\r\n            if (self.floorStatus && self.__floorObject) {\r\n                self.scene.add(self.__floorObject.object);\r\n                let index = self.objects.indexOf(self.__floorObject);\r\n                if (index == -1) {\r\n                    self.objects.push(self.__floorObject);\r\n                }\r\n            }\r\n        })\r\n\r\n\r\n    },\r\n\r\n    updateFloor: function () {\r\n        if (!this.__floorObject) {\r\n            this.addFloor({});\r\n        } else {\r\n            var sceneSize = this.getSceneSize();\r\n            assignValue(this.__floorObject.object, {\r\n                position: {\r\n                    y: sceneSize.min.y - 0.0001\r\n                },\r\n                rotation: {\r\n                    x: - Math.PI / 2\r\n                }\r\n            });\r\n            var params = this.__floorObject.object.geometry.parameters\r\n\r\n            if (sceneSize.size.x/2 > params.radius) params.radius = sceneSize.size.x * 2;\r\n            if (sceneSize.size.z/2 > params.radius) params.radius = sceneSize.size.z * 2;\r\n            this.__floorObject.object.needsUpdate = true;\r\n\r\n        }\r\n        this.refresh();\r\n    },\r\n\r\n    removeFloor: function(){\r\n        this.scene.remove(this.__floorObject.object);\r\n    }\r\n}","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\n\n@Component({\n    selector: 'app-tab-project-setting',\n    templateUrl: './tab-project-setting.component.html',\n    styleUrls: ['./tab-project-setting.component.scss']\n})\nexport class TabProjectSettingComponent extends BaseComponent implements OnInit, OnDestroy {\n    \n}\n","<div class=\"tab-inner\">\n    <h2>{{ 'Settings' | translate }}</h2>\n    <nz-tabset nzTabPosition=\"top\" nzType=\"line\" class=\"sub-tab\">\n\n        <nz-tab [nzTitle]=\"iconInfo\">\n            <ng-template #iconInfo>\n                <img src=\"/assets/icons/new-design/tab-sub/info.svg\" alt=\"Info\" />\n                <div>Info</div>\n            </ng-template>\n            <app-tab-project-info class=\"tab-info\"></app-tab-project-info>\n        </nz-tab>\n\n        <!-- <nz-tab [nzTitle]=\"iconForeground\">\n          <ng-template #iconForeground>\n            <img src=\"/assets/icons/new-design/tab-sub/foreground.svg\" alt=\"Foreground\" />\n            <div>Foreground</div>\n          </ng-template>\n          <ng-template nz-tab>\n            <app-tab-foreground></app-tab-foreground>\n          </ng-template>\n        </nz-tab> -->\n\n    </nz-tabset>\n\n</div>","import { Component, ElementRef, Input, OnInit } from '@angular/core';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { getTimeStamp } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { ItemModel } from '@app/_store/item';\n\n@Component({\n    selector: 'model-item',\n    templateUrl: './model-item.component.html',\n    styleUrls: ['./model-item.component.scss']\n})\nexport class ModelItemComponent extends BaseComponent implements OnInit {\n    @Input() item: ItemModel;\n    pos = {\n        x: 0,\n        y: 0\n    }\n    curTime = getTimeStamp();\n\n    constructor(\n        private elem: ElementRef,\n        private events: AppEditorEventService\n    ) {\n        super()\n    }\n    onInit(){}\n\n    onPointerDown(event){\n        this.onDragStart(event)\n    }\n\n    onPointerUp(event){\n        let ct = getTimeStamp();\n        if(event.clientX == this.pos.x && event.clientY == this.pos.y && ct - this.curTime <= 300){\n            let evt = {\n                type: \"item.dropcenter\",\n                clientX: event.clientX,\n                clientY: event.clientY\n            };\n            this.subEvents.emit(evt);\n        }\n        this.curTime = ct;\n        this.pos.x = event.clientX;\n        this.pos.y = event.clientY;\n        \n    }\n\n    onDragStart(event) {\n        event.preventDefault();\n        let item = this.item;\n        var itemElement = this.elem.nativeElement.querySelector('.model-item');\n        var rect = itemElement.getBoundingClientRect();\n        \n        let evt = {\n            type: \"item.dragstart\",\n            clientX: event.clientX,\n            clientY: event.clientY,\n            width: rect.width,\n            height: rect.height,\n            left: rect.left,\n            top: rect.top,\n            item: item,\n            data: item\n        };\n        this.subEvents.emit(evt);\n        // this.templateEvent.dragItem(item);\n    }\n\n}\n","<div class=\"model-item\" (pointerdown)=\"onPointerDown($event)\" (pointerup)=\"onPointerUp($event)\">\n    <div class=\"thumbnail\">\n        <img src=\"{{item.thumbnail}}\" alt=\"{{item.name}}\">\n    </div>\n    <div class=\"name\">\n        {{item.name}}\n    </div>\n</div>","import { AppEditorEventService } from \"@app/_3D/services/app-editor-event.service\";\r\nimport { AppEditorService } from \"@app/_3D/services/app-editor.service\";\r\nimport { MeshGeometryService } from \"./components/panels/mesh-geometry/mesh-geometry.service\";\r\nimport { PanelLightService } from \"./components/panels/panel-light/panel-light.service\";\r\nimport { PanelModelObjectService } from \"./components/panels/panel-model-object/panel-model-object.service\";\r\nimport { EditorToolbarService } from \"./components/viewport/editor-toolbar/editor-toolbar.service\";\r\nimport { ObjectToolbarService } from \"./components/viewport/object-toolbar/object-toolbar.service\";\r\nimport { VectorControlsService } from \"./components/viewport/vector-controls/vector-controls.service\";\r\nimport { ViewportService } from \"./components/viewport/viewport.service\";\r\nimport { AppEditorStorageService } from \"../_3D/services/app-editor-storage.service\";\r\nimport { ModalConfirmService } from \"./services/modal-confirm.service\";\r\nimport { SidebarLockService } from \"./components/editor/sidebar/sidebar-lock/sidebar-lock.service\";\r\nimport { ClientViewportService } from \"./components/viewport/client-viewport.service\";\r\nimport { ClientEditToolbarService } from \"./components/viewport/client-edit-toolbar/client-edit-toolbar.service\";\r\n\r\nexport const SHARE_SERVICES = [\r\n    ViewportService,\r\n    MeshGeometryService,\r\n    ObjectToolbarService,\r\n    ModalConfirmService,\r\n    PanelModelObjectService,\r\n    PanelLightService,\r\n    EditorToolbarService,\r\n    VectorControlsService,\r\n    SidebarLockService,\r\n\r\n\r\n    AppEditorService,\r\n    AppEditorEventService,\r\n    AppEditorStorageService,\r\n    ClientViewportService,\r\n    ClientEditToolbarService\r\n]","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\nimport { assignValue, assignWithout, inArray } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { ImageLibraryService } from '@app/_shared/components/modals/image-library/image-library.service';\nimport { ModalConfirmService } from '@app/_shared/services/modal-confirm.service';\nimport { FG_DEFAULT_DATA, FG_ITEM } from '@app/_shared/shared.type';\n\n@Component({\n    selector: 'app-tab-foreground',\n    templateUrl: './tab-foreground.component.html',\n    styleUrls: ['./tab-foreground.component.scss']\n})\nexport class TabForegroundComponent extends BaseComponent implements OnInit {\n    foregrounds: FG_ITEM[] = [];\n\n    app: AppEditorService = null;\n    isInited: boolean = false;\n    appEvents: any = {\n        \"scene.foregrounds.added\": () => this.loadForeground(),\n        \"scene.foregrounds.deleted\": () => {\n            this.loadForeground();\n            this.emitRefresh();\n        }\n    };\n    constructor(\n        private cd: ChangeDetectorRef,\n        private library: ImageLibraryService,\n        private cfm: ModalConfirmService,\n        // private app: AppEditorService,\n        private events: AppEditorEventService\n    ) {\n        super();\n    }\n\n    initOnce(){\n        this.app = this.events.app;\n     \n    }\n    init() {\n        if(this.isChangeSubEvents){\n            this.app = this.subEvents.app;\n        }\n        this.app.on(this.appEvents);\n        this.loadForeground();\n        this.cd.detectChanges();\n    }\n    onDestroy(){\n        this.app.off(this.appEvents);\n    }\n\n\n    loadForeground() {\n        this.foregrounds = this.app.getForegrounds();\n        this.cd.detectChanges();\n    }\n\n    add() {\n        this.library.open({\n            title: \"Choose Foreground Image\",\n            listType: \"foreground\",\n            mode: \"simple\"\n        }, image => this.addForeground(image.source), e => this.onLibraryModalCancel());\n    }\n\n    addForeground(url: string): void {\n        if (this.app) {\n            let fg: FG_ITEM = {\n                url: url\n            };\n            assignWithout(fg, FG_DEFAULT_DATA, 'url');\n            this.app.addForegroundData(fg);\n        }\n    }\n\n    updateForeground(data) {\n        this.app.updateForegroundData(data.secret_key, data);\n    }\n\n    deleteForeground(fg: FG_ITEM) {\n        this.cfm.showDeleteConfirm(\"Are you sure delete \" + fg.name + \"?\", () => {\n            this.app.deleteForeground(fg.secret_key);\n        })\n    }\n\n    onLibraryModalCancel() {\n\n    }\n\n\n    emitRefresh() {\n        setTimeout(() => {\n            this.subEvents.emit(\"tab.scene.refresh\");\n        }, 200);\n    }\n\n}\n","<div class=\"tab-inner\">\n    <div class=\"tab-header\">\n        <h2>{{\"Foregrounds\"|translate}}</h2>\n        <div class=\"btns\">\n            <button nz-button (click)=\"add()\">\n                {{\"Add\"|translate}}\n            </button>\n            \n        </div>\n    </div>\n    <div class=\"store tab-body\">\n        <app-foreground-item \n           \n            *ngFor=\"let foreground of foregrounds; let i=index\" \n            [data]=\"foreground\" \n            (update)=\"updateForeground($event)\"\n            (clickDelete)=\"deleteForeground($event)\"\n            \n            (emitter)=\"listen($event)\"\n        ></app-foreground-item>\n\n    </div>\n</div>\n\n","import { Injectable } from '@angular/core';\nimport { isArray, isObject, isString, objectHasKey } from '@app/_core/helpers/utils';\nimport { EventManagerService } from '@app/_core/services/event-manager.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class EditorToolbarService extends EventManagerService {\n    keyListenners: any = {};\n    constructor() {\n        super();\n        this.on(\"click\", e => {\n            this.onClickHandle(e);\n        });\n\n    }\n    onClickHandle(event){\n        if(objectHasKey(this.keyListenners, event.key)){\n            this.keyListenners[event.key].map(f => f(event));\n        }\n    }\n    show(...buttons: any[]) {\n        let btns: any[] = [];\n        for (let index = 0; index < buttons.length; index++) {\n            const btn = buttons[index];\n            if (isArray(btn)) btn.map(b => btns.push(b));\n            else if (isObject(btn)) {\n                for (const bk in btn) {\n                    if (Object.prototype.hasOwnProperty.call(btn, bk)) {\n                        const listener = btn[bk];\n                        if (typeof listener == \"function\") {\n                            this.listen(bk, listener);\n                            btns.push(bk);\n                        }\n                    }\n                }\n            }\n            else btns.push(btn);\n        }\n        this.emit({\n            type: \"show\",\n            buttons: btns\n        }, null, true);\n    }\n\n    listen(key, callback) {\n        if(typeof callback == \"function\" && isString(key)){\n            if(!objectHasKey(this.keyListenners, key)) this.keyListenners[key] = [];\n            this.keyListenners[key].push(callback);\n        }\n    }\n\n    hide() {\n        this.keyListenners = {};\n        this.emit({\n            type: \"show\",\n            buttons: []\n        }, null, true);\n    }\n}\n","export * from './auth.service';\r\n","import { AfterViewInit, Component, ElementRef, Input, OnInit } from '@angular/core';\nimport { BaseComponent } from '../../base/base.component';\nimport { ViewportService } from '../viewport.service';\n\n@Component({\n    selector: 'canvas-layer',\n    templateUrl: './canvas-layer.component.html',\n    styleUrls: ['./canvas-layer.component.scss']\n})\nexport class CanvasLayerComponent extends BaseComponent implements OnInit, AfterViewInit {\n\n    @Input() canvas: Element;\n    @Input() app: any;\n    app3D: any = null;\n    canvas3D: Element = null;\n    appStatus: boolean = false;\n    elementStatus: boolean = false;\n    constructor(\n        private elemRef: ElementRef, \n        private events: ViewportService\n    ) {\n        super();\n    }\n    onChangeSubEvents(){\n        this.registerEventService(this.subEvents, \"resetcanvas\", () => {\n            let s = true;\n            const fn = () => {\n                if(!s){\n                    let t = this.initCanvas();\n                    s=!t;\n                }\n                if(s){\n                    setTimeout(fn, 1000);\n                }\n            };\n            fn();\n        })\n    }\n\n    initFirst(){\n        this.registerEventService(window, 'resize',  e => this.updateCanvasSize(e));\n    }\n\n    onInit(): void {\n        let a: any = {};\n        a.canvas = this.canvas ? this.setCanvas(this.canvas) : this.subEvents.on('canvas.set', e => this.setCanvas(e.canvas), true);\n        a.app = this.app ? this.setApp(this.app) : this.subEvents.on('app.set', e => this.setApp(e.app), true);\n        // this.initCanvas();\n        a = null;\n\n        this.activeEventServiceRegistered(window);\n    }\n    onDestroy(){\n        this.deactiveEventServiceRegistered(window);\n    }\n\n\n    ngAfterViewInit(): void {\n        this.elementStatus = true;\n        this.initCanvas();\n    }\n\n    updateCanvasSize(event?:Event){\n        if(this.app3D){\n            this.app3D.engine.updateCanvasSize(event);\n        }\n    }\n    \n\n    initCanvas() {\n        if(this.app3D && this.canvas3D && this.elementStatus){\n            var wrapper = this.elemRef.nativeElement;\n            wrapper.innerHTML = '';\n            // wrapper.appendChild(this.canvas3D);\n            this.app3D.engine.setWrapper(wrapper);\n            setTimeout(() => {\n                this.updateCanvasSize();\n            }, 10);\n            return true;\n        }\n        return false;\n    }\n\n    setApp(app) {\n        this.app3D = app;\n        if(!this.canvas3D){\n            this.canvas3D = this.app3D.engine.getCanvas();\n        }\n        this.initCanvas();\n\n    }\n\n    setCanvas(canvas){\n        this.canvas3D = canvas;\n        this.initCanvas();\n    }\n}\n","import { Component, Output, EventEmitter, OnInit, ChangeDetectionStrategy, ChangeDetectorRef, Input } from '@angular/core';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { AppEditorStorageService } from '@app/_3D/services/app-editor-storage.service';\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\n\nenum TabIndex {\n    CreateForm = 0,\n    Object = 1,\n    Scene = 2,\n    Light = 3,\n    Controls = 4,\n    settings = 5\n}\nenum TabIndex2 {\n    Object = 0,\n    Scene = 1,\n    Light = 2,\n    Controls = 3,\n    settings = 4\n}\n@Component({\n    selector: 'app-project-sidebar',\n    templateUrl: './project-sidebar.component.html',\n    styleUrls: ['./project-sidebar.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ProjectSidebarComponent extends BaseComponent implements OnInit {\n\n    prevTab: number = 0;\n    currentTab: number = 0;\n\n    loadedTemplate = false;\n    loadedObject = false;\n\n    mode: string = 'create';\n\n    isInit : boolean = false;\n    app: AppEditorService;\n    constructor(private cd: ChangeDetectorRef, private storage: AppEditorStorageService, private events: AppEditorEventService) {\n        super();\n    }\n    initFirst(){\n        this.app = this.events.app;\n        this.storage.subcribe(\"editMode\", mode => {\n            this.mode = mode;\n            if(this.isFocus){\n                this.cd.detectChanges();\n            }\n        }, true);\n    }\n    onInit() {\n        if(this.isChangeSubEvents){\n            this.app = this.subEvents.app;\n        }\n        this.cd.detectChanges();\n    }\n\n    onChangeTab(e) {\n        if (this.app && this.app.editor) {\n            \n            if ((this.mode == \"create\" && e.index == TabIndex.Light) || (this.mode == \"update\" && e.index == TabIndex2.Light)) {\n                this.app.editor.showLightHelpers();\n            } else {\n                this.app.editor.hideLightHelpers();\n                this.app.editor.detachLight();\n            }\n        }\n        this.currentTab = e.index;\n\n        this.cd.detectChanges();\n    }\n\n    onClickSearch(event) {\n        console.log(event);\n    }\n\n\n}","<ng-container *ngIf=\"mode == 'create'; then createFormTabs; else updateFormTabs\"></ng-container>\n<ng-template #createFormTabs>\n    <nz-tabset [nzSelectedIndex]=\"currentTab\" nzTabPosition=\"top\" nzType=\"line\" class=\"main-tab\" (nzSelectChange)=\"onChangeTab($event)\">\n\n        <nz-tab [nzTitle]=\"iconTemplate\" [nzForceRender]=\"loadedTemplate\">\n            <ng-template #iconTemplate>\n                <img src=\"/assets/icons/new-design/tab-top/template.svg\" alt=\"Template\" />\n            </ng-template>\n            <app-tab-template-create-form></app-tab-template-create-form>\n        </nz-tab>\n\n\n        <nz-tab [nzTitle]=\"iconObject\">\n            <ng-template #iconObject>\n                <img src=\"/assets/icons/new-design/tab-top/object.svg\" alt=\"Object\" />\n            </ng-template>\n            <ng-template nz-tab>\n                <app-tab-object></app-tab-object>\n            </ng-template>\n        </nz-tab>\n        <nz-tab [nzTitle]=\"iconScene\">\n            <ng-template #iconScene>\n                <img src=\"/assets/icons/new-design/tab-top/scene.svg\" alt=\"Scene\" />\n            </ng-template>\n            <ng-template nz-tab>\n                <app-tab-scene></app-tab-scene>\n            </ng-template>\n        </nz-tab>\n\n        <nz-tab [nzTitle]=\"iconLight\">\n            <ng-template #iconLight>\n                <img src=\"/assets/icons/new-design/tab-top/light.svg\" alt=\"Lighr\" />\n            </ng-template>\n            <ng-template nz-tab>\n                <app-tab-light></app-tab-light>\n            </ng-template>\n        </nz-tab>\n\n        <nz-tab [nzTitle]=\"iconControls\">\n            <ng-template #iconControls>\n                <img src=\"/assets/icons/new-design/tab-top/control-camera.svg\" alt=\"Control Camera\" />\n            </ng-template>\n            <ng-template nz-tab>\n                <app-tab-controls></app-tab-controls>\n            </ng-template>\n        </nz-tab>\n\n\n    </nz-tabset>\n</ng-template>\n<ng-template #updateFormTabs>\n    <nz-tabset [nzSelectedIndex]=\"currentTab\" nzTabPosition=\"top\" nzType=\"line\" class=\"main-tab\" (nzSelectChange)=\"onChangeTab($event)\">\n\n        <nz-tab [nzTitle]=\"iconObject\" [nzForceRender]=\"loadedObject\">\n            <ng-template #iconObject>\n                <img src=\"/assets/icons/new-design/tab-top/object.svg\" alt=\"Object\" />\n            </ng-template>\n            <app-tab-object></app-tab-object>\n        </nz-tab>\n\n        <nz-tab [nzTitle]=\"iconScene\">\n            <ng-template #iconScene>\n                <img src=\"/assets/icons/new-design/tab-top/scene.svg\" alt=\"Scene\" />\n            </ng-template>\n            <ng-template nz-tab>\n                <app-tab-scene></app-tab-scene>\n            </ng-template>\n        </nz-tab>\n\n        <nz-tab [nzTitle]=\"iconLight\">\n            <ng-template #iconLight>\n                <img src=\"/assets/icons/new-design/tab-top/light.svg\" alt=\"Lighr\" />\n            </ng-template>\n            <ng-template nz-tab>\n                <app-tab-light></app-tab-light>\n            </ng-template>\n        </nz-tab>\n\n        <nz-tab [nzTitle]=\"iconControls\">\n            <ng-template #iconControls>\n                <img src=\"/assets/icons/new-design/tab-top/control-camera.svg\" alt=\"Control Camera\" />\n            </ng-template>\n            <ng-template nz-tab>\n                <app-tab-controls></app-tab-controls>\n            </ng-template>\n        </nz-tab>\n\n\n        <nz-tab [nzTitle]=\"iconSetting\">\n            <ng-template #iconSetting>\n                <img src=\"/assets/icons/new-design/tab-top/more.svg\" alt=\"More\" />\n            </ng-template>\n            <app-tab-project-setting></app-tab-project-setting>\n        </nz-tab>\n\n\n    </nz-tabset>\n</ng-template>","import { Component, OnInit } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport * as fromAuth from '../store';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss'],\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  loginForm: FormGroup;\r\n  submitted = false;\r\n  error = false;\r\n  isAuthenticating$: Observable<boolean>;\r\n  constructor(private store: Store<fromAuth.AuthState>, private formBuilder: FormBuilder) {}\r\n\r\n  ngOnInit() {\r\n    this.loginForm = this.formBuilder.group({\r\n      email: ['', Validators.required],\r\n      password: ['', Validators.required],\r\n      remember: [false, Validators.required],\r\n    });\r\n\r\n    this.isAuthenticating$ = this.store.select(fromAuth.getIsAuthenticating);\r\n  }\r\n\r\n  get f(): any {\r\n    if (typeof this.loginForm !== 'undefined') {\r\n      return this.loginForm.controls;\r\n    }\r\n  }\r\n\r\n  onSubmit(): void {\r\n    this.submitted = true;\r\n    if (this.loginForm.valid) {\r\n      const actionPayload = {\r\n        email: this.f.email.value,\r\n        password: this.f.password.value,\r\n      };\r\n      this.store.dispatch(new fromAuth.Login(actionPayload));\r\n    }\r\n  }\r\n}\r\n","<div class=\"login-wrapper\">\r\n  <form nz-form [formGroup]=\"loginForm\" (ngSubmit)=\"onSubmit()\" role=\"form\">\r\n    <section class=\"title\">\r\n      Brandgos\r\n      <h5 class=\"hint\">Make your logo</h5>\r\n    </section>\r\n    <div class=\"login-group\">\r\n      <nz-alert *ngIf=\"error\" [nzType]=\"'error'\" [nzMessage]=\"error\" [nzShowIcon]=\"true\" class=\"mb-lg\"></nz-alert>\r\n      <nz-form-item>\r\n        <nz-form-control>\r\n          <nz-input-group nzSize=\"large\" nzPrefixIcon=\"user\">\r\n            <input nz-input formControlName=\"email\" placeholder=\"Email\" />\r\n          </nz-input-group>\r\n        </nz-form-control>\r\n      </nz-form-item>\r\n\r\n      <nz-form-item>\r\n        <nz-form-control>\r\n          <nz-input-group nzSize=\"large\" nzPrefixIcon=\"lock\">\r\n            <input nz-input type=\"password\" formControlName=\"password\" placeholder=\"Password\" />\r\n          </nz-input-group>\r\n        </nz-form-control>\r\n      </nz-form-item>\r\n      <nz-form-item>\r\n        <!-- <nz-col [nzSpan]=\"12\">\r\n        <label nz-checkbox formControlName=\"remember\">{{\r\n          'Remember me' | translate\r\n        }}</label>\r\n      </nz-col> -->\r\n        <!-- <nz-col [nzSpan]=\"12\" class=\"text-right\">\r\n        <a class=\"forgot\">{{ 'Forgot password' | translate }}</a>\r\n      </nz-col> -->\r\n      </nz-form-item>\r\n      <nz-form-item>\r\n        <button nz-button type=\"submit\" nzType=\"primary\" nzSize=\"large\" [nzLoading]=\"isAuthenticating$ | async\" nzBlock>\r\n          {{ 'Login' }}\r\n        </button>\r\n      </nz-form-item>\r\n    </div>\r\n  </form>\r\n</div>\r\n","import createClass from '@app/_core/helpers/es5.class';\r\nimport { assignValue, isArray, isEmpty, isNumber, isObject, isString, objectHasKey } from '@app/_core/helpers/utils';\r\n\r\n\r\nimport Scene from '../traits/scene';\r\nimport Camera from '../traits/camera';\r\nimport Renderer from '../traits/renderer';\r\nimport Controls from '../traits/controls';\r\nimport Lights from '../traits/lights';\r\nimport ObjectManager from '../traits/object-manager';\r\nimport { EventDispatcher } from '../libs/event-dispatcher';\r\n\r\n\r\n\r\nimport { Geometries, LightLib, LoaderLib, Materials, Meshes } from '../libs/three.libs';\r\n\r\n\r\n\r\n\r\nimport Loader from '../modules/loader'\r\nimport Composer from '../modules/composer'\r\nimport DynamicShadows from '../modules/dynamic-shadows'\r\nimport { EngineClass } from './engine.doc';\r\nimport { AppData, AppDefaultData } from '../store/data.type';\r\n\r\n\r\nvar ControlsEngine = createClass(\"ControlsEngine\").uses(Scene, Camera, Renderer, Controls, Lights, ObjectManager, EventDispatcher)({\r\n    $data: {},\r\n    $options: {},\r\n\r\n    $Mesh: {},\r\n    $Geometry: {},\r\n    $Material: {},\r\n    $Light: {},\r\n    $Composer: {},\r\n    Shadows: {},\r\n    inited: false,\r\n    $mainEngine: null,\r\n    boots: [\"bootstrap\"],\r\n    bootstrap: function () {\r\n        this.data = {};\r\n        this.options = {};\r\n\r\n        this.Mesh = {};\r\n        this.Geometry = {};\r\n        this.Material = {};\r\n        this.Light = {};\r\n        this.Composer = {};\r\n        this.Shadows = {};\r\n\r\n    },\r\n    /**\r\n     * Hàm khởi tạo\r\n     * @param {Dom} viewport \r\n     * @param {*} data \r\n     */\r\n    constructor: function (data?: any) {\r\n        if (data && isObject(data)) {\r\n            this.data = assignValue({}, data);\r\n        }\r\n        this.Geometry = Geometries;\r\n        this.Material = Materials;\r\n        this.Mesh = Meshes;\r\n        this.Light = LightLib;\r\n        this.Loader = new Loader(this);\r\n\r\n        this.Shadows = new DynamicShadows(this, data.shadow || data.shadows || {});\r\n        this.startup();\r\n    },\r\n\r\n    startup: function startup(data?: any) {\r\n        if (this.inited) return this;\r\n\r\n\r\n        if (data && isObject(data) && !isEmpty(data)) {\r\n            this.data = assignValue({}, data);\r\n        }\r\n\r\n\r\n\r\n\r\n        this.emit('startup', this.data);\r\n\r\n        this.initScene(this.data.scene || {});\r\n        this.setMainCamera(this.data.camera || {});\r\n        this.createRenderer(this.data.renderer || {}, this.data.shadow ? this.data.shadow.enabled : true);\r\n\r\n        this.camera.updateProjectionMatrix();\r\n        this.setMainControl(this.data.control || {});\r\n\r\n\r\n        var self = this;\r\n        this.inited = true;\r\n        \r\n        \r\n        // this.Shadows.init();\r\n        self.ready();\r\n        if (!this.autoRenderStatus) {\r\n            setTimeout(function () {\r\n                self.render();\r\n            }, 500);\r\n        }\r\n        \r\n        var canvas = this.getCanvas();\r\n        var focusIn = false;\r\n        canvas.addEventListener('pointerdown', function(e){\r\n            self.canChangeCamera = false\r\n            focusIn = true;\r\n        }, false)\r\n        document.addEventListener('pointerup', function(e){\r\n            if(focusIn){\r\n                self.canChangeCamera = true\r\n                focusIn = false;\r\n            }\r\n            \r\n        }, false)\r\n\r\n        this.setData(this.data);\r\n        return this;\r\n\r\n    },\r\n\r\n    setData: function (data?: any) {\r\n        // if (data.composer && !isEmpty(data.composer)) {\r\n        //     this.composer = new Composer(this, data.composer);\r\n        // }\r\n        if (data.lights && isArray(data.lights)) {\r\n            this.addLights(data.lights);\r\n        }\r\n        if (data.meshes && isArray(data.meshes)) {\r\n            this.addMeshes(data.meshes);\r\n        }\r\n        if (data.objects && (isArray(data.objects) || isObject(data.objects))) {\r\n            this.addObjects(data.objects);\r\n        }\r\n        if (data.cameras && isArray(data.cameras)) {\r\n            this.addCameras(data.cameras);\r\n        }\r\n        if (data.controls && isArray(data.controls)) {\r\n            this.addControls(data.controls);\r\n        }\r\n\r\n        this.emit('setdata', data);\r\n    },\r\n    canChangeCamera: true,\r\n    setMainEngine: function(engine){\r\n        if(engine == this.mainEngine) return false;\r\n        this.mainEngine = engine;\r\n        var self = this\r\n        engine.on(\"controls.change.camera\", function(e){\r\n            self.changeCameraByMain(e.camera);\r\n        });\r\n        engine.on(\"controls.main.updated\", function(e){\r\n            self.control.enabled = e.control.enabled;\r\n            self.control.enableRotate = e.control.enableRotate;\r\n\r\n            \r\n        });\r\n        \r\n        \r\n\r\n        self.on(\"controls.change.camera.end\", function(){\r\n            engine.emit(\"controls.change.camera.end\");\r\n        });\r\n        self.on(\"controls.change.camera.animate.end\", function(){\r\n            engine.emit(\"controls.change.camera.animate.end\");\r\n        });\r\n        let propKeys = {\r\n            rotation: ['x', 'y', 'z'],\r\n            quaternion: ['x', 'y', 'z', 'z']\r\n            \r\n        }\r\n        for (const key in propKeys) {\r\n            if (objectHasKey(propKeys, key)) {\r\n                const arrKeys = propKeys[key];\r\n                arrKeys.map(s => this.camera[key][s]=engine.camera[key][s]);\r\n            }\r\n        }\r\n        \r\n        self.changeCameraByMain(engine.camera);\r\n        self.control.enabled = engine.control.enabled;\r\n        self.control.enableRotate = engine.control.enableRotate;\r\n\r\n        setTimeout(function () {\r\n            self.changeCameraByMain(engine.camera);\r\n        }, 100)\r\n    },\r\n    changeCameraByMain: function(camera){\r\n        if(this.canChangeCamera){\r\n            var p = camera.position;\r\n            var q = this.camera.position;\r\n            var mainX = p.x, mainY = p.y, mainZ = p.z;\r\n            var ctrlX = q.x, ctrlY = q.y, ctrlZ = q.z;\r\n            var mainDistance = Math.sqrt(\r\n                Math.pow(mainX, 2) + Math.pow(mainY, 2) + Math.pow(mainZ, 2)\r\n            );\r\n            var ctrlDistance = Math.sqrt(\r\n                Math.pow(ctrlX, 2) + Math.pow(ctrlY, 2) + Math.pow(ctrlZ, 2)\r\n            );\r\n            var ratio = mainDistance/ctrlDistance;\r\n            q.x = p.x/ratio;\r\n            q.y = p.y/ratio;\r\n            q.z = p.z/ratio;\r\n            this.camera.lookAt(0, 0, 0);\r\n            this.refresh();\r\n\r\n        }\r\n    }\r\n}) as EngineClass;\r\n\r\n\r\nconst controlData: AppData = assignValue({}, AppDefaultData);\r\nassignValue(controlData, {\r\n    scene: {\r\n        floor: {\r\n            enabled: false,\r\n            above: false\r\n        }\r\n    },\r\n    renderer: {\r\n        params: {\r\n            alpha: true\r\n        }\r\n    },\r\n    control: {\r\n        type: \"orbit\",\r\n        autoUpdateScene: true,\r\n        maxDistance: 3,\r\n        minDistance: 3,\r\n        enableDamping: true,\r\n        dampingFactor: 0.1,\r\n        enablePan: false,\r\n        enabled: true,\r\n        highPerformance: false,\r\n        constraint: {\r\n            smoothZoom: true,\r\n            zoomDampingFactor: 0.2,\r\n            smoothZoomSpeed: 5\r\n        },\r\n        settings: {\r\n            enabled: true\r\n        }\r\n    },\r\n    camera: {\r\n        fov: 45,\r\n        near: 0.001,\r\n        far: 10,\r\n        position: {\r\n            x: 0,\r\n            y: 0,\r\n            z: 3\r\n        },\r\n\r\n        autofit: true,\r\n        settings: {\r\n            position: {\r\n                type: \"default\",\r\n                face: \"front\",\r\n                custom: {\r\n                    x: 0,\r\n                    y: 0,\r\n                    z: 2\r\n                }\r\n            }\r\n        }\r\n    },\r\n    shadow:{\r\n        enabled: false,\r\n    },\r\n    lights: [\r\n        {\r\n            type: \"ambient\",\r\n            data: {\r\n                params: {\r\n                    color: \"#ffffff\",\r\n                    intensity: 0.5\r\n                }\r\n            },\r\n            secret_key: \"DUkWmYXqHLn30h8srtGc1fClZ5VBh7Vs\"\r\n        },\r\n        {\r\n            type: \"point\",\r\n            data: {\r\n                params: {\r\n                    color: \"#4444cc\",\r\n                    intensity: 0.3\r\n                },\r\n                props: {\r\n                    position: {\r\n                        x: 0,\r\n                        y: -10\r\n                    }\r\n                }\r\n            },\r\n            secret_key: \"QT2uvl11GYiE9lBJ31kWLN7uZ4LVUY5h\"\r\n        },\r\n        {\r\n            type: \"Directionallight\",\r\n            data: {\r\n                params: {\r\n                    color: \"#FFE0B5\",\r\n                    intensity: 0.4\r\n                },\r\n                props: {\r\n                    position: {\r\n                        x: 4,\r\n                        y: 4,\r\n                        z: 3\r\n                    }\r\n                }\r\n            },\r\n            secret_key: \"4SBlh9qasmkym2qVinqXZQmrE1wyPz4g\"\r\n        },\r\n        {\r\n            type: \"Directionallight\",\r\n            data: {\r\n                params: {\r\n                    color: \"#FFE0B5\",\r\n                    intensity: 0.4\r\n                },\r\n                props: {\r\n                    position: {\r\n                        x: 6,\r\n                        y: 3,\r\n                        z: 3\r\n                    }\r\n                }\r\n            },\r\n            secret_key: \"FSFhrzuO3FGYgYwdNRfMIaTuF0vwNr53\"\r\n        },\r\n        {\r\n            type: \"Directionallight\",\r\n            data: {\r\n                params: {\r\n                    color: \"#FFE0B5\",\r\n                    intensity: 0.4\r\n                },\r\n                props: {\r\n                    position: {\r\n                        x: -6,\r\n                        y: -2,\r\n                        z: 1\r\n                    }\r\n                }\r\n            },\r\n            secret_key: \"FSFhrzuO3FGYgYwdNRfMIaTuF0vwNr53\"\r\n        },\r\n        {\r\n            secret_key: \"wnrnh6P4c3lYDTJDWv3MUOkjp1ds3eOF\",\r\n            type: \"Directionallight\",\r\n            data: {\r\n                params: {\r\n                    color: \"#FFE0B5\",\r\n                    intensity: 0.28\r\n                },\r\n                props: {\r\n                    position: {\r\n                        x: 5.521934041179776,\r\n                        y: 10,\r\n                        z: -9.240062491735568\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    ],\r\n    meshes: [\r\n        {\r\n            secret_key: \"GvhCqPx4aBGSCkBQUvPoyMI2uw0EGWWj\",\r\n            data: {\r\n                geometry: {\r\n                    type: \"plane\",\r\n                    width: 1,\r\n                    height: 1\r\n                },\r\n                material: {\r\n                    type: \"physical\",\r\n                    color: \"#b9e6ff\",\r\n                    side: \"2\",\r\n                    map: \"/assets/images/controls/cube/front.png\"\r\n\r\n                },\r\n                props: {\r\n                    name: \"front\",\r\n                    position: {\r\n                        x: 0,\r\n                        y: 0,\r\n                        z: 0.5\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        {\r\n            secret_key: \"GvhCqPx4aBGSCkBQUvPoyMI2uhityurtfut\",\r\n            data: {\r\n                geometry: {\r\n                    type: \"plane\",\r\n                    width: 1,\r\n                    height: 1\r\n                },\r\n                material: {\r\n                    type: \"physical\",\r\n                    color: \"#b9e6ff\",\r\n                    side: \"2\",\r\n                    map: \"/assets/images/controls/cube/back.png\"\r\n\r\n                },\r\n                props: {\r\n                    name: \"back\",\r\n                    position: {\r\n                        x: 0,\r\n                        y: 0,\r\n                        z: -0.5\r\n                    },\r\n                    rotation: {\r\n                        y: Math.PI\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        {\r\n            secret_key: \"GvhCqPx4aBGSCkBQUvPoyMI5452uhityurtfut\",\r\n            data: {\r\n                geometry: {\r\n                    type: \"plane\",\r\n                    width: 1,\r\n                    height: 1\r\n                },\r\n                material: {\r\n                    type: \"physical\",\r\n                    color: \"#b9e6ff\",\r\n                    side: \"2\",\r\n                    map: \"/assets/images/controls/cube/left.png\"\r\n\r\n                },\r\n                props: {\r\n                    name: \"left\",\r\n                    position: {\r\n                        x: -0.5,\r\n                        y: 0,\r\n                        z: 0\r\n                    },\r\n                    rotation: {\r\n                        y: -Math.PI / 2\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        {\r\n            secret_key: \"GvhCqP5452uhityurtfut\",\r\n            data: {\r\n                geometry: {\r\n                    type: \"plane\",\r\n                    width: 1,\r\n                    height: 1\r\n                },\r\n                material: {\r\n                    type: \"physical\",\r\n                    color: \"#b9e6ff\",\r\n                    side: \"2\",\r\n                    map: \"/assets/images/controls/cube/right.png\"\r\n\r\n                },\r\n                props: {\r\n                    name: \"right\",\r\n                    position: {\r\n                        x: 0.5,\r\n                        y: 0,\r\n                        z: 0\r\n                    },\r\n                    rotation: {\r\n                        y: Math.PI / 2\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        {\r\n            secret_key: \"GvhCqP54mkljh52uhityurtfut\",\r\n            data: {\r\n                geometry: {\r\n                    type: \"plane\",\r\n                    width: 1,\r\n                    height: 1\r\n                },\r\n                material: {\r\n                    type: \"physical\",\r\n                    color: \"#b9e6ff\",\r\n                    side: \"2\",\r\n                    map: \"/assets/images/controls/cube/top.png\"\r\n\r\n                },\r\n                props: {\r\n                    name: \"top\",\r\n                    position: {\r\n                        x: 0,\r\n                        y: 0.5,\r\n                        z: 0\r\n                    },\r\n                    rotation: {\r\n                        x: -Math.PI / 2\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        {\r\n            secret_key: \"GvhCqPkojojibh52uhityurtfut\",\r\n            data: {\r\n                geometry: {\r\n                    type: \"plane\",\r\n                    width: 1,\r\n                    height: 1\r\n                },\r\n                material: {\r\n                    type: \"physical\",\r\n                    color: \"#b9e6ff\",\r\n                    side: \"2\",\r\n                    map: \"/assets/images/controls/cube/bottom.png\"\r\n\r\n                },\r\n                props: {\r\n                    name: \"bottom\",\r\n                    position: {\r\n                        x: 0,\r\n                        y: -0.5,\r\n                        z: 0\r\n                    },\r\n                    rotation: {\r\n                        x: Math.PI / 2\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    ]\r\n});\r\n\r\nexport const ControlSyncEngine = new ControlsEngine(controlData);\r\nexport const getControlEngine = () => new ControlsEngine(controlData);\r\nexport { ControlsEngine };\r\nexport default ControlsEngine;\r\n","import { ChangeDetectorRef, Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\nimport { Object3DPropDataModel, Object3DPropDefaultData } from '@app/_3D/store/data.type';\nimport { assignValue, isObject } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { InpEvent } from '@app/_shared/shared.type';\n\n@Component({\n    selector: 'panel-model-object-tab-properties',\n    templateUrl: './panel-model-object-tab-properties.component.html',\n    styleUrls: ['./panel-model-object-tab-properties.component.scss']\n})\nexport class PanelModelObjectTabPropertiesComponent extends BaseComponent implements OnInit, OnChanges {\n    @Input() props: Object3DPropDataModel = null;\n    @Input() index: number = 0;\n    @Output() onUpdate = new EventEmitter<Object3DPropDataModel>();\n    @Input() events: any = null;\n\n    @Output() subcribe = new EventEmitter<InpEvent>();\n    constructor(private cd: ChangeDetectorRef) {\n        super();\n    }\n\n    onInit(): void {\n        let defData = assignValue({}, Object3DPropDefaultData);\n        let finalData = assignValue(defData, this.props);\n        if (!isObject(this.props)) this.props = finalData;\n        else assignValue(this.props, finalData);\n        this.cd.detectChanges();\n    }\n\n    ngOnChanges(change: SimpleChanges){\n        if(change.props){\n            this.doAfterViewInit(()=>this.cd.detectChanges());\n        }\n    }\n    onInputChange(event) {\n        if (event && isObject(event) && event.name) {\n            if (isObject(this.props[event.name]) && isObject(event.value)) {\n                assignValue(this.props[event.name], event.value);\n            }\n            else {\n                this.props[event.name] = event.value;\n            }\n            this.emitUpdate(event.name, event.value);\n        }\n    }\n\n    emitUpdate(name, value) {\n        this.onUpdate.emit(this.props);\n        this.subcribe.emit({\n            name: name,\n            value: value,\n            props: this.props\n        });\n    }\n\n}\n","<div class=\"tab-inner\">\n    <div class=\"inputs store\">\n        <div class=\"inp-list\" *ngIf=\"props\">\n\n            <inp-switch-group class=\"inp-group-item-first\" name=\"castShadow\" [(value)]=\"props.castShadow\" label=\"Cast Shadow\" (subcribe)=\"onInputChange($event)\"></inp-switch-group>\n\n            <inp-switch-group class=\"inp-group-item\" name=\"receiveShadow\" [(value)]=\"props.receiveShadow\" label=\"Receive Shadow\" (subcribe)=\"onInputChange($event)\"></inp-switch-group>\n\n            <inp-vector3-group class=\"inp-group-item\" name=\"scale\" [(value)]=\"props.scale\" label=\"Scale\" (subcribe)=\"onInputChange($event)\" [events]=\"events\"></inp-vector3-group>\n\n            <inp-rotation-group class=\"inp-group-item\" name=\"rotation\" [(value)]=\"props.rotation\" label=\"Rotation\" (subcribe)=\"onInputChange($event)\" [events]=\"events\"></inp-rotation-group>\n\n            <inp-vector3-group class=\"inp-group-item\" name=\"position\" [(value)]=\"props.position\" label=\"Position\" (subcribe)=\"onInputChange($event)\" [events]=\"events\" [btnCenter]=\"true\"></inp-vector3-group>\n\n        </div>\n    </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { TemplateModel } from '@app/_store/template';\n\n@Component({\n    selector: 'template-item',\n    templateUrl: './template-item.component.html',\n    styleUrls: ['./template-item.component.scss']\n})\nexport class TemplateItemComponent extends BaseComponent implements OnInit {\n    @Input() item: TemplateModel;\n    constructor(private events: AppEditorEventService) {\n        super();\n    }\n\n    onInit(): void {\n    }\n\n    importTemplate(){\n        this.subEvents.emit({\n            type: \"template.import\",\n            template: this.item\n        })\n    }\n}\n","<div class=\"template-item\">\n    <div class=\"thumbnail\">\n        <img src=\"{{item.thumbnail}}\" alt=\"{{item.name}}\">\n        <div class=\"dynamic-buttons\" (click)=\"importTemplate()\">\n            <div class=\"btn-import\">\n                Import\n            </div>\n        </div>\n    </div>\n    <div class=\"name\">\n        {{item.name}}\n    </div>\n    \n</div>","import { assignValue, assignWithout, date, getType, inArray, isArray, isBoolean, isCallable, isEmpty, isFunction, isNull, isNumber, isObject, isString, objectHasProperty, Str, _defineProperty, _instanceof } from './utils';\r\n// import Dom, { $, Query, query } from './dom.js';\r\nimport createClass, { _class, ES5AbstractClass } from './es5.class';\r\n\"use strict\";\r\n\r\nconst global = window;\r\n\r\nconst DEFAULT_VALUE = Str.rand(Str.rand(date('ms')));\r\n\r\nvar $document = window.document, div = $document.createElement(\"div\"), simpleTags = ['img', 'meta', 'link', 'input', 'br', 'hr'], createElement = $document.createElement;\r\n\r\n/**\r\n * thao tác với dom thông qua html query gần giống jquery nhưng ít chức năng hơn\r\n */\r\nvar domEvents = (\r\n    \"blur focus focusin focusout resize scroll click dblclick \" +\r\n    \"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\r\n    \"change select submit keydown keypress keyup contextmenu load input\"\r\n).split(\" \");\r\nvar allEvents = (\r\n    \"abort afterprint animationend animationiteration animationstart beforeprint beforeunload blur canplay canplaythrough \" +\r\n    \"change click contextmenu copy cut dblclick drag dragend dragenter dragleave dragover dragstart drop durationchange \" +\r\n    \"ended error focus focusin focusout fullscreenchange fullscreenerror hashchange input invalid keydown keypress keyup \" +\r\n    \"load loadeddata loadedmetadata loadstart message \" +\r\n    \"mousedown mouseenter mouseleave mousemove mouseover mouseout mouseup mousewheel pointerdown pointerup pointermove \" +\r\n    \"offline online open pagehide pageshow paste pause play playing popstate progress ratechange resize reset scroll \" +\r\n    \"search seeked seeking select show stalled storage submit suspend timeupdate toggle \" +\r\n    \"touchcancel touchend touchmove touchstart transitionend unload volumechange waiting wheel\"\r\n).split(\" \").filter(function (s) { return s.length > 0 });\r\n\r\n// danh sách tag hợp lệ\r\nvar htmlTags = (\"a abbr acronym address applet area article aside audio b base basefont bb bdo big blockquote body br button canvas caption center cite code col colgroup command datagrid datalist dd del details dfn dialog dir div dl dt em embed eventsource fieldset figcaption figure font footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr  html i iframe img input ins isindex kbd keygen label legend li link map mark menu meta meter nav noframes noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strike strong style sub sup table tbody td textarea tfoot th thead time title tr track tt u ul var video wbr\").split(\" \");\r\n\r\n\r\n/**\r\n* mảng chứ các event sự kiện\r\n* mỗi phần tử trong mảng chứa element, tên sự kiện, handle, và task\r\n* task là một danh sách gồm callback và data\r\n*/\r\nvar events = [];\r\n\r\n\r\nvar inputTypes = [\r\n    \"button\", \"submit\", \"image\", \"reset\", \"checkbox\", \"radio\", // click\r\n\r\n    \"color\", \"range\",\r\n    \"file\", \"hidden\",\r\n\r\n    \"date\", \"datetime-local\", \"month\", \"time\", \"week\",\r\n\r\n    \"text\", \"number\", \"email\", \"password\", \"search\", \"tel\", \"url\"\r\n\r\n];\r\nvar inputTags = ['input', 'textarea', 'select'];\r\n\r\n\r\nvar $window = null, $root = null;\r\n\r\nvar oneTimeData: any = {};\r\n\r\nvar isset = false;\r\n\r\n\r\n/**\r\n * \r\n */\r\nvar stopCallChildrenTask: any = {};\r\n\r\nvar curremtCallChildrenMethodID: any = null;\r\n/**\r\n * các phương thức và thuộc tính của dom element\r\n */\r\n\r\n/**\r\n * Lấy ra phần tử cha có kết quả trùng khớp\r\n * @param {Element} element\r\n * @param {string|Element|Query|Dom} selector \r\n * @returns {Element}\r\n */\r\nfunction closest(selector: any, element?: any) {\r\n    if (!element) return null;\r\n    if (selector == undefined) return element ? element.parentNode || null : null;\r\n    var finder = [];\r\n    if (isObject(selector)) {\r\n        if (selector.isDom) {\r\n            finder.push(selector.el);\r\n        }\r\n        else if (selector.isQuery) {\r\n            for (var index = 0; index < selector.length; index++) {\r\n                var el = selector[index];\r\n                finder.push(el);\r\n            }\r\n        }\r\n        else if (selector instanceof Element) {\r\n            finder.push(selector);\r\n        }\r\n    }\r\n    else if (selector instanceof Element) {\r\n        finder.push(selector);\r\n    }\r\n    else if (isString(selector)) {\r\n        var els = document.querySelectorAll(selector);\r\n        if (els.length) {\r\n            for (var index = 0; index < els.length; index++) {\r\n                var el = els[index];\r\n                finder.push(el);\r\n            }\r\n        }\r\n    }\r\n    var closestList = null;\r\n    var findLength = finder.length;\r\n    if (findLength) {\r\n        var parents: any = getParentNodes(element);\r\n        var parentLength = parents.length;\r\n        var parent: any = undefined, find: any = undefined;\r\n\r\n        for (let n = 0; n < parentLength; n++) {\r\n            parent = parents[n];\r\n            for (let m = 0; m < findLength; m++) {\r\n                find = finder[m];\r\n                if (parent == find) {\r\n                    closestList = parent;\r\n\r\n                    m += findLength;\r\n                    n += parentLength;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    return closestList;\r\n}\r\ninterface DomEl {\r\n    el: HTMLElement,\r\n    isDom: boolean,\r\n    tagName: string,\r\n    id: string,\r\n    className: string,\r\n    children: DomEl[],\r\n    parent: DomEl,\r\n    setup: (...args: any[]) => this,\r\n    /**\r\n     * thêm lang nghe su kien\r\n     */\r\n    addEventListener: (type: string, handler: (arg0: Event) => any, passed?: any) => this,\r\n    hasEventListener: (type: string, handler: (arg0: Event) => any) => boolean,\r\n    removeEventListener: (type: string, handler?: (arg0: Event) => any) => this,\r\n    dispatchEvent: (event: any) => this,\r\n    addDomEvent: (event: any, handler?: (arg0: Event) => any, passed?: any) => this,\r\n    hasEvent: (type: string, handler?: (arg0: Event) => any) => boolean,\r\n    off: (events: any, handler?: (arg0: Event) => any) => this,\r\n    trigger: (event: any, data: any) => this,\r\n    on: (event: any, handler?: (arg0: Event) => any) => this,\r\n    fn: (method: any) => (e: Event) => any,\r\n    is: (selector: any, el: any) => boolean,\r\n    closest: (selector: any, el: any) => any,\r\n    getProp: (prop: any, all?: any) => any,\r\n    setProp: (prop: any, value?: any) => this,\r\n    removeProp: (prop: any) => this,\r\n    prop: (prop: any, value?: any) => this,\r\n    val: (value?: any) => any,\r\n    getHtml: () => any,\r\n    setHtml: (html?: any) => any,\r\n    html: (html?: any) => string,\r\n    getAttribute: (attr?: any) => any,\r\n    setAttribute: (attr: any, value?: any) => this,\r\n    attr: (attr?: any, value?: any) => any,\r\n    attrData: (key?: any) => any,\r\n    addClass: (className: any) => this,\r\n    removeClass: (classname?: any) => this,\r\n    hasClass: (classname: any) => boolean,\r\n    css: (prop: any, value?: any) => any,\r\n    height: (height?: any) => number,\r\n    width: (width?: any) => number,\r\n    append: (child: any) => this,\r\n    prepend: (child: any) => this,\r\n    appendTo: (parent: any) => this,\r\n    prependTo: (parent: any) => this,\r\n    hasDomChild: (child?: any) => boolean,\r\n    removeDomChild: (child?: any) => void,\r\n    removeChild: (child?: any, removeDomEl?: any) => this,\r\n    remove: () => this,\r\n    setContent: (content: any) => this,\r\n    sendToChildren: (channel: any, data: any) => boolean,\r\n    onParentTransmission: (channel: any, handler?: (arg0: Event) => any) => this,\r\n    onParentData: (channel: any, handler?: (arg0: Event) => any) => this,\r\n    sendToParent: (channel: any, data?: any) => this,\r\n    onChildrenTransmission: (channel: any, handler?: (arg0: Event) => any) => this,\r\n    onChildrenData: (channel: any, handler?: (arg0: Event) => any) => this,\r\n    callParentMethod: (method: any, args?: any[]) => any,\r\n    cpm: (method: string, args?: any[]) => any,\r\n    parentCall: (method: string, args?: any[]) => any,\r\n    callParent: (method: string, args?: any[]) => any,\r\n    onChildrenCallMethod: (method: string, args?: any[]) => any,\r\n    callChildrenMethod: (method: string, args: any, className: any) => any,\r\n    ccm: (method: string, args: any, className: any) => any,\r\n    childrenCall: (method: string, args: any, className: any) => any,\r\n    callChildren: (method: string, args: any, className: any) => any,\r\n    onCallMethodFromParent: (method: string, args: any, className: any) => any,\r\n    sendToSiblings: (slug: any, data: any) => any,\r\n    onReceiveFromSiblings: (channel: any, data: any) => any,\r\n    callSiblingMethod: (method: string, args: any) => any,\r\n    callSiblings: (method: string, args: any) => any,\r\n    siblingCall: (method: string, args: any) => any,\r\n    csm: (method: string, args: any) => any,\r\n    getRootElement: () => DomEl,\r\n    moveTo: (parent: any, pos: any) => any,\r\n    moveChild: (child: any, receiveDomEl: any, pos: any) => any,\r\n    moveIn: (child: any, pos: any, oldparent: any) => any\r\n}\r\n\r\n\r\ninterface DomFactory extends ES5AbstractClass {\r\n\r\n    /**\r\n     * Tạo đối tượng dome element với 3 tham số:\r\n     * @param {string} selector selector không băt buộc có dạng #id.class[attribute=\"value\"]:prop tất caa3 cá thành phần đều không bắt buộc và có thể lặp lại nhiều lần tức là nhiều class hoặc thuộc tính. chỉ có id là duy nhất\r\n     * @param {Element[]|DomEl[]|string[]} children Mảng các phần tử con\r\n     * @param {object} attributes các thuộc tính\r\n     * @returns {DomEl}\r\n     */\r\n    new(selector: string, children?: (DomEl | string | Element)[], attributes?: { [x: string]: any }, ...args: any[]): DomEl,\r\n    new(selector: string, attributes?: { [x: string]: any }, children?: (DomEl | string | Element)[], ...args: any[]): DomEl,\r\n    new(selector?: string, children?: (DomEl | string | Element)[], attributes?: { [x: string]: any }, ...args: ((DomEl | string | Element) | ((DomEl | string | Element))[] | any)[]): DomEl,\r\n    new(children?: (DomEl | string | Element)[], attributes?: { [x: string]: any }, ...args: any[]): DomEl,\r\n    new(attributes?: { [x: string]: any }, children?: (DomEl | string | Element)[], ...args: ((DomEl | string | Element) | ((DomEl | string | Element))[] | any)[]): DomEl,\r\n    new(attributes?: { [x: string]: any }, ...args: ((DomEl | string | Element) | ((DomEl | string | Element))[] | any)[]): DomEl,\r\n    new(): DomEl,\r\n\r\n    (selector: string, children?: (DomEl | string | Element)[], attributes?: { [x: string]: any }, ...args: ((DomEl | string | Element) | ((DomEl | string | Element))[] | any)[]): DomEl,\r\n    (children: (DomEl | string | Element)[], attributes?: { [x: string]: any }, ...args: ((DomEl | string | Element) | ((DomEl | string | Element))[] | any)[]): DomEl,\r\n    (attributes: { [x: string]: any }, ...args: ((DomEl | string | Element) | ((DomEl | string | Element))[] | any)[]): DomEl,\r\n    (child: (DomEl | string | Element), attributes?: { [x: string]: any }, ...args: ((DomEl | string | Element) | ((DomEl | string | Element))[] | any)[]): DomEl,\r\n    (attributes: { [x: string]: any }, child: (DomEl | string | Element), ...args: ((DomEl | string | Element) | ((DomEl | string | Element))[] | any)[]): DomEl,\r\n    (attributes: { [x: string]: any }, children?: (DomEl | string | Element)[], ...args: ((DomEl | string | Element) | ((DomEl | string | Element))[] | any)[]): DomEl,\r\n    (): DomEl\r\n    // with(key:any, value?:any):DomEl,\r\n    withParent?(parent: DomEl): DomEl\r\n\r\n}\r\n\r\n/**\r\n * Tạo đối tượng dom\r\n * @param {string|object} selector\r\n * @param {string|Element|string[]|Element[]} children\r\n * @param {object} attributes\r\n * @returns {DomEl}\r\n * @note {string} Đoạn này thật ra không cần thiết. nhưng viết bào để trình soạn thảo sử dụng gợi ỳ\r\n */\r\n//  var Dom = function Dom(selector?: any, children?: any, attributes?: any):DomEl {\r\n//     this.setup.apply(this, getArguments(arguments));\r\n//     this.isDom = true;\r\n//     return this;\r\n// };\r\n\r\n// Dom.prototype.isDom = true;\r\n\r\n/**\r\n * tạo đối tượng với phẩn tử cha\r\n * @param {DomElement} parent phần tử cha\r\n * @param {*} args danh sách tham số\r\n */\r\n\r\n\r\nvar Dom: DomFactory = _class(\"Dom\")({\r\n    static$isDomClass: true,\r\n    $el: null,\r\n    // const$isQuery: true,\r\n    const$isDom: true,\r\n    $tagName: null,\r\n    $id: \"\",\r\n    $className: \"\",\r\n\r\n    $children: null,\r\n    $parent: null,\r\n\r\n    // gọi hàm hoặc truyền dữ liệu\r\n    $__transmissionEventListeners: null,\r\n\r\n    $__transmissionStatus: true,\r\n\r\n    $dynamicCreateMode: true,\r\n\r\n    $__canSetChildren: false,\r\n\r\n    $__dynamicSync: false,\r\n\r\n    // khai bao ham se dc boot\r\n    boots: [\"__boot__\", '__setBootData__', '___assignDynamicProperties___'],\r\n\r\n    inits: [\"__init__\"],\r\n\r\n    $__dynamicAttrs: null,\r\n\r\n    $_listeners: null,\r\n\r\n    $_pendingContents: null,\r\n    $___show___: false,\r\n    $___parentNode___: null,\r\n    $___markcomment___: null,\r\n\r\n    $__dataTypes__: null,\r\n    $__syncOnChange__: true,\r\n    $__dataSync__: true,\r\n\r\n    __setBootData__: function () {\r\n        if (oneTimeData && isObject(oneTimeData) && !isEmpty(oneTimeData)) {\r\n            for (const key in oneTimeData) {\r\n                if (Object.hasOwnProperty.call(oneTimeData, key)) {\r\n                    const value = oneTimeData[key];\r\n                    this[key] = value;\r\n                }\r\n            }\r\n            oneTimeData = {};\r\n        }\r\n    },\r\n\r\n\r\n    __boot__: function () {\r\n        this.__transmissionEventListeners = {\r\n            fromChildren: {},\r\n            fromParent: {},\r\n            fromSiblings: {},\r\n\r\n            events: {},\r\n        };\r\n        this.__dynamicAttrs = {};\r\n        this._pendingContents = [];\r\n        this.__canSetChildren = true;\r\n        this.children = [];\r\n        this.__dataTypes__ = [];\r\n        this.__canSetChildren = false;\r\n        // this.static.__addAccessorKey(\"hide\");\r\n        // this.static.__addAccessorKey(\"show\");\r\n        // this.static.__addAccessorKey(\"next\");\r\n        // this.static.__addAccessorKey(\"previous\");\r\n\r\n\r\n    },\r\n\r\n    __init__: function () {\r\n        if (!this.el) {\r\n            this.setup(this.getDefaultSelector())\r\n        }\r\n\r\n        var self = this;\r\n        if (typeof this.render == \"function\") {\r\n            var children = this.render();\r\n            if (children) {\r\n                this.removeChild();\r\n                this.append(children);\r\n            }\r\n        }\r\n        // bắt sự kiện change và thay đổi cá thuộc tính dộng cho nó dồng bộ\r\n        this.on(\"change\", function (event) {\r\n            if (event.target == self.el) {\r\n                if (this.__dynamicSync) {\r\n                    var attrs = self.attr();\r\n                    for (var key in self.__dynamicAttrs) {\r\n                        if (Object.hasOwnProperty.call(self.dyna1micAttrs, key)) {\r\n                            var val = self.__dynamicAttrs[key];\r\n                            var camelKey = Str.slugToCamel(key),\r\n                                slugKey = Str.camelToSlug(key);\r\n                            var s = null;\r\n                            var v = null;\r\n                            if (Object.hasOwnProperty.call(attrs, key) && attrs[key] != val) {\r\n                                self.__changeAccessorValue__(key, attrs[key]);\r\n                                s = key;\r\n                                v = attrs[key];\r\n                            }\r\n                            else if (Object.hasOwnProperty.call(attrs, slugKey) && attrs[slugKey] != val) {\r\n                                self.__changeAccessorValue__(key, attrs[slugKey]);\r\n                                s = camelKey;\r\n                                v = attrs[camelKey];\r\n                            }\r\n                            else if (Object.hasOwnProperty.call(attrs, camelKey) && attrs[camelKey] != val) {\r\n                                self.__changeAccessorValue__(key, attrs[camelKey]);\r\n                                s = slugKey;\r\n                                v = attrs[slugKey];\r\n                            }\r\n                            if (s) {\r\n                                self.trigger({\r\n                                    type: \"change.attr.\" + s,\r\n                                    preventDefault: function () {\r\n                                        // stt = false;\r\n                                    },\r\n                                    target: self.el,\r\n                                    data: {\r\n                                        attr: s,\r\n                                        value: v\r\n                                    }\r\n                                });\r\n                            } // end if status == true\r\n                        } // end has prop\r\n                    } // wnd for\r\n                } // end if dynamic sync\r\n            } // end if target == el\r\n        }) // end call \r\n    },\r\n\r\n    ___assignDynamicProperties___: function () {\r\n        var self: any = this;\r\n        function show(time?: any, callback?: any) {\r\n\r\n            // function _show() {\r\n            if (self.___show___) return self;\r\n            var t = isNumber(time) ? parseInt(time) : 0;\r\n            var cb = isCallable(time) ? time : (isCallable(callback) ? callback : emptyFunc);\r\n\r\n            function _show() {\r\n                var e = self.el;\r\n                if (t > 0) {\r\n                    var vpt = 1 / time;\r\n                    var opc = 0;\r\n\r\n                    var opacity = getCssProp(e, \"opacity\");\r\n\r\n                    if (opacity == \"1\") {\r\n                        setTimeout(function () {\r\n                            cb.call(e);\r\n                        }, t);\r\n                        return;\r\n                    }\r\n                    self.setCssProp(e, \"opacity\", 0);\r\n                    for (var i = 0; i < t; i++) {\r\n                        setTimeout(function () {\r\n                            opc += vpt;\r\n                            setCssProp(e, \"opacity\", opc);\r\n                        }, i + 1);\r\n                    }\r\n                    setTimeout(function () {\r\n                        setCssProp(e, \"opacity\", 1);\r\n                        cb.call(e);\r\n                    }, t);\r\n                } else {\r\n                    var opacity = getCssProp(e, \"opacity\");\r\n                    if (opacity == \"1\") {\r\n                        cb.call(e);\r\n                        return;\r\n                    }\r\n                    setCssProp(e, \"opacity\", 1);\r\n                    cb.call(e);\r\n                }\r\n\r\n            }\r\n\r\n            // if(!_show()) return this;\r\n\r\n            if (self.___markcomment___) {\r\n                self.___markcomment___.parentNode.insertBefore(self.el, self.___markcomment___);\r\n                self.___show___ = true;\r\n                _show();\r\n            } else {\r\n                var next = next({ ___show___: true });\r\n                if (next) {\r\n                    next.el.parentNode.insertBefore(self.el, next.el);\r\n                    self.___show___ = true;\r\n                    _show();\r\n                } else if (self.parent) {\r\n                    self.parent.el.appendChild(self.el);\r\n                    self.___show___ = true;\r\n                    _show();\r\n                }\r\n            }\r\n\r\n\r\n            return self;\r\n        }\r\n\r\n        /**\r\n         * \r\n         * @param {int} time thời gian tinh bang ms\r\n         * @param {function} callback làm gì đó sau khi hoàn thành\r\n         */\r\n        function hide(time: any = 0, callback?: any) {\r\n            var e = self.el;\r\n            var t = isNumber(time) ? parseInt(time) : 0;\r\n            var cb = isCallable(time) ? time : (isCallable(callback) ? callback : emptyFunc);\r\n            if (!self.el.parentNode) return self;\r\n            if (!self.___parentNode___) self.___parentNode___ = self.el.parentNode;\r\n            if (!self.___markcomment___) {\r\n                self.___markcomment___ = document.createComment(\"/\" + self.tagName + (self.el.id ? \"#\" + self.id : \"\") + (self.el.className ? \".\" + self.el.className.split(\" \").map(function (t) { return t.trim(); }).filter(function (t) { return t.length > 0; }).join(\".\") : \"\"))\r\n                self.___parentNode___.insertBefore(self.___markcomment___, self.el);\r\n            }\r\n            self.___show___ = false;\r\n            if (t > 0) {\r\n                var vpt = 1 / time;\r\n                var opc = 1;\r\n                var opacity = getCssProp(e, \"opacity\");\r\n                if (opacity == \"0\" || opacity == \"\") {\r\n                    setTimeout(function () {\r\n                        self.el.parentNode.removeChild(self.el);\r\n                        cb.call(e);\r\n\r\n                    }, t);\r\n                    return;\r\n                }\r\n                for (var i = 0; i < t; i++) {\r\n                    setTimeout(function () {\r\n                        opc -= vpt;\r\n                        setCssProp(e, \"opacity\", opc);\r\n                    }, i + 1);\r\n                }\r\n                setTimeout(function () {\r\n                    setCssProp(e, \"opacity\", 0);\r\n                    self.el.parentNode.removeChild(self.el);\r\n                    cb.call(e);\r\n                }, t);\r\n            } else {\r\n                setCssProp(e, \"opacity\", 0);\r\n                self.el.parentNode.removeChild(self.el);\r\n                cb.call(e);\r\n            }\r\n\r\n            return self;\r\n        }\r\n\r\n        function next(args?: any) {\r\n\r\n            if (self.parent) {\r\n                let index = self.parent.children.indexOf(self);\r\n                var s = false;\r\n                for (let i = index+1; i < self.parent.children.length; i++) {\r\n                    const child = self.parent.children[i];\r\n                    if (isObject(args)) {\r\n                        var a = true;\r\n                        for (const key in args) {\r\n                            if (Object.hasOwnProperty.call(args, key)) {\r\n                                const value = args[key];\r\n                                if (child[key] != value) a = false;\r\n                            }\r\n                        }\r\n                        if (a) return child;\r\n                    }\r\n                    else if (isFunction(args) && args(child)) return child;\r\n                    else if (!args) return child;\r\n\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n\r\n        function previous(args?: any) {\r\n            if (self.parent) {\r\n                let index = self.parent.children.indexOf(self);\r\n                for (let i = index-1; i > -1; i--) {\r\n                    const child = self.parent.children[i];\r\n                    if (isObject(args)) {\r\n                        var a = true;\r\n                        for (const key in args) {\r\n                            if (Object.hasOwnProperty.call(args, key)) {\r\n                                const value = args[key];\r\n                                if (child[key] != value) a = false;\r\n                            }\r\n                        }\r\n                        if (a) return child;\r\n                    }\r\n                    else if (isFunction(args) && args(child)) return child;\r\n                    else if (!args) return child;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n        Object.defineProperties(show, {\r\n            toString: {\r\n                configurable: false,\r\n                enumerable: false,\r\n                value: function () {\r\n                    return self.___show___;\r\n                }\r\n            },\r\n            __toData__: {\r\n                configurable: false,\r\n                enumerable: false,\r\n                value: function () {\r\n                    return self.___show___;\r\n                }\r\n            },\r\n            isBoolean: {\r\n                value: true,\r\n                writable: false,\r\n                configurable: false,\r\n                enumerable: false\r\n            }\r\n        })\r\n        Object.defineProperties(hide, {\r\n            toString: {\r\n                configurable: false,\r\n                enumerable: false,\r\n                value: function () {\r\n                    return !self.___show___;\r\n                }\r\n            },\r\n            __toData__: {\r\n                configurable: false,\r\n                enumerable: false,\r\n                value: function () {\r\n                    return !self.___show___;\r\n                }\r\n            },\r\n            isBoolean: {\r\n                value: true,\r\n                writable: false,\r\n                configurable: false,\r\n                enumerable: false\r\n            }\r\n        })\r\n\r\n        Object.defineProperties(this, {\r\n            show: {\r\n                configurable: false,\r\n                enumerable: false,\r\n                set: function (status) {\r\n                    if (isBoolean(status)) {\r\n                        if (status) show();\r\n                        else hide();\r\n                    }\r\n                },\r\n                get: function () {\r\n                    return show;\r\n                }\r\n            },\r\n            hide: {\r\n                configurable: false,\r\n                enumerable: false,\r\n                set: function (status) {\r\n                    if (isBoolean(status)) {\r\n                        if (status) hide();\r\n                        else show();\r\n                    }\r\n                },\r\n                get: function () {\r\n                    return hide;\r\n                }\r\n            },\r\n            next: {\r\n                configurable: false,\r\n                enumerable: false,\r\n                set: function (value) {\r\n                    // lam gi do\r\n                },\r\n                get: function () {\r\n                    return next();\r\n                }\r\n            },\r\n            previous: {\r\n                configurable: false,\r\n                enumerable: false,\r\n                set: function (value) {\r\n                    // lam gi do\r\n                },\r\n                get: function () {\r\n                    return previous();\r\n                }\r\n            }\r\n\r\n        });\r\n\r\n    },\r\n\r\n    /**\r\n     * set id cho element khi set cho object\r\n     * @param {string} id id của element\r\n     */\r\n    onSet$id: function (id) {\r\n        this.attr('id', id);\r\n    },\r\n    onSet$className: function (className) {\r\n        this.removeClass().addClass(className);\r\n    },\r\n\r\n    onSet$children: function onSetChildren(value) {\r\n        if (!this.__canSetChildren) console.warn(\"Bạn không thể set giá trị cho children\");\r\n        return this.__canSetChildren;\r\n    },\r\n    onGet$children: function getChildren(value) {\r\n        var returnValue = value;\r\n        if (!isArray(value)) {\r\n            returnValue = [];\r\n            this.__canSetChildren = true;\r\n            this.children = returnValue;\r\n            this.__canSetChildren = false;\r\n        }\r\n        return returnValue;\r\n    },\r\n\r\n    onSet$parent: function onSetParent(parent) {\r\n        if (!parent || !parent.isDom) {\r\n            return false;\r\n        }\r\n        var s = this.dispatchEvent({\r\n            type: \"setparent\",\r\n            target: this.el,\r\n            eventData: parent,\r\n            parent: parent\r\n        });\r\n        if (s !== false) {\r\n            if (typeof this.onSetParent == \"function\") {\r\n                s = this.onSetParent(parent);\r\n            }\r\n\r\n            if (s !== false) {\r\n                this.___parentNode___ = parent.el;\r\n                if (typeof this.becomeAChild == \"function\") {\r\n                    this.becomeAChild(parent);\r\n                }\r\n            }\r\n        }\r\n\r\n    },\r\n    constructor: function Dom() {\r\n        if (arguments.length) {\r\n            this.setElement.apply(this, arguments);\r\n        }\r\n    },\r\n    const$getDefaultSelector: function () {\r\n        return \"div#\" + (\r\n            this.id ? this.id : Str.rand()\r\n        ) + \".\" + (\r\n                this.className ? this.className.split(\" \").map(function (v) {\r\n                    return v.trim();\r\n                }).filter(function (v) {\r\n                    return v.length > 0;\r\n                }).join('.') : 'dom-element'\r\n            );\r\n    },\r\n    /**\r\n     * thiết lập\r\n     * @param {string|object}\r\n     */\r\n    final$setElement: function setElement(params) {\r\n        var args = getArguments(arguments);\r\n        if (args.length && typeof args[0] != \"string\") {\r\n            args.unshift(this.getDefaultSelector());\r\n        }\r\n        var elem = create.apply(this, args);\r\n        var el = elem.el;\r\n        if (el) {\r\n\r\n            if (!el.id && this.id) el.id = this.id;\r\n            if (!el.className && this.className) el.className = this.className;\r\n\r\n            this.el = el;\r\n            if (!isEmpty(elem.__dynamicAttrs)) {\r\n                this.addDynamicAttr(elem.__dynamicAttrs);\r\n            }\r\n            if (!isEmpty(elem.dataTypeAttrs)) {\r\n                for (const key in elem.dataTypeAttrs) {\r\n                    if (Object.hasOwnProperty.call(elem.dataTypeAttrs, key)) {\r\n                        const vl = elem.dataTypeAttrs[key];\r\n                        this.setDataTypeAttribute(key, vl);\r\n\r\n                    }\r\n                }\r\n            }\r\n            // console.log(this, args, elem.contents);\r\n            if (!isEmpty(elem.contents)) {\r\n                for (var index = 0; index < elem.contents.length; index++) {\r\n                    this.append(elem.contents[index]);\r\n\r\n                }\r\n            }\r\n            if (!isEmpty(elem.events)) {\r\n                this.on(elem.events);\r\n            }\r\n\r\n            if (!isEmpty(elem.methods)) {\r\n                for (var method in elem.methods) {\r\n                    if (Object.hasOwnProperty.call(elem.methods, method)) {\r\n                        var fn = elem.methods[method];\r\n                        // console.log(method, fn)\r\n                        _defineProperty(this, method, fn);\r\n                    }\r\n                }\r\n            }\r\n            if (this._pendingContents.length) {\r\n                while (this._pendingContents.length) {\r\n                    var a = this._pendingContents.shift();\r\n                    this[a.key] = a.content;\r\n                    this.append(a.content);\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n    /**\r\n     * giống element\r\n     * @param {*} args thông tin element\r\n     */\r\n    final$setup: function setElement(args) {\r\n        return this.setElement.apply(this, getArguments(arguments));\r\n    },\r\n    final$setDataTypeAttribute: function (key, value, sync) {\r\n        if (!((isObject(value) && (value.isObjectData || value.isArrayData) || value.isPrimitive) || (isFunction(value) && value.isPrimitive))) return sync ? this.addDynamicAttr(key, value) : this.setAttribute(key, value);\r\n        this.__dataSync__ = false;\r\n        this.setAttribute(key, value.__toData__());\r\n        var vl = value;\r\n        if (this.__dataTypes__[key] === undefined) {\r\n            var self = this;\r\n            this.__dataTypes__[key] = value;\r\n            value.__addChangeEvent__(function (e) {\r\n                self.__dataSync__ = false;\r\n                self.__syncOnChange__ = false;\r\n                vl = e.value;\r\n                this.setAttribute(key, e.value.__toData__());\r\n                self.__dataSync__ = true;\r\n                self.__syncOnChange__ = true;\r\n            });\r\n            Object.defineProperty(this, key, {\r\n                configurable: true,\r\n                enumerable: true,\r\n                get: function () {\r\n                    return vl;\r\n                },\r\n                set: function (value2) {\r\n                    if (vl.__PARENT__) {\r\n                        var key = vl.__PARENT__.keyOf(vl);\r\n                        if (key !== undefined) {\r\n                            self.__syncOnChange__ = false;\r\n                            self.__dataSync__ = false;\r\n                            vl.__PARENT__[key] = value2;\r\n                            self.__dataSync__ = true;\r\n                            self.__syncOnChange__ = true;\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n            if (sync) {\r\n                this.on(\"change\", function (e) {\r\n                    if (e.target == self.el) {\r\n                        var vlchange = self.attr(key);\r\n                        if (vlchange != vl.__toData__() && self.__syncOnChange__) {\r\n                            self.__syncOnChange__ = false;\r\n                            self[key] = vlchange;\r\n                            self.__syncOnChange__ = true;\r\n\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    },\r\n    /**\r\n     * Thêm thuộc tính động\r\n     * @param {string} attr tên thuộc tính\r\n     * @param {string|number} value \r\n     * @returns this\r\n     */\r\n    final$addDynamicAttr: function (attr, value) {\r\n        if (isString(attr)) {\r\n            var self = this;\r\n            if ((isObject(value) && (value.isObjectData || value.isArrayData) || value.isPrimitive) || (isFunction(value) && value.isPrimitive)) return this.setDataTypeAttribute(key, value);\r\n            this.attr(attr, value);\r\n            this.__addSetGetValue__({\r\n                key: attr,\r\n                value: value,\r\n                set: function (val) {\r\n                    self.__dynamicSync = false;\r\n                    var stt = true;\r\n                    this.trigger({\r\n                        type: \"change.attr.\" + attr,\r\n                        preventDefault: function () {\r\n                            stt = false;\r\n                        },\r\n                        target: this.el,\r\n                        data: {\r\n                            attr: attr,\r\n                            value: val\r\n                        }\r\n                    });\r\n\r\n                    if (stt) {\r\n                        this.__dynamicAttrs[attr] = val;\r\n                        this.attr(attr, val);\r\n\r\n                    }\r\n                    self.__dynamicSync = true;\r\n                },\r\n                get: function () {\r\n                    return this.dyna1micAttrs[attr] || null;\r\n                }\r\n            })\r\n        }\r\n        else if (isObject(attr)) {\r\n            for (var key in attr) {\r\n                if (Object.hasOwnProperty.call(attr, key)) {\r\n                    this.addDynamicAttr(key, attr[key]);\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * chuẩn hóa hàn lắng nghe sự kiện\r\n     * @param {string|function} handler tên phương thức hoạc hàm handler\r\n     * @returns function\r\n     */\r\n\r\n    parseEventHandler: function (handler?: any) {\r\n        var self: any = this;\r\n        var element = this.el;\r\n\r\n        var fnt = handler ? handler : function (e) {\r\n            console.log(e);\r\n        };\r\n\r\n        if (typeof handler == \"string\") {\r\n            var instanceID: any = undefined;\r\n\r\n\r\n            var handleInfo = handler.split(\".\");\r\n            if (handleInfo.length == 2) {\r\n                instanceID = handleInfo[0];\r\n                handler = handleInfo[1];\r\n            }\r\n            var params = [];\r\n            var handleParams = handler.split(\":\");\r\n            if (handleParams.length == 2) {\r\n                handler = handleParams[0];\r\n                params = handleParams[1].split(\",\").map(function (s) { return s.trim(); });\r\n\r\n            }\r\n\r\n            if (this.parent && this.parent.isDom) {\r\n\r\n                if (!instanceID) {\r\n                    params.unshift(handler);\r\n                    var fn = self.getTreeMethod.apply(self, params);\r\n                    if (fn) {\r\n                        fnt = fn;\r\n                    }\r\n                    else fnt = function (e) {\r\n                        e.component = self;\r\n                        console.log(e);\r\n                    };\r\n                } else {\r\n                    fnt = function (e) {\r\n                        // e.preventDefault();\r\n                        e.component = self;\r\n                        var args = [e];\r\n\r\n                        params.map(function (p) { args.push(p); });\r\n                        if (!instanceID) {\r\n                            params.unshift(handler);\r\n                            var fn = self.getTreeMethod.apply(self, params);\r\n\r\n                            if (typeof fn == \"function\") {\r\n                                return fn.apply(self, args);\r\n                            }\r\n                        }\r\n\r\n                        if (typeof self[handler] == \"function\") {\r\n                            return self[handler].apply(self, args);\r\n                        } else {\r\n                            return self.callChildrenMethod(handler, args, instanceID);\r\n                        }\r\n                    };\r\n                }\r\n            }\r\n            else {\r\n                fnt = function (e) {\r\n                    // e.preventDefault();\r\n                    e.component = self;\r\n                    var args = [e];\r\n                    params.map(function (p) { args.push(p); });\r\n                    if (!instanceID) {\r\n                        params.unshift(handler);\r\n                        var fn = self.getTreeMethod.apply(self, params);\r\n\r\n                        if (typeof fn == \"function\") {\r\n                            return fn.apply(self, args);\r\n                        }\r\n                    }\r\n\r\n                    if (typeof self[handler] == \"function\") {\r\n                        return self[handler].apply(self, args);\r\n                    } else {\r\n                        return self.callChildrenMethod(handler, args, instanceID);\r\n                    }\r\n                };\r\n            }\r\n\r\n        }\r\n        else if (typeof handler == \"function\") {\r\n            fnt = function (e) {\r\n                return handler.call(self, e);\r\n            };\r\n        }\r\n\r\n        return fnt;\r\n    },\r\n\r\n    /**\r\n     * lắng nghe sự kiện\r\n     * @param {string} type loại hoạc tên sự kiện\r\n     * @param {function|string} handler hàm hoặc tên phương thức xử lý sự kiện\r\n     * @param {boolean} passed tham số báo có cần kiểm tra hay ko\r\n     * @returns this\r\n     */\r\n    addEventListener: function (type?: any, handler?: any, passed?: any) {\r\n        var self = this;\r\n        var element = this.el;\r\n        var listener = passed === DEFAULT_VALUE ? handler : this.parseEventHandler(handler);\r\n\r\n\r\n        if (this._listeners === undefined || this._listeners === null) this._listeners = {};\r\n\r\n        type = String(type).toLowerCase();\r\n\r\n\r\n\r\n        if (isDomEvent(type)) return this.addDomEvent(type, listener, DEFAULT_VALUE);\r\n        const listeners = this._listeners;\r\n\r\n        if (listeners[type] === undefined) {\r\n\r\n            listeners[type] = [];\r\n\r\n        }\r\n\r\n        if (listeners[type].indexOf(listener) === - 1) {\r\n\r\n            listeners[type].push(listener);\r\n\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    hasEventListener: function (type?: any, listener?: any) {\r\n\r\n        if (this._listeners === undefined || this._listeners === null) return false;\r\n\r\n        const listeners = this._listeners;\r\n        type = String(type).toLowerCase();\r\n        return listeners[type] !== undefined && listeners[type].indexOf(listener) !== - 1;\r\n\r\n    },\r\n\r\n    removeEventListener: function (type?: any, listener?: any) {\r\n\r\n        if (this._listeners === undefined || this._listeners === null) return;\r\n        type = String(type).toLowerCase();\r\n        if (isDomEvent(type)) return this.off.apply(getArguments(arguments));\r\n        const listeners = this._listeners;\r\n        const listenerArray = listeners[type];\r\n\r\n        if (listenerArray !== undefined) {\r\n\r\n            const index = listenerArray.indexOf(listener);\r\n\r\n            if (index !== - 1) {\r\n\r\n                listenerArray.splice(index, 1);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n\r\n    dispatchEvent: function (event?: any) {\r\n        if (this._listeners === undefined || this._listeners === null) return;\r\n\r\n        if (isDomEvent(event.type)) return this.trigger.apply(this, getArguments(arguments));\r\n        const listeners = this._listeners;\r\n        const listenerArray = listeners[event.type];\r\n\r\n        if (listenerArray !== undefined) {\r\n\r\n            var s = true;\r\n            event.target = this.el;\r\n\r\n            event.stopImmediatePropagation = function () {\r\n                s = false;\r\n            }\r\n            // Make a copy, in case listeners are removed while iterating.\r\n            const array = listenerArray.slice(0);\r\n\r\n            for (var i = 0, l = array.length; i < l; i++) {\r\n\r\n                array[i].call(this, event);\r\n                if (!s) break;\r\n\r\n            }\r\n            return s;\r\n\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * lắng nghe sự kiện của dom\r\n     * @param {string} type loại hoạc tên sự kiện\r\n     * @param {function|string} handler hàm hoặc tên phương thức xử lý sự kiện\r\n     * @param {boolean} passed tham số báo có cần kiểm tra hay ko\r\n     * @returns this\r\n     */\r\n    addDomEvent: function (event?: any, handler?: any, passed?: any) {\r\n        var self = this;\r\n        var element = this.el;\r\n        var listener = passed === DEFAULT_VALUE ? handler : this.parseEventHandler(handler);\r\n\r\n\r\n        if (!isDomEvent(event)) return this.addEventListener(event, listener, DEFAULT_VALUE);\r\n\r\n        event.split(\" \").filter(function (evt) { return (allEvents.indexOf(evt) >= 0); }).map(function (evt) {\r\n            addEvent(element, evt, listener, null);\r\n        });\r\n        return this;\r\n    },\r\n    hasEvent: function (event?: any, listener?: any) {\r\n        return isDomEvent(event) ? hasEvent(this.el, event, listener) : this.hasEventListener(event, listener);\r\n    },\r\n    /**\r\n     * Huỷ sự kiện \r\n     * @param {string} events Danh sách sự kiện\r\n     * @param {function} handler \r\n     * @returns {Query|Dom}\r\n     */\r\n    off: function (events?: any, handler?: any) {\r\n        handler = handler || null;\r\n        if (this.el) {\r\n            var evs = (events && events.length) ? events.split(\" \") : domEvents;\r\n            if (evs.length) {\r\n                for (var j = 0; j < evs.length; j++) {\r\n                    var ev = evs[j];\r\n                    if (!isDomEvent(ev)) {\r\n                        this.removeEventListener(ev, handler);\r\n                    }\r\n                    else {\r\n                        removeEvent(this.el, ev, null, handler);\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n    /**\r\n     * Gán sự kiện\r\n     * @param {string|Event} event sự kiện\r\n     * @returns {Query|Dom}\r\n     */\r\n    trigger: function trigger(event?: any, data?: any) {\r\n        var ev = isString(event) ? event : (event ? event.type : null);\r\n        var e = !isObject(event) ? { type: ev } : event;\r\n        var el = this.el;\r\n        if (!e.target) {\r\n            e.target = el;\r\n        }\r\n        if (!e.data && data !== undefined) e.data = data;\r\n        if (!isDomEvent(ev)) return this.dispatchEvent(e);\r\n\r\n        triggerEvent(el, ev, e);\r\n        return this;\r\n    },\r\n\r\n    emit: function(){\r\n        return this.trigger.apply(this, arguments);\r\n    },\r\n    /**\r\n     * Huỳ sự kiện\r\n     */\r\n    unbind: function () {\r\n        this.off.apply(this, arguments);\r\n        return this;\r\n    },\r\n    /**\r\n     * lang nghe su kien\r\n     * @param {string} event tên sự kiện\r\n     * @param {function(Event)} handler hàm xử lý sự kiện\r\n     * @returns {this}\r\n     * \r\n     */\r\n    on: function on(event?: any, handler?: any) {\r\n        if (isString(event)) {\r\n            var args = getArguments(arguments);\r\n            var self = this;\r\n\r\n            var s = event.toLowerCase().split(\".\");\r\n            if (event == 'transmission' || (s.length > 1 && s[0] == 'transmission')) {\r\n                event = event.toLowerCase();\r\n                if (typeof handler != \"function\") return this;\r\n                if (event != 'transmission') {\r\n                    if (typeof this.__transmissionEventListeners.events[event] == \"undefined\") {\r\n                        this.__transmissionEventListeners.events[event] = [];\r\n                    }\r\n                    this.__transmissionEventListeners.events[event].push(handler);\r\n                } else {\r\n                    if (typeof this.__transmissionEventListeners.events.transmission == \"undefined\") {\r\n                        this.__transmissionEventListeners.events.transmission = [];\r\n                    }\r\n                    this.__transmissionEventListeners.events.transmission.push(handler);\r\n                }\r\n                return this;\r\n            }\r\n            else if (isDomEvent(event)) {\r\n                self.addDomEvent.apply(this, args);\r\n            } else {\r\n                this.addEventListener(event, handler);\r\n            }\r\n\r\n        }\r\n        else if (isObject(event)) {\r\n            for (var key in event) {\r\n                if (Object.hasOwnProperty.call(event, key)) {\r\n                    this.on(key, event[key]);\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n    /**\r\n     * lấy về một callback đến hàm hiện tại\r\n     * @param {string} method tên phương thức\r\n     * @returns function(e:Event)\r\n     */\r\n    const$fn: function fn(method?: any) {\r\n        var self = this;\r\n        if (!isString(method) || typeof self[method] != \"function\") return function (e) { console.log(e) };\r\n        var args = getArguments(arguments);\r\n        var fn = self[method];\r\n        return function (e) {\r\n            e.component = this;\r\n            args[0] = e;\r\n            return fn.apply(self, args);\r\n        };\r\n    },\r\n    /**\r\n     * lấy về một callback đến hàm hiện tại\r\n     * @param {string} method tên phương thức\r\n     * @returns {function(Event)}\r\n     */\r\n    const$getTreeMethod: function getTreeMethod(method?: any) {\r\n        var self = this;\r\n        if (!isString(method)) return function (e) { console.log(e) };\r\n        var args = getArguments(arguments);\r\n        if (typeof self[method] != \"function\") {\r\n            if (this.parent && typeof this.parent.getTreeMethod == \"function\") {\r\n                return this.parent.getTreeMethod.apply(this.parent, args);\r\n            }\r\n            return null;\r\n        }\r\n\r\n        var fn = self[method];\r\n        return function (e) {\r\n            e.component = this;\r\n            args[0] = e;\r\n            return fn.apply(self, args);\r\n        };\r\n    },\r\n    /**\r\n     * Kiểm tra phần từ có trùng khớp với trạng thái hay phần tử đầu vào hay không\r\n     * @param {string|Element} selector \r\n     * @returns {boolean}\r\n     */\r\n    is: function is(selector?: any, el?: any) {\r\n        var e = null;\r\n        if (el) {\r\n            if (isObject(el)) {\r\n                if (el.isDom) {\r\n                    e = el.el;\r\n                }\r\n                else if (_instanceof(el, Element)) {\r\n                    e = el;\r\n                }\r\n                else return false;\r\n            }\r\n            else if (isString(el)) {\r\n                var elm = $document.querySelectorAll(el);\r\n                if (elm.length) {\r\n                    e = elm;\r\n                }\r\n                else return false;\r\n            }\r\n            else return false;\r\n        }\r\n        else if (this.el) {\r\n            e = this.el;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n\r\n\r\n        if (isString(selector)) {\r\n            if (selector.length > 1 && selector.substring(0, 1) == \":\") {\r\n                var s = selector.substring(1);\r\n                if (_instanceof(e, Element)) return (typeof e[s] != 'undefined' && e[s]) ? true : false;\r\n                for (let i = 0; i < e.length; i++) {\r\n                    const ell = e[i];\r\n                    if (typeof ell[s] != 'undefined' && ell[s]) return true;\r\n                }\r\n                return false;\r\n            }\r\n            var elem = $document.querySelectorAll(selector);\r\n            for (let i = 0; i < elem.length; i++) {\r\n                const ele = elem[i];\r\n                if (_instanceof(e, Element)) {\r\n                    if (e == ele) return true;\r\n                }\r\n                else if (e.length) {\r\n                    for (let j = 0; j < e.length; j++) {\r\n                        const ee = e[j];\r\n                        if (ee == ele) return true;\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        if (selector instanceof Element) {\r\n            if (_instanceof(e, Element)) {\r\n                if (e == selector) return true;\r\n            }\r\n            else if (e.length) {\r\n                for (let j = 0; j < e.length; j++) {\r\n                    const ee = e[j];\r\n                    if (ee == selector) return true;\r\n                }\r\n            }\r\n        }\r\n        if (isObject(selector) && selector.isDom) {\r\n            if (_instanceof(e, Element)) {\r\n                if (e == selector.el) return true;\r\n            }\r\n            else if (e.length) {\r\n                for (let j = 0; j < e.length; j++) {\r\n                    const ee = e[j];\r\n                    if (ee == selector.el) return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    closest: function (selector?: any, el?: any) {\r\n        if (!(el instanceof Element)) el = this.el;\r\n        return closest(selector, el);\r\n    },\r\n\r\n\r\n    getProp: function (prop?: any, all?: any) {\r\n        if (!this.el) return \"\";\r\n        return (typeof this.el[prop] != \"undefined\") ? this.el[prop] : null;\r\n    },\r\n    setProp: function (prop?: any, value?: any) {\r\n        if (!this.el) return this;\r\n        var props = {};\r\n        if (typeof prop == \"object\") {\r\n            props = prop\r\n        } else {\r\n            props[prop] = value;\r\n        }\r\n        // var elements = this.getElements();\r\n        for (var p in props) {\r\n            if (props.hasOwnProperty(p)) {\r\n                var val = props[p];\r\n                this.el[prop] = val;\r\n            }\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    removeProp: function (prop?: any) {\r\n        if (typeof prop != \"undefined\") {\r\n            if (isString(prop)) prop = [prop];\r\n            if (isArray(prop)) {\r\n                prop.map(function (p) {\r\n                    if (isString(p)) {\r\n                        delete this.el[p];\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * \r\n     * @param {string|string{}} prop \r\n     * @param {*} value \r\n     */\r\n    prop: function (prop?: any, value?: any) {\r\n        if (!this.el) return this;\r\n        if (prop) {\r\n            if (typeof value != \"undefined\") {\r\n\r\n                if (value === false) {\r\n                    this.el[prop] = value;\r\n                    delete this.el[prop];\r\n                }\r\n                else this.el[prop] = value;\r\n                return this;\r\n            } else {\r\n                return this.el[prop] || null;\r\n            }\r\n        } else {\r\n            var props = {};\r\n            for (var key in this[0]) {\r\n                if (this.el.hasOwnProperty(key)) {\r\n                    var propVal = this.el[key];\r\n                    props[key] = propVal;\r\n                }\r\n            }\r\n            return props;\r\n        }\r\n    },\r\n    val: function val(value?: any) {\r\n        if (typeof value == \"undefined\" || value === null) {\r\n            var input = this.el;\r\n            var tag = input.tagName.toLowerCase();\r\n            var type = input.getAttribute(\"type\");\r\n            if (tag == \"textarea\" || type == \"textarea\") {\r\n                return input.value || input.innerText;\r\n            } else if ([\"radio\", \"checkbox\"].indexOf(type) >= 0) {\r\n                if (input.checked) {\r\n                    if (input.value != undefined) {\r\n                        return input.value;\r\n                    } else {\r\n                        return \"on\";\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n            else {\r\n                return input.value;\r\n            }\r\n        } else {\r\n            var input = this.el;\r\n            var tag = input.tagName.toLowerCase();\r\n            if (tag == \"textarea\") {\r\n                input.innerText = value\r\n            } else {\r\n                input.value = value;\r\n            }\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    getHtml: function () {\r\n        if (!this.el || isGlobalOrRoot(this.el)) return \"\";\r\n        return this.el.innerHTML;\r\n    },\r\n    setHtml: function (html?: any) {\r\n        if (this.el) {\r\n            this.removeChild();\r\n            this.el.innerHTML = html;\r\n        }\r\n        return this;\r\n    },\r\n    html: function (str?: any) {\r\n        if (this.el) {\r\n            if (typeof str == \"undefined\" || str === null) {\r\n                return this.getHtml();\r\n            } else {\r\n                this.setContent(str)\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n    getAttribute: function (attr?: any) {\r\n        return this.el ? this.el.getAttribute(attr) : null;\r\n    },\r\n    setAttribute: function (attr?: any, value?: any) {\r\n        this.el.setAttribute(attr, value);\r\n        return this;\r\n    },\r\n    attr: function attr(attr?: any, value?: any) {\r\n        if (typeof attr == \"undefined\" || attr === null) {\r\n            return this.el ? this.el.attributes : {};\r\n        }\r\n        else if ((typeof value == \"undefined\" || value === null) && typeof attr != \"object\") {\r\n            return this.getAttribute(attr);\r\n        }\r\n        else if (typeof attr != \"undefined\" && getType(attr) == \"object\") {\r\n\r\n            for (var key in attr) {\r\n                if (attr.hasOwnProperty(key)) {\r\n                    var ava = attr[key];\r\n                    this.setAttribute(key, value)\r\n                }\r\n            }\r\n        }\r\n\r\n        return this.setAttribute(attr, value)\r\n    },\r\n    attrData: function (key?: any) {\r\n        if (!this.el) return null;\r\n        if (!this.__data) {\r\n            var data = {};\r\n            var dataRaw = {};\r\n\r\n            var attrs = this.el.attributes;\r\n            if (attrs.length) {\r\n                for (var i = 0; i < attrs.length; i++) {\r\n                    var attr = attrs[i];\r\n                    if (attr.name.toLowerCase().indexOf(\"data-\") === 0) {\r\n                        var a = attr.name.substring(5);\r\n                        dataRaw[a] = attr.value;\r\n                        var b = a.split(\"-\");\r\n                        var c = b.shift();\r\n                        var d = b.map(function (v) { return Str.ucfirst(v) });\r\n                        var k = c + (d.length ? d.join(\"\") : \"\");\r\n                        data[k] = attr.value;\r\n                    }\r\n                }\r\n            }\r\n            this.__addSetGetValue__({\r\n                key: '__data',\r\n                value: {\r\n                    raw: dataRaw,\r\n                    parse: data\r\n                }\r\n            });\r\n        }\r\n        if (typeof key == \"undefined\" || key == null) {\r\n            return this.__data.parse;\r\n        }\r\n        if (typeof key == \"string\") {\r\n            return (typeof this.__data.raw[key] != \"undefined\") ? this.__data.raw[key] : null;\r\n        }\r\n        if (isArray(key)) {\r\n            var arrData = {};\r\n            for (var i = 0; i < key.length; i++) {\r\n                var kk = key[i];\r\n                if (typeof this.__data.raw[kk] != \"undefined\") {\r\n                    arrData[kk] = this.__data.raw[kk];\r\n                }\r\n            }\r\n            return arrData;\r\n        }\r\n        return null;\r\n    },\r\n    /**\r\n     * thêm class\r\n     * @param {string} className \r\n     */\r\n    addClass: function (className?: any) {\r\n        var classlist = [];\r\n        var mapFunc = function (val) {\r\n            if (isString(val)) {\r\n                classlist.push(val);\r\n            } else if (isArray(val)) {\r\n                val.map(mapFunc);\r\n            }\r\n        };\r\n        if (arguments.length) {\r\n            for (var i = 0; i < arguments.length; i++) {\r\n                var arg = arguments[i];\r\n                if (isString(arg)) {\r\n                    mapFunc(arg.split(\" \").map(function (v) {\r\n                        return v.trim();\r\n                    }).filter(function (v) { return v.length > 0 }));\r\n                } else {\r\n                    mapFunc(arg);\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n        var self = this;\r\n        classlist.map(function (str) {\r\n            self.el.classList.add(str);\r\n        });\r\n        return this;\r\n    },\r\n\r\n    removeClass: function (classname?: any) {\r\n        var classlist = [];\r\n        var mapFunc = function (val?: any) {\r\n            if (isString(val)) {\r\n                classlist.push(val);\r\n            } else if (isArray(val)) {\r\n                val.map(mapFunc);\r\n            }\r\n        };\r\n        var args = [];\r\n        var self = this;\r\n        if (arguments.length) {\r\n            for (var i = 0; i < arguments.length; i++) {\r\n                var arg = arguments[i];\r\n                if (isString(arg)) {\r\n                    mapFunc(arg.split(\" \").map(function (v) {\r\n                        return v.trim();\r\n                    }).filter(function (v) { return v.length > 0 }));\r\n                } else {\r\n                    mapFunc(arg);\r\n                }\r\n            }\r\n            classlist.map(function (str) {\r\n                self.el.classList.remove(str);\r\n            });\r\n        } else {\r\n            self.el.className = \"\";\r\n        }\r\n        return this;\r\n    },\r\n\r\n    hasClass: function (classname?: any) {\r\n        if (this.el) {\r\n            return this.el.classList.contains(classname);\r\n        }\r\n        return false;\r\n    },\r\n\r\n    css: function (prop?: any, value?: any) {\r\n        var self = this;\r\n        if (!this.el) {\r\n            return {};\r\n        }\r\n        else if (!prop) {\r\n            return this.el.style;\r\n        }\r\n        else if (isString(prop) && isEmpty(value)) {\r\n            var style = this.el.style;\r\n            var p = Str.camelToSlug(prop, '-');\r\n            var s = p[0].toLowerCase() + prop.substr(1);\r\n            if (Object.hasOwnProperty.call(style, p)) return style[p];\r\n            if (Object.hasOwnProperty.call(style, s)) return style[s];\r\n            return \"\";\r\n        }\r\n        if (isString(prop)) {\r\n            setCssProp(this.el, prop, value);\r\n        } else if (isObject(prop)) {\r\n            for (var key in prop) {\r\n                if (prop.hasOwnProperty(key)) {\r\n                    var v = prop[key];\r\n                    setCssProp(this.el, key, v);\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n\r\n    height: function (height?: any) {\r\n        return typeof height == \"undefined\" ? (this.el ? (this.el.clientHeight || this.el.offsetHeight) : 0) : this.css({ height: height });\r\n    },\r\n    width: function (width?: any) {\r\n        return typeof width == \"undefined\" ? (this.el ? (this.el.clientWidth || this.el.offsetWidth) : 0) : this.css({ width: width });\r\n    },\r\n    /**\r\n     * Thêm phần tử con vào cuối danh danh sách phần tử con của element\r\n     * @param {*} child \r\n     * @returns {DomElement}\r\n     */\r\n    const$append: function (child?: any) {\r\n        if (typeof child == \"undefined\" || isNull(child) || simpleTags.indexOf(this.tagName) !== -1) return this;\r\n        var self = this;\r\n        if (isFunction(child) && child.isDomClass) child = child('#inp-' + Str.rand());\r\n        if (isObject(child)) {\r\n            if (child.isDom) {\r\n                child.parent = this;\r\n                this.el.appendChild(child.el);\r\n                this.children.push(child);\r\n            }\r\n            else if (child.isDomQuery) {\r\n                this.el.appendChild(child.el);\r\n                this.children.push(child);\r\n            }\r\n            else if (child.isQuery) {\r\n                child.map(function (el) {\r\n                    self.el.appendChild(el);\r\n                });\r\n                this.children.push(child);\r\n            }\r\n            else if (child instanceof Element) {\r\n                this.el.appendChild(child);\r\n                this.children.push(child);\r\n            }\r\n        }\r\n        else if (isArray(child)) {\r\n            for (var index = 0; index < child.length; index++) {\r\n                this.append(child[index]);\r\n\r\n            }\r\n        } else if (child instanceof Element) {\r\n            this.el.appendChild(child);\r\n            this.children.push(child);\r\n        }\r\n        else {\r\n            var c = parse(child);\r\n            if (c) {\r\n                this.el.appendChild(c);\r\n                this.children.push(c);\r\n            }\r\n\r\n\r\n        }\r\n\r\n        return this;\r\n    },\r\n    /**\r\n     * Thêm phần tử con vào Đầu danh sách phần tử con cvua3 element\r\n     * @param {*} child \r\n     * @returns {Query|Dom}\r\n     */\r\n    const$prepend: function (child?: any) {\r\n        if (typeof child == \"undefined\" || isNull(child) || simpleTags.indexOf(this.tagName) !== -1) return this;\r\n\r\n        var self = this;\r\n        if (isFunction(child) && child.isDomClass) child = child('#inp-' + Str.rand());\r\n\r\n        if (isObject(child)) {\r\n            if (child.isDom) {\r\n                child.parent = self;\r\n                this.children.unshift(child);\r\n                this.el.insertBefore(child.el, this.el.firstChild);\r\n            }\r\n            else if (child.isDomQuery) {\r\n                this.el.insertBefore(child.el, this.el.firstChild);\r\n                this.children.unshift(child);\r\n            }\r\n            else if (child.isQuery) {\r\n                for (var index = child.length - 1; index > -1; index--) {\r\n                    const c = child[index];\r\n                    this.el.insertBefore(c, this.el.firstChild);\r\n                }\r\n                this.children.unshift(child);\r\n            }\r\n            else if (child instanceof Element) {\r\n                this.el.insertBefore(child, this.el.firstChild);\r\n                this.children.unshift(child);\r\n            }\r\n\r\n\r\n        } else {\r\n            var c = parse(child);\r\n            this.el.insertBefore(c, this.el.firstChild);\r\n            this.children.unshift(c);\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * Thêm phần tử con vào cuối danh danh sách phần tử con cvua3 element\r\n     * @param {*} parent \r\n     * @returns {Query|Dom}\r\n     */\r\n\r\n    const$appendTo: function (parent?: any) {\r\n        if (typeof parent == \"undefined\") return this;\r\n        if (parent.isDom) {\r\n            parent.append(this);\r\n        } else if (parent instanceof Element) {\r\n            parent.appendChild(this.el);\r\n            this.___parentNode___ = parent;\r\n\r\n        }\r\n        else if (isString(parent)) {\r\n            var domEl = $document.querySelector(parent);\r\n            if (domEl && _instanceof(domEl, Element)) {\r\n                domEl.appendChild(this.el);\r\n                this.___parentNode___ = domEl;\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n    const$prependTo: function (parent?: any) {\r\n        if (typeof parent == \"undefined\") return this;\r\n        if (parent.isDom) {\r\n            parent.prepend(this);\r\n        } else if (parent instanceof Element) {\r\n            parent.insertBefore(this.el, parent.firstChild);\r\n            this.___parentNode___ = parent;\r\n        } else if (isString(parent)) {\r\n            var domEl = $document.querySelector(parent);\r\n            if (domEl && _instanceof(domEl, Element)) {\r\n                domEl.insertBefore(this.el, domEl.firstChild)\r\n                this.___parentNode___ = domEl;\r\n            }\r\n        }\r\n\r\n\r\n\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * kiểm tra vó phần tử dom con của el hay không\r\n     * @param {Element} child Dom Element - phàn tử html con cần kiểm tra\r\n     * @returns {boolean}\r\n     */\r\n    hasDomChild: function (child?: any) {\r\n        if (_instanceof(child, Element)) {\r\n            if (this.el.children.length) {\r\n                for (var index = 0; index < this.el.children.length; index++) {\r\n                    var chl = this.el.children[index];\r\n                    if (chl === child) return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    },\r\n\r\n    removeDomChild: function (child?: any) {\r\n        if (this.hasDomChild(child)) {\r\n            this.el.removeChild(child);\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * xóa phần tử con\r\n     * @param {Element|Dom|DomElement|Dom.Query} child \r\n     * @param {boolean} removeDomEl Xóa dom el\r\n     */\r\n    final$removeChild: function (child?: any, removeDomEl?: any) {\r\n        if (typeof removeDomEl == \"undefined\") removeDomEl = true;\r\n        if (!isBoolean(removeDomEl)) removeDomEl = true;\r\n\r\n        if (child) {\r\n            var self = this;\r\n            if (child.isDom || child.isDomQuery) {\r\n                if (removeDomEl) {\r\n                    this.removeDomChild(child.el);\r\n                }\r\n            }\r\n            else if (child.isQuery) {\r\n                child.map(function (ch) {\r\n                    try {\r\n                        self.el.removeChild(ch)\r\n                    } catch (error) {\r\n                        if (ch.parentNode) {\r\n                            ch.parentNode.removeChild(ch)\r\n                        }\r\n                    }\r\n\r\n                });\r\n\r\n            }\r\n            else if (child instanceof Element) {\r\n                this.removeDomChild(child);\r\n\r\n            }\r\n\r\n            if (!isArray(this.children)) return this;\r\n\r\n            for (var index = 0; index < this.children.length; index++) {\r\n                const c = this.children[index];\r\n                if (c == child) {\r\n                    this.children.splice(index, 1);\r\n                }\r\n            }\r\n            if (this.children.length == 0) {\r\n                this.el.innerHTML = \"\";\r\n            }\r\n        }\r\n        else {\r\n            if (!isArray(this.children)) return this;\r\n\r\n            while (this.children.length) {\r\n                this.removeChild(this.children[0]);\r\n            }\r\n        }\r\n        return this;\r\n\r\n    },\r\n\r\n    /**\r\n     * Xóa\r\n     */\r\n    final$remove: function () {\r\n        var children = getArguments(arguments);\r\n        if (children.length) {\r\n            var self = this;\r\n            children.map(function (child) {\r\n                self.removeChild(child);\r\n            });\r\n        }\r\n        else if (this.parent) {\r\n            this.parent.removeChild(this);\r\n        }\r\n        else if (this.el.parentNode) {\r\n            this.el.parentNode.removeChild(this.el);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * thay thế / thêm nội dung cho thẻ\r\n     * @param {Element|DomElement|string|Element[]|DomElement[]|string[]} content nội dung\r\n     */\r\n    final$setContent: function (content?: any) {\r\n        this.removeChild();\r\n        return this.append(content);\r\n    },\r\n\r\n\r\n    final$stopTransmission: function () {\r\n        this.__transmissionStatus = false;\r\n    },\r\n\r\n\r\n    /**\r\n     * nhận dữ liệu giữ các component cha -> con\r\n     * @param {string} channel tên sự kiện\r\n     * @param {*} data dữ liệu bất kỳ\r\n     */\r\n    final$receiveFromParent: function receiveFromParent(channel?: any, data?: any, sentId?: any) {\r\n        var next = true;\r\n        var self = this;\r\n        var a = 0;\r\n        var stop = false;\r\n        var arr, fn, s = undefined;\r\n        var eventData = {\r\n            type: \"\",\r\n            preventDefault: function () {\r\n                next = false;\r\n                a++;\r\n            },\r\n            stopTransmission: function () {\r\n                next = false;\r\n                self.stopTransmission();\r\n                a++;\r\n            },\r\n            stopPropagation: function stopPropagation() {\r\n                self.stopTransmission();\r\n                next = false;\r\n                a++;\r\n            },\r\n            data: data\r\n        };\r\n\r\n        if (Object.hasOwnProperty.call(this.__transmissionEventListeners.fromParent, channel)) {\r\n            arr = this.__transmissionEventListeners.fromParent[channel];\r\n            try {\r\n                if (arr.length) {\r\n                    for (var index = 0; index < arr.length; index++) {\r\n                        fn = arr[index];\r\n                        if (typeof fn == \"function\") {\r\n                            a++;\r\n                            s = fn.call(this, data);\r\n                            if (s === false) {\r\n                                next = false;\r\n                                self.parent.stopTransmission();\r\n                                break;\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                }\r\n\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n        if (next) {\r\n            if (!a) {\r\n                var c = Str.replace(\r\n                    Str.ucword(\r\n                        channel.split(\"-\").join(\" \")\r\n                    ),\r\n                    \" \",\r\n                    \"\"\r\n                );\r\n                var listFn = [\r\n                    \"onReceive\" + c + \"FromParent\",\r\n                    \"on\" + c + \"FromParent\",\r\n                    \"onReceive\" + c + \"Data\",\r\n                    \"onReceive\" + c,\r\n                    \"onParent\" + c + \"Data\"\r\n                ];\r\n                var mt = \"\";\r\n                for (var i = 0; i < listFn.length; i++) {\r\n                    mt = listFn[i];\r\n                    if (next && typeof self[mt] == \"function\") {\r\n                        var stt = self[mt].call(self, data);\r\n                        if (stt === false) {\r\n                            next = false;\r\n                            self.parent.stopTransmission();\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (next) {\r\n            var slug = channel.toLowerCase();\r\n            var mtfs = [\"transmission.fromparent.\" + slug, \"transmission.fromparent\", \"transmission\"];\r\n            var mt = \"\";\r\n            for (var n = 0; n < mtfs.length; n++) {\r\n                mt = mtfs[n];\r\n                if (next && Object.hasOwnProperty.call(self.__transmissionEventListeners.events, mt)) {\r\n                    eventData.type = mt;\r\n                    arr = self.__transmissionEventListeners.events[mt];\r\n                    if (arr.length) {\r\n                        for (var index = 0; index < arr.length; index++) {\r\n                            fn = arr[index];\r\n                            if (typeof fn == \"function\") {\r\n                                // a++;\r\n                                s = fn.call(self, eventData);\r\n                                if (s === false || !next) {\r\n                                    next = false;\r\n                                    self.parent.stopTransmission();\r\n                                    index += arr.length;\r\n                                }\r\n                            }\r\n\r\n                        }\r\n                    }\r\n                }\r\n                if (!next) break;\r\n\r\n            }\r\n        }\r\n        // truyền cho các thằng con\r\n        if (next) {\r\n            this.__sendToChildren__(channel, data, sentId);\r\n        }\r\n    },\r\n    /**\r\n     * tuyền dữ liệu giữ các component cha -> con\r\n     * @param {string} channel tên sự kiện\r\n     * @param {*} data dữ liệu bất kỳ\r\n     * @param {string} sentId id của class gửi\r\n     */\r\n    final$__sendToChildren__: function (channel?: any, data?: any, sentId?: any) {\r\n        var instanceID = this.getInstanceID();\r\n        if (!sentId) sentId = instanceID;\r\n        this.__transmissionStatus = true;\r\n        // truyền cho các thằng con\r\n        if (this.children.length) {\r\n            for (var i = 0; i < this.children.length; i++) {\r\n                var child = this.children[i];\r\n                if (typeof child.receiveFromParent == \"function\") {\r\n                    child.receiveFromParent(channel, data, sentId);\r\n                    if (this.__transmissionStatus == false) {\r\n                        if (sentId != instanceID && this.parent) {\r\n                            this.parent.stopTransmission();\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.__transmissionStatus = true;\r\n        return this;\r\n    },\r\n    /**\r\n     * tuyền dữ liệu giữ các component cha -> con\r\n     * @param {string} channel tên sự kiện\r\n     * @param {*} data dữ liệu bất kỳ\r\n     */\r\n    final$sendToChildren: function (channel?: any, data?: any) {\r\n        return this.__sendToChildren__(channel, data);\r\n    },\r\n    /**\r\n     * Nhận dữ liệu từ cha\r\n     * @param {string} channel tên đường truyền\r\n     * @param {function} handler \r\n     * @returns {DomElement}\r\n     */\r\n    final$onParentTransmission: function (channel?: any, handler?: any) {\r\n        if (isString(channel) && isFunction(handler)) {\r\n            if (typeof this.__transmissionEventListeners.fromParent[channel] == \"undefined\") {\r\n                this.__transmissionEventListeners.fromParent[channel] = [];\r\n            }\r\n            this.__transmissionEventListeners.fromParent[channel].push(handler);\r\n        }\r\n        if (isObject(channel)) {\r\n            for (var s in channel) {\r\n                if (Object.hasOwnProperty.call(channel, s)) {\r\n                    if (typeof channel[s] == \"function\") {\r\n                        this.onParentTransmission(s, channel[s]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n    /**\r\n     * Nhận dữ liệu từ cha\r\n     * @param {string} channel tên đường truyền\r\n     * @param {function} handler \r\n     * @returns {DomElement}\r\n     */\r\n    final$onParentData: function (channel?: any, handler?: any) {\r\n        return this.onParentTransmission(channel, handler);\r\n    },\r\n\r\n    /**\r\n     * tuyền dữ liệu giữ các component con -> cha\r\n     * @param {string} channel tên sự kiện\r\n     * @param {*} data dữ liệu bất kỳ\r\n     */\r\n    final$receiveFromChildren: function (channel?: any, data?: any) {\r\n        var self = this;\r\n        var next = true;\r\n        var a = 0;\r\n        var arr, fn, s = undefined;\r\n        this.__transmissionStatus = true;\r\n        if (Object.hasOwnProperty.call(this.__transmissionEventListeners.fromChildren, channel)) {\r\n            arr = this.__transmissionEventListeners.fromChildren[channel];\r\n            if (arr.length) {\r\n                for (var index = 0; index < arr.length; index++) {\r\n                    fn = arr[index];\r\n                    if (typeof fn == \"function\") {\r\n                        a++;\r\n                        s = fn.call(this, data);\r\n                        if (s === false) {\r\n                            next = false;\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n        if (next) {\r\n            if (!a) {\r\n                var c = Str.replace(\r\n                    Str.ucword(\r\n                        channel.split(\"-\").join(\" \")\r\n                    ),\r\n                    \" \",\r\n                    \"\"\r\n                );\r\n\r\n                var fnList = [\"onReceive\" + c + \"FromChildren\", \"on\" + c + \"FromChildren\", \"onChildren\" + c + \"Data\", \"onReceive\" + c, \"onReceive\" + c + \"Data\"];\r\n                fnList.map(function (mt, i) {\r\n                    if (next && typeof self[mt] == \"function\") {\r\n\r\n                        var stt = self[mt].call(self, data);\r\n                        if (stt === false) {\r\n                            next = false\r\n                        }\r\n                    }\r\n                });\r\n\r\n            }\r\n\r\n        }\r\n        if (next) {\r\n            var eventData = {\r\n                type: \"\",\r\n                preventDefault: function () {\r\n                    next = false;\r\n                    a++;\r\n                },\r\n                stopTransmission: function () {\r\n                    next = false;\r\n                    self.stopTransmission();\r\n                    a++;\r\n                },\r\n                stopPropagation: function stopPropagation() {\r\n                    self.stopTransmission();\r\n                    next = false;\r\n                    a++;\r\n                },\r\n                data: data\r\n            }\r\n\r\n            var slug = channel.toLowerCase();\r\n            [\"transmission.fromchildren.\" + slug, \"transmission.fromchildren\", \"transmission\"].map(function (mt) {\r\n                if (next && Object.hasOwnProperty.call(self.__transmissionEventListeners.events, mt)) {\r\n                    eventData.type = mt;\r\n                    arr = self.__transmissionEventListeners.events[mt];\r\n\r\n                    if (arr.length) {\r\n                        for (var index = 0; index < arr.length; index++) {\r\n                            fn = arr[index];\r\n                            if (typeof fn == \"function\") {\r\n                                // a++;\r\n                                s = fn.call(self, eventData);\r\n                                if (s === false || !next) {\r\n                                    next = false;\r\n                                    self.parent.stopTransmission();\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                        }\r\n                    }\r\n                }\r\n\r\n            });\r\n\r\n\r\n\r\n        }\r\n        // truyền cho các thằng con\r\n        if (next && this.parent) {\r\n\r\n            this.sendToParent(channel, data);\r\n        }\r\n        this.__transmissionStatus = true;\r\n\r\n    },\r\n\r\n\r\n    /**\r\n     * tuyền dữ liệu giữ các component con -> cha\r\n     * @param {string} channel tên sự kiện\r\n     * @param {*} data dữ liệu bất kỳ\r\n     */\r\n    final$sendToParent: function (channel?: any, data?: any) {\r\n        if (this.parent && this.parent != this && this.parent.receiveFromChildren) {\r\n            this.parent.receiveFromChildren(channel, data);\r\n        } else {\r\n            console.warn(\"Không có đối tượng cha\");\r\n        }\r\n        return this;\r\n    },\r\n\r\n\r\n\r\n    /**\r\n     * Nhận dữ liệu từ con\r\n     * @param {string} channel tên đường truyền\r\n     * @param {function} handler \r\n     * @returns {DomElement}\r\n     */\r\n    final$onChildrenTransmission: function (channel?: any, handler?: any) {\r\n        if (isString(channel) && isFunction(handler)) {\r\n            if (typeof this.__transmissionEventListeners.fromChildren[channel] == \"undefined\") {\r\n                this.__transmissionEventListeners.fromChildren[channel] = [];\r\n            }\r\n            this.__transmissionEventListeners.fromChildren[channel].push(handler);\r\n        }\r\n        if (isObject(channel)) {\r\n            for (var s in channel) {\r\n                if (Object.hasOwnProperty.call(channel, s)) {\r\n                    if (typeof channel[s] == \"function\") {\r\n                        this.onChildrenTransmission(s, channel[s]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * Nhận dữ liệu từ con\r\n     * @param {string} channel tên đường truyền\r\n     * @param {function} handler \r\n     * @returns {DomElement}\r\n     */\r\n    final$onChildrenData: function (channel?: any, handler?: any) {\r\n        return this.onChildrenTransmission(channel, handler);\r\n    },\r\n\r\n    /**\r\n     * gọi phương thức của cha, ngược cây phả hệ cho đến khi có tồn tại phương thức dược định nghĩa hoặc hết cây phả hệ\r\n     * @param {string} method tên phuong thức của thằng cha\r\n     * @param {array} args các tham số dưới dạng mảng\r\n     * @returns {mixed}\r\n     */\r\n    final$callParentMethod: function (method?: any, args?: any) {\r\n        if (this.parent && typeof this.parent.onChildrenCallMethod == \"function\") {\r\n            return this.parent.onChildrenCallMethod(method, args);\r\n        }\r\n\r\n        return null;\r\n\r\n    },\r\n\r\n    /**\r\n     * gọi phương thức của cha, ngược cây phả hệ cho đến khi có tồn tại phương thức dược định nghĩa hoặc hết cây phả hệ\r\n     * @param {string} method tên phuong thức của thằng cha\r\n     * @param {array} args các tham số dưới dạng mảng\r\n     * @returns {mixed}\r\n     */\r\n    final$cpm: function cpm(method?: any, args?: any) {\r\n        return this.callParentMethod.call(this, method, args);\r\n    },\r\n    /**\r\n     * gọi phương thức của cha, ngược cây phả hệ cho đến khi có tồn tại phương thức dược định nghĩa hoặc hết cây phả hệ\r\n     * @param {string} method tên phuong thức của thằng cha\r\n     * @param {array} args các tham số dưới dạng mảng\r\n     * @returns {mixed}\r\n     */\r\n    final$parentCall: function (method?: any, args?: any) {\r\n        return this.callParentMethod.call(this, method, args);\r\n    },\r\n\r\n    /**\r\n     * gọi phương thức của cha, ngược cây phả hệ cho đến khi có tồn tại phương thức dược định nghĩa hoặc hết cây phả hệ\r\n     * @param {string} method tên phuong thức của thằng cha\r\n     * @param {array} args các tham số dưới dạng mảng\r\n     * @returns {mixed}\r\n     */\r\n    final$callParent: function (method?: any, args?: any) {\r\n        return this.callParentMethod.call(this, method, args);\r\n    },\r\n\r\n    /**\r\n     * lsng81 nghe lời gọi hàm của thằng con\r\n     * @param {string} method tên phương thức\r\n     * @param {array} args tham số\r\n     */\r\n    final$onChildrenCallMethod: function (method?: any, args?: any) {\r\n        if (typeof this[method] == \"function\") {\r\n            var fn = this[method];\r\n            return fn.apply(this, isArray(args) ? args : [args]);\r\n        }\r\n        return this.callParentMethod(method, args);\r\n    },\r\n\r\n    /**\r\n     * gọi phương thức của thang con trong cây phả hệ\r\n     * @param {string} method phương thức\r\n     * @param {array} args tham so\r\n     */\r\n    final$callChildrenMethod: function (method?: any, args?: any, className?: any) {\r\n        curremtCallChildrenMethodID = this.getInstanceID();\r\n        return this.__callChildrenMethod__(method, args, className);\r\n    },\r\n\r\n    /**\r\n     * gọi phương thức của thang con trong cây phả hệ\r\n     * @param {string} method phương thức\r\n     * @param {array} args tham so\r\n     */\r\n    final$ccm: function (method?: any, args?: any, className?: any) {\r\n        return this.callChildrenMethod(method, args, className);\r\n    },\r\n\r\n    /**\r\n     * gọi phương thức của thang con trong cây phả hệ\r\n     * @param {string} method phương thức\r\n     * @param {array} args tham so\r\n     */\r\n    final$childrenCall: function (method?: any, args?: any, className?: any) {\r\n        return this.callChildrenMethod(method, args, className);\r\n    },\r\n\r\n    /**\r\n     * gọi phương thức của thang con trong cây phả hệ\r\n     * @param {string} method phương thức\r\n     * @param {array} args tham so\r\n     */\r\n    final$callChildren: function (method?: any, args?: any, className?: any) {\r\n        return this.callChildrenMethod(method, args, className);\r\n    },\r\n\r\n    /**\r\n     * gọi phương thức của thang con trong cây phả hệ\r\n     * @param {string} method phương thức\r\n     * @param {array} args tham so\r\n     */\r\n\r\n    final$__callChildrenMethod__: function (method?: any, args?: any, className?: any) {\r\n        var instanceId = this.getInstanceID();\r\n        if (!curremtCallChildrenMethodID) curremtCallChildrenMethodID = instanceId;\r\n        stopCallChildrenTask[instanceId] = false;\r\n        var result = DEFAULT_VALUE;\r\n        if (this.children.length) {\r\n            for (var index = 0; index < this.children.length; index++) {\r\n                var child = this.children[index];\r\n                if (child && child.isDom && typeof child.onCallMethodFromParent == \"function\") {\r\n                    var r = child.onCallMethodFromParent(method, args, className);\r\n                    if (r !== DEFAULT_VALUE && typeof r != \"undefined\") {\r\n                        result = r;\r\n                        break;\r\n                    } else if (stopCallChildrenTask[curremtCallChildrenMethodID]) {\r\n                        result = undefined;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n        stopCallChildrenTask[instanceId] = false;\r\n\r\n        if (instanceId == curremtCallChildrenMethodID) {\r\n            stopCallChildrenTask[curremtCallChildrenMethodID] = false;\r\n            curremtCallChildrenMethodID = null;\r\n            if (result == DEFAULT_VALUE) {\r\n                return undefined;\r\n            }\r\n        }\r\n        return result;\r\n    },\r\n\r\n    /**\r\n     * lắng nghe sự kiện từ parent\r\n     * @param {string} method phương thức \r\n     * @param {array} args mảng tham số\r\n     * @param {string} className Tên claass cuối\r\n     */\r\n    final$onCallMethodFromParent: function (method?: any, args?: any, className?: any) {\r\n        var self = this;\r\n        function f() {\r\n            if (typeof self[method] == \"function\") {\r\n                var fn = self[method];\r\n                var res = fn.apply(self, isArray(args) ? args : [args]);\r\n                if (typeof res != \"undefined\") stopCallChildrenTask[curremtCallChildrenMethodID] = true;\r\n                return res;\r\n            }\r\n            return DEFAULT_VALUE;\r\n\r\n        }\r\n        if (className) {\r\n            return f();\r\n        }\r\n        var r = f();\r\n        return r != DEFAULT_VALUE ? r : this.__callChildrenMethod__(method, args);\r\n    },\r\n    final$stopCallChildrenMethod: function () {\r\n        if (curremtCallChildrenMethodID) stopCallChildrenTask[curremtCallChildrenMethodID] = true;\r\n    },\r\n\r\n    /**\r\n     * gui data cho dong bon\r\n     * @param {string} cslug chuoi key\r\n     * @param {*} data du lieu\r\n     */\r\n    final$sendToSiblings: function (slug?: any, data?: any) {\r\n        if (this.parent && this.parent.children && this.parent.children.length > 1) {\r\n            for (var index = 0; index < this.parent.children.length; index++) {\r\n                var sibling = this.parent.children[index];\r\n                if (typeof sibling == \"object\" && sibling != this && typeof sibling.onReceiveFromSiblings == \"function\") {\r\n                    var s = sibling.onReceiveFromSiblings(slug, data)\r\n                    if (s === false) break;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    /**\r\n     * nhan du liieu tu dong bon\r\n     * @param {string} slug chuoi khoa\r\n     * @param {*} data du lieu\r\n     */\r\n    final$onReceiveFromSiblings: function (channel?: any, data?: any) {\r\n        var self = this;\r\n        var next = true;\r\n        var a = 0;\r\n        var arr, fn, s = undefined;\r\n        var eventData = {\r\n            type: \"\",\r\n            preventDefault: function () {\r\n                next = false;\r\n                a++;\r\n            },\r\n            stopTransmission: function () {\r\n                next = false;\r\n                a++;\r\n            },\r\n            stopPropagation: function stopPropagation() {\r\n                next = false;\r\n                a++;\r\n            },\r\n            data: data\r\n        };\r\n\r\n        if (Object.hasOwnProperty.call(this.__transmissionEventListeners.fromSiblings, channel)) {\r\n            arr = this.__transmissionEventListeners.fromSiblings[channel];\r\n            try {\r\n                if (arr.length) {\r\n                    for (var index = 0; index < arr.length; index++) {\r\n                        fn = arr[index];\r\n                        if (typeof fn == \"function\") {\r\n                            a++;\r\n                            s = fn.call(this, data);\r\n                            if (s === false) {\r\n                                return false;\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                }\r\n\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n        if (!a) {\r\n            var c = Str.replace(\r\n                Str.ucword(\r\n                    channel.split(\"-\").join(\" \")\r\n                ),\r\n                \" \",\r\n                \"\"\r\n            );\r\n            var listFn = [\r\n                \"onReceive\" + c + \"fromSiblings\",\r\n                \"onReceive\" + c\r\n            ];\r\n            var mt = \"\";\r\n            for (var i = 0; i < listFn.length; i++) {\r\n                mt = listFn[i];\r\n                if (typeof self[mt] == \"function\") {\r\n                    var stt = self[mt].call(self, data);\r\n                    if (stt === false) {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var slug = channel.toLowerCase();\r\n        var mtfs = [\"transmission.fromsiblings.\" + slug, \"transmission.fromsiblings\", \"transmission\"];\r\n        var mt = \"\";\r\n        for (var n = 0; n < mtfs.length; n++) {\r\n            mt = mtfs[n];\r\n            if (Object.hasOwnProperty.call(self.__transmissionEventListeners.events, mt)) {\r\n                eventData.type = mt;\r\n                arr = self.__transmissionEventListeners.events[mt];\r\n                if (arr.length) {\r\n                    for (var index = 0; index < arr.length; index++) {\r\n                        fn = arr[index];\r\n                        if (typeof fn == \"function\") {\r\n                            // a++;\r\n                            s = fn.call(self, eventData);\r\n                            if (s === false || !next) {\r\n                                return false;\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * gọi hàm của dong bọn\r\n     * @param {string} method tên phương thưc\r\n     * @param {*[]} args tham số\r\n     */\r\n    final$callSiblingMethod: function (method?: any, args?: any) {\r\n        if (this.parent && this.parent.children && this.parent.children.length > 1) {\r\n            var a = typeof args == \"undefined\" ? [] : (isArray(args) ? args : [args]);\r\n            for (var i = 0; i < this.parent.children.length; i++) {\r\n                var child = this.parent.children[i];\r\n                if (isObject(child) && child != this && typeof child[method] == \"function\") {\r\n                    var fn = child[method];\r\n                    var r = fn.apply(child, a);\r\n                    if (r !== undefined) return r;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * gọi hàm của dong bọn\r\n     * @param {string} method tên phương thưc\r\n     * @param {*[]} args tham số\r\n     */\r\n    final$callSiblings: function (method?: any, args?: any) {\r\n        return this.callSiblingMethod(method, args);\r\n    },\r\n\r\n    /**\r\n     * gọi hàm của dong bọn\r\n     * @param {string} method tên phương thưc\r\n     * @param {*[]} args tham số\r\n     */\r\n    final$siblingCall: function (method?: any, args?: any) {\r\n        return this.callSiblingMethod(method, args);\r\n    },\r\n\r\n\r\n    /**\r\n     * gọi hàm của dong bọn\r\n     * @param {string} method tên phương thưc\r\n     * @param {*[]} args tham số\r\n     */\r\n    final$csm: function (method?: any, args?: any) {\r\n        return this.callSiblingMethod(method, args);\r\n    },\r\n\r\n\r\n\r\n    getElementArgsData: function (args?: any, rules?: any) {\r\n        // var rules = {\r\n\r\n        // };\r\n        var selector = '';\r\n        var attrs: any = {};\r\n        var data: any = [];\r\n        var hasTag = false;\r\n        // duyệt qua mảng tham so\r\n        for (var index = 0; index < args.length; index++) {\r\n            var vl = args[index];\r\n            if (isString(vl)) {\r\n                if (index == 0) {\r\n                    var a: any = getDomInf(vl);\r\n                    if (a.isElement) {\r\n                        if (a.isDefault) {\r\n                            selector = args[0];\r\n                        } else {\r\n                            selector = args[0].substr(a.tagName.length);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * lấy về Element cha   \r\n     * @returns {Dom}\r\n     */\r\n    final$getRootElement: function () {\r\n        if (this.parent && isObject(this.parent) && this.parent.isDom) return this.parent.getRootElement();\r\n        return this;\r\n    },\r\n\r\n\r\n    // dịch chuyển element trong dom\r\n    final$moveTo: function (parent?: any, pos?: any) {\r\n        if (!isObject(parent)) return false;\r\n        if (_instanceof(parent, Element)) {\r\n            parent.appendChild(this.el);\r\n            return this;\r\n        }\r\n        if (!pos) pos = 'bottom';\r\n        if (parent.isDom) {\r\n            parent.moveIn(this, pos, this.parent);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * \r\n     * @param {DomeElement|Element} child doi tuong con\r\n     * @param {DomeElement|Element} receiveDomEl \r\n     * @param {string} pos \r\n     * @returns {Dom}\r\n     */\r\n    final$moveChild: function moveChild(child?: any, receiveDomEl?: any, pos?: any) {\r\n        if (!isObject(receiveDomEl)) return false;\r\n\r\n        for (var index = 0; index < this.children.length; index++) {\r\n            var ch = this.children[index];\r\n            if (ch == child) {\r\n                this.children.splice(index, 1);\r\n                if (ch.isDom) {\r\n                    ch.parent = null;\r\n                    ch.moveTo(receiveDomEl, pos);\r\n\r\n                }\r\n                else if (_instanceof(ch, Element)) {\r\n                    if (receiveDomEl.isDom) {\r\n                        receiveDomEl.moveIn(ch);\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        return this;\r\n    },\r\n    /**\r\n     * \r\n     * @param {DomElement} child \r\n     * @param {boolean} pos \r\n     */\r\n    final$moveIn: function moveIn(child?: any, pos?: any, oldparent?: any) {\r\n        if (isObject(child)) {\r\n            var t;\r\n            if ((isBoolean(pos) && pos === true) || inArray(['top', 'start', 'prepend'], pos)) t = true;\r\n            else t = false;\r\n            var self = this;\r\n            if (t) {\r\n                if (child.isDom) {\r\n\r\n                    this.children.unshift(child);\r\n                    if (this.el.firstChild) this.el.insertBefore(child.el, this.el.firstChild);\r\n                    else this.el.appendChild(child.el);\r\n\r\n                    if (child.parent && child.parent.isDom) {\r\n                        child.parent.removeChild(child, false);\r\n                    }\r\n                    child.parent = this;\r\n                }\r\n                else if (child.isDomQuery) {\r\n                    this.el.insertBefore(child.el, this.el.firstChild);\r\n                    this.children.unshift(child);\r\n                }\r\n                else if (child.isQuery) {\r\n                    for (var index = child.length - 1; index > -1; index--) {\r\n                        const c = child[index];\r\n                        this.el.insertBefore(c, this.el.firstChild);\r\n                    }\r\n                    this.children.unshift(child);\r\n                }\r\n                else if (child instanceof Element) {\r\n                    this.el.insertBefore(child, this.el.firstChild);\r\n                    this.children.unshift(child);\r\n                }\r\n\r\n            } else {\r\n                if (child.isDom) {\r\n                    this.el.appendChild(child.el);\r\n                    this.children.push(child);\r\n\r\n                    if (child.parent && child.parent.isDom) {\r\n                        child.parent.removeChild(child, false);\r\n                    }\r\n                    child.parent = this;\r\n\r\n                }\r\n                else if (child.isDomQuery) {\r\n                    this.el.appendChild(child.el);\r\n                    this.children.push(child);\r\n                }\r\n                else if (child.isQuery) {\r\n                    child.map(function (el) {\r\n                        self.el.appendChild(el);\r\n                    });\r\n                    this.children.push(child);\r\n                }\r\n                else if (child instanceof Element) {\r\n                    this.el.appendChild(child);\r\n                    this.children.push(child);\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    },\r\n    static$toString: function () {\r\n        var self = this;\r\n        return self('#' + Str.rand());\r\n    },\r\n    static$withParent: function (parent?: any) {\r\n        var self = this;\r\n        if (!isObject(parent) || !parent.isDom) {\r\n            console.error(\"Parent must be instance of DomElement\");\r\n            return false;\r\n        }\r\n        if (typeof self != \"function\") {\r\n            console.error(\"The context of withParent Method mush be Dom or Dom's Children\");\r\n            return false;\r\n        }\r\n        var params = [];\r\n        for (let i = 1; i < arguments.length; i++) {\r\n            const arg = arguments[i];\r\n            params.push(arg);\r\n        }\r\n        oneTimeData = {\r\n            parent: parent\r\n        };\r\n        return self.apply(null, params);\r\n\r\n    }\r\n}) as DomFactory;\r\nDom['$doc'] = $document;\r\n/**\r\n * Tạo đối tượng dom\r\n * @param {string|object} tag ten the hoặc tất cả các thông tin của thẻ\r\n */\r\nfunction create(tag?: any, children?: any, attributes?: any) {\r\n    var tagName = 'div',\r\n        id = '',\r\n        className = '',\r\n        attrs: any = {},\r\n        __dynamicAttrs: any = {},\r\n        events: any = {},\r\n        props: any = {},\r\n        methods: any = {},\r\n        contents: any = [],\r\n        contentf = \"\",\r\n        inf: any = { isElement: false },\r\n        isSimple = false,\r\n        isArrayContent = false,\r\n        isTwoContent = 0,\r\n        dataTypeAttrs: any = {},\r\n        biddingAttrs: any = {}\r\n        ;\r\n\r\n    function addAttrValue(k, vl) {\r\n\r\n        var s = String(k).toLowerCase();\r\n        if (s.substr(0, 1) == '$') {\r\n            __dynamicAttrs[k.substr(1)] = vl;\r\n        }\r\n        else if (inArray(['tag', 'tagname'], s)) {\r\n            // tagName = vl;\r\n        }\r\n        else if (s.substr(0, 2) == 'on' && isDomEvent(s.substr(2))) {\r\n            events[s.substr(2)] = vl;\r\n        }\r\n        else if (s.substr(0, 1) == '@' && isDomEvent(s.substr(1))) {\r\n            events[s.substr(1)] = vl;\r\n        }\r\n        else if (s == \"on\" && isObject(vl)) {\r\n            for (const v in vl) {\r\n                if (Object.hasOwnProperty.call(vl, v)) {\r\n                    const ev = vl[v];\r\n                    events[v] = ev;\r\n                }\r\n            }\r\n\r\n        }\r\n        else if (inArray([\"content\", \"children\"], s)) {\r\n            if (isArray(vl)) {\r\n                for (var j = 0; j < vl.length; j++) {\r\n                    contents.push(vl[j]);\r\n                }\r\n            } else {\r\n                contents.push(vl);\r\n            }\r\n        }\r\n        else if (typeof vl == \"function\") {\r\n            if (vl.isPrimitive) {\r\n                dataTypeAttrs[k] = vl;\r\n            } else {\r\n                methods[k] = vl;\r\n            }\r\n        }\r\n        else if (isString(vl) && !isNumber(vl) && vl.substr(0, 2) == '{{' && vl.substr(vl, length - 2) == '}}') {\r\n            biddingAttrs[k] = vl.substr(2, vl, length - 4).trim();\r\n        }\r\n        else if (isObject(vl) && (vl.isArrayData || vl.isObjectData)) {\r\n            dataTypeAttrs[k] = vl;\r\n        }\r\n        else {\r\n            attrs[k] = vl;\r\n        }\r\n    }\r\n    if ((isObject(tag) && (tag.isQuery || tag.isDomQuery))) {\r\n        contents.push(tag);\r\n    }\r\n    else if (isObject(tag) && tag.isDom) {\r\n        contents.push(tag);\r\n    }\r\n\r\n    else if (isObject(tag)) {\r\n        for (var k in tag) {\r\n            if (tag.hasOwnProperty(k)) {\r\n                var vl = tag[k];\r\n                var s = String(k).toLowerCase();\r\n                if (inArray(['tag', 'tagname'], s)) {\r\n                    tagName = vl;\r\n                }\r\n                else if (inArray([\"content\", \"children\"], s)) {\r\n                    if (isArray(vl)) {\r\n                        for (var j = 0; j < vl.length; j++) {\r\n                            var cnt = vl[j];\r\n                            contents.push(cnt);\r\n                        }\r\n                    } else {\r\n                        contents.push(vl);\r\n                    }\r\n                }\r\n                else {\r\n                    addAttrValue(k, vl);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    else if (isString(tag)) tagName = tag;\r\n\r\n\r\n    for (var i = 1; i < arguments.length; i++) {\r\n        var arg = arguments[i];\r\n        if (isObject(arg) && (arg.isQuery || arg.isDomQuery)) {\r\n            contents.push(arg);\r\n        }\r\n        else if (isObject(arg) && arg.isDom) {\r\n            contents.push(arg);\r\n        }\r\n        else if (_instanceof(arg, Element)) {\r\n            contents.push(arg);\r\n        }\r\n        else if (_instanceof(arg, Dom)) {\r\n            contents.push(arg.el);\r\n        }\r\n        else if (isObject(arg)) {\r\n            for (var k in arg) {\r\n                if (arg.hasOwnProperty(k)) {\r\n                    addAttrValue(k, arg[k]);\r\n                }\r\n            }\r\n\r\n        }\r\n        else if (isString(arg)) {\r\n            isTwoContent = 0;\r\n            contents.push(arg);\r\n        } else if (isArray(arg)) {\r\n            isArrayContent = true;\r\n            for (var j = 0; j < arg.length; j++) {\r\n                contents.push(arg[j]);\r\n            }\r\n        } else if (isFunction(arg) && arg.isDomClass) {\r\n            contents.push(arg);\r\n        }\r\n    }\r\n\r\n    inf = getDomInf(tagName);\r\n\r\n    if (inf.isElement) {\r\n        if (tagName != inf.tagName) {\r\n            tagName = inf.tagName;\r\n            isSimple = simpleTags.indexOf(tagName.toLowerCase()) >= 0;\r\n            if (inf.id) {\r\n                id = inf.id;\r\n            }\r\n            if (inf.className) {\r\n                className = inf.className;\r\n            }\r\n            if (!isEmpty(inf.attrs)) {\r\n                for (var k in inf.attrs) {\r\n                    if (Object.hasOwnProperty.call(inf.attrs, k)) {\r\n                        addAttrValue(k, inf.attrs[k]);\r\n                    }\r\n                }\r\n            }\r\n            if (!isEmpty(inf.props)) {\r\n                assignValue(props, inf.props);\r\n            }\r\n            if (inf.content) {\r\n                if (!isSimple) {\r\n                    contentf = inf.content;\r\n                }\r\n                // else if (typeof attrs.content == \"undefined\") attrs.content = inf.content;\r\n            }\r\n        }\r\n    }\r\n    if (id) {\r\n        if (typeof attrs.id == \"undefined\") {\r\n            attrs.id = id;\r\n        }\r\n    }\r\n\r\n    if (this && this.tagName && this.tagName != tagName && tagName == 'div') {\r\n        tagName = this.tagName;\r\n    }\r\n\r\n    isSimple = simpleTags.indexOf(tagName.toLowerCase()) >= 0;\r\n    var htmlObject = $document.createElement(tagName);\r\n    if (!isEmpty(attrs)) {\r\n\r\n        var csk, v;\r\n        var css = {};\r\n        for (var prop in attrs) {\r\n            if (Object.prototype.hasOwnProperty.call(attrs, prop)) {\r\n                var val = attrs[prop];\r\n                var key = prop.toLowerCase();\r\n                var k = key;\r\n                var f = k.substring(0, 1);\r\n                var f2 = k.substring(0, 2);\r\n                var isEvent = domEvents.indexOf(key) >= 0;\r\n                if (inArray(['tag', 'tagname'], s)) {\r\n                    // tagName = vl;\r\n                }\r\n                else if (f == '$' && (isString(vl) || isNumber(vl) || getType(vl) == \"boolean\")) {\r\n                    __dynamicAttrs[k.substr(1)] = vl;\r\n                }\r\n                else if (key == \"style\") {\r\n\r\n                    if (typeof val == \"object\") {\r\n                        for (var cssKey in val) {\r\n                            if (Object.prototype.hasOwnProperty.call(val, cssKey)) {\r\n                                v = val[cssKey];\r\n                                css[cssKey] = v;\r\n                            }\r\n                        }\r\n\r\n                        for (var ck in css) {\r\n                            if (css.hasOwnProperty(ck)) {\r\n                                var cv = css[ck];\r\n                                // htmlObject.style[ck] = cv;\r\n                                // console.log(`htmlObject.style['${ck}'] = ${cv};`)\r\n                                setCssProp(htmlObject, ck, cv);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        htmlObject.setAttribute(key, val);\r\n                    }\r\n                }\r\n                else if (isObject(val)) {\r\n                    if (val.isDom || val.isDomQuery || _instanceof(val, Element)) {\r\n                        this._pendingContents.push({ key: key, content: val });\r\n                    }\r\n                    else if (val.constructor != Object) {\r\n                        this[key] = val;\r\n                    }\r\n                    else {\r\n\r\n                        var attrObj = Str.convertTextObject({}, val, prop, '-');\r\n                        for (var ak in attrObj) {\r\n                            if (attrObj.hasOwnProperty(ak)) {\r\n                                var v = attrObj[ak];\r\n                                htmlObject.setAttribute(ak, v);\r\n                            }\r\n                        }\r\n                    }\r\n\r\n\r\n                }\r\n                else if (key == 'class' || key == 'classname') {\r\n                    htmlObject.className = val;\r\n                }\r\n                else if (typeof vl == \"function\") {\r\n                    methods[k] = vl;\r\n                }\r\n                else if (isBoolean(val)) {\r\n                    if (val === false) {\r\n                        htmlObject.removeAttribute(key);\r\n\r\n                    } else {\r\n                        htmlObject.setAttribute(key, key);\r\n                    }\r\n                }\r\n                else if (key != \"content\" || isSimple) {\r\n                    var slug = Str.camelToSlug(prop, '-');\r\n                    htmlObject.setAttribute(slug, val);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    if (!isEmpty(props)) {\r\n        for (const key in props) {\r\n            if (Object.hasOwnProperty.call(props, key)) {\r\n                const value = props[key];\r\n                htmlObject[key] = value;\r\n            }\r\n        }\r\n    }\r\n    var childrenContents = [];\r\n    if (!isSimple) {\r\n        var cnt = null;\r\n        var tn = tagName.toLowerCase();\r\n        if (contents.length) {\r\n            if (tn == 'textarea') {\r\n                htmlObject.innerText = contents[0];\r\n                if (contentf) {\r\n                    htmlObject.innerText += contentf;\r\n                }\r\n            }\r\n            else if (tn == 'a' && !attrs.hasOwnProperty('href') && isTwoContent == 2 && !isArrayContent && contents.length == 2) {\r\n                attrs.href = contents[0];\r\n                childrenContents[0] = contents[1];\r\n            }\r\n            else {\r\n                childrenContents = contents.slice(0);\r\n\r\n            }\r\n        }\r\n        else if (contentf) {\r\n            if (tagName.toLowerCase() == 'textarea') {\r\n                htmlObject.innerText += contentf;\r\n                childrenContents = [];\r\n            } else {\r\n                childrenContents.unshift(parse(contentf));\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n    else if (tagName == 'img') {\r\n        if (!attrs.hasOwnProperty('src')) {\r\n            if (contents.length) {\r\n                htmlObject['src'] = contents[0];\r\n            }\r\n            else if (contentf) {\r\n                htmlObject['src'] = contentf;\r\n            }\r\n        }\r\n    }\r\n\r\n    else if (contentf && !attrs.hasOwnProperty('content')) {\r\n        htmlObject.setAttribute('content', contentf);\r\n    }\r\n    if (className) {\r\n        className.split(\" \").filter(function (str) {\r\n            return str.length > 0;\r\n        }).map(function (str) {\r\n            htmlObject.classList.add(str);\r\n        })\r\n\r\n    }\r\n\r\n    return {\r\n        el: htmlObject,\r\n        contents: childrenContents,\r\n        __dynamicAttrs: __dynamicAttrs,\r\n        biddingAttrs: biddingAttrs,\r\n        dataTypeAttrs: dataTypeAttrs,\r\n        events: events,\r\n        methods: methods,\r\n        tag: tagName\r\n    };\r\n\r\n}\r\n\r\n/**\r\n * Tạo đối tượng dom\r\n * @param {string|object} tag ten the hoặc tất cả các thông tin của thẻ\r\n * @returns {Element}\r\n */\r\nvar createEl = function createEl(tag?: any, ...args: any[]): HTMLElement {\r\n    var tagName = 'div',\r\n        id = '',\r\n        className = '',\r\n        attrs: any = {},\r\n        __dynamicAttrs: any = {},\r\n        events: any = {},\r\n        props: any = {},\r\n        contents = [],\r\n        contentf = \"\",\r\n        inf: any = { isElement: false },\r\n        isSimple = false,\r\n        boot = null,\r\n        init = null;\r\n\r\n    /**\r\n     * phan tich objec chưa cac thuoc tinh\r\n     * @param {object} object doi tuong thuoc tinh\r\n     * @param {boolean} changeTagName \r\n     */\r\n    var parseAttrs = function (object = undefined, changeTagName = undefined) {\r\n        for (var k in object) {\r\n            if (object.hasOwnProperty(k)) {\r\n                var vl = object[k];\r\n                var s = String(k).toLowerCase();\r\n                if (s.substr(0, 1) == '$') {\r\n                    __dynamicAttrs[k.substr(1)] = vl;\r\n                }\r\n                else if (inArray(['tag', 'tagname'], s)) {\r\n                    // tagName = vl;\r\n                    if (changeTagName) {\r\n                        tagName = vl;\r\n                    }\r\n                }\r\n                else if (inArray(['init', 'boot'], s)) {\r\n                    if (s == 'boot') boot = vl;\r\n                    else init = vl;\r\n                }\r\n                else if (s.substr(0, 2) == 'on' && isDomEvent(s.substr(2))) {\r\n                    events[s.substr(2)] = vl;\r\n                }\r\n                else if (s.substr(0, 1) == '@' && isDomEvent(s.substr(1))) {\r\n                    events[s.substr(1)] = vl;\r\n                }\r\n                else if (inArray([\"content\", \"content\", \"children\"], s)) {\r\n                    if (isArray(vl)) {\r\n                        for (var j = 0; j < vl.length; j++) {\r\n                            var cnt = vl[j];\r\n                            contents.push(cnt);\r\n                        }\r\n                    } else {\r\n                        contents.push(vl);\r\n                    }\r\n                }\r\n                else {\r\n                    attrs[k] = vl;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    if ((isObject(tag) && (tag.isQuery || tag.isDomQuery))) {\r\n        contents.push(tag);\r\n    }\r\n    else if (isObject(tag) && tag.isDom) {\r\n        contents.push(tag.el);\r\n    }\r\n    else if (isObject(tag)) {\r\n        parseAttrs(tag, true);\r\n    }\r\n    else if (isString(tag)) tagName = tag;\r\n    var max = arguments.length > 3 ? 3 : arguments.length;\r\n    for (var i = 1; i < max; i++) {\r\n        var arg = arguments[i];\r\n        if (isObject(arg) && arg.isDom) {\r\n            contents.push(arg.el);\r\n        }\r\n        else if (_instanceof(arg, Element)) {\r\n            contents.push(arg);\r\n        }\r\n        else if (_instanceof(arg, Dom)) {\r\n            contents.push(arg.el);\r\n        }\r\n        else if (isObject(arg)) {\r\n            parseAttrs(arg);\r\n        }\r\n        else if (isString(arg)) {\r\n            contents.push(arg);\r\n        } else if (isArray(arg)) {\r\n            for (var j = 0; j < arg.length; j++) {\r\n                var cnt = arg[j];\r\n                contents.push(cnt);\r\n            }\r\n        }\r\n    }\r\n\r\n    // lọc xong tất cả content va attr\r\n\r\n\r\n    inf = getDomInf(tagName);\r\n    if (inf.isElement) {\r\n\r\n        if (tagName != inf.tagName) {\r\n\r\n            tagName = inf.tagName;\r\n            isSimple = simpleTags.indexOf(tagName.toLowerCase()) >= 0;\r\n            if (inf.id) {\r\n                id = inf.id;\r\n            }\r\n            if (inf.className) {\r\n                className = inf.className;\r\n            }\r\n            if (!isEmpty(inf.attrs)) {\r\n                parseAttrs(inf.attrs);\r\n            }\r\n            if (!isEmpty(inf.props)) {\r\n                assignValue(props, inf.props);\r\n            }\r\n            if (inf.content) {\r\n                if (!isSimple) {\r\n                    contentf = inf.content;\r\n                }\r\n                // else if (typeof attrs.content == \"undefined\") attrs.content = inf.content;\r\n            }\r\n        }\r\n    }\r\n    if (id) {\r\n        if (typeof attrs.id == \"undefined\") {\r\n            attrs.id = id;\r\n        }\r\n    }\r\n\r\n    isSimple = simpleTags.indexOf(tagName.toLowerCase()) >= 0;\r\n    /**\r\n     * \r\n     */\r\n    var htmlObject = document.createElement(tagName);\r\n    if (typeof boot == \"function\") boot.call(htmlObject, attrs, events);\r\n    if (!isEmpty(attrs)) {\r\n        var csk, v;\r\n        var css = {};\r\n        for (var prop in attrs) {\r\n            if (attrs.hasOwnProperty(prop)) {\r\n                var val = attrs[prop];\r\n                var key = prop.toLowerCase();\r\n                var k = key;\r\n                var f = k.substring(0, 1);\r\n                var f2 = k.substring(0, 2);\r\n                var isEvent = isDomEvent(key)\r\n                if (inArray(['tag', 'tagname'], key)) {\r\n                    // tagName = vl;\r\n                }\r\n                else if (key == \"style\") {\r\n                    if (typeof val == \"object\") {\r\n                        for (var cssKey in val) {\r\n                            if (val.hasOwnProperty(cssKey)) {\r\n                                v = val[cssKey];\r\n                                css[cssKey] = v;\r\n                            }\r\n                        }\r\n\r\n                        for (var ck in css) {\r\n                            if (css.hasOwnProperty(ck)) {\r\n                                var cv = css[ck];\r\n                                htmlObject.style[ck] = cv;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        htmlObject.setAttribute(key, val);\r\n                    }\r\n                }\r\n                else if (typeof val == 'object') {\r\n                    if (val.isQuery || val.isDomQuery || val.isDom) {\r\n\r\n                    } else {\r\n                        let attrObj = Str.convertTextObject({}, val, prop, '-');\r\n                        for (var ak in attrObj) {\r\n                            if (attrObj.hasOwnProperty(ak)) {\r\n                                var v = attrObj[ak];\r\n                                htmlObject.setAttribute(ak, v);\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                } else if (key == 'class' || key == 'classname') {\r\n                    htmlObject.className = val;\r\n                }\r\n                else if (key != \"content\" || isSimple) {\r\n                    var slug = Str.camelToSlug(prop, '-');\r\n                    htmlObject.setAttribute(slug, val);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    if (!isSimple) {\r\n        if (contents.length) {\r\n            if (tagName.toLowerCase() == 'textarea') {\r\n                htmlObject.innerText = contents[0];\r\n                if (contentf) {\r\n                    htmlObject.innerText += contentf;\r\n                }\r\n            } else {\r\n                for (var i = 0; i < contents.length; i++) {\r\n                    var el = contents[i];\r\n                    if (isObject(el) && el.isDom) {\r\n                        htmlObject.appendChild(el.el);\r\n                    }\r\n                    else if (el instanceof Element) {\r\n                        htmlObject.appendChild(el);\r\n                    }\r\n                    else if (isObject(el) || isString(el)) {\r\n                        var a = parse(el);\r\n                        if (a) htmlObject.appendChild(a);\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n        else if (contentf) {\r\n            if (tagName.toLowerCase() == 'textarea') {\r\n                htmlObject.innerText += contentf;\r\n            } else {\r\n                htmlObject.appendChild(parse(contentf));\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n    else if (contentf && !attrs.hasOwnProperty('content')) {\r\n        htmlObject.setAttribute('content', contentf);\r\n        contents = [];\r\n    }\r\n\r\n    if (className) {\r\n        className.split(\" \").filter(function (str) {\r\n            return str.length > 0;\r\n        }).map(function (str) {\r\n            htmlObject.classList.add(str);\r\n        })\r\n\r\n    }\r\n\r\n    var addEv = function (ev, fn) {\r\n        var cb = (typeof fn == \"function\") ? fn : function (e) {\r\n\r\n        };\r\n        if (htmlObject.addEventListener) {\r\n            htmlObject.addEventListener(ev, cb);\r\n        }\r\n    };\r\n\r\n\r\n    if (!isEmpty(events)) {\r\n        for (var key in events) {\r\n            if (Object.hasOwnProperty.call(events, key)) {\r\n                var fn = events[key];\r\n                addEv(key, fn);\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n    if (typeof init == \"function\") {\r\n        init.call(htmlObject);\r\n    }\r\n\r\n    return htmlObject;\r\n\r\n}\r\n/**\r\n * lấy ra đối tượng dom từ tham số đầu vào\r\n * @param {*} str giá trị bất kì\r\n * @returns {Element}\r\n */\r\nfunction parse(str: any) {\r\n    var div = document.createElement('div');\r\n    if ((str instanceof Element)) return str;\r\n    else if (typeof str == \"object\" && !isNull(str)) {\r\n        if (isQuery(str)) {\r\n            if (str.length > 0) {\r\n                return str[0];\r\n            } else {\r\n                return div;\r\n            }\r\n        }\r\n        else if (str instanceof Dom || str.constructor == Dom) {\r\n            return str.el;\r\n        }\r\n        else if (str.isDom) {\r\n            return str.el;\r\n        }\r\n\r\n        else {\r\n            return createEl(str);\r\n        }\r\n    }\r\n    div.innerHTML = isString(str) && !isNumber(str) ? String(str).trim() : str;\r\n\r\n    // Change this to div.childNodes to support multiple top-level nodes\r\n    return div.firstChild;\r\n}\r\n\r\n\r\n/**\r\n * gán sự kiện cho đối tượng dom\r\n * @param {Element} el đối tượng dom\r\n * @param {string} event sự kiện\r\n * @param {dunction} handler hàm xử lý sự kiện\r\n */\r\nfunction addEventListener(el?: any, event?: any, handler?: any) {\r\n    if (!(el instanceof Element) && el != document && el != window) return false;\r\n    var cb = (typeof handler == \"function\") ? handler : function (e) {\r\n        // func.call(handler, [e.target]);\r\n    };\r\n    if (el.addEventListener) {\r\n        el.addEventListener(event, cb);\r\n    } else if (el.attachEvent) {\r\n        el.attachEvent(event, cb);\r\n    }\r\n}\r\n/**\r\n * Hủy một sự kiện trong dom\r\n * @param {Element} el\r\n * @param {string} event\r\n * @param {function} callback\r\n */\r\nfunction removeEventListener(el?: any, event?: any, callback?: any) {\r\n    if (!(el instanceof Element) && el != document) return false;\r\n    var cb = (typeof callback == \"function\") ? callback : function (e) {\r\n        // func.call(callback, [e.target]);\r\n    };\r\n    if (el.removeEventListener) {\r\n        el.removeEventListener(event, cb);\r\n    }\r\n}\r\nfunction documentReady() {\r\n    if (document.readyState !== 'complete') return;\r\n    return true;\r\n\r\n}\r\n\r\nfunction isGlobalOrRoot(obj?: any) {\r\n    return obj == global || obj == document;\r\n}\r\n\r\n\r\n\r\n/**\r\n * lấy thông tin thẻ từ chuỗi đầu vào có dạng css selector\r\n * @param {string} s css selector\r\n */\r\nfunction getDomInf(s?: any) {\r\n    var obj: any = { tagName: \"\", id: \"\", className: \"\", props: \"\", attrs: \"\", content: \"\", other: \"\" };\r\n    var a = String(s).split(\"\");\r\n    var m = \"tagName\";\r\n    // số lượng các cổng đang mở \r\n    var contentMode = 0;\r\n    var attrMode = 0;\r\n\r\n    var isDefault = false;\r\n    var status = false;\r\n    var fail = false;\r\n    // lặp qua từng ký tự để tách chuỗi thông qua việc đêm các ký tự đặc biệt\r\n    for (var i = 0; i < a.length; i++) {\r\n        var c = a[i];\r\n        // nếu nội dung dang được kích hoạt\r\n        if (c == \" \") {\r\n            if (!obj.id && !obj.className && !obj.props && !obj.attrs && !obj.content) fail = true;\r\n        }\r\n        if (contentMode > 0) {\r\n            if (c == \"{\") {\r\n                contentMode++;\r\n            }\r\n            else if (c == \"}\") {\r\n                contentMode--;\r\n            }\r\n            if (contentMode) {\r\n                obj[m] += \"\" + c;\r\n            }\r\n            else {\r\n                m = \"other\";\r\n                obj.other += \" \";\r\n            }\r\n\r\n\r\n\r\n        }\r\n        // bắt đầu đọc thuộc tính có giá trị\r\n        else if (attrMode > 0) {\r\n            if (c == \"[\") {\r\n                attrMode++;\r\n            }\r\n            else if (c == \"]\") {\r\n                attrMode--;\r\n            }\r\n            if (attrMode) {\r\n                obj[m] += \"\" + c;\r\n            } else {\r\n                m = \"other\";\r\n                obj.other += \" \";\r\n            }\r\n\r\n        }\r\n\r\n        // bắt đầu dặc id\r\n        else if (c == \"#\") {\r\n            m = \"id\";\r\n        }\r\n        // bắt đầu dọc class\r\n        else if (c == \".\") {\r\n            m = \"className\";\r\n            obj.className += \" \";\r\n        }\r\n        // bắt đầu đọc thuộc tính trạng thái\r\n        else if (c == \":\") {\r\n            m = \"props\";\r\n            obj.props += \" \";\r\n        }\r\n        // bắt đầu đọc thuộc tính có giá trị\r\n        else if (c == \"[\") {\r\n            m = \"attrs\";\r\n            attrMode++;\r\n            obj.attrs += \"\\n\";\r\n        }\r\n        // kết thúc việc đọc\r\n        else if (c == \"]\") {\r\n            attrMode--;\r\n            m = \"other\";\r\n            obj.other += \" \";\r\n\r\n        }\r\n        // dọc nội dung\r\n        else if (c == \"{\") {\r\n            m = \"content\";\r\n            // obj.content+= \"\";\r\n            contentMode++;\r\n        }\r\n        // kết thúc đọc nội dung\r\n        else if (c == \"}\") {\r\n            m = \"other\";\r\n            obj.other += \" \";\r\n            contentMode--;\r\n        }\r\n        // đang làm việc gì tiếp tục làm việc đó\r\n        else {\r\n            obj[m] += \"\" + c;\r\n        }\r\n    }\r\n    var obj2: any = { tagName: \"\", id: \"\", className: \"\", props: {}, attrs: {}, other: \"\", content: '', isElement: false };\r\n    var tagName = obj.tagName.trim();\r\n    var id = obj.id.trim();\r\n    var className = obj.className.trim();\r\n    var props = obj.props.trim();\r\n    var attrs = obj.attrs.trim();\r\n    var content = obj.content.trim();\r\n\r\n    if (tagName) {\r\n        obj2.tagName = tagName;\r\n        status = true;\r\n    } else if (s) {\r\n        obj2.tagName = \"div\";\r\n        isDefault = true;\r\n    }\r\n\r\n    if (id) {\r\n        obj2.id = id;\r\n        status = true;\r\n    }\r\n\r\n    if (className) {\r\n        obj2.className = className;\r\n        status = true;\r\n    }\r\n\r\n    if (props) {\r\n        var p = props.split(\" \");\r\n        for (var i = 0; i < p.length; i++) {\r\n            var prop = p[i];\r\n            obj2.props[prop] = true;\r\n            status = true;\r\n        }\r\n    }\r\n    if (attrs) {\r\n        var p = attrs.split(\"\\n\");\r\n        for (var i = 0; i < p.length; i++) {\r\n            var attr = p[i].split(\"=\");\r\n            if (attr.length == 2) {\r\n                status = true;\r\n                if (inArray(['\"', \"'\"], attr[1][0]) && inArray(['\"', \"'\"], attr[1][attr[1].length - 1])) {\r\n                    obj2.attrs[attr[0]] = attr[1].substr(1, attr[1].length - 2);\r\n                }\r\n                else {\r\n                    obj2.attrs[attr[0]] = attr[1];\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    if (content) {\r\n        obj2.content = content;\r\n    }\r\n\r\n    if (!obj.id && !obj.className && !obj.props && !obj.attrs && !obj.content && fail && (tagName.split(\" \").length > 1 || htmlTags.indexOf(tagName) == -1)) {\r\n        return { tagName: \"\", id: \"\", className: \"\", props: {}, attrs: {}, other: \"\", content: '', isElement: false };\r\n    }\r\n\r\n    obj2.isDefault = isDefault;\r\n\r\n    obj2.isElement = status;\r\n\r\n    obj2.isHtmlTag = htmlTags.indexOf(obj2.tagName.toLowerCase()) !== -1;\r\n    return obj2;\r\n\r\n}\r\n\r\n\r\n\r\nfunction make(tag?: any, attributes?: any, content?: any) {\r\n    return Dom(tag, attributes, content);\r\n}\r\n\r\n\r\nfunction eventHandler(e?: any) {\r\n    console.log(e.target);\r\n}\r\n\r\n\r\n/**\r\n* them su kien cho element\r\n* @param {Element} element dom element\r\n* @param {string} event ten su kien\r\n* @param {function} callback\r\n* @param {string} data\r\n* @return {boolean}\r\n*/\r\nfunction addEvent(element?: any, event?: any, callback?: any, data?: any) {\r\n    if (!element || !event || (!(element instanceof Element) && !isGlobalOrRoot(element)) || !isString(event) || !callback || !isCallable(callback)) return false;\r\n    event = event.toLowerCase();\r\n    data = data || null;\r\n\r\n    // tìm trong danh sách sự kiện có tồn tại sự kiện này chưa\r\n    for (var i = 0; i < events.length; i++) {\r\n        var eventData = events[i];\r\n        // một cặp element và event là key của một bản ghi dom event\r\n        if (eventData.element === element && eventData.event === event) {\r\n            for (var j = 0; j < eventData.tasks.length; j++) {\r\n                var evCallback = eventData.tasks[j];\r\n                if (data) {\r\n                    if (data == evCallback.data && evCallback.callback === callback) return true;\r\n                } else if (evCallback.callback === callback) return true;\r\n            }\r\n            addEventListener(element, event, callback);\r\n            events[i].tasks.push({\r\n                callback: callback,\r\n                data: data\r\n            });\r\n\r\n\r\n            return true;\r\n        }\r\n    }\r\n    addEventListener(element, event, callback);\r\n    events.push({\r\n        element: element,\r\n        event: event,\r\n        data: data,\r\n        tasks: [\r\n            {\r\n                callback: callback,\r\n                data: data\r\n            }\r\n        ]\r\n    });\r\n    return true;\r\n}\r\n\r\n/**\r\n* them su kien cho element\r\n* @param {Element} element dom element\r\n* @param {string} event ten su kien\r\n* @param {function} callback\r\n* @param {string} data\r\n* @return {boolean}\r\n*/\r\nfunction removeEvent(element?: any, event?: any, callback?: any, data?: any) {\r\n    // trưởng hợp không gửi element nào thì xóa tất cả\r\n    if (!element || (!(element instanceof Element) && !isGlobalOrRoot(element)) || !isString(event)) {\r\n        for (var i = 0; i < events.length; i++) {\r\n            var eventData = events[i];\r\n            if (eventData.tasks.length) {\r\n                eventData.tasks.map(function (task) {\r\n                    removeEventListener(eventData.element, eventData.event, task.callback);\r\n                });\r\n            }\r\n\r\n        }\r\n        events = [];\r\n\r\n        //\r\n        return false;\r\n    }\r\n    event = event ? event.toLowerCase() : null;\r\n    data = data || null;\r\n    // duyệt mảng để tím element và event phù hợp\r\n    for (var i = 0; i < events.length; i++) {\r\n        var eventData = events[i];\r\n        if (eventData.element === element) {\r\n            if (!event) {\r\n                if (eventData.tasks.length) {\r\n                    eventData.tasks.map(function (task) {\r\n                        removeEventListener(eventData.element, eventData.event, task.callback);\r\n                    });\r\n                }\r\n                events.splice(i, 1);\r\n                i--;\r\n            }\r\n            else if (eventData.event === event) {\r\n                for (var j = 0; j < eventData.tasks.length; j++) {\r\n                    var evCallback = eventData.tasks[j];\r\n                    if (data) {\r\n                        if (data == evCallback.data) {\r\n                            if (callback && isFunction(callback)) {\r\n                                if (evCallback.callback === callback) {\r\n                                    removeEventListener(eventData.element, eventData.event, evCallback.callback);\r\n                                    events[i].tasks.splice(j, 1);\r\n                                    j--;\r\n                                }\r\n                            }\r\n                        }\r\n                    } else if (callback && isFunction(callback)) {\r\n                        if (evCallback.callback === callback) {\r\n                            removeEventListener(eventData.element, eventData.event, evCallback.callback);\r\n                            events[i].tasks.splice(j, 1);\r\n                            j--;\r\n                        }\r\n                    } else {\r\n                        removeEventListener(eventData.element, eventData.event, evCallback.callback);\r\n                        events[i].tasks.splice(j, 1);\r\n                        j--;\r\n                    }\r\n                }\r\n                if (!events[i].tasks.length) {\r\n                    // removeEventListener(eventData.element, eventData.event, eventData.handle);\r\n                    events.splice(i, 1);\r\n                    i--;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction getEvents(element?: any, event?: any, data?: any) {\r\n    event = event || null;\r\n    element = element || null;\r\n    data = data || null;\r\n    var list = [];\r\n    if (!element && !event) return events;\r\n    for (var i = 0; i < events.length; i++) {\r\n        var eventData = events[i];\r\n        if ((!element || element == eventData.element) && (!event || event == eventData.event)) {\r\n            list.push(eventData);\r\n        }\r\n    }\r\n    return list;\r\n}\r\n\r\n/**\r\n* kiem tra su kien cua element\r\n* @param {Element} element dom element\r\n* @param {string} event ten su kien\r\n* @param {function} callback\r\n* @param {string} data\r\n* @return {boolean}\r\n*/\r\nfunction hasEvent(element?: any, event?: any, callback?: any, data?: any) {\r\n    // trưởng hợp không gửi element nào thì xóa tất cả\r\n    if (!element || (!(element instanceof Element) && !isGlobalOrRoot(element)) || !isString(event)) {\r\n        return false;\r\n    }\r\n    event = event ? event.toLowerCase() : null;\r\n    data = data || null;\r\n    // duyệt mảng để tím element và event phù hợp\r\n    for (var i = 0; i < events.length; i++) {\r\n        var eventData = events[i];\r\n        if (eventData.element === element) {\r\n            if (eventData.event === event) {\r\n                for (var j = 0; j < eventData.tasks.length; j++) {\r\n                    var evCallback = eventData.tasks[j];\r\n                    if (data) {\r\n                        if (data == evCallback.data) {\r\n                            if (callback && isFunction(callback)) {\r\n                                if (evCallback.callback === callback) {\r\n                                    removeEventListener(eventData.element, eventData.event, evCallback.callback);\r\n                                    events[i].tasks.splice(j, 1);\r\n                                    j--;\r\n                                }\r\n                            }\r\n                        }\r\n                    } else if (callback && isFunction(callback)) {\r\n                        if (evCallback.callback === callback) {\r\n                            removeEventListener(eventData.element, eventData.event, evCallback.callback);\r\n                            events[i].tasks.splice(j, 1);\r\n                            j--;\r\n                        }\r\n                    } else {\r\n                        removeEventListener(eventData.element, eventData.event, evCallback.callback);\r\n                        events[i].tasks.splice(j, 1);\r\n                        j--;\r\n                    }\r\n                }\r\n                if (!events[i].tasks.length) {\r\n                    // removeEventListener(eventData.element, eventData.event, eventData.handle);\r\n                    events.splice(i, 1);\r\n                    i--;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction triggerEvent(element?: any, event?: any, data?: any) {\r\n    event = event || null;\r\n    element = element || null;\r\n    data = data || null;\r\n    if (!element && !event) return events;\r\n    for (var i = 0; i < events.length; i++) {\r\n        var eventData = events[i];\r\n        if (element == eventData.element && event == eventData.event) {\r\n            if (eventData.tasks.length) {\r\n                eventData.tasks.map(function (task) {\r\n                    // removeEventListener(eventData.element, eventData.event,);\r\n                    if (typeof task.callback == \"function\") {\r\n                        task.callback.apply(eventData.element, data)\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction getEventData(element?: any, event?: any, data?: any) {\r\n    event = event || null;\r\n    element = element || null;\r\n    data = data || null;\r\n    if (!element && !event) return null;\r\n    for (var i = 0; i < events.length; i++) {\r\n        var eventData = events[i];\r\n        if ((!element || element == eventData.element) && (!event || event == eventData.event)) {\r\n            return eventData;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\n/**\r\n * kiểm tra xem có phải sự kiện dom hay ko\r\n * @param {string|string[]} eventName \r\n * @returns {boolean}\r\n */\r\nfunction isDomEvent(eventName?: any) {\r\n    var stt = false;\r\n    if (isArray(eventName)) eventName.map(function (e) { if (allEvents.indexOf(String(e).toLowerCase()) != -1) stt = true; });\r\n    else if (isString(eventName) && allEvents.indexOf(eventName.toLowerCase()) != -1) stt = true;\r\n    return stt;\r\n};\r\n\r\n\r\n/**\r\n * kiểm tra xem có phải sự kiện dom hay ko\r\n * @param {string|string[]} eventName \r\n * @returns {boolean}\r\n */\r\nfunction isDomBasicEvent(eventName?: any) {\r\n    var stt = false;\r\n    if (isArray(eventName)) eventName.map(function (e) { if (domEvents.indexOf(String(e).toLowerCase()) != -1) stt = true; });\r\n    else if (isString(eventName) && domEvents.indexOf(eventName.toLowerCase()) != -1) stt = true;\r\n    return stt;\r\n};\r\n\r\n\r\n\r\nfunction setCssProp(element: HTMLElement, prop: string, value: any) {\r\n    if (element instanceof HTMLElement && isString(prop)) {\r\n        try {\r\n            var c = Str.slugToCamel(prop);\r\n            var s = \"element.style.\" + c + \" = value;\";\r\n            eval(s);\r\n        } catch (error) {\r\n            element['style'][prop] = value;\r\n        }\r\n    }\r\n}\r\nfunction getCssProp(element?: any, prop?: any) {\r\n    if (element instanceof Element && isString(prop)) {\r\n        return typeof element['style'][prop] != \"undefined\" ? String(element['style'][prop]) : \"\";\r\n    }\r\n    return \"\";\r\n}\r\n\r\nfunction getTree(elem?: any, list?: any) {\r\n    if (typeof elem == \"undefined\") return [];\r\n    if (typeof list == \"undefined\" || !isArray(list)) {\r\n        list = [];\r\n    }\r\n    if (elem instanceof Element) {\r\n        var self = this;\r\n        if (!elem.children.length) return list;\r\n        for (var i = 0; i < elem.children.length; i++) {\r\n            var child = elem.children[i];\r\n            list.push(child);\r\n            if (child.children.length) {\r\n                list = getTree(child, list);\r\n            }\r\n        }\r\n    }\r\n    return list;\r\n}\r\nfunction getParentNodes(elem?: any, list?: any, elementStop?: any) {\r\n    if (typeof elem == \"undefined\") return [];\r\n    if (typeof list == \"undefined\" || !isArray(list)) {\r\n        list = [];\r\n    }\r\n    if (elem instanceof Element) {\r\n        if (!elem.parentNode || (elementStop && elementStop == elem)) return list;\r\n        list.push(elem.parentNode);\r\n        list = getParentNodes(elem.parentNode, list, elementStop);\r\n    }\r\n    return list;\r\n}\r\n\r\nfunction isQuery(obj?: any) {\r\n    if (!isObject(obj)) return false;\r\n    if (obj.isQuery || obj.isDomQuery) return true;\r\n    return false;\r\n}\r\n\r\nfunction getArguments(args?: any) {\r\n    var a = [];\r\n    if (args && args.length) {\r\n        for (var i = 0; i < args.length; i++) {\r\n            const arg = args[i];\r\n            a.push(arg);\r\n        }\r\n    }\r\n    return a;\r\n}\r\n\r\nfunction isHTML(str?: any) {\r\n    return isString(str) ? (\r\n        /<(?=.*? .*?\\/*>|br|hr|input|!--|wbr)[a-z\\-_\\:]+.*?>|<([a-z\\-_\\:]+).*?<\\/\\1>/i.test(str)\r\n    ) :\r\n        _instanceof(str, Element);\r\n}\r\n\r\n\r\nfunction checkHtmlStr(str?: any) {\r\n    return !(str || '')\r\n        // replace html tag with content\r\n        .replace(/<([^>]+?)([^>]*?)>(.*?)<\\/\\1>/ig, '')\r\n        // remove remaining self closing tags\r\n        .replace(/(<([^>]+)>)/ig, '')\r\n        // remove extra space at start and end\r\n        .trim();\r\n}\r\n\r\nfunction emptyFunc() { }\r\nwindow['Dom'] = Dom\r\n\r\nexport default Dom;\r\n\r\nexport {\r\n    createEl, create, getDomInf, Dom, DomEl, DomFactory, inputTypes, inputTags, htmlTags, domEvents\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { ControlSyncEngine, getControlEngine } from '@app/_3D/engines/controls.engine';\nimport { EventManagerService } from '@app/_core/services/event-manager.service';\nimport { ViewportService } from '../viewport.service';\nvar secret_id = 1;\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class VectorControlsService extends EventManagerService {\n    engine = getControlEngine();\n\n    constructor() {\n        super();\n        this.start()\n    }\n\n    start() {\n        this.on(\"changeface\", e => this.engine.changeCameraLookFace(e.face, true));\n    }\n    getCanvas(){\n        return this.engine.getCanvas();\n    }\n\n    setCanvasWrapper(element){\n        this.engine.setWrapper(element);\n    }\n\n    show(){\n        this.emit({\n            type: \"show\",\n            value: true\n        });\n    }\n    hide(){\n        this.emit({\n            type: \"show\",\n            value: false\n        });\n    }\n\n}\n","import { ChangeDetectorRef, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { EditorIO, EditorMethods } from '../../base/editor-io';\n\n@Component({\n    selector: 'app-tab-scene',\n    templateUrl: './tab-scene.component.html',\n    styleUrls: ['./tab-scene.component.scss']\n})\nexport class TabSceneComponent extends BaseComponent implements OnInit {\n    @Input() loaded: EventEmitter<any> = new EventEmitter();\n\n    @Output() loadedChange: EventEmitter<any> = new EventEmitter();\n\n    loadedForeground = false;\n    loadedBackground = false;\n    height50: boolean = false;\n\n    constructor(private cd: ChangeDetectorRef) {\n        super()\n    }\n    onInit(): void {\n        this.loadedChange.emit(true);\n        \n    }\n\n}\n","<div class=\"tab-inner\" [class.height-50]=\"height50\">\n  <h2>{{\"Scene\"|translate}}</h2>\n  <nz-tabset nzTabPosition=\"top\" nzType=\"line\" class=\"sub-tab\">\n\n    <nz-tab [nzTitle]=\"iconBackground\">\n      <ng-template #iconBackground>\n        <img src=\"/assets/icons/new-design/tab-sub/background.svg\" alt=\"Background\" />\n        <div>Background</div>\n      </ng-template>\n      <app-tab-background class=\"tab-background\"></app-tab-background>\n    </nz-tab>\n\n    <nz-tab [nzTitle]=\"iconForeground\">\n      <ng-template #iconForeground>\n        <img src=\"/assets/icons/new-design/tab-sub/foreground.svg\" alt=\"Foreground\" />\n        <div>Foreground</div>\n      </ng-template>\n      <ng-template nz-tab>\n        <app-tab-foreground></app-tab-foreground>\n      </ng-template>\n    </nz-tab>\n    \n    <nz-tab [nzTitle]=\"iconSettings\">\n      <ng-template #iconSettings>\n        <img src=\"/assets/icons/new-design/tab-top/setting.svg\" alt=\"Settings\" />\n        <div>Settings</div>\n      </ng-template>\n      <ng-template nz-tab>\n        <app-tab-scene-settings></app-tab-scene-settings>\n      </ng-template>\n    </nz-tab>\n    \n  </nz-tabset>\n</div>","export * from './error.interceptor';\r\nexport * from './jwt.interceptor';\r\n","import { assignValue, getArguments, getType, inArray, isArray, isBoolean, isEmpty, isFunction, isInteger, isNumber, isObject, isString, Str } from \"./utils\";\r\nimport LocalStorageEngine from \"./local-storage\";\r\n\r\nexport const defaultTypeValues = {\r\n    string: \"\",\r\n    number: 0,\r\n    boolean: false,\r\n    object: {},\r\n    array: [],\r\n    html: \"<div></div>\",\r\n\r\n}\r\n\r\nexport interface DbTableColumn {\r\n    name?: string\r\n    type: string\r\n    length?:number\r\n    required?: boolean\r\n    defVal?: any\r\n    autoIncrement?: boolean\r\n}\r\nexport interface DbTableColumns{\r\n    [column: string]: DbTableColumn\r\n}\r\n\r\nexport interface DbTableRow{\r\n    [column:string]: any\r\n}\r\n\r\nexport interface DbTable{\r\n    name: string,\r\n    config: DbTableColumns,\r\n    data: DbTableRow[],\r\n    autoIncrement: number\r\n}\r\n\r\nexport interface Database {\r\n    version: string\r\n    name: string,\r\n    tables: {\r\n        [tableName:string]: DbTable\r\n    }\r\n}\r\n\r\nclass LocalDB {\r\n    key: string = \"__storage__database__\";\r\n    storage: LocalStorageEngine;\r\n\r\n    dbname: string;\r\n\r\n    database: Database;\r\n    constructor(database) {\r\n        if (!(isString(database) && database == Str.objectKey(database))) {\r\n            throw new Error(\"Database Name is not valid\");\r\n        }\r\n        this.dbname = database;\r\n        this.storage = new LocalStorageEngine(this.key);\r\n\r\n        this.init();\r\n    }\r\n\r\n    init(){\r\n        var db = this.storage.get(this.dbname);\r\n        if(db){\r\n            this.database = db;\r\n        }\r\n        else{\r\n            this.database = {\r\n                version: \"1.0\",\r\n                name: this.dbname,\r\n                tables: {}\r\n            };\r\n            this.storage.set(this.dbname, this.database);\r\n        }\r\n    }\r\n    \r\n    updateDatabase(){\r\n        this.storage.set(this.dbname, this.database);\r\n    }\r\n\r\n    getTable(tableName: string): (DbTable|null){\r\n        return typeof this.database.tables[tableName] == \"object\" && isArray(this.database.tables[tableName].data) ? this.database.tables[tableName] : null;\r\n    }\r\n\r\n\r\n    parseTableRowData(table, data, isUpdate?: any): any {\r\n        var d = {};\r\n\r\n        var $id = table.autoIncrement + 1;\r\n        for (var k in table.config) {\r\n            if (Object.prototype.hasOwnProperty.call(table.config, k)) {\r\n                var dhk = Object.prototype.hasOwnProperty.call(data, k);\r\n                var column = table.config[k];\r\n                if (column.autoIncrement) {\r\n                    if (!isUpdate) {\r\n                        d[k] = $id;\r\n                    }\r\n                }\r\n                else if (!((column.type == \"string\" && isNumber(data[k]) || column.type == \"number\" && isNumber(data[k]))) && column.type != getType(data[k])) {\r\n                    return null;\r\n                }\r\n                else if (!dhk) {\r\n                    if (!isUpdate) {\r\n                        d[k] = column.defVal;\r\n                    }\r\n                } else if (column.type == \"number\") {\r\n                    d[k] = Number(data[k]);\r\n                } else {\r\n                    d[k] = data[k];\r\n                }\r\n            }\r\n        }\r\n\r\n        return d;\r\n    }\r\n    /**\r\n     * \r\n     * @param {string} name tên cộ\r\n     * @param {string} type loại dự liệu\r\n     * @param {*} defaultValue gia tri mac dinh\r\n     * @param {booluan} autoIncrement \r\n     * @returns {{name, type, defaultValue, autoIncrement}}\r\n     */\r\n    parseColumn(name, type?, defaultValue?, autoIncrement?): any {\r\n        var t = String(type).toLowerCase();\r\n        if (t == \"text\") t = \"string\";\r\n\r\n        if (!defaultTypeValues.hasOwnProperty(t) || !isString(name) || String(name).length == 0) {\r\n            return null;\r\n        }\r\n        return {\r\n            name: name,\r\n            type: t,\r\n            length: null,\r\n            defVal: typeof defaultValue !== \"undefined\" ? defaultValue : defaultTypeValues[t],\r\n            autoIncrement: isBoolean(autoIncrement) ? autoIncrement : false\r\n        };\r\n    }\r\n\r\n    /**\r\n     * chuẩn hóa tất cả các cột\r\n     * @param {array|object} columns các cột\r\n     * @param {boolean} isA isArray\r\n     * @param {boolean} isO isObject\r\n     * @returns {object}\r\n     */\r\n    parseColumns(columns, isA, isO): any {\r\n        var cols = {};\r\n        var columnCount = 0;\r\n        var self = this;\r\n        var addColumn = function (name, type, defaultValue?, autoIncrement?) {\r\n            var cl = self.parseColumn(name, type, defaultValue, autoIncrement);\r\n            if (cl) {\r\n                columnCount++;\r\n                cols[name] = cl;\r\n                return true;\r\n\r\n            }\r\n            return false;\r\n        }\r\n        if (isA) {\r\n            columns.map(function (col: any) {\r\n                if (isObject(col) && col.name) {\r\n                    addColumn(col.name, col.type || \"string\", col.defaultValue || col['default'], col.autoIncrement);\r\n                } else if (isString(col)) {\r\n                    addColumn(col, \"string\");\r\n                }\r\n            })\r\n        }\r\n        else if (isO) {\r\n            for (var key in columns) {\r\n                if (Object.hasOwnProperty.call(columns, key)) {\r\n                    var col = columns[key];\r\n                    var type = getType(col);\r\n                    if (type == \"object\") {\r\n                        if (col.type === undefined) {\r\n                            addColumn(key, \"object\", col);\r\n                        } else if (Object.hasOwnProperty.call(defaultTypeValues, String(col.type).toLowerCase())) {\r\n                            addColumn(col.name || key, col.type, defaultTypeValues[String(col.type).toLowerCase()], col.autoIncrement);\r\n                        }\r\n                    } else {\r\n                        if (type == \"string\") {\r\n                            var t = String(col).toLowerCase();\r\n                            if (Object.hasOwnProperty.call(defaultTypeValues, t)) {\r\n                                addColumn(key, t);\r\n                            } else {\r\n                                addColumn(key, type, col);\r\n                            }\r\n                        } else {\r\n                            addColumn(key, type, col);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return {\r\n            count: columnCount,\r\n            columns: cols\r\n        };\r\n    }\r\n    /**\r\n     * \r\n     * @param {string} tableName tên tên bảng\r\n     * @param {*} columns \r\n     * @returns \r\n     */\r\n    createTable(tableName: string, columns: any) {\r\n        if (!(isString(tableName) && tableName == Str.objectKey(tableName))) {\r\n            return false;\r\n        }\r\n        var isA = isArray(columns);\r\n        var isO = isObject(columns);\r\n        if (!(isA || isO)) {\r\n            return false;\r\n        }\r\n        if (this.getTable(tableName)) {\r\n            return false;\r\n        }\r\n        var colCfg = this.parseColumns(columns, isA, isO);\r\n        if (colCfg.count) {\r\n            this.database.tables[tableName] = {\r\n                name: tableName,\r\n                config: colCfg.columns,\r\n                data: [],\r\n                autoIncrement: 0\r\n            };\r\n            this.updateDatabase();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * Xóa bảng\r\n     * @param {string} tableName tên bảng\r\n     * @returns {boolean}\r\n     */\r\n    dropTable(tableName: string):boolean {\r\n        if(typeof this.database.tables[tableName] == \"object\"){\r\n            this.database.tables[tableName] = null;\r\n            delete this.database.tables[tableName];\r\n            this.updateDatabase();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * sửa bảng\r\n     * @param {string} tableName tên bảng\r\n     * @param {array|object} columns các cột\r\n     * @returns {boolean}\r\n     */\r\n    modifyTable(tableName, columns) {\r\n        \r\n        var table = this.getTable(tableName);\r\n        if (!table) {\r\n            throw new Error(\"Table is not exists\");\r\n        }\r\n        var isA = isArray(columns);\r\n        var isO = isObject(columns);\r\n        if (!(isA || isO)) {\r\n            throw new Error(\"Table columns is not valid\");\r\n        }\r\n        var colCfg = this.parseColumn(columns, isA, isO);\r\n\r\n        if (colCfg.count) {\r\n            for (var key in colCfg.config) {\r\n                if (Object.hasOwnProperty.call(colCfg.config, key)) {\r\n                    var cfg = colCfg.config[key];\r\n                    table.config[key] = cfg;\r\n                }\r\n            }\r\n            if (table.data.length) {\r\n                for (var i = 0; i < table.data.length; i++) {\r\n                    var row = table.data.length[i];\r\n                    for (var key in colCfg.columns) {\r\n                        if (Object.hasOwnProperty.call(colCfg.columns, key)) {\r\n                            var cfg = colCfg.columns[key];\r\n                            if (Object.hasOwnProperty.call(row, key)) {\r\n                                var t = getType(row[key]);\r\n                                if (t != cfg.type) {\r\n                                    if (t == \"number\" && cfg.type == \"string\") {\r\n                                        row[key] = String(row[key]);\r\n                                    } else if (t == \"string\" && cfg.type == \"number\") {\r\n                                        var a = Number(row[key]);\r\n                                        row[key] = !isNaN(a) ? a : cfg.defVal;\r\n                                    } else if (cfg.type == \"boolean\" && t == \"number\") {\r\n                                        row[key] = row[key] > 0;\r\n                                    } else if (cfg.type == \"array\") {\r\n                                        row[key] = [row[key]];\r\n                                    }\r\n                                    else if (cfg.type == \"object\") {\r\n                                        row[key] = Object.create(row[key]);\r\n                                    }\r\n                                    else {\r\n                                        row[key] = cfg.defVal;\r\n                                    }\r\n                                }\r\n                            } else {\r\n                                row[key] = cfg.defVal;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // this.database.tables[tableName] = table;\r\n            this.updateDatabase();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * thêm cột\r\n     * @param {string} tableName tên bảng\r\n     * @param {string} columnName tên cột\r\n     * @param {object} config cấu hình cột\r\n     */\r\n    addColumn(tableName, columnName, config): any {\r\n        if (!(isString(tableName) && tableName == Str.objectKey(tableName))) {\r\n            return false;\r\n        }\r\n        var ct = getType(columnName);\r\n        var table = this.getTable(tableName);\r\n        if (!table) {\r\n            return false;\r\n        }\r\n        var column = null;\r\n        if (ct == \"string\") {\r\n            if (isObject(config)) {\r\n                var col = this.parseColumn(columnName, config.type || \"string\", columnName.default || config.defVal, config.autoIncrement);\r\n                if (col) {\r\n                    column = col;\r\n                }\r\n            } else if (isString(config)) {\r\n                var type, defVal;\r\n                if (typeof defaultTypeValues[String(config).toLowerCase()] != \"undefined\") {\r\n                    type = config;\r\n                } else {\r\n                    type = 'string';\r\n                    defVal = config;\r\n                }\r\n                var col = this.parseColumn(columnName, type, defVal);\r\n                if (col) {\r\n                    column = col;\r\n                }\r\n            } else {\r\n                var col = this.parseColumn(columnName, typeof config != \"undefined\" ? getType(config) : \"string\", config);\r\n                if (col) {\r\n                    column = col;\r\n                }\r\n            }\r\n        } else if (ct == \"object\" && Object.prototype.hasOwnProperty.call(columnName, 'name')) {\r\n            var col = this.parseColumn(columnName.name, typeof columnName.type != \"undefined\" ? columnName.type : \"string\", columnName.default || columnName.defVal);\r\n            if (col) {\r\n                column = col;\r\n            }\r\n        }\r\n        if (column) {\r\n            if (Object.prototype.hasOwnProperty.call(table.config, column.name)) {\r\n                return false;\r\n            }\r\n            table.config[column.name] = column;\r\n            for (var index = 0; index < table.data.length; index++) {\r\n                var row = table.data[index];\r\n                row[column.name] = column.defVal;\r\n            }\r\n\r\n            this.updateDatabase();\r\n        }\r\n    }\r\n    /**\r\n     * xóa cột\r\n     * @param {string} tableName tyên bảng\r\n     * @param {string} columns danh sách cột cần xóa\r\n     * @returns {boolean}\r\n     */\r\n    dropColumn(tableName: string, columns?: any) {\r\n        \r\n        var table = this.getTable(tableName);\r\n        if (!table) {\r\n            return false;\r\n        }\r\n        var list = [];\r\n        var args = getArguments(arguments, 1);\r\n        for (var index = 0; index < args.length; index++) {\r\n            var a = args[index];\r\n            if (isArray(a)) {\r\n                a.map(function (s) {\r\n                    if (Object.prototype.hasOwnProperty.call(table.config, s)) {\r\n                        table.config[s] = null;\r\n                        list.push(s);\r\n                        try {\r\n                            delete table.config[s];\r\n\r\n                        } catch (error) {\r\n\r\n                        }\r\n                    }\r\n                })\r\n            } else if (Object.prototype.hasOwnProperty.call(table.config, a)) {\r\n                table.config[a] = null;\r\n                list.push(a);\r\n                try {\r\n                    delete table.config[a];\r\n                } catch (error) {\r\n\r\n                }\r\n\r\n            }\r\n        }\r\n        if (list.length && table.data.length) {\r\n            table.data.map(function (row) {\r\n                list.map(function (col) {\r\n                    row[col] = null;\r\n                    try {\r\n                        delete row[col];\r\n                    } catch (error) {\r\n\r\n                    }\r\n                })\r\n            })\r\n        }\r\n        this.updateDatabase();\r\n        return true;\r\n    }\r\n    /**\r\n     * thêm dữ liệu\r\n     * @param {string} tableName tên bảng\r\n     * @param {object} data dữ liệu\r\n     * @returns {boolean}\r\n     */\r\n    insert(tableName: any, data: any) {\r\n        var table = this.getTable(tableName);\r\n        if (!table || !isObject(data)) {\r\n            return false;\r\n        }\r\n        var rowData = this.parseTableRowData(table, data);\r\n        if (!rowData) return false;\r\n        table.data.push(rowData);\r\n        table.autoIncrement++;\r\n        this.updateDatabase();\r\n        return true;\r\n    }\r\n    /**\r\n     * cập nhật dữ liệu \r\n     * @param {string} tableName tên bảng\r\n     * @param {object} data dữ liệu\r\n     * @param {function|object} condition diều kiện\r\n     * @returns {integer}\r\n     */\r\n    update(tableName:string, data:any, condition?:any) {\r\n        var table = this.getTable(tableName);\r\n        if (!table || !isObject(data)) {\r\n            return 0;\r\n        }\r\n        var d: any = this.parseTableRowData(table, data, true);\r\n        if (!d) return 0;\r\n        var count = 0;\r\n        if (!condition) {\r\n            table.data.map(function (row) {\r\n                assignValue(row, d);\r\n                count++;\r\n            });\r\n        }\r\n        else if (isObject(condition) && !isEmpty(condition)) {\r\n            table.data.map(function (row) {\r\n                var s = true;\r\n                for (var key in condition) {\r\n                    if (Object.hasOwnProperty.call(condition, key)) {\r\n                        if (!Object.hasOwnProperty.call(row, key) || row[key] != condition[key]) {\r\n                            s = false;\r\n                        }\r\n                    }\r\n                }\r\n                if (s) {\r\n                    assignValue(row, d);\r\n                    count++;\r\n                }\r\n            });\r\n        }\r\n        else if (isFunction(condition)) {\r\n            table.data.map(function (row) {\r\n                var s = condition(assignValue({}, row));\r\n                if (s) {\r\n                    assignValue(row, d);\r\n                    count++;\r\n                }\r\n            });\r\n        }\r\n        this.updateDatabase();\r\n        return count;\r\n    }\r\n\r\n    delete(tableName: string, condition?: any) {\r\n        var table = this.getTable(tableName);\r\n        if (!table) {\r\n            return 0;\r\n        }\r\n        var count = 0;\r\n        if (!condition) {\r\n            count = table.data.length;\r\n            table.data.splice(0);\r\n        }\r\n        else if (isObject(condition) && !isEmpty(condition)) {\r\n            var i = 0;\r\n            while (i < table.data.length) {\r\n                var s = true;\r\n                var row = table.data[i];\r\n                for (var key in condition) {\r\n                    if (Object.hasOwnProperty.call(condition, key)) {\r\n                        if (!Object.hasOwnProperty.call(row, key) || row[key] != condition[key]) {\r\n                            s = false;\r\n                        }\r\n                    }\r\n                }\r\n                if (s) {\r\n                    table.data.splice(i, 1);\r\n                    count++;\r\n                } else {\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n        else if (isFunction(condition)) {\r\n            var i = 0;\r\n            while (i < table.data.length) {\r\n                var s = true;\r\n                var row = table.data[i];\r\n                s = condition(assignValue({}, row));\r\n                if (s) {\r\n                    table.data.splice(i, 1);\r\n                    count++;\r\n                } else {\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n        this.updateDatabase();\r\n        return count;\r\n    }\r\n    /**\r\n     * lấy về dữ liệu\r\n     * @param tableName tên bảng\r\n     * @param columns danh sach cot\r\n     * @param condition dieu kien lay du lieu\r\n     * @param orderBy sap xep\r\n     * @param limit gioi han\r\n     * @returns {DbTable[]}\r\n     */\r\n    select(tableName: string, columns?: any, condition?: any, orderBy?: any, limit?: any): DbTableRow[] {\r\n        var maskTable = null;\r\n        var m = null;\r\n        var table = this.getTable(tableName);\r\n\r\n        if (!table) {\r\n            return [];\r\n        }\r\n        var isN = isInteger(limit) && limit > 0;\r\n        // var count = 0;\r\n        var raw = [];\r\n        var results = [];\r\n        var selectColumns: any = '*';\r\n        if (!columns || columns == '*') {\r\n            // ko lam gi\r\n        }\r\n        else {\r\n            selectColumns = [];\r\n\r\n            if (isString(columns)) {\r\n                var ca = columns.split(\",\").map(function (a) {\r\n                    return a.trim();\r\n                }).filter(function (t) {\r\n                    return t.length > 0;\r\n                }).map(function (t) {\r\n                    var a = t.split(\" \").filter(function (v) {\r\n                        return v.length > 0\r\n                    });\r\n                    if (a.length == 3 && a[1].toLowerCase() == \"as\") {\r\n                        return [a[0], a[2]];\r\n                    }\r\n                    return a;\r\n                }).filter(function (a) {\r\n                    return a.length > 0;\r\n                }).map(function (a) {\r\n                    if (Object.prototype.hasOwnProperty.call(table.config, a[0])) {\r\n                        selectColumns.push(a);\r\n                    }\r\n                });\r\n            }\r\n            else if (isArray(columns) && columns.length) {\r\n                columns.map(function (t) {\r\n                    var a = t.split(\" \").filter(function (v) {\r\n                        return v.length > 0\r\n                    });\r\n                    if (a.length == 3 && a[1].toLowerCase() == \"as\") {\r\n                        return [a[0], a[2]];\r\n                    }\r\n                    return a;\r\n                }).filter(function (a) {\r\n                    return a.length > 0;\r\n                }).map(function (a) {\r\n                    if (Object.prototype.hasOwnProperty.call(table.config, a[0])) {\r\n                        selectColumns.push(a);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        var isCondFunc = isFunction(condition);\r\n        var isCondObj = isObject(condition);\r\n        if (!condition) {\r\n            // count = this.data.length;\r\n            table.data.map(function (row) {\r\n                raw.push(assignValue({}, row));\r\n            });\r\n        }\r\n        else if (isCondFunc || isCondObj) {\r\n            var masks = [];\r\n            if (selectColumns != \"*\") {\r\n                selectColumns.map(function (a) {\r\n                    masks.push({\r\n                        column: a[0],\r\n                        mask: a.length > 1 ? a[1] : null\r\n                    });\r\n                })\r\n            }\r\n            else {\r\n                for (var key in table.config) {\r\n                    if (Object.hasOwnProperty.call(table.config, key)) {\r\n                        var col = table.config[key];\r\n                        masks.push({\r\n                            column: col.name,\r\n                            mask: null\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n\r\n            table.data.map(function (row) {\r\n                var b = assignValue({}, row);\r\n                masks.map(function (c) {\r\n                    if (c.mask) {\r\n                        b[c.mask] = b[c.column];\r\n                    }\r\n                });\r\n                if (isCondFunc) {\r\n                    var whereStt = condition(b);\r\n                    if (whereStt === true) {\r\n                        raw.push(b);\r\n                    }\r\n                } else if (isCondObj) {\r\n                    var s = true;\r\n                    for (const key in condition) {\r\n                        if (Object.hasOwnProperty.call(condition, key)) {\r\n                            const vl = condition[key];\r\n                            if (b[key] != vl) {\r\n                                s = false;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (s) {\r\n                        raw.push(b);\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        if (raw.length) {\r\n            if (isObject(orderBy) && !isEmpty(orderBy)) {\r\n                var orderByList = [];\r\n                for (var key in orderBy) {\r\n                    if (Object.hasOwnProperty.call(orderBy, key)) {\r\n                        var type = String(orderBy[key]).toLowerCase();\r\n                        if (Object.hasOwnProperty.call(raw[0], key) && inArray(['asc', 'desc', 1, 0], type)) {\r\n                            orderByList.push({\r\n                                key: key,\r\n                                type: type\r\n                            })\r\n                        }\r\n\r\n                    }\r\n                }\r\n                for (var i = 0; i < orderByList.length; i++) {\r\n                    var order = orderByList[i];\r\n\r\n                    if (i == 0) {\r\n                        for (var j = 0; j < raw.length - 1; j++) {\r\n                            for (var k = j + 1; k < raw.length; k++) {\r\n                                var a = Str.compare(raw[j][order.key], raw[k][order.key]);\r\n                                // console.log(`${raw[j][order.key]} <> ${raw[k][order.key]}`, a)\r\n                                if (order.type == 'desc') {\r\n                                    if (a == -1) {\r\n                                        var t = raw[j];\r\n                                        raw[j] = raw[k];\r\n                                        raw[k] = t;\r\n                                    }\r\n                                } else if (a == 1) {\r\n                                    var t = raw[j];\r\n                                    raw[j] = raw[k];\r\n                                    raw[k] = t;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        for (var j = 0; j < raw.length - 1; j++) {\r\n                            for (var k = j + 1; k < raw.length; k++) {\r\n                                var s = true;\r\n                                for (var l = 0; l < i; l++) {\r\n                                    var o = orderByList[l];\r\n\r\n                                    if (raw[j] == raw[k] || raw[j][o.key] != raw[k][o.key]) {\r\n                                        s = false;\r\n                                    }\r\n\r\n                                }\r\n                                if (s) {\r\n                                    var a = Str.compare(raw[j][order.key], raw[k][order.key]);\r\n                                    if (order.type == 'desc') {\r\n                                        if (a == -1) {\r\n                                            var t = raw[j];\r\n                                            raw[j] = raw[k];\r\n                                            raw[k] = t;\r\n                                        }\r\n                                    } else if (a == 1) {\r\n                                        var t = raw[j];\r\n                                        raw[j] = raw[k];\r\n                                        raw[k] = t;\r\n                                    }\r\n                                }\r\n\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (isN) {\r\n                results = raw.slice(0, limit);\r\n            }\r\n            else {\r\n                results = raw;\r\n            }\r\n        }\r\n        if (selectColumns != \"*\") {\r\n            return results.map(function (row) {\r\n                var obj = {};\r\n                for (var i = 0; i < selectColumns.length; i++) {\r\n                    var col = selectColumns[i];\r\n                    if (col[1]) {\r\n                        obj[col[1]] = row[col[0]];\r\n                    }\r\n                }\r\n                return obj;\r\n            }) as DbTableRow[]\r\n        }\r\n        return results;\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default LocalDB;\r\nexport { LocalDB };\r\n","import { Component, Input, OnInit } from '@angular/core';\nimport { BaseInputComponent } from '../base-input/base-input.component';\n\n@Component({\n  selector: 'inp-range',\n  templateUrl: './inp-range.component.html',\n  styleUrls: ['./inp-range.component.scss']\n})\nexport class InpRangeComponent extends BaseInputComponent implements OnInit {\n\n  @Input() step: number = 1;\n  @Input() max: number = 9999999999999999;\n  @Input() min: number =-9999999999999999;\n\n  @Input() output: boolean = false;\n\n  constructor() {\n    super()\n   }\n\n  ngOnInit(): void {\n  }\n\n}\n","<ng-container *ngIf=\"output; then thenTemplate; else elseTemplate\"></ng-container>\n<ng-template #thenTemplate>\n    <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\">\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"16\">\n            <nz-slider [name]=\"name\" [nzMin]=\"min\" [nzMax]=\"max\" [nzStep]=\"step\" [(ngModel)]=\"value\" (ngModelChange)=\"onChange($event)\"></nz-slider>\n        </div>\n\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"8\">\n            <div class=\"inner-box\">\n                <nz-input-number [name]=\"name\" [nzMin]=\"min\" [nzMax]=\"max\" [nzStep]=\"step\" [(ngModel)]=\"value\" (ngModelChange)=\"onChange($event)\" [ngStyle]=\"{ marginLeft: '0px' }\"></nz-input-number>\n            </div>\n        </div>\n    </div>\n</ng-template>\n<ng-template #elseTemplate>\n    <nz-slider [name]=\"name\" [nzMin]=\"min\" [nzMax]=\"max\" [nzStep]=\"step\" [(ngModel)]=\"value\" (ngModelChange)=\"onChange($event)\"></nz-slider>\n</ng-template>\n\n","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { SettingService } from '../services';\r\n\r\n@Injectable()\r\nexport class JwtInterceptor implements HttpInterceptor {\r\n  constructor(private settingService: SettingService) {}\r\n\r\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    const auth = this.settingService.auth;\r\n    if (request.url.includes('original.cjson')) {\r\n      return next.handle(request);\r\n    }\r\n\r\n    if (auth && typeof auth.accessToken === 'string') {\r\n      request = request.clone({\r\n        setHeaders: {\r\n          Authorization: `Bearer ${auth.accessToken}`,\r\n        },\r\n      });\r\n    }\r\n\r\n    return next.handle(request);\r\n  }\r\n}\r\n","import { Injectable, OnDestroy } from '@angular/core';\r\nimport { Observable, BehaviorSubject } from 'rxjs';\r\nimport { share } from 'rxjs/operators';\r\nimport { Menu, menuData } from './menu.model';\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class MenuService implements OnDestroy {\r\n  private items: any[] = menuData;\r\n  change$: BehaviorSubject<Menu[]> = new BehaviorSubject<Menu[]>([]);\r\n  constructor() {}\r\n\r\n  add(items: Menu[]) {\r\n    this.items = items;\r\n    this.resume();\r\n  }\r\n\r\n  get menus() {\r\n    return this.items;\r\n  }\r\n\r\n  resume() {\r\n    this.change$.next(this.items);\r\n  }\r\n\r\n  get change(): Observable<Menu[]> {\r\n    return this.change$.pipe(share());\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.change$.unsubscribe();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { inArray } from '@app/_core/helpers/utils';\r\nimport { HttpService } from '@app/_core/services/http.service';\r\n// import { StateService } from '@app/_core/services/state.service';\r\nimport { Observable, of } from 'rxjs';\r\n// import { RestService } from '../../../_core/services/rest.service';\r\n\r\nimport { ImageModel } from './model';\r\nimport { ImageResultModel, ImageResultsModel } from './results.model';\r\n// import { ImageResultsModel, ImageResultModel } from './results.model';\r\n\r\nconst API_CUSTOMERS_URL = 'images';\r\n\r\nexport const imgListTypes = ['images', 'list', 'foreground', 'background'];\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ImageService {\r\n  results: ImageResultsModel;\r\n\r\n  constructor(private httpService: HttpService) { }\r\n\r\n\r\n\r\n  getAll(params: {[key:string]:any}): Observable<ImageResultsModel> {\r\n    return this.httpService.get(API_CUSTOMERS_URL + \"/list.json\", params);\r\n  }\r\n  getImageFromUrl(url: string, params: {[key:string]:any}): Observable<ImageResultsModel> {\r\n    return this.httpService.get(API_CUSTOMERS_URL + \"/list.json\", params);\r\n  }\r\n  \r\n  getImages(list: string, params: {[key:string]:any}): Observable<ImageResultsModel> {\r\n    if(!inArray(imgListTypes, list)) return of({\r\n      data: [],\r\n      pageCount: 0,\r\n      total: 0,\r\n      page: 1,\r\n      count: 0,\r\n      message: \"image list not found\",\r\n      status: 0\r\n    });\r\n    if(list == \"image\") list = \"list\";\r\n    return this.httpService.get(API_CUSTOMERS_URL + \"/\"+list+\".json\", params);\r\n  }\r\n\r\n  getBackgrounds(params: {[key:string]:any}): Observable<ImageResultsModel> {\r\n    return this.httpService.get(API_CUSTOMERS_URL + \"/background.json\", params);\r\n  }\r\n  getForegrounds(params: {[key:string]:any}): Observable<ImageResultsModel> {\r\n    return this.httpService.get(API_CUSTOMERS_URL + \"/foreground.json\", params);\r\n  }\r\n\r\n  // get(key): Observable<ImageResultModel> {\r\n  //   return this.httpService.get(`${API_CUSTOMERS_URL}/${key}.json`);\r\n  // }\r\n\r\n  get(key): Observable<ImageModel> {\r\n    return this.httpService.get(`${API_CUSTOMERS_URL}/${key}.json`);\r\n  }\r\n\r\n  create(model: ImageModel): Observable<ImageResultModel> {\r\n    return this.httpService.post(API_CUSTOMERS_URL + \"/actions.json\", model);\r\n  }\r\n\r\n  update(model: ImageModel): Observable<ImageResultModel> {\r\n    const key = model.id;\r\n    // return this.httpService.patch(`${API_CUSTOMERS_URL}/${key}.json`, model);\r\n    return this.httpService.patch(`${API_CUSTOMERS_URL}/actions.json`, model);\r\n  }\r\n\r\n\r\n  delete(key): Observable<ImageResultModel> {\r\n    // return this.httpService.delete(`${API_CUSTOMERS_URL}/${key}`);\r\n    return this.httpService.delete(`${API_CUSTOMERS_URL}/actions.json`);\r\n  }\r\n\r\n  search(query: { tag?: string; key?: string; collectionCode?: string }) {\r\n    return this.httpService.get(`${API_CUSTOMERS_URL}/list.json`, query);\r\n  }\r\n\r\n  searchNounProject(query: { tag?: string; key?: string; collectionCode?: string }) {\r\n    return this.httpService.get(`${API_CUSTOMERS_URL}/search/nounproject`, query);\r\n  }\r\n\r\n  render(params) {\r\n    return this.httpService.download(`Images/render`, params);\r\n  }\r\n\r\n  getImageData(url) {\r\n    return this.httpService.getOut(url);\r\n  }\r\n\r\n  useImage(ImageId): Observable<ImageResultModel> {\r\n    return this.httpService.post(`${API_CUSTOMERS_URL}/${ImageId}/use`, {}, false);\r\n  }\r\n}\r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\nimport { BackgroundSetting } from '@app/_3D/store/data.type';\nimport { assignValue, inArray } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { EditorIO, EditorMethods } from '../../../base/editor-io';\n\n\ninterface BgOption{\n    type: string,\n    label: string,\n    value?: any,\n    selected: boolean\n}\n\ntype BgOptions = Array<BgOption>;\n\n\n@Component({\n    selector: 'app-tab-background',\n    templateUrl: './tab-background.component.html',\n    styleUrls: ['./tab-background.component.scss']\n})\nexport class TabBackgroundComponent extends BaseComponent implements OnInit {\n\n\n    background: BackgroundSetting = {\n        type: \"none\"\n    };\n\n    bgOptions: BgOptions = [\n        {\n            type: \"none\",\n            label: \"Không có hình nền\",\n            selected: true\n        },\n        {\n            type: \"color\",\n            label: \"Màu sắc\",\n            value: \"#000\",\n            selected: false\n        },\n        {\n            type: \"texture\",\n            label: \"Hình Nền\",\n            value: null,\n            selected: false\n        }\n\n    ];\n\n    appEvent = {\n        \n    }\n\n    constructor(\n        private events: AppEditorEventService,\n        private cd: ChangeDetectorRef\n    ) {\n        super();\n    }\n    \n    initOnce(){\n        this.app = this.events.app;\n     \n    }\n    init() {\n        if(this.isChangeSubEvents){\n            this.app = this.subEvents.app;\n        \n        }\n        this.setBackground(this.app.getBackgroundSetting());\n    \n        this.cd.detectChanges();\n    }\n    onDestroy(){\n        \n    }\n\n    setBackground(background:BackgroundSetting){\n        assignValue(this.background, background);\n        this.bgOptions.map(opt => {\n            opt.selected = opt.type == this.background.type;\n            if(typeof this.background[opt.type]!=\"undefined\"){\n                opt.value = this.background[opt.type];\n            }\n        });\n    }\n\n    changeType(type: string){\n        if(inArray(['none', 'color', 'texture'], type) && this.background.type != type){\n            this.background.type = type;\n            this.bgOptions.map(opt => {\n                opt.selected = opt.type == type;\n            });\n            this.updateBackground();\n\n        }\n    }\n\n    updateColor(event){\n        this.background.color = event.value;\n        this.bgOptions.map(opt => {\n            if(opt.type==\"color\"){\n                opt.value = event.value;\n            }\n        });\n        \n        this.updateBackground();\n    }\n\n    updateTexture(event){\n        if(event.file && (event.file.extension == \"hdr\" || event.file.format == \"hdr\")){\n            \n            this.background.texture = {\n                file: event.file.source,\n                format: \"hdr\"\n            }\n        }else{\n            this.background.texture = {\n                file: event.value,\n                format: \"jpg\"\n            }\n        }\n        this.bgOptions.map(opt => {\n            if(opt.type==\"texture\"){\n                opt.value = this.background.texture;\n            }\n        });\n        this.updateBackground();\n        this.emitRefresh();\n    }\n\n    updateBackground(){\n        if(this.app){\n            this.app.updateBackgroundData(this.background);\n        }\n\n     \n    }\n\n    emitRefresh(){\n        setTimeout(() => {\n            this.subEvents.emit(\"tab.scene.refresh\");\n        }, 200);\n    }\n}\n","<div class=\"tab-inner\">\n    <div class=\"store\">\n        <div class=\"background-options\">\n            <div class=\"bg-item\" *ngFor=\"let option of bgOptions; let i=index\" [class.active]=\"option.selected\">\n                <div class=\"item-header\" (click)=\"changeType(option.type)\">\n                    <span class=\"icon\">\n                        <ng-container *ngIf=\"option.selected; then selectedTemplate; else notSelectedTemplate\"></ng-container>\n                        <ng-template #selectedTemplate>\n                            <i nz-icon [nzType]=\"'check-circle'\" [nzTheme]=\"'twotone'\" [nzTwotoneColor]=\"'#52c41a'\"></i>\n                        </ng-template>\n                        <ng-template #notSelectedTemplate>\n                            <i nz-icon [nzType]=\"'check-circle'\"></i>\n                        </ng-template>\n                        \n                    </span>\n                    <span class=\"label\">\n                        {{option.label}}\n                    </span>\n                </div>\n                <div class=\"item-body\" *ngIf=\"option.selected && option.type!='none'\">\n                    <inp-color *ngIf=\"option.type == 'color'\" [name]=\"option.type\" [label]=\"option.label\" [(value)]=\"option.value\" (subcribe)=\"updateColor($event)\"></inp-color>\n                    <inp-texture *ngIf=\"option.type == 'texture'\" [name]=\"option.type\" [label]=\"option.label\" [(value)]=\"option.value\" (subcribe)=\"updateTexture($event)\" [listType]=\"'background'\" (modalCancelSelect)=\"emitRefresh()\"></inp-texture>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n","export type InpEvent = {\r\n    name: string,\r\n    value: any,\r\n    old?: any,\r\n    [prop: string]: any\r\n}\r\n\r\n\r\n\r\nexport type DynamicEvent = {\r\n    type: string,\r\n    data?: any,\r\n    [extra: string]: any\r\n}\r\n\r\nexport type CallbackFunction = (...args: any[]) => any;\r\n\r\nexport const FG_POSKEYS = {\r\n    x: [\"left\", \"center\", \"right\"],\r\n    y: [\"top\", \"center\", \"bottom\"],\r\n    xy: [\r\n        \"left-top\", \"center-top\", \"right-top\",\r\n        \"left-center\", \"center-center\", \"right-center\",\r\n        \"left-bottom\", \"center-bottom\", \"right-bottom\"\r\n    ]\r\n};\r\nexport const FG_REPEAT = {\r\n    repeat: \"Auto\",\r\n    no: \"no-repeat\",\r\n    x: \"repeat-x\",\r\n    y: \"repeat-y\"\r\n};\r\n\r\nexport const FG_BGSIZES = {\r\n    auto: \"Auto\",\r\n    contain: \"Contain\",\r\n    cover: \"Cover\"\r\n}\r\n\r\n\r\nexport interface FG_ITEM {\r\n    secret_key?: string\r\n    name?: string\r\n    url?: string\r\n    position?: { x: string, y: string }\r\n    size?: string\r\n    opacity?: number\r\n    repeat?: string\r\n}\r\nexport const FG_DEFAULT_DATA: FG_ITEM = {\r\n    name: \"foreground\",\r\n    url: \"\",\r\n    position: {\r\n        x: \"center\",\r\n        y: \"center\"\r\n    },\r\n    repeat: \"no\",\r\n    opacity: 1,\r\n    size: \"contain\",\r\n};\r\n","import { _class } from '@app/_core/helpers/es5.class';\r\nimport { LoaderLib } from '../libs/three.libs';\r\n\r\nvar Loader = _class('Loader').uses(LoaderLib)({\r\n\r\n    /**\r\n     * \r\n     * @param {App} parent \r\n     */\r\n\r\n    constructor: function (parent:any=undefined) {\r\n        this.setParent(parent);\r\n    }\r\n});\r\n\r\nexport default Loader;","import { Injectable } from '@angular/core';\nimport { isObject } from '@app/_core/helpers/utils';\nimport { EventManagerService } from '@app/_core/services/event-manager.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class MeshGeometryService extends EventManagerService {\n\n    constructor() {\n        super();\n    }\n\n    open(data: any, onChange?: (...args: any[]) => any, onDone?: (...args: any[]) => any) {\n        if (!isObject(data)) return false;\n        if (typeof onChange == \"function\") {\n            if (typeof data.onChange != \"function\") {\n                data.onChange = onChange;\n            }\n            else if (typeof data.change != \"function\") {\n                data.change = onChange;\n            }\n        }\n\n        if (typeof onChange == \"function\") {\n            if (typeof data.onDone != \"function\") {\n                data.onDone = onDone;\n            }\n            else if (typeof data.done != \"function\") {\n                data.done = onDone;\n            }\n        }\n\n        this.emit({\n            type: \"panel.show\",\n            data: data\n        })\n    }\n    close(){\n        this.emit(\"panel.hide\");\n    }\n  \n\n\n    updateProps(data){\n        if(isObject(data) && data.secret_key){\n            this.emit({\n                type: \"editor.update.props\",\n                data: data\n            })\n        }\n    }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { isArray, isObject, isString } from '@app/_core/helpers/utils';\nimport { BaseInputComponent } from '../base-input/base-input.component';\n\n@Component({\n    selector: 'select-box',\n    templateUrl: './select-box.component.html',\n    styleUrls: ['./select-box.component.scss']\n})\nexport class SelectBoxComponent extends BaseInputComponent implements OnInit {\n\n    @Input() options: any;\n    _options: Array<{ label: string, value: string }> = [];\n    constructor() {\n        super();\n    }\n\n    ngOnInit(): void {\n        if(isArray(this.options)){\n            this.options.map((value) => {\n                if(isObject(value)){\n                    if(Object.prototype.hasOwnProperty.call(value, 'value') && Object.prototype.hasOwnProperty.call(value, 'label')){\n                        this._options.push(value);\n                    }\n                }else if(isString(value)){\n                    this._options.push({\n                        value: value,\n                        label: value\n                    });\n                }\n            })\n        }else if(isObject(this.options)){\n            for (const key in this.options) {\n                if (Object.prototype.hasOwnProperty.call(this.options, key)) {\n                    const value = this.options[key];\n                    if(isObject(value)){\n                        if(Object.prototype.hasOwnProperty.call(value, 'value') && Object.prototype.hasOwnProperty.call(value, 'label')){\n                            this._options.push(value);\n                        }\n                    }else if(isString(value)){\n                        this._options.push({\n                            value: key,\n                            label: value\n                        });\n                    }\n                }\n            }\n        }\n    }\n}\n","<label>{{label | translate}}</label>\n<div class=\"input-wrapper\">\n    <nz-select [(ngModel)]=\"value\" (ngModelChange)=\"onChange($event)\">\n        <nz-option *ngFor=\"let p of _options\" [nzValue]=\"p.value\" [nzLabel]=\"p.label\"></nz-option>\n    </nz-select>\n</div>","import { Injectable } from '@angular/core';\nimport { isObject } from '@app/_core/helpers/utils';\nimport { EventManagerService } from '@app/_core/services/event-manager.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class PanelLightService extends EventManagerService {\n\n    constructor() {\n        super();\n    }\n\n\n    open(data: any, onChange?: (...args: any[]) => any, onDone?: (...args: any[]) => any) {\n        if (!isObject(data)) return false;\n        if (typeof onChange == \"function\") {\n            if (typeof data.onChange != \"function\") {\n                data.onChange = onChange;\n            }\n            else if (typeof data.change != \"function\") {\n                data.change = onChange;\n            }\n        }\n\n        if (typeof onChange == \"function\") {\n            if (typeof data.onDone != \"function\") {\n                data.onDone = onDone;\n            }\n            else if (typeof data.done != \"function\") {\n                data.done = onDone;\n            }\n        }\n\n        this.emit({\n            type: \"panel.show\",\n            data: data\n        })\n    }\n    close() {\n        this.emit(\"panel.hide\");\n    }\n\n\n    updateProps(data) {\n        if (isObject(data) && data.secret_key) {\n            this.emit({\n                type: \"editor.update.props\",\n                data: data\n            })\n        }\n    }\n\n\n    updateTargetProps(data) {\n        if (isObject(data) && data.secret_key) {\n            this.emit({\n                type: \"editor.update.props.target\",\n                data: data\n            })\n        }\n    }\n\n    \n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { assignValue } from '@app/_core/helpers/utils';\nimport { BaseInpGroupComponent } from '../base-inp-group/base-inp-group.component';\n\n@Component({\n  selector: 'inp-number-group',\n  templateUrl: './inp-number-group.component.html',\n  styleUrls: ['./inp-number-group.component.scss']\n})\nexport class InpNumberGroupComponent extends BaseInpGroupComponent implements OnInit {\n\n  @Input() step: number = 1;\n  @Input() max: number = 9999999999999999;\n  @Input() min: number =-9999999999999999;\n\n  @Input() spin: boolean = false;\n\n  configProps = [\"step\", \"min\", \"max\", \"spin\"];\n  constructor() {\n    super();\n  }\n\n  onInit(): void {\n    assignValue(this.defaultValues, {\n      step: 1,\n      min: -9999999999999999,\n      max:  9999999999999999,\n      spin: false\n    });\n    this.inpInit();\n  }\n\n  \n  valChange(value){\n    this.onChange({value});\n  }\n\n  \n}\n","<div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\" class=\"input-group\">\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"16\">\n        <div class=\"inner-box\">{{label?label:name | translate}}</div>\n    </div>\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"8\">\n        <div class=\"inner-box text-right\">\n            <inp-number \n                [name]=\"name\" \n                [(value)]=\"value\" \n                [min]=\"min\" \n                [max]=\"max\" \n                [step]=\"step\" \n                [spin]=\"spin\" \n                (subcribe)=\"onChange($event)\"\n            ></inp-number>\n        </div>\n    </div>\n\n</div>","import { Injectable } from '@angular/core';\nimport { EventManagerService } from '@app/_core/services/event-manager.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ClientEditToolbarService extends EventManagerService {\n\n    constructor() {\n        super();\n    }\n\n    show(type: string, secret_key: string, mode?: string) {\n        this.emit({\n            type: \"show\",\n            data: {\n                type: type,\n                secret_key: secret_key,\n                mode: mode\n            }\n        })\n    }\n    hide() {\n        this.emit({\n            type: \"hide\"\n        })\n    }\n\n    changeMode(mode) {\n        this.emit({\n            type: \"mode.change\",\n            mode: mode\n        })\n    }\n    selectMode(mode) {\n        this.emit({\n            type: \"mode.select\",\n            mode: mode\n        })\n    }\n\n}\n","export * from './model';\r\nexport * from './service';\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { pipes } from './pipes';\r\nimport { directives } from './directives';\r\nimport { DebounceInputDirective } from './directives/debounce-input.directive';\r\nimport { CanAccessDirective } from '@app/_core/directives/can-access.directive';\r\nimport { UploadFileComponent } from './components/upload/upload.component';\r\nimport { AppUIModule } from '../app-ui.module';\r\nimport { Vector3Component } from './components/inputs/vector3/vector3.component';\r\nimport { InpSwitchComponent } from './components/inputs/inp-switch/inp-switch.component';\r\nimport { InpRotationComponent } from './components/inputs/inp-rotation/inp-rotation.component';\r\nimport { InpTextComponent } from './components/inputs/inp-text/inp-text.component';\r\nimport { SelectBoxComponent } from './components/inputs/select-box/select-box.component';\r\nimport { InpColorComponent } from './components/inputs/inp-color/inp-color.component';\r\nimport { TransparentImgComponent } from './components/transparent-img/transparent-img.component';\r\nimport { InpTextureComponent } from './components/inputs/inp-texture/inp-texture.component';\r\nimport { InpSelectComponent } from './components/inputs/inp-select/inp-select.component';\r\nimport { ImageLibraryComponent } from './components/modals/image-library/image-library.component';\r\nimport { ImageLibraryItemComponent } from './components/modals/image-library/image-library-item/image-library-item.component';\r\nimport { InpRangeComponent } from './components/inputs/inp-range/inp-range.component';\r\nimport { InpSwitchGroupComponent } from './components/input-groups/inp-switch-group/inp-switch-group.component';\r\nimport { InpColorGroupComponent } from './components/input-groups/inp-color-group/inp-color-group.component';\r\nimport { InpRangeGroupComponent } from './components/input-groups/inp-range-group/inp-range-group.component';\r\nimport { InpRotationGroupComponent } from './components/input-groups/inp-rotation-group/inp-rotation-group.component';\r\nimport { InpVector3GroupComponent } from './components/input-groups/inp-vector3-group/inp-vector3-group.component';\r\nimport { InpSelectGroupComponent } from './components/input-groups/inp-select-group/inp-select-group.component';\r\nimport { InpTextGroupComponent } from './components/input-groups/inp-text-group/inp-text-group.component';\r\nimport { InpNumberComponent } from './components/inputs/inp-number/inp-number.component';\r\nimport { InpNumberGroupComponent } from './components/input-groups/inp-number-group/inp-number-group.component';\r\nimport { ViewportComponent } from './components/viewport/viewport.component';\r\nimport { MaskLayerComponent } from './components/viewport/mask-layer/mask-layer.component';\r\nimport { DroppableLayerComponent } from './components/viewport/droppable-layer/droppable-layer.component';\r\nimport { ForegroundLayerComponent } from './components/viewport/foreground-layer/foreground-layer.component';\r\nimport { CanvasLayerComponent } from './components/viewport/canvas-layer/canvas-layer.component';\r\nimport { MeshGeometryComponent } from './components/panels/mesh-geometry/mesh-geometry.component';\r\nimport { MaterialInputsComponent } from './components/form-group/material-inputs/material-inputs.component';\r\nimport { InpTextureGroupComponent } from './components/input-groups/inp-texture-group/inp-texture-group.component';\r\nimport { PropInputsComponent } from './components/form-group/prop-inputs/prop-inputs.component';\r\nimport { ObjectToolbarComponent } from './components/viewport/object-toolbar/object-toolbar.component';\r\nimport { MeshGeometryTabMaterialComponent } from './components/panels/mesh-geometry/mesh-geometry-tab-material/mesh-geometry-tab-material.component';\r\nimport { MeshGeometryTabGeometryComponent } from './components/panels/mesh-geometry/mesh-geometry-tab-geometry/mesh-geometry-tab-geometry.component';\r\nimport { MeshGeometryTabPropertiesComponent } from './components/panels/mesh-geometry/mesh-geometry-tab-properties/mesh-geometry-tab-properties.component';\r\nimport { PanelModelObjectComponent } from './components/panels/panel-model-object/panel-model-object.component';\r\nimport { PanelModelObjectTabMeshesComponent } from './components/panels/panel-model-object/panel-model-object-tab-meshes/panel-model-object-tab-meshes.component';\r\nimport { PanelModelObjectTabPropertiesComponent } from './components/panels/panel-model-object/panel-model-object-tab-properties/panel-model-object-tab-properties.component';\r\nimport { CollapseMeshMaterialComponent } from './components/collapses/collapse-mesh-material/collapse-mesh-material.component';\r\nimport { PanelLightComponent } from './components/panels/panel-light/panel-light.component';\r\nimport { PanelLightTabParamsComponent } from './components/panels/panel-light/panel-light-tab-params/panel-light-tab-params.component';\r\nimport { PanelLightTabPropertiesComponent } from './components/panels/panel-light/panel-light-tab-properties/panel-light-tab-properties.component';\r\nimport { ForegroundLayerItemComponent } from './components/viewport/foreground-layer/foreground-layer-item/foreground-layer-item.component';\r\nimport { EditorToolbarComponent } from './components/viewport/editor-toolbar/editor-toolbar.component';\r\nimport { InpTextareaComponent } from './components/inputs/inp-textarea/inp-textarea.component';\r\nimport { InpTextareaGroupComponent } from './components/input-groups/inp-textarea-group/inp-textarea-group.component';\r\nimport { InpRadioComponent } from './components/inputs/inp-radio/inp-radio.component';\r\nimport { InpRadioGroupComponent } from './components/input-groups/inp-radio-group/inp-radio-group.component';\r\nimport { VectorControlsComponent } from './components/viewport/vector-controls/vector-controls.component';\r\nimport { TabEditorInfoComponent } from './components/editor/tabs/tab-setting/tab-info/tab-info.component';\r\nimport { TabEditorSettingComponent } from './components/editor/tabs/tab-setting/tab-setting.component';\r\nimport { TabObjectComponent } from './components/editor/tabs/tab-object/tab-object.component';\r\nimport { TabModelComponent } from './components/editor/tabs/tab-object/tab-model/tab-model.component';\r\nimport { ModelListComponent } from './components/editor/tabs/tab-object/tab-model/model-list/model-list.component';\r\nimport { DraggingItemComponent } from './components/editor/drag-drop/dragging-item/dragging-item.component';\r\nimport { ModelItemComponent } from './components/editor/tabs/tab-object/tab-model/model-item/model-item.component';\r\nimport { DroppableAreaComponent } from './components/editor/drag-drop/droppable-area/droppable-area.component';\r\nimport { TabGeometryComponent } from './components/editor/tabs/tab-object/tab-geometry/tab-geometry.component';\r\nimport { TabLightComponent } from './components/editor/tabs/tab-light/tab-light.component';\r\nimport { TabSceneComponent } from './components/editor/tabs/tab-scene/tab-scene.component';\r\nimport { TabBackgroundComponent } from './components/editor/tabs/tab-scene/tab-background/tab-background.component';\r\nimport { TabForegroundComponent } from './components/editor/tabs/tab-scene/tab-foreground/tab-foreground.component';\r\nimport { ForegroundItemComponent } from './components/editor/tabs/tab-scene/tab-foreground/foreground-item/foreground-item.component';\r\nimport { TabCameraComponent } from '../_shared/components/editor/tabs/tab-controls/tab-camera/tab-camera.component';\r\nimport { ModelSearchComponent } from './components/editor/tabs/tab-object/tab-model/model-search/model-search.component';\r\nimport { DraggingGeometryComponent } from '../_shared/components/editor/drag-drop/dragging-geometry/dragging-geometry.component';\r\nimport { GeometryItemComponent } from './components/editor/tabs/tab-object/tab-geometry/geometry-item/geometry-item.component';\r\nimport { LightItemComponent } from './components/editor/tabs/tab-light/light-item/light-item.component';\r\nimport { TabShadowComponent } from './components/editor/tabs/tab-light/tab-shadow/tab-shadow.component';\r\nimport { TabLightsComponent } from './components/editor/tabs/tab-light/tab-lights/tab-lights.component';\r\nimport { TabControlsComponent } from '../_shared/components/editor/tabs/tab-controls/tab-controls.component';\r\nimport { TabControlComponent } from '../_shared/components/editor/tabs/tab-controls/tab-control/tab-control.component';\r\nimport { TabSceneSettingsComponent } from './components/editor/tabs/tab-scene/tab-scene-settings/tab-scene-settings.component';\r\nimport { TemplateSidebarComponent } from './components/editor/sidebar/template-sidebar/sidebar.component';\r\nimport { ProjectSidebarComponent } from './components/editor/sidebar/project-sidebar/project-sidebar.component';\r\nimport { TabTemplateComponent } from './components/editor/tabs/tab-template/tab-template.component';\r\nimport { TemplateListComponent } from './components/editor/tabs/tab-template/template-list/template-list.component';\r\nimport { TemplateItemComponent } from './components/editor/tabs/tab-template/template-item/template-item.component';\r\nimport { LoadingLayerComponent } from './components/viewport/loading-layer/loading-layer.component';\r\nimport { SidebarLockComponent } from './components/editor/sidebar/sidebar-lock/sidebar-lock.component';\r\nimport { TabTemplateCreateFormComponent } from './components/editor/tabs/tab-template-create-form/tab-template-create-form.component';\r\nimport { TabProjectInfoComponent } from './components/editor/tabs/tab-project-info/tab-project-info.component';\r\nimport { TabProjectSettingComponent } from './components/editor/tabs/tab-project-setting/tab-project-setting.component';\r\nimport { ViewerSidebarComponent } from './components/editor/sidebar/viewer-sidebar/viewer-sidebar.component';\r\nimport { ClientEditToolbarComponent } from './components/viewport/client-edit-toolbar/client-edit-toolbar.component';\r\nimport { ClientViewportComponent } from './components/viewport/client-viewport.component';\r\nimport { TabViewerSceneComponent } from './components/editor/tabs/tab-viewer-scene/tab-viewer-scene.component';\r\nimport { PanelMeshCustomizeComponent } from './components/panels/panel-mesh-customize/panel-mesh-customize.component';\r\nimport { ModalExportImageComponent } from './components/modals/modal-export-image/modal-export-image.component';\r\nimport { ItemViewportComponent } from './components/viewport/item-viewport.component';\r\n\r\n\r\n// Shared\r\n\r\n@NgModule({\r\n    declarations: [\r\n        ...pipes,\r\n        ...directives,\r\n        DebounceInputDirective,\r\n        CanAccessDirective,\r\n        UploadFileComponent,\r\n        Vector3Component,\r\n        InpSwitchComponent,\r\n        InpRotationComponent,\r\n        InpTextComponent,\r\n        SelectBoxComponent,\r\n        InpColorComponent,\r\n        TransparentImgComponent,\r\n        InpTextureComponent,\r\n        InpSelectComponent,\r\n        ImageLibraryComponent,\r\n        ImageLibraryItemComponent,\r\n        InpRangeComponent,\r\n        InpSwitchGroupComponent,\r\n        InpColorGroupComponent,\r\n        InpRangeGroupComponent,\r\n        InpRotationGroupComponent,\r\n        InpVector3GroupComponent,\r\n        InpSelectGroupComponent,\r\n        InpTextGroupComponent,\r\n        InpNumberComponent,\r\n        InpNumberGroupComponent,\r\n        ViewportComponent,\r\n        MaskLayerComponent,\r\n        DroppableLayerComponent,\r\n        ForegroundLayerComponent,\r\n        CanvasLayerComponent,\r\n        MeshGeometryComponent,\r\n        MaterialInputsComponent,\r\n        InpTextureGroupComponent,\r\n        PropInputsComponent,\r\n        ObjectToolbarComponent,\r\n        MeshGeometryTabMaterialComponent,\r\n        MeshGeometryTabPropertiesComponent,\r\n        MeshGeometryTabGeometryComponent, \r\n        PanelModelObjectComponent, \r\n        PanelModelObjectTabMeshesComponent, \r\n        PanelModelObjectTabPropertiesComponent,\r\n        CollapseMeshMaterialComponent,\r\n        PanelLightComponent, \r\n        PanelLightTabParamsComponent, \r\n        PanelLightTabPropertiesComponent,\r\n        ForegroundLayerItemComponent, \r\n        EditorToolbarComponent,\r\n        InpTextareaComponent, \r\n        InpTextareaGroupComponent,\r\n        InpRadioComponent, \r\n        InpRadioGroupComponent, \r\n        VectorControlsComponent,\r\n        TabEditorInfoComponent,\r\n        TabEditorSettingComponent,\r\n        TabGeometryComponent,\r\n        TabModelComponent,\r\n        TabObjectComponent,\r\n        ModelListComponent,\r\n        ModelItemComponent,\r\n        DraggingItemComponent,\r\n        DroppableAreaComponent,\r\n        TabLightComponent,\r\n        TabSceneComponent,\r\n        TabBackgroundComponent,\r\n        TabForegroundComponent,\r\n        ForegroundItemComponent,\r\n        TabCameraComponent,\r\n        ModelSearchComponent,\r\n        DraggingGeometryComponent,\r\n        GeometryItemComponent,\r\n        LightItemComponent,\r\n        TabShadowComponent,\r\n        TabLightsComponent,\r\n        TabControlsComponent,\r\n        TabControlComponent,\r\n        TabSceneSettingsComponent,\r\n        TemplateSidebarComponent,\r\n        ProjectSidebarComponent,\r\n        TabTemplateComponent,\r\n        TemplateListComponent,\r\n        TemplateItemComponent,\r\n        LoadingLayerComponent,\r\n        SidebarLockComponent,\r\n        TabTemplateCreateFormComponent,\r\n        TabProjectInfoComponent,\r\n        TabProjectSettingComponent,\r\n        ViewerSidebarComponent,\r\n        ClientEditToolbarComponent,\r\n        ClientViewportComponent,\r\n        TabViewerSceneComponent,\r\n        PanelMeshCustomizeComponent,\r\n        ModalExportImageComponent,\r\n        ItemViewportComponent\r\n\r\n    ],\r\n    imports: [CommonModule, FormsModule, RouterModule, HttpClientModule, ReactiveFormsModule, TranslateModule, AppUIModule],\r\n    exports: [\r\n        ...pipes,\r\n        ...directives,\r\n        FormsModule,\r\n        RouterModule,\r\n        HttpClientModule,\r\n        ReactiveFormsModule,\r\n        CanAccessDirective,\r\n        TranslateModule,\r\n        ImageLibraryComponent,\r\n        UploadFileComponent,\r\n        InpSwitchComponent,\r\n        Vector3Component,\r\n        InpRotationComponent,\r\n        InpTextComponent,\r\n        SelectBoxComponent,\r\n        InpColorComponent,\r\n        InpTextureComponent,\r\n        InpSelectComponent,\r\n        InpRangeComponent,\r\n        InpNumberComponent,\r\n        InpSwitchGroupComponent,\r\n        InpVector3GroupComponent,\r\n        InpRotationGroupComponent,\r\n        InpTextGroupComponent,\r\n        InpColorGroupComponent,\r\n        InpSelectGroupComponent,\r\n        InpRangeGroupComponent,\r\n        InpNumberGroupComponent,\r\n        InpTextureGroupComponent,\r\n        PropInputsComponent,\r\n        ViewportComponent,\r\n        ForegroundLayerComponent,\r\n        MaskLayerComponent,\r\n        DroppableLayerComponent,\r\n        CanvasLayerComponent,\r\n        MeshGeometryComponent,\r\n        MaterialInputsComponent,\r\n        CollapseMeshMaterialComponent,\r\n        ObjectToolbarComponent,\r\n        MeshGeometryTabGeometryComponent,\r\n        MeshGeometryTabMaterialComponent,\r\n        MeshGeometryTabPropertiesComponent,\r\n        PanelModelObjectComponent,\r\n        PanelModelObjectTabMeshesComponent,\r\n        PanelModelObjectTabPropertiesComponent,\r\n        PanelLightComponent,\r\n        PanelLightTabParamsComponent,\r\n        PanelLightTabPropertiesComponent,\r\n        ForegroundLayerItemComponent,\r\n        EditorToolbarComponent,\r\n        InpTextareaComponent,\r\n        InpTextareaGroupComponent,\r\n        InpRadioComponent,\r\n        InpRadioGroupComponent,\r\n        VectorControlsComponent,\r\n        TabEditorInfoComponent,\r\n        TabEditorSettingComponent,\r\n        TabGeometryComponent,\r\n        TabModelComponent,\r\n        TabObjectComponent,\r\n        ModelListComponent,\r\n        ModelItemComponent,\r\n        DraggingItemComponent,\r\n        DroppableAreaComponent,\r\n        TabLightComponent,\r\n        TabSceneComponent,\r\n        TabBackgroundComponent,\r\n        TabForegroundComponent,\r\n        ForegroundItemComponent,\r\n        TabCameraComponent,\r\n        ModelSearchComponent,\r\n        DraggingGeometryComponent,\r\n        GeometryItemComponent,\r\n        LightItemComponent,\r\n        TabShadowComponent,\r\n        TabLightsComponent,\r\n        TabControlsComponent,\r\n        TabControlComponent,\r\n        TabSceneSettingsComponent,\r\n        TemplateSidebarComponent,\r\n        ProjectSidebarComponent,\r\n        TabTemplateComponent,\r\n        TemplateListComponent,\r\n        TemplateItemComponent,\r\n        SidebarLockComponent,\r\n        LoadingLayerComponent,\r\n        TabTemplateCreateFormComponent,\r\n        TabProjectInfoComponent,\r\n        TabProjectSettingComponent,\r\n        ViewerSidebarComponent,\r\n        ClientEditToolbarComponent,\r\n        ClientViewportComponent,\r\n        TabViewerSceneComponent,\r\n        PanelMeshCustomizeComponent,\r\n        ItemViewportComponent\r\n\r\n    ]\r\n})\r\nexport class SharedModule { }","export interface MenuIcon {\r\n  type: 'class' | 'icon' | 'img';\r\n  value: string;\r\n  theme?: 'outline' | 'twotone' | 'fill';\r\n  spin?: boolean;\r\n  twoToneColor?: string;\r\n  iconfont?: string;\r\n}\r\n\r\nexport interface Menu {\r\n  [key: string]: any;\r\n  text: string;\r\n  i18n?: string;\r\n  group?: boolean;\r\n  link?: string;\r\n\r\n  linkExact?: boolean;\r\n  externalLink?: string;\r\n  target?: '_blank' | '_self' | '_parent' | '_top';\r\n  icon?: string | MenuIcon | null;\r\n  badge?: number;\r\n  badgeDot?: boolean;\r\n  badgeStatus?: string;\r\n  disabled?: boolean;\r\n  hide?: boolean;\r\n  hideInBreadcrumb?: boolean;\r\n  acl?: any;\r\n  shortcut?: boolean;\r\n  shortcutRoot?: boolean;\r\n  reuse?: boolean;\r\n  open?: boolean;\r\n  children?: Menu[];\r\n}\r\n\r\nexport const menuData = [\r\n  {\r\n    title: 'Dashboard',\r\n    path: 'dashboard',\r\n    icon: 'bar-chart',\r\n    roles: ['ROLE_ADMIN', 'ROLE_AGENCY', 'ROLE_AFFILIATE'],\r\n    childs: [\r\n      {\r\n        title: 'Overview',\r\n        path: 'overview',\r\n        icon: 'radar-chart',\r\n        roles: ['ROLE_ADMIN', 'ROLE_AGENCY', 'ROLE_AFFILIATE']\r\n      },\r\n      {\r\n        title: 'Analysis',\r\n        path: 'analysis',\r\n        icon: 'radar-chart',\r\n        roles: ['ROLE_ADMIN', 'ROLE_AGENCY']\r\n      },\r\n      {\r\n        title: 'Report',\r\n        path: 'report',\r\n        icon: 'radar-chart',\r\n        roles: ['ROLE_ADMIN', 'ROLE_AGENCY']\r\n      }\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: 'Telco',\r\n    path: '',\r\n    icon: 'global',\r\n    roles: ['ROLE_ADMIN'],\r\n    childs: [\r\n      {\r\n        title: 'Telcos',\r\n        path: 'telcos',\r\n        icon: 'bank',\r\n        roles: ['ROLE_ADMIN', 'ROLE_AGENCY']\r\n      },\r\n      {\r\n        title: 'Telco Categories',\r\n        path: 'payment-packages',\r\n        icon: 'bank',\r\n        roles: ['ROLE_ADMIN', 'ROLE_AGENCY']\r\n      }\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: 'SIM',\r\n    path: 'sims',\r\n    icon: 'pages',\r\n    roles: ['ROLE_AGENCY', 'ROLE_AFFILIATE', 'ROLE_ADMIN'],\r\n    childs: [\r\n      {\r\n        title: 'Sims',\r\n        path: 'sims',\r\n        roles: ['ROLE_ADMIN']\r\n      },\r\n      {\r\n        title: 'Sims Agency',\r\n        path: 'sims-agency',\r\n        roles: ['ROLE_AGENCY']\r\n      },\r\n      {\r\n        title: 'Sims Affiliate',\r\n        path: 'sims-affiliate',\r\n        roles: ['ROLE_AFFILIATE']\r\n      },\r\n      {\r\n        title: 'Sim Categories',\r\n        path: 'simcategories',\r\n        roles: ['ROLE_AGENCY', 'ROLE_ADMIN']\r\n      },\r\n      {\r\n        title: 'Sims Reservations',\r\n        path: 'sims-affiliate-reservations',\r\n        roles: ['ROLE_AFFILIATE']\r\n      },\r\n      {\r\n        title: 'Sim Categories',\r\n        path: 'simcategories',\r\n        roles: ['ROLE_AFFILIATE']\r\n      }\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: 'Agency',\r\n    path: 'agencies',\r\n    icon: 'user',\r\n\r\n    roles: ['ROLE_ADMIN'],\r\n    childs: [\r\n      {\r\n        title: 'Agencies List',\r\n        path: 'agencies',\r\n        roles: ['ROLE_ADMIN']\r\n      },\r\n      {\r\n        title: 'Agencies Approval',\r\n        path: 'agencies-approval',\r\n        roles: ['ROLE_ADMIN']\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    title: 'Sub Agency',\r\n    path: 'sub-agencies',\r\n    icon: 'user',\r\n    roles: ['ROLE_AGENCY']\r\n  },\r\n  {\r\n    title: 'E-Commerce',\r\n    path: 'ecommerce',\r\n    icon: 'shop',\r\n    roles: ['ROLE_AFFILIATE', 'ROLE_AGENCY'],\r\n    childs: [\r\n      {\r\n        title: 'Orders Waiting',\r\n        icon: 'shopping-cart',\r\n        path: 'agency-orders-waiting',\r\n        roles: ['ROLE_AGENCY']\r\n      },\r\n      {\r\n        title: 'Orders',\r\n        icon: 'shopping-cart',\r\n        path: 'agency-orders',\r\n        roles: ['ROLE_AGENCY']\r\n      },\r\n      {\r\n        title: 'Carts',\r\n        icon: 'shopping-cart',\r\n        path: 'affiliate-carts',\r\n        roles: ['ROLE_AFFILIATE']\r\n      }\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: 'Affiliate',\r\n    path: 'affiliates',\r\n    icon: 'team',\r\n    roles: ['ROLE_ADMIN'],\r\n    childs: [\r\n      {\r\n        title: 'Affiliates List',\r\n        path: 'affiliates',\r\n        roles: ['ROLE_ADMIN']\r\n      },\r\n      {\r\n        title: 'Affiliates Approval',\r\n        path: 'affiliates-approval',\r\n        roles: ['ROLE_ADMIN']\r\n      }\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: 'Messages',\r\n    path: 'messages',\r\n    icon: 'message',\r\n    roles: ['ROLE_ADMIN']\r\n  },\r\n\r\n  {\r\n    title: 'Pages',\r\n    path: 'cms-pages',\r\n    icon: 'copy',\r\n    roles: ['ROLE_ADMIN'],\r\n    childs: [\r\n      { title: 'Page List', path: 'cms-pages', roles: ['ROLE_ADMIN'] },\r\n      { title: 'New Page', path: 'cms-pages/item', roles: ['ROLE_ADMIN'] }\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: 'Posts',\r\n    path: 'cms-posts',\r\n    icon: 'copy',\r\n    roles: ['ROLE_ADMIN'],\r\n    childs: [\r\n      { title: 'Post List', path: 'cms-posts', roles: ['ROLE_ADMIN'] },\r\n      { title: 'New Post', path: 'cms-posts/item', roles: ['ROLE_ADMIN'] }\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: 'Location',\r\n    path: '/pages',\r\n    icon: 'compass',\r\n    roles: ['ROLE_ADMIN'],\r\n    childs: [\r\n      { title: 'Ward', path: 'wards', roles: ['ROLE_ADMIN'] },\r\n      { title: 'District', path: 'districts', roles: ['ROLE_ADMIN'] },\r\n      { title: 'Province', path: 'provinces', roles: ['ROLE_ADMIN'] }\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: 'Reports',\r\n    path: 'reports',\r\n    icon: 'fund',\r\n    roles: ['ROLE_ADMIN', 'ROLE_AGENCY', 'ROLE_AFFILIATE'],\r\n    childs: [\r\n      { title: 'Report', path: 'reports2', roles: ['ROLE_ADMIN'] },\r\n      { title: 'Report', path: 'report-agencies', roles: ['ROLE_AGENCY'] },\r\n      {\r\n        title: 'Invoices',\r\n        icon: 'file',\r\n        path: 'affiliate-invoices',\r\n        roles: ['ROLE_AFFILIATE']\r\n      }\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: 'Settings',\r\n    path: '/page/settings',\r\n    icon: 'setting',\r\n    roles: ['ROLE_ADMIN'],\r\n    childs: [\r\n      { title: 'Genaral', path: 'settings/genaral', roles: ['ROLE_ADMIN'] }\r\n    ]\r\n  }\r\n];\r\n","import { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\nimport { LoaderLib, TransparentBase64Image } from '@app/_3D/libs/three.libs';\nimport Object2Image from '@app/_3D/modules/object-image';\nimport { App3DService } from '@app/_3D/services/app-3d.service';\nimport { assignValue, inArray, isArray, isObject } from '@app/_core/helpers/utils';\nimport { ImageModel, ImageService, imgListTypes } from '@app/_store/images';\nimport { BaseComponent } from '../../base/base.component';\nimport { ImageLibraryService, ApiParams } from './image-library.service';\n\n@Component({\n    selector: 'modal-image-library',\n    templateUrl: './image-library.component.html',\n    styleUrls: ['./image-library.component.scss']\n})\nexport class ImageLibraryComponent extends BaseComponent implements OnInit {\n\n    @Input() app: App3DService;\n    title: string = \"Image Library\";\n    oldTitle: string = \"Image Library\";\n    \n    url: string = '';\n    params: ApiParams = {};\n    lastUrl: string = '';\n    lastParams: ApiParams = {};\n    \n\n    mode = 'single';\n\n    results: any;\n\n    images: any[] = [];\n\n\n    isVisible = false;\n    isConfirmLoading = false;\n\n    onDone: (...args:any[]) => any = null;\n\n    onCancel: (...args:any[]) => any = null;\n\n    listType:string = \"list\";\n    oldListType: string = \"list\";\n\n\n\n\n    constructor(\n        private events: ImageLibraryService,\n        private imageService: ImageService,\n        private cd: ChangeDetectorRef\n    ) {\n        super();\n        this.registerEventService(events, {\n            open: e => this.show(e.config, e.callback, e.cancel)\n        });\n    }\n    \n\n    onInit() {\n        this.activeEventServiceRegistered(this.events);\n    }\n    onDestroy(){\n        this.deactiveEventServiceRegistered(this.events);\n    }\n\n    show(config, callback?:any, cancel?:any) {\n        this.onDone = null;\n        this.onCancel = null;\n        if (isObject(config)) {\n            if(config.title) this.title = config.title;\n            if(config.url) this.url = config.url;\n            if(config.mode && inArray(['single', 'simple', 'many', 'one'], String(config.mode).toLowerCase())) this.mode = config.mode;\n            if(isObject(config.params)) assignValue(this.params, config.params);\n            if(config.listType && inArray(imgListTypes, config.listType)){\n                this.listType = config.listType;\n            }else{\n                this.listType = \"list\";\n            }\n            if(typeof callback == \"function\"){\n                this.onDone = callback;\n            }\n            else if(typeof config.done == \"function\"){\n                this.onDone = config.done;\n            }\n            if(typeof cancel == \"function\"){\n                this.onCancel = cancel;\n            }\n            \n            else if(typeof config.cancel == \"function\"){\n                this.onCancel = config.cancel;\n            }\n\n        }\n        this.showModal();\n    }\n\n    showModal(): void {\n        this.isVisible = true;\n        if(this.images.length == 0){\n            this.firstLoad();\n        }else if(this.listType != this.oldListType){\n            this.images = [];\n            this.firstLoad();\n        }\n    }\n\n\n    firstLoad(){\n        this.imageService.getImages(this.listType,this.params).subscribe(res => {\n            if(res.status){\n                if(res.data && res.data.length){\n                    this.appendImageFiles(res.data);\n                }\n            }\n        })\n    }\n\n    appendImageFiles(images:ImageModel[]){\n        images.map((image) => {\n            image.selected = false;\n            this.images.push(image);\n            if(image.extension == \"hdr\"){\n                this.proccessHDRThumbnail(image);\n            }\n        });\n    }\n\n    proccessHDRThumbnail(image: ImageModel){\n        image.thumbnail = TransparentBase64Image;\n        if(this.app){\n            this.app.engine.Loader.LoadEnv({\n                format: \"hdr\",\n                file: image.source || image.url || image.file\n            }, function (envMap, texture) {\n                var src = Object2Image.get2DMap(texture, 240, 120);\n                if(src){\n                    image.thumbnail = src;\n                }\n            });\n        }\n    }\n\n    selectImage(id:any){\n\n        if(this.mode != \"many\"){\n            this.images.map((image, index, array) => {\n                image.selected = image.id == id;\n            })\n        }\n\n        // this.handleOk();\n    }\n\n    handleOk(): void {\n        let result = null;\n        if(this.mode != \"many\"){\n            this.images.map((image, index, array) => {\n                if(image.selected) {\n                    result = image;\n                    image.selected = false;\n                }\n            });\n            if(!result) return window.alert(\"Vui lòng chọn ảnh\");\n            \n        }else{\n            result = [];\n            this.images.map((image, index, array) => {\n                if(image.selected) {\n                    result.push(image);\n                    image.selected = false;\n                }\n            });\n            if(!result.length) return window.alert(\"Vui lòng chọn ảnh\");\n            \n        }\n\n\n        this.isConfirmLoading = true;\n        setTimeout(() => {\n            if(typeof this.onDone == \"function\"){\n                this.onDone(result);\n            }\n\n            this.isVisible = false;\n            this.oldListType = this.listType;\n            this.isConfirmLoading = false;\n        }, 1000);\n    }\n\n    handleCancel(): void {\n        this.isVisible = false;\n        this.oldListType = this.listType;\n        if(typeof this.onCancel == \"function\"){\n            this.onCancel();\n        }\n    }\n\n}\n","<nz-modal \n    [(nzVisible)]=\"isVisible\" \n    [nzTitle]=\"modalTitle\" \n    [nzContent]=\"modalContent\" \n    [nzFooter]=\"modalFooter\" \n    (nzOnCancel)=\"handleCancel()\"\n    [nzWidth]=\"1200\"\n    >\n    \n    <ng-template #modalTitle>{{title}}</ng-template>\n\n    <ng-template #modalContent>\n        <div class=\"images image-results\">\n            <div class=\"img-preview img-processing img-image-preview\" [class.selected]=\"image.selected\"  *ngFor=\"let image of images\" (click)=\"selectImage(image.id)\">\n                <div class=\"img-image\">\n                    <img src=\"{{image.thumbnail}}\" alt=\"{{image.filename}}\">\n                </div>\n                <div class=\"img-details\">\n                    <div class=\"img-size\">\n                        <span>\n                            <strong>{{image.size}}</strong> {{image.size_unit}}\n                        </span>\n                    </div>\n                    <div class=\"img-filename\">\n                        {{image.filename}}\n                    </div>\n                </div>\n                <div class=\"img-success-mark\">\n                    <svg width=\"54px\" height=\"54px\" viewBox=\"0 0 54 54\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\"><title>Check</title><defs></defs><g id=\"Page-1\" stroke=\"none\" stroke-width=\"4\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\"><path d=\"M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\" id=\"Oval-2\" stroke-opacity=\"0.198794158\" stroke=\"#ffffff\" fill-opacity=\"0.816519475\" fill=\"#00bc00\" sketch:type=\"MSShapeGroup\"></path></g></svg>\n                </div>\n                <a href=\"javascript:void(0);\" class=\"img-remove btn-remove-image-file\">\n                    <svg width=\"54px\" height=\"54px\" viewBox=\"0 0 54 54\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\"><title>Xóa</title><defs></defs><g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\"><g id=\"Check-+-Oval-2\" sketch:type=\"MSLayerGroup\" stroke=\"#747474\" stroke-opacity=\"0.198794158\" fill=\"#FF0000\" fill-opacity=\"0.816519475\"><path d=\"M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\" id=\"Oval-2\" sketch:type=\"MSShapeGroup\"></path></g></g></svg>\n                </a>\n                <div class=\"img-outer-filename\">\n                    <span>\n                        {{image.filename}}\n                    </span>\n                </div>\n            </div>\n\n        </div>\n    </ng-template>\n\n    <ng-template #modalFooter>\n        <button nz-button nzType=\"primary\" (click)=\"handleOk()\" [nzLoading]=\"isConfirmLoading\">{{'Choose' | translate}}</button>\n        <button nz-button nzType=\"default\" (click)=\"handleCancel()\">{{'Cancel' | translate}}</button>\n    </ng-template>\n</nz-modal>","import { NgModule } from '@angular/core';\r\nimport { registerLocaleData } from '@angular/common';\r\nimport en from '@angular/common/locales/en';\r\n\r\nimport { ToastrModule, ToastContainerModule } from 'ngx-toastr';\r\nimport { Angulartics2Module } from 'angulartics2';\r\n\r\nimport { NzNotificationModule } from 'ng-zorro-antd/notification';\r\nimport { NzRadioModule } from 'ng-zorro-antd/radio';\r\nimport { NzButtonModule } from 'ng-zorro-antd/button';\r\nimport { NzTabsModule } from 'ng-zorro-antd/tabs';\r\nimport { NzLayoutModule } from 'ng-zorro-antd/layout';\r\nimport { NzPopoverModule } from 'ng-zorro-antd/popover';\r\nimport { NzSliderModule } from 'ng-zorro-antd/slider';\r\nimport { NzSwitchModule } from 'ng-zorro-antd/switch';\r\nimport { NzModalModule } from 'ng-zorro-antd/modal';\r\nimport { NzIconModule } from 'ng-zorro-antd/icon';\r\nimport { NzMessageModule } from 'ng-zorro-antd/message';\r\nimport { NzAlertModule } from 'ng-zorro-antd/alert';\r\nimport { NzTransferModule } from 'ng-zorro-antd/transfer';\r\nimport { NzTimelineModule } from 'ng-zorro-antd/timeline';\r\nimport { NzCheckboxModule } from 'ng-zorro-antd/checkbox';\r\nimport { NzPopconfirmModule } from 'ng-zorro-antd/popconfirm';\r\nimport { NzEmptyModule } from 'ng-zorro-antd/empty';\r\nimport { NzPaginationModule } from 'ng-zorro-antd/pagination';\r\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\r\nimport { NzInputModule } from 'ng-zorro-antd/input';\r\nimport { NzInputNumberModule } from 'ng-zorro-antd/input-number';\r\nimport { NzStatisticModule } from 'ng-zorro-antd/statistic';\r\nimport { NzDrawerModule } from 'ng-zorro-antd/drawer';\r\nimport { NzSkeletonModule } from 'ng-zorro-antd/skeleton';\r\nimport { NzProgressModule } from 'ng-zorro-antd/progress';\r\nimport { NzBadgeModule } from 'ng-zorro-antd/badge';\r\nimport { NzPageHeaderModule } from 'ng-zorro-antd/page-header';\r\nimport { NzListModule } from 'ng-zorro-antd/list';\r\nimport { NzTagModule } from 'ng-zorro-antd/tag';\r\nimport { NzAvatarModule } from 'ng-zorro-antd/avatar';\r\nimport { NzBreadCrumbModule } from 'ng-zorro-antd/breadcrumb';\r\nimport { NzSpinModule } from 'ng-zorro-antd/spin';\r\nimport { NzDividerModule } from 'ng-zorro-antd/divider';\r\nimport { NzFormModule } from 'ng-zorro-antd/form';\r\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\r\nimport { NzRateModule } from 'ng-zorro-antd/rate';\r\nimport { NzDescriptionsModule } from 'ng-zorro-antd/descriptions';\r\nimport { NzTableModule } from 'ng-zorro-antd/table';\r\nimport { NzDropDownModule } from 'ng-zorro-antd/dropdown';\r\nimport { NzUploadModule } from 'ng-zorro-antd/upload';\r\nimport { NzSelectModule } from 'ng-zorro-antd/select';\r\nimport { NzCardModule } from 'ng-zorro-antd/card';\r\nimport { en_US, NZ_I18N } from 'ng-zorro-antd/i18n';\r\nimport { NzPipesModule } from 'ng-zorro-antd/pipes';\r\nimport { NzAffixModule } from 'ng-zorro-antd/affix';\r\n\r\nregisterLocaleData(en);\r\n\r\nconst ANT_MODULES = [\r\n    NzAffixModule,\r\n    NzCardModule,\r\n    NzSelectModule,\r\n    NzUploadModule,\r\n    NzDropDownModule,\r\n    NzTableModule,\r\n    NzDescriptionsModule,\r\n    NzToolTipModule,\r\n    NzRateModule,\r\n    NzFormModule,\r\n    NzDividerModule,\r\n    NzSpinModule,\r\n    NzButtonModule,\r\n    NzBreadCrumbModule,\r\n    NzAvatarModule,\r\n    NzTagModule,\r\n    NzListModule,\r\n    NzPageHeaderModule,\r\n    NzBadgeModule,\r\n    NzProgressModule,\r\n    NzSkeletonModule,\r\n    NzDrawerModule,\r\n    NzStatisticModule,\r\n    NzInputModule,\r\n    NzInputNumberModule,\r\n    NzDatePickerModule,\r\n    NzPaginationModule,\r\n    NzEmptyModule,\r\n    NzPopconfirmModule,\r\n    NzCheckboxModule,\r\n    NzTimelineModule,\r\n    NzTransferModule,\r\n    NzAlertModule,\r\n    NzMessageModule,\r\n    NzSliderModule,\r\n    NzSwitchModule,\r\n    NzModalModule,\r\n    NzIconModule,\r\n    NzPopoverModule,\r\n    NzLayoutModule,\r\n    NzRadioModule,\r\n    NzTabsModule,\r\n    NzNotificationModule,\r\n    NzPipesModule,\r\n];\r\nimport { NgxInfiniteGridModule } from '@egjs/ngx-infinitegrid';\r\n\r\n@NgModule({\r\n    imports: [\r\n        ToastrModule.forRoot({\r\n            preventDuplicates: true,\r\n        }),\r\n        Angulartics2Module.forRoot(),\r\n        ToastContainerModule,\r\n        ...ANT_MODULES,\r\n        NgxInfiniteGridModule,\r\n    ],\r\n    exports: [Angulartics2Module, ...ANT_MODULES, NgxInfiniteGridModule],\r\n    providers: [{ provide: NZ_I18N, useValue: en_US }],\r\n})\r\nexport class AppUIModule { }\r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { BaseComponent } from '../../base/base.component';\nimport { ViewportService } from '../viewport.service';\n\n@Component({\n    selector: 'viewport-loading-layer',\n    templateUrl: './loading-layer.component.html',\n    styleUrls: ['./loading-layer.component.scss']\n})\nexport class LoadingLayerComponent extends BaseComponent implements OnInit {\n    isActive: boolean = false;\n    isInited: boolean = false;\n    constructor(private events: ViewportService, private cd: ChangeDetectorRef) {\n        super();\n    }\n\n    onChangeSubEvents(){\n        this.registerEventService(this.subEvents, {\n            \"show:loading|dispatch\": () => {\n                this.isActive = true;\n                // this.cd.checkNoChanges();\n            },\n            \"hide:loading|dispatch\": () => {\n                this.isActive = false;\n                // this.cd.checkNoChanges();\n            }\n        });\n    }\n    onInit(): void {\n        // this.activeEventServiceRegistered(this.viewport);\n\n    }\n    onDestroy(){\n        // this.deactiveEventServiceRegistered(this.viewport);\n    }\n\n}\n","<div class=\"loading-wrapper\" [class.active]=\"isActive\">\n    <div id=\"ctn-preloader\" class=\"ctn-preloader\">\n        <div class=\"round_spinner\">\n            <Div class=\"spinner\"></Div>\n            <Div class=\"text\">\n                <H4 class=\"title\">Đang Tải...</H4>\n            </Div>\n        </div>\n    </div>\n    \n</div>","import { ChangeDetectorRef, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\nimport { assignValue } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { FG_DEFAULT_DATA, FG_ITEM, FG_POSKEYS } from '@app/_shared/shared.type';\nimport { ViewportService } from '../../viewport.service';\n\n@Component({\n    selector: 'foreground-layer-item',\n    templateUrl: './foreground-layer-item.component.html',\n    styleUrls: ['./foreground-layer-item.component.scss']\n})\nexport class ForegroundLayerItemComponent extends BaseComponent implements OnInit {\n\n    @Input() data: FG_ITEM = null;\n    @Input() index: number = 0;\n    @Output() update = new EventEmitter<any>();\n    @Output() clickDelete = new EventEmitter<FG_ITEM>();\n    bgImageUrl: string;\n    zIndex: number = 0;\n\n    app: AppEditorService = null;\n\n    updateEvent: (e) => any = e => {\n        \n        if (e.data.secret_key == this.data.secret_key) {\n            this.data = e.data;\n            this.setStyle();\n        }\n    }\n    constructor(private events: ViewportService, private cd: ChangeDetectorRef) {\n        super();\n    }\n    onChangeSubEvents(){\n        this.registerEventService(this.subEvents, 'app.set', e => this.setApp(e.app), true)\n    }\n\n    onInit(): void {\n        this.setStyle();\n\n    }\n    onDestroy(){\n        if(this.app){\n            this.app.off(\"scene.foregrounds.updated\", this.updateEvent)\n        }\n    }\n    setStyle() {\n        let a = assignValue({}, FG_DEFAULT_DATA);\n        this.data = assignValue(a, this.data);\n        this.bgImageUrl = \"url(\" + this.data.url + \")\";\n        this.zIndex = 1 + this.index;\n        this.cd.detectChanges();\n    }\n\n    setApp(app: AppEditorService) {\n        this.app = app;\n        app.on(\"scene.foregrounds.updated\", this.updateEvent)\n\n    }\n}\n","<div \n    class=\"foreground-item\"\n    [style.background-image]=\"bgImageUrl\"\n    [style.z-index]=\"zIndex\"\n    [style.opacity]=\"data.opacity\"\n    [attr.data-repeat]=\"data.repeat\"\n    [attr.data-bg-size]=\"data.size\"\n    [attr.data-pos-x]=\"data.position.x\"\n    [attr.data-pos-y]=\"data.position.y\"\n></div>","import { Component, Output, EventEmitter, OnInit, ChangeDetectionStrategy, ChangeDetectorRef, Input } from '@angular/core';\r\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\r\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\r\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\r\n\r\nenum TabIndex {\r\n    Object = 0,\r\n    Scene = 1,\r\n    Light = 2,\r\n    Controls = 3,\r\n    settings  = 4\r\n}\r\n\r\n@Component({\r\n    selector: 'app-template-sidebar',\r\n    templateUrl: './sidebar.component.html',\r\n    styleUrls: ['./sidebar.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class TemplateSidebarComponent extends BaseComponent implements OnInit {\r\n\r\n    \r\n    prevTab: number = TabIndex.Object;\r\n    currentTab: number = TabIndex.Object;\r\n\r\n    loadedObject = false;\r\n    app: AppEditorService = null;\r\n    constructor(private cd: ChangeDetectorRef, private events: AppEditorEventService) {\r\n        super();\r\n    }\r\n    initFirst(){\r\n        this.app = this.events.app;\r\n    }\r\n    onInit() {\r\n        if(this.isChangeSubEvents){\r\n            this.app = this.subEvents.app;\r\n        }\r\n        this.cd.detectChanges();\r\n    }\r\n\r\n\r\n\r\n    onChangeTab(e) {\r\n        if(this.app && this.app.editor){\r\n            if(e.index == TabIndex.Light){\r\n                this.app.editor.showLightHelpers();\r\n            }else{\r\n                this.app.editor.hideLightHelpers();\r\n                this.app.editor.detachLight();\r\n            }\r\n        }\r\n        this.currentTab = e.index;\r\n        \r\n        this.cd.detectChanges();\r\n    }\r\n\r\n    onClickSearch(event) {\r\n        console.log(event);\r\n    }\r\n\r\n\r\n}\r\n","<nz-tabset [nzSelectedIndex]=\"currentTab\" nzTabPosition=\"top\" nzType=\"line\" class=\"main-tab\" (nzSelectChange)=\"onChangeTab($event)\">\r\n\r\n    <nz-tab [nzTitle]=\"iconObject\" [nzForceRender]=\"loadedObject\">\r\n        <ng-template #iconObject>\r\n            <img src=\"/assets/icons/new-design/tab-top/object.svg\" alt=\"Object\" />\r\n        </ng-template>\r\n        <app-tab-object></app-tab-object>\r\n    </nz-tab>\r\n\r\n\r\n    <nz-tab [nzTitle]=\"iconScene\">\r\n        <ng-template #iconScene>\r\n            <img src=\"/assets/icons/new-design/tab-top/scene.svg\" alt=\"Scene\" />\r\n        </ng-template>\r\n        <ng-template nz-tab>\r\n            <app-tab-scene></app-tab-scene>\r\n        </ng-template>\r\n    </nz-tab>\r\n\r\n    <nz-tab [nzTitle]=\"iconLight\">\r\n        <ng-template #iconLight>\r\n            <img src=\"/assets/icons/new-design/tab-top/light.svg\" alt=\"Lighr\" />\r\n        </ng-template>\r\n        <ng-template nz-tab>\r\n            <app-tab-light></app-tab-light>\r\n        </ng-template>\r\n    </nz-tab>\r\n\r\n    <nz-tab [nzTitle]=\"iconControls\">\r\n        <ng-template #iconControls>\r\n            <img src=\"/assets/icons/new-design/tab-top/control-camera.svg\" alt=\"Control Camera\" />\r\n        </ng-template>\r\n        <ng-template nz-tab>\r\n            <app-tab-controls></app-tab-controls>\r\n        </ng-template>\r\n    </nz-tab>\r\n    \r\n\r\n\r\n\r\n</nz-tabset>","import { Injectable } from '@angular/core';\nimport { EventManagerService } from '@app/_core/services/event-manager.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ViewportService extends EventManagerService {\n\n  constructor() {\n    super();\n  }\n}\n","import { Component, Output, EventEmitter, OnDestroy, OnInit, Input, ChangeDetectorRef } from '@angular/core';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\nimport { assignValue, assignWithout, copyByList, isArray, isObject } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { CategoryModel } from '@app/_store/category';\nimport { ItemModel, ItemService, ItemTableService } from '@app/_store/item';\nimport { TemplateService } from '@app/_store/template';\nimport { TemplateTableService } from '@app/_store/template/table';\n@Component({\n    selector: 'app-tab-template',\n    templateUrl: './tab-template.component.html',\n    styleUrls: ['./tab-template.component.scss']\n})\nexport class TabTemplateComponent extends BaseComponent implements OnInit, OnDestroy {\n    @Output()\n    clickItem: EventEmitter<any> = new EventEmitter();\n\n    @Input()\n    loaded: EventEmitter<any> = new EventEmitter();\n\n    @Output()\n    loadedChange: EventEmitter<any> = new EventEmitter();\n\n    mode: string = \"explore\";\n\n    searchStatus: string = 'ready';\n\n    categories: CategoryModel[] = [];\n\n    searchResults: ItemModel[] = [];\n\n    q = {\n        s: null,\n        category_id: null,\n    };\n\n\n    isSearching: boolean = false;\n\n    hasResult: boolean = false;\n\n    constructor(\n        public templateService: TemplateService,\n        // public templateTable: TemplateTableService,\n        private events: AppEditorEventService,\n        private cd: ChangeDetectorRef\n    ) {\n        super();\n    }\n\n    onInit(): void {\n        if (this.mode == \"explore\") {\n            this.explore();\n        } else {\n            this.search();\n        }\n    }\n\n    onDestroy() {\n\n\n    }\n\n    explore() {\n        this.subEvents.emit(\"component.checkchange\");\n        this.templateService.getByCategories({}).subscribe(rs => {\n            if (rs.status) {\n                this.categories = rs.data;\n\n                if (rs.data.length) {\n                    rs.data.map(cate => this.parseItemList(cate.templates));\n                }\n                this.subEvents.emit(\"component.checkchange\");\n                this.cd.detectChanges();\n            }\n        })\n    }\n\n    search() {\n        this.searchStatus = 'searching';\n        this.searchResults.splice(0);\n        this.subEvents.emit(\"component.checkchange\");\n        this.templateService.getAll(this.q).subscribe(rs => {\n            if (rs.count > 0) {\n                this.searchResults = rs.data;\n                this.parseItemList(this.searchResults);\n                this.searchStatus = 'done';\n                this.cd.detectChanges();\n            } else {\n                this.searchStatus = 'notfound';\n                this.cd.detectChanges();\n            }\n            this.subEvents.emit(\"component.checkchange\");\n\n        }, error => {\n            this.searchStatus = 'error';\n            this.subEvents.emit(\"component.checkchange\");\n            this.cd.detectChanges();\n        });\n    }\n\n    parseItemList(list) {\n        if (isArray(list)) {\n            list.map(item => this.parseItem(item));\n        }\n    }\n    parseItem(item) {\n        if (isObject(item)) {\n            // var rs = this.templateTable.first('*', { id: item.id });\n            // if (rs) {\n            //     // assignValue(item, copyByList(rs, ['name', 'id', 'category_id', 'status', 'description', 'status', '']))\n            //     assignWithout(item, rs, ['id', 'lights', 'meshes', 'objects']);\n            //     item.objects = rs.objects;\n            //     item.lights = rs.lights;\n            //     item.meshes = rs.meshes;\n            // }\n        }\n    }\n\n    onClickSearch() {\n        if (String(this.q.s).length) {\n            this.mode = \"search\";\n            this.search();\n        } else if (this.mode == \"search\") {\n            this.mode = \"explore\";\n        }\n    }\n\n    onLayoutComplete({ isLayout, endLoading }) {\n        if (!isLayout) {\n            endLoading();\n        }\n    }\n\n    // getFileUrl(files) {\n    //   const file = files.find((f) => f.quanlity === EMediaFileQuanlity.screen);\n    //   return (file && file.url) || '';\n    // }\n\n}\n","<div class=\"tab-inner\">\n    <h2>{{\"Template\"|translate}}</h2>\n    <div class=\"block search\">\n        <div class=\"search-inner\">\n            <nz-input-group nzSearch [nzSuffix]=\"suffixIconSearch\">\n                <input type=\"text\" nz-input placeholder=\"Find in 1.000.000 items\" [(ngModel)]=\"q.s\" />\n            </nz-input-group>\n            <ng-template #suffixIconSearch>\n                <button nz-button nzType=\"link\" (click)=\"onClickSearch()\">\n                    <em nz-icon nzType=\"search\"></em>\n                </button>\n            </ng-template>\n        </div>\n    </div>\n    <div class=\"store\">\n        <ng-container *ngIf=\"mode=='explore'; then thenTemplate; else elseTemplate\"></ng-container>\n        <ng-template #thenTemplate>\n            <div *ngFor=\"let cate of categories; let i=index\" class=\"cate-item\">\n                <template-list [items]=\"cate.templates\" [title]=\"cate.name\"></template-list>\n            </div>\n        </ng-template>\n        <ng-template #elseTemplate>\n            <ng-container [ngSwitch]=\"searchStatus\">\n                <p *ngSwitchCase=\"'done'\">\n                    <template-list [items]=\"searchResults\" title=\"Tất cả\"></template-list>\n                </p>\n                <p *ngSwitchCase=\"'notfound'\">\n                    {{\"Not Found\" | translate}}\n                </p>\n                <p *ngSwitchCase=\"'error'\">\n                    {{\"Error\" | translate}}\n                </p>\n                <p *ngSwitchDefault>\n                    {{\"searching...\" | translate}}\n                </p>\n            </ng-container>\n        </ng-template>\n    </div>\n</div>","import { ChangeDetectorRef, Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { assignValue, degreeToRadians, radianToDegrees, Str } from '@app/_core/helpers/utils';\nimport { EventManagerService } from '@app/_core/services/event-manager.service';\nimport { BaseInpGroupComponent } from '../base-inp-group/base-inp-group.component';\n\n@Component({\n  selector: 'inp-rotation-group',\n  templateUrl: './inp-rotation-group.component.html',\n  styleUrls: ['./inp-rotation-group.component.scss']\n})\nexport class InpRotationGroupComponent extends BaseInpGroupComponent implements OnInit, OnChanges {\n\n  @Input() events: EventManagerService;\n\n  degreSymbol : string = \"°\";\n  _value:any = {\n    x:0,\n    y:0,\n    z:0\n  };\n\n  canSync: boolean = false;\n\n  rotateCallnack =  e => {\n    if(e.value){\n      this.value = e.value;\n\n    }\n    this.syncFromParent();\n  };\n\n  constructor(private cd: ChangeDetectorRef) {\n    super();\n  }\n\n\n\n\n  onInit(): void {\n    this.inpInit();\n    this.syncFromParent();\n    this.canSync = true;\n    if(this.events){\n      this.events.on(\"props.rotation.change\",this.rotateCallnack)\n    }\n  }\n\n  onDestroy(){\n    if(this.events){\n      this.events.off(\"props.rotation.change\",this.rotateCallnack)\n    }\n  }\n\n\n  syncFromParent(){\n    assignValue(this._value, {\n      x: radianToDegrees(this.value.x),\n      y: radianToDegrees(this.value.y),\n      z: radianToDegrees(this.value.z)\n  });\n    this.cd.detectChanges();\n  }\n\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if(this.canSync){\n      \n      if(changes.value){\n        this.syncFromParent();\n      }\n    }\n    \n  }\n\n  updateVector(vector, event){\n    this.canSync = false;\n    assignValue(this.value, {\n      x: degreeToRadians(this._value.x),\n      y: degreeToRadians(this._value.y),\n      z: degreeToRadians(this._value.z),\n      \n    })\n    this.emitChange();\n    this.canSync = true;\n  }\n\n  formatterX = (value: number) => `x: ${value} ${this.degreSymbol}`;\n  parserX = (value: string) => Str.replace(value, ['x', ':', this.degreSymbol, ' '], '');\n\n  formatterY = (value: number) => `y: ${value} ${this.degreSymbol}`;\n  parserY = (value: string) => Str.replace(value, ['y', ':', this.degreSymbol, ' '], '');\n  \n  formatterZ = (value: number) => `z: ${value} ${this.degreSymbol}`;\n  parserZ = (value: string) => Str.replace(value, ['z', ':', this.degreSymbol, ' '], '');\n\n}\n","<div class=\"label\">{{label | translate}}</div>\n<div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\">\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"8\">\n        <div class=\"inner-box\">\n            <nz-input-number \n                [(ngModel)]=\"_value.x\" \n                name=\"x\" [nzStep]=\"0.01\" \n                (ngModelChange)=\"updateVector('x', $event)\" \n                [nzFormatter]=\"formatterX\"\n                [nzParser]=\"parserX\">\n            </nz-input-number>\n        </div>\n    </div>\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"8\">\n        <div class=\"inner-box\">\n            <nz-input-number \n                [(ngModel)]=\"_value.y\" \n                name=\"x\" \n                [nzStep]=\"0.01\" \n                (ngModelChange)=\"updateVector('y', $event)\"\n                [nzFormatter]=\"formatterY\"\n                [nzParser]=\"parserY\">\n            </nz-input-number>\n        </div>\n    </div>\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"8\">\n        <div class=\"inner-box\">\n            <nz-input-number \n                [(ngModel)]=\"_value.z\" \n                name=\"x\" \n                [nzStep]=\"0.01\" \n                (ngModelChange)=\"updateVector('z', $event)\"\n                [nzFormatter]=\"formatterZ\"\n                [nzParser]=\"parserZ\">\n            </nz-input-number>\n        </div>\n    </div>\n</div>","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, Input, OnInit } from '@angular/core';\nimport { TransparentBase64Image } from '@app/_3D/libs/three.libs';\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\nimport { CallbackFunction } from '@app/_shared/shared.type';\nimport { BaseComponent } from '../base/base.component';\nimport { ClientEditToolbarService } from './client-edit-toolbar/client-edit-toolbar.service';\nimport { ObjectToolbarService } from './object-toolbar/object-toolbar.service';\nimport { ViewportService } from './viewport.service';\nimport html2canvas from '@app/_core/libs/html2canvas.esm.js';\n@Component({\n    selector: 'app-client-viewport',\n    templateUrl: './client-viewport.component.html',\n    styleUrls: ['./client-viewport.component.scss']\n})\nexport class ClientViewportComponent extends BaseComponent implements OnInit {\n    @Input() app: any;\n    app3D: AppEditorService = null;\n    canvas: Element = null;\n    droppable: boolean = false;\n    isLoad: boolean = false;\n    appTem: AppEditorService = null;\n    subToolbar: ClientEditToolbarService = null;\n    previewImage = TransparentBase64Image;\n    \n    constructor(\n        private elemRef: ElementRef,\n        private events: ViewportService,\n        private toolbar: ClientEditToolbarService,\n        private cd: ChangeDetectorRef\n    ) {\n        super();\n    }\n\n    onChangeSubEvents(){\n        // this.service.on(, true);\n\n        this.registerEventService(this.subEvents, {\n            'app.set|dispatch': e => {\n                this.appTem = e.app;\n            },\n            capture: e => this.capture(e.image, e.done)\n        })\n        this.registerEventService(document, {\n            pointerup: e => this.transferEvent(e),\n        })\n    }\n\n    onInit(): void {\n        const st = this.toolbar.sub(this.moduleKey);\n        if(this.subToolbar != st){\n            this.subToolbar = st;\n        }\n        this.hasChangeApp = false;\n        if (this.app) {\n            this.setApp(this.app);\n        }else if(!this.app3D){\n            if(this.appTem) this.setApp(this.appTem);\n            else this.subEvents.on('app.set', e => this.setApp(e.app), true);\n        }\n\n        if(!this.hasChangeApp && this.app3D){\n            this.activeEventServiceRegistered(this.app3D);\n        }\n        this.hasChangeApp = false;\n        this.cd.detectChanges();\n        this.activeEventServiceRegistered(document)\n    }\n\n    onDestroy(){\n        this.deactiveEventServiceRegistered(this.app3D)\n        this.deregisterAllEventService(document)\n    }\n\n    initCanvas() {\n        this.canvas = this.app3D.engine.getCanvas();\n    }\n\n    setApp(app) {\n        if(app == this.app3D) return this.initCanvas();\n        if(this.app3D){\n            this.deactiveEventServiceRegistered(this.app3D);\n            this.deregisterAllEventService(this.app3D);\n        }\n\n        this.app3D = app;\n        this.registerEventService(this.app3D, {\n            'viewport.pointer.check': e => this.checkPointerPosition(e.event, e.handle,  e.showDroppableLayer),\n            'viewport.droppable.show': () => this.droppable = true,\n            'viewport.droppable.hide': () => {\n                this.droppable = false;\n                this.isLoad = false;\n            },\n            'viewport.show:loading': () => {\n                this.isLoad = true;\n                this.subEvents.emit(\"show:loading\");\n            },\n            'viewport.hide:loading': () => {\n                this.isLoad = false;\n                this.subEvents.emit(\"hide:loading\");\n            },\n            'viewport.droppable.loading': () => {\n                this.isLoad = true;\n                this.subEvents.emit(\"show:loading\");\n            },\n    \n            \"control.mode.change\": e => this.subToolbar.changeMode(e.node),\n            \"init\": () => this.subEvents.emit(\"resetcanvas\")    \n        });\n\n        this.activeEventServiceRegistered(this.app3D);\n        this.hasChangeApp = true;\n        this.initCanvas();\n        \n    }\n\n    transferEvent(event){\n        if(this.app3D){\n            this.app3D.transferEventListenner(event)\n        }\n    }\n\n    checkPointerPosition(event:PointerEvent, callback?:any, showDroppableLayer?:boolean){\n        var rect = this.elemRef.nativeElement.getBoundingClientRect();\n        var clientX = event.clientX, clientY = event.clientY;\n        let pos: any = {\n            x: clientX - rect.x,\n            y: clientX - rect.y,\n            isHover: (\n                clientY > rect.y &&\n                clientY < rect.y + rect.height &&\n                clientX > rect.x &&\n                clientX < rect.x + rect.width\n            ),\n            rect: rect\n        };\n\n        if(showDroppableLayer && ((pos.isHover && !this.droppable) || (!pos.isHover && this.droppable))){\n            this.droppable = !this.droppable\n        }\n        if(typeof callback == \"function\"){\n            callback(pos);\n        }\n        this.app3D.emit({\n            type : \"viewport.pointer.emit\",\n            pointer: pos\n        }, false);\n        \n\n    }\n\n    capture(image, onDone: CallbackFunction){\n        this.previewImage = image;\n        setTimeout(() => {\n            html2canvas(this.elemRef.nativeElement.querySelector('.frame')).then(canvas => {\n                const img = canvas.toDataUrl();\n                this.previewImage = TransparentBase64Image;\n                \n            });\n        }, 20);\n    }\n}\n","<div class=\"frame\">\n    <canvas-layer [app]=\"app3D\" [canvas]=\"canvas\" *ngIf=\"canvas\"></canvas-layer>\n    <img src=\"{{previewImage}}\" alt=\"\" class=\"preview-image\">\n\n    <foreground-layer></foreground-layer>\n\n\n</div>\n<droppable-layer [class.active1]=\"droppable\"></droppable-layer>\n<viewport-loading-layer></viewport-loading-layer>\n<div class=\"mask-wrapper\">\n    <div class=\"mask-layer\" \n        (contextmenu)=\"transferEvent($event)\" \n        (pointerdown)=\"transferEvent($event)\" \n        (pointermove)=\"transferEvent($event)\" \n        (wheel)=\"transferEvent($event)\" \n        (touchstart)=\"transferEvent($event)\" \n        (touchend)=\"transferEvent($event)\"\n        (touchmove)=\"transferEvent($event)\" \n        (keydown)=\"transferEvent($event)\" \n    ></div>\n\n</div>\n<app-vector-controls></app-vector-controls>\n<viewport-editor-toolbar></viewport-editor-toolbar>\n<client-viewport-edit-toolbar></client-viewport-edit-toolbar>","import { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\nimport { TemplateEventsService } from '@app/template-page/_store/events.service';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\nimport { ShadowSetting, ShadowSettingDefaultData } from '@app/_3D/store/data.type';\nimport { assignValue } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { InpEvent } from '@app/_shared/shared.type';\nimport { EditorIO, EditorMethods } from '../../../base/editor-io';\n\n@Component({\n    selector: 'app-tab-shadow',\n    templateUrl: './tab-shadow.component.html',\n    styleUrls: ['./tab-shadow.component.scss']\n})\nexport class TabShadowComponent extends BaseComponent implements OnInit {\n    shadow: ShadowSetting = {};\n    app: AppEditorService;\n    constructor(\n        private cd: ChangeDetectorRef,\n        private events: AppEditorEventService\n    ) {\n        super();\n    }\n\n        \n    initOnce(){\n        this.app = this.events.app;\n     \n    }\n    init() {\n        if(this.isChangeSubEvents){\n            this.app = this.subEvents.app;\n        \n        }\n        assignValue(this.shadow, ShadowSettingDefaultData);\n        assignValue(this.shadow, this.app.getShadowSetting());\n\n        this.cd.detectChanges();\n    }\n    onDestroy(){\n        \n    }\n\n    updateSetting(event: InpEvent) {\n        this.shadow[event.name] = event.value;\n        let a: any = {};\n        a[event.name] = event.value;\n        this.app.updateShadowSetting(a);\n    }\n}\n","<div class=\"tab-inner\">\n    <div class=\"tab-header\">\n        <h2>Shadow</h2>\n        \n    </div>\n    <div class=\"store\">\n        <div class=\"inputs\">\n            <inp-switch-group name=\"enabled\" [(value)]=\"shadow.enabled\" label=\"Enable\" (subcribe)=\"updateSetting($event)\" class=\"inp-group-item-first\"></inp-switch-group>\n            <inp-switch-group name=\"pcss\" [(value)]=\"shadow.pcss\" label=\"PCSS\" (subcribe)=\"updateSetting($event)\" class=\"inp-group-item\" *ngIf=\"shadow.enabled\"></inp-switch-group>\n        </div>\n    </div>\n</div>\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { Materials } from '@app/_3D/libs/three.libs';\nimport { isObject, isString, Str } from '@app/_core/helpers/utils';\nimport { InpEvent } from '@app/_shared/shared.type';\n\n@Component({\n    selector: 'material-inputs',\n    templateUrl: './material-inputs.component.html',\n    styleUrls: ['./material-inputs.component.scss']\n})\nexport class MaterialInputsComponent implements OnInit {\n    @Input() material: {\n        type: string,\n        [propKey: string]: any\n    } = null;\n    @Input() settings: {\n        type: string,\n        [propKey: string]: any\n    };\n\n    @Output() subcribe = new EventEmitter<any>();\n\n    types: any[] = [];\n    type: string = 'basic';\n\n    \n    inputs: any[] = [];\n\n    constructor() { }\n\n    emit(name:string){\n        this.subcribe.emit({\n            name: name,\n            value: this.settings[name],\n            settings: this.settings,\n            material:this.material\n        })\n    }\n\n    ngOnInit(): void {\n        if (!isObject(this.settings)) {\n            this.settings = {\n                type: (this.material?this.material.type:\"basic\")\n            }\n        }else if(!isString(this.settings.type) || !Materials.getMaterialType(this.material.type)){\n            this.settings.type = this.material?this.material.type:\"basic\";\n        }\n        this.settings.type = Materials.getMaterialType(this.settings.type)\n\n        this.settings.name = this.settings.name || this.material.name || \"\";\n        \n        this.types.splice(0);\n        for (const value in Materials.config.options) {\n            if (Object.prototype.hasOwnProperty.call(Materials.config.options, value)) {\n                const label = Materials.config.options[value];\n                this.types.push({value, label});\n            }\n        }\n\n        \n        this.setType(this.settings.type);\n    }\n\n\n    \n    setType(type:string){\n        var _type = Str.replace(String(type).toLowerCase(), ['mesh', 'material'], '');\n        if(typeof Materials.config.options[_type] != \"undefined\"){\n            this.type = _type;\n            this.inputs = Materials.getMaterialInputs(_type, this.material, this.settings);\n        }\n    }\n    changeType(event){\n        this.setType(event.value);\n        this.settings.type = event.value;\n        this.emit(\"type\");\n        \n\n    }\n\n    changeHandle(event: InpEvent){\n        this.settings[event.name] = event.value;\n        this.emit(event.name);\n    }\n\n}\n","<inp-select-group class=\"input-group-item py10\" name=\"type\" label=\"Material Type\" [(value)]=\"type\" [options]=\"types\" (subcribe)=\"changeType($event)\"></inp-select-group>\n<div class=\"material-inputs\">\n    <div class=\"input-group-item\" *ngFor=\"let inp of inputs; let i=index\">\n        <div class=\"input-item\" [ngSwitch]=\"inp.type\">\n            <inp-switch-group *ngSwitchCase=\"'checkbox'\" [config]=\"inp\" (subcribe)=\"changeHandle($event)\" class=\"input-group\"></inp-switch-group>\n            <inp-texture-group *ngSwitchCase=\"'texture'\" [config]=\"inp\" (subcribe)=\"changeHandle($event)\" class=\"input-group\"></inp-texture-group>\n            <inp-color-group *ngSwitchCase=\"'color'\" [config]=\"inp\" (subcribe)=\"changeHandle($event)\" class=\"input-group\"></inp-color-group>\n            <inp-select-group *ngSwitchCase=\"'select'\" [config]=\"inp\" (subcribe)=\"changeHandle($event)\" class=\"input-group\"></inp-select-group>\n            <inp-range-group *ngSwitchCase=\"'range'\" [config]=\"inp\" (subcribe)=\"changeHandle($event)\" class=\"input-group\"></inp-range-group>\n            <inp-number-group *ngSwitchCase=\"'number'\" [config]=\"inp\" (subcribe)=\"changeHandle($event)\" class=\"input-group\"></inp-number-group>\n            <inp-text-group *ngSwitchDefault [config]=\"inp\" (subcribe)=\"changeHandle($event)\" class=\"input-group\"></inp-text-group>\n        </div>\n    </div>\n</div>","import { Injectable } from '@angular/core';\r\nimport { HttpService } from '@app/_core/services/http.service';\r\nimport { Observable } from 'rxjs';\r\nimport { CategoryResultsModel } from '../category';\r\n\r\nimport { ItemModel } from './model';\r\nimport { ItemResultModel, ItemResultsModel } from './results.model';\r\n\r\nconst API_CUSTOMERS_URL = 'items';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ItemService {\r\n  results: ItemResultsModel;\r\n\r\n  constructor(private httpService: HttpService) { }\r\n\r\n\r\n\r\n  getAll(params: {}): Observable<ItemResultsModel> {\r\n    return this.httpService.get(API_CUSTOMERS_URL + \"/list\", params);\r\n  }\r\n\r\n  getByCategories(params: {}): Observable<CategoryResultsModel> {\r\n    return this.httpService.get(API_CUSTOMERS_URL + \"/category\", params);\r\n  }\r\n\r\n  // get(key): Observable<ItemResultModel> {\r\n  //   return this.httpService.get(`${API_CUSTOMERS_URL}/${key}.json`);\r\n  // }\r\n\r\n  get(key): Observable<ItemModel> {\r\n    return this.httpService.get(`${API_CUSTOMERS_URL}/${key}`);\r\n  }\r\n\r\n  create(model: ItemModel): Observable<ItemResultModel> {\r\n    return this.httpService.post(API_CUSTOMERS_URL + \"/create\", model);\r\n  }\r\n\r\n  update(model: ItemModel): Observable<ItemResultModel> {\r\n    const key = model.id;\r\n    // return this.httpService.patch(`${API_CUSTOMERS_URL}/${key}.json`, model);\r\n    // return this.httpService.patch(`${API_CUSTOMERS_URL}/actions.json`, model);\r\n    return this.httpService.put(`${API_CUSTOMERS_URL}/update/${key}`, model);\r\n  }\r\n\r\n\r\n  updateSize(model: ItemModel): Observable<ItemResultModel> {\r\n    const key = model.id;\r\n    // return this.httpService.patch(`${API_CUSTOMERS_URL}/${key}.json`, model);\r\n    // return this.httpService.patch(`${API_CUSTOMERS_URL}/actions.json`, model);\r\n    return this.httpService.put(`${API_CUSTOMERS_URL}/size/${key}`, model);\r\n  }\r\n\r\n\r\n  updateThumbnail(model: ItemModel): Observable<ItemResultModel> {\r\n    const key = model.id;\r\n    // return this.httpService.patch(`${API_CUSTOMERS_URL}/${key}.json`, model);\r\n    // return this.httpService.patch(`${API_CUSTOMERS_URL}/actions.json`, model);\r\n    return this.httpService.put(`${API_CUSTOMERS_URL}/thumbnail/${key}`, model);\r\n  }\r\n\r\n\r\n  delete(key): Observable<ItemResultModel> {\r\n    return this.httpService.delete(`${API_CUSTOMERS_URL}/${key}`);\r\n    // return this.httpService.delete(`${API_CUSTOMERS_URL}/actions.json`);\r\n  }\r\n\r\n  search(query: { tag?: string; key?: string; collectionCode?: string }) {\r\n    return this.httpService.get(`${API_CUSTOMERS_URL}/list`, query);\r\n  }\r\n\r\n  searchNounProject(query: { tag?: string; key?: string; collectionCode?: string }) {\r\n    return this.httpService.get(`${API_CUSTOMERS_URL}/search/nounproject`, query);\r\n  }\r\n\r\n  render(params) {\r\n    return this.httpService.download(API_CUSTOMERS_URL + '/render', params);\r\n  }\r\n\r\n  getItemData(url) {\r\n    return this.httpService.getOut(url);\r\n  }\r\n\r\n  useItem(ItemId): Observable<ItemResultModel> {\r\n    return this.httpService.post(`${API_CUSTOMERS_URL}/${ItemId}/use`, {}, false);\r\n  }\r\n}\r\n","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, Input, OnInit } from '@angular/core';\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\nimport { BaseComponent } from '../base/base.component';\nimport { ObjectToolbarService } from './object-toolbar/object-toolbar.service';\nimport { ViewportService } from './viewport.service';\n\n@Component({\n    selector: 'app-viewport',\n    templateUrl: './viewport.component.html',\n    styleUrls: ['./viewport.component.scss']\n})\nexport class ViewportComponent extends BaseComponent implements OnInit {\n    @Input() app: any;\n    app3D: AppEditorService = null;\n    canvas: Element = null;\n    droppable: boolean = false;\n    isLoad: boolean = false;\n    appTem: AppEditorService = null;\n    hasChangeApp: boolean = false;\n    subToolbar: ObjectToolbarService;\n    constructor(\n        private elemRef: ElementRef,\n        private events: ViewportService,\n        private toolbar: ObjectToolbarService,\n        private cd: ChangeDetectorRef\n    ) {\n        super();\n        \n    }\n\n    onChangeSubEvents(){\n        this.registerEventService(this.subEvents, \"app.set|dispatch\", e => this.appTem = e.app);\n        this.registerEventService(document, {\n            pointerup: e => this.transferEvent(e),\n        })\n    }\n\n\n    onInit(): void {\n        \n        const st = this.toolbar.sub(this.moduleKey);\n        if(st != this.subToolbar){\n            this.subToolbar = st;\n        }\n        this.hasChangeApp = false;\n        if (this.app) {\n            this.setApp(this.app);\n        }else if(!this.app3D){\n            if(this.appTem) this.setApp(this.appTem);\n            else this.subEvents.on('app.set', e => this.setApp(e.app), true);\n        }\n\n        if(!this.hasChangeApp){\n            this.activeEventServiceRegistered(this.app3D);\n        }\n\n        this.hasChangeApp = false;\n        \n        this.cd.detectChanges();\n        this.activeEventServiceRegistered(document)\n    }\n\n    onDestroy(){\n        this.deactiveEventServiceRegistered(this.app3D);\n        this.deregisterAllEventService(document)\n    }\n\n    initCanvas() {\n        this.canvas = this.app3D.engine.getCanvas();\n    }\n\n    setApp(app) {\n        if(app == this.app3D) return this.initCanvas();\n        if(this.app3D){\n            this.deactiveEventServiceRegistered(this.app3D);\n            this.deregisterAllEventService(this.app3D);\n        }\n\n        this.app3D = app;\n        this.registerEventService(this.app3D, {\n            'viewport.pointer.check': e => this.checkPointerPosition(e.event, e.handle,  e.showDroppableLayer),\n            'viewport.droppable.show': () => this.droppable = true,\n            'viewport.droppable.hide': () => {\n                this.droppable = false;\n                this.isLoad = false;\n            },\n            'viewport.show:loading': () => {\n                this.isLoad = true;\n                this.subEvents.emit(\"show:loading\");\n            },\n            'viewport.hide:loading': () => {\n                this.isLoad = false;\n                this.subEvents.emit(\"hide:loading\");\n            },\n            'viewport.droppable.loading': () => {\n                this.isLoad = true;\n                this.subEvents.emit(\"show:loading\");\n            },\n    \n            \"control.mode.change\": e => this.subToolbar.changeMode(e.node),\n            \"init\": () => this.subEvents.emit(\"resetcanvas\")    \n        });\n\n        this.activeEventServiceRegistered(this.app3D);\n        this.hasChangeApp = true;\n        this.initCanvas();\n        \n    }\n\n    transferEvent(event){\n        if(this.app3D){\n            this.app3D.transferEventListenner(event)\n        }\n    }\n\n    checkPointerPosition(event:PointerEvent, callback?:any, showDroppableLayer?:boolean){\n        var rect = this.elemRef.nativeElement.getBoundingClientRect();\n        var clientX = event.clientX, clientY = event.clientY;\n        let pos: any = {\n            x: clientX - rect.x,\n            y: clientX - rect.y,\n            isHover: (\n                clientY > rect.y &&\n                clientY < rect.y + rect.height &&\n                clientX > rect.x &&\n                clientX < rect.x + rect.width\n            ),\n            rect: rect\n        };\n\n        if(showDroppableLayer && ((pos.isHover && !this.droppable) || (!pos.isHover && this.droppable))){\n            this.droppable = !this.droppable\n        }\n        if(typeof callback == \"function\"){\n            callback(pos);\n        }\n        this.app3D.emit({\n            type : \"viewport.pointer.emit\",\n            pointer: pos\n        }, false);\n        \n\n    }\n}\n","<canvas-layer [app]=\"app3D\" [canvas]=\"canvas\" *ngIf=\"canvas\"></canvas-layer>\n    \n<div class=\"frame\">\n    <foreground-layer></foreground-layer>\n    \n</div>\n<droppable-layer [class.active1]=\"droppable\"></droppable-layer>\n<viewport-loading-layer></viewport-loading-layer>\n<div class=\"mask-wrapper\">\n    <div class=\"mask-layer\" \n        (contextmenu)=\"transferEvent($event)\" \n        (pointerdown)=\"transferEvent($event)\" \n        (pointermove)=\"transferEvent($event)\" \n        (wheel)=\"transferEvent($event)\" \n        (touchstart)=\"transferEvent($event)\" \n        (touchend)=\"transferEvent($event)\"\n        (touchmove)=\"transferEvent($event)\" \n        (keydown)=\"transferEvent($event)\" \n    ></div>\n</div>\n<app-vector-controls></app-vector-controls>\n<viewport-editor-toolbar></viewport-editor-toolbar>\n<viewport-object-toolbar></viewport-object-toolbar>\n","import { Component, ElementRef, Input, OnDestroy, OnInit } from '@angular/core';\nimport { Geometries, TransparentBase64Image } from '@app/_3D/libs/three.libs';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { Vector2 } from '@app/_3D/store/data.type';\nimport { assignValue, isEmpty } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\n\ninterface mousePosition {\n    x: number,\n    y: number\n}\n\nconst THUMBNAIL_ASSDT_URL = '/assets/icons/geometries/';\n\n@Component({\n    selector: 'dragging-geometry',\n    templateUrl: './dragging-geometry.component.html',\n    styleUrls: ['./dragging-geometry.component.scss']\n})\nexport class DraggingGeometryComponent extends BaseComponent implements OnInit, OnDestroy {\n    show: boolean = false;\n    droppable: boolean = false;\n    isDragging: boolean = false;\n    thumbnail: string = TransparentBase64Image;\n\n    pointer: mousePosition = {\n        x: 0,\n        y: 0\n    }; \n    viewportBounding: any = {\n        left:0,\n        top:0,\n        width: 0,\n        height: 0\n    };\n    currentPos: Vector2 = {\n        x: 0,\n        y: 0\n    };\n\n    geometryType: string = '';\n\n    draggingStyle: string = '';\n\n    previewSecretKey: string = '';\n\n\n    previewObject: any = null;\n    constructor(\n        private elemRef: ElementRef,\n        private events: AppEditorEventService\n        \n    ) { \n        super();\n    }\n\n    initEvents(){\n        this.registerEventService(this.subEvents, {\n            'geometry.dragstart': e => {\n                this.dragStart(e.geometryType);\n                this.updatePoistion(e);\n            },\n            'pointerup': e => {\n                if (this.isDragging) {\n                    e.preventDefault();\n                    this.dragEnd(e);\n                }\n            },\n            'pointermove': e => {\n                if (this.isDragging) {\n                    this.onMove(e);\n                }\n            },\n            'geometry.draghover': e => {\n                if (this.isDragging) {\n                    if(!this.droppable){\n                        this.droppable = true;\n                        this.createGeometryPreview();\n                    }\n                }\n            },\n            'geometry.dragout': e => {\n                if(this.droppable){\n                    this.removeGeometryPreview();\n                }\n                this.droppable = false;\n    \n            }\n        });\n    }\n    init(): void{\n        if(this.isChangeSubEvents){\n            this.initEvents();\n        }\n        this.activeEventServiceRegistered(this.subEvents);\n    }\n    onDestroy(){\n        this.deactiveEventServiceRegistered(this.subEvents);\n    }\n\n    dragStart(geometryType) {\n        this.geometryType = geometryType;\n        this.thumbnail = THUMBNAIL_ASSDT_URL + geometryType + \".svg\";\n        this.isDragging = true;\n    }\n\n    \n    onMove(event) {\n        this.updatePoistion(event, true);\n        this.subEvents.emit({\n            type: \"geometry.dragmove\",\n            clientX: event.clientX,\n            clientY: event.clientY,\n            checkArea: this.droppable,\n            position: this.currentPos\n        }, false);\n\n    }\n\n\n    dragEnd(e) {\n        if (this.isDragging) {\n            e.preventDefault();\n\n            if (!this.droppable) {\n\n                this.hideDraggingIten();\n            }else{\n                this.dropGeometry();\n                \n\n            }\n        }\n    }\n\n    hideDraggingIten(){\n        this.isDragging = false;\n        this.draggingStyle = '';\n        this.droppable = false;\n        this.previewSecretKey = \"\";\n    }\n\n    dropGeometry(){\n        const app = this.subEvents.app;\n        if(app.addItemMode == \"lock\"){\n            app.deleteMesh(this.previewSecretKey);\n        }else{\n            app.updateMeshSettingDataAndScene(this.previewSecretKey, {\n                material: {\n                    transparent: false,\n                    opacity: 1\n                },\n                props:{\n                    position:{\n                        y: this.previewObject.position.y\n                    }\n                }\n            }, true);\n\n            const meshEngineData = app.getMeshEngineData(this.previewSecretKey).object;\n            const meshSettingData = app.getMesh(this.previewSecretKey).data;\n            \n            this.subEvents.emit({\n                type: \"geometry.added\",\n                data: {\n                    mesh: meshEngineData,\n                    data: meshSettingData,\n                    secret_key:  this.previewSecretKey\n                }\n            }, false);\n            this.subEvents.emit({\n                type: \"droppable.areas.remove\"\n            });\n        }\n\n        this.previewObject = null;\n        this.hideDraggingIten();\n    }\n\n    updatePoistion(event, fixSize?:boolean) {\n        \n        this.currentPos.x = event.clientX;\n        this.currentPos.y = event.clientY;\n            \n        var itemElement = this.elemRef.nativeElement.querySelector('.mesh-geometry-handling');\n        if (itemElement) {\n            var width = 100, height = 100;\n            if(fixSize){\n                var rect = itemElement.getBoundingClientRect();\n                width = rect.width; \n                height = rect.height;\n            }\n\n            this.pointer.x = event.clientX - width / 2;\n            this.pointer.y = event.clientY - height / 2;\n            if (this.droppable) {\n                this.pointer.x = event.clientX + width * 0.5;\n                this.pointer.y = event.clientY - height * 1.5;\n\n            }\n            this.draggingStyle = `left: ${this.pointer.x}px; top: ${this.pointer.y}px;`;\n\n        }\n    }\n\n    createGeometryPreview(){\n        const config = Geometries.getConfig(this.geometryType);\n        if(!isEmpty(config)){\n            var self = this;\n            this.subEvents.app.addMesh({\n                geometry: assignValue({type:this.geometryType}, config.data.params),\n                material: {\n                    type: \"physical\",\n                    color: \"#9ad9f3\",\n                    transparent: true,\n                    opacity: 0.4\n                },\n                props: {\n                    castShadow: true\n                }\n            }, (object:any) => {\n                let eo = this.subEvents.app.engine.getObject(object.secret_key);\n                let io : any = {\n                    size: eo.size.origin,\n                    object: eo.object\n                };\n                this.previewObject = io.object;\n                this.subEvents.app.editor.detachObject();\n                this.subEvents.emit({\n                    type: \"droppable.areas.add\",\n                    item: io,\n                    position: this.currentPos\n                });\n                self.previewSecretKey = object.secret_key;\n\n            });\n            \n        }\n    }\n    removeGeometryPreview(){\n        this.subEvents.emit({\n            type: \"droppable.areas.remove\"\n        });\n        this.subEvents.emit({\n            type: \"engine.geometry.remove\",\n            secret_key: this.previewSecretKey\n        }, false);\n    }\n}\n","<div class=\"mesh-geometry-handling\" [style]=\"draggingStyle\" [class.droppable]=\"droppable\">\n    <div class=\"thumbnail\">\n        <img src=\"{{thumbnail}}\" alt=\"{{thumbnail}}\">\n    </div>\n</div>","import { assignValue, assignWithout, inArray, isArray, isEmpty, isObject, isString, objectValues, Str } from '@app/_core/helpers/utils';\r\nimport * as THREE from 'three';\r\n\r\nimport Props from '../libs/props';\r\n\r\nimport { OrbitControls } from '../threejs/jsm/controls/OrbitControls.js';\r\nimport { DragControls } from '../threejs/jsm/controls/DragControls.js';\r\nimport { FirstPersonControls } from '../threejs/jsm/controls/FirstPersonControls.js';\r\nimport { FlyControls } from '../threejs/jsm/controls/FlyControls.js';\r\nimport { PointerLockControls } from '../threejs/jsm/controls/PointerLockControls.js';\r\nimport { TransformControls } from '../threejs/jsm/controls/TransformControls.js';\r\n// import { DeviceOrientationControls } from '../threejs/jsm/controls/DeviceOrientationControls.js';\r\n// import { EditorControls } from '../libs/EditorControls.js';\r\n\r\n\r\nimport Dom from '@app/_core/helpers/dom';\r\n\r\n\r\n\r\nconst Controls = {\r\n\r\n    control: null,\r\n    enableControl: true,\r\n    controlEnableDamping: false,\r\n    controlList: null,\r\n\r\n    controlChangingStatus: false,\r\n\r\n    controlDoActionAfter: 0,\r\n\r\n    controlActionTimeout: 16,\r\n    \r\n    controlCheckTimer: 16,\r\n\r\n    controlEffectTimer: 2000,\r\n\r\n    controlActionTimeoutID: null,\r\n\r\n    controlActionWaiting: false,\r\n\r\n    maskLayer: null,\r\n\r\n    controlChangingByFPSStatus: false,\r\n    controlChangingByFPSID: null,\r\n\r\n    boots: ['controlBoot'],\r\n    controlBoot: function(){\r\n        this.controlList = {};\r\n    },\r\n    /**\r\n     * set control chính\r\n     * @param {object} opts thuộc tính, tham số tạo \r\n     */\r\n    setMainControl: function (opts?:any) {\r\n        var opt = typeof opts == \"object\" ? opts : {};\r\n        Props.parse(opt);\r\n        if (opt.disabled) return this;\r\n        var self = this;\r\n        var control = this.getControl(opt);\r\n        this.control = control;\r\n        var id = opt.id || \"main\";\r\n        this.controlEnableDamping = opt.enableDamping || false;\r\n        this.control.__id = id;\r\n        this.controlList[id] = this.control;\r\n        \r\n        this.control.autoUpdateScene = opt.autoUpdateScene || false;\r\n        this.enableControl = this.control.enabled;\r\n        // if(typeof this.control.addEventListener == \"function\"){\r\n        //     this.control.addEventListener('change',  e => {\r\n        //         self.emit('control.main.change', e);\r\n        //         if(control.autoUpdateScene && !self.autoRenderMode && !self.controlChangeAnimateStatus){ \r\n        //             self.refresh();\r\n        //         }\r\n        //     });\r\n        // }\r\n        \r\n        return this;\r\n    },\r\n\r\n    updateControlSettings: function(settings){\r\n        assignWithout(this.control, settings, ['type']);\r\n        if(isObject(settings)){\r\n            for (const key in settings) {\r\n                if (Object.prototype.hasOwnProperty.call(settings, key)) {\r\n                    const vl = settings[key];\r\n                    if(key==\"enableDamping\"){\r\n                        this.controlEnableDamping = vl;\r\n                    }else if(key == \"enabled\"){\r\n                        this.enableControl = vl;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.emit({\r\n            type: \"controls.main.updated\",\r\n            control: this.control\r\n        })\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * tao control\r\n     * @param {object} options tham số + thuộc tính\r\n     */\r\n    addControl: function (options?:any) {\r\n        options.type = Str.replace(String(options.type || \"\").toLowerCase(), ['controls', 'control'], '');\r\n        var control = this.getControl(options);\r\n        control.__id = options.id || \"control_\" + Str.rand();\r\n        this.scene.add(control);\r\n        this.controlList[control.__id] = control;\r\n\r\n        return control;\r\n    },\r\n\r\n    /**\r\n     * Tạo nhiều control\r\n     * @param {array} controls \r\n     */\r\n    addControls: function (controls?:any[]) {\r\n        if (isArray(controls)) {\r\n            for (let i = 0; i < controls.length; i++) {\r\n                const ctlopt = controls[i];\r\n                if (isObject(ctlopt)) {\r\n                    this.addControl(ctlopt);\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * lấy control từ ThreeJS\r\n     * @param {object} options thuộc tính và tham số\r\n     */\r\n    getControl: function (options?:any) {\r\n        if (!isObject(options) || isEmpty(options)) return null;\r\n        var self = this;\r\n        Props.parse(options);\r\n        var control;\r\n        var type = Str.replace(String(options.type || \"\").toLowerCase(), ['controls', 'controls'], '');\r\n        var p = options.params || options;\r\n\r\n        // device animatetion\r\n        // if (inArray(['deviceorientation', 'device'], type)) {\r\n        //     if (options.object) {\r\n        //         control = new DeviceOrientationControls(options.object);\r\n        //     }\r\n        // }\r\n\r\n        // else \r\n        if (inArray(['drag', 'drop'], type)) {\r\n            var dfo = objectValues(this.objects).map(function (o:any) { return o.object });\r\n            var params = Props.parseParams(p, {\r\n                objects: [...dfo], camera: this.camera, domElement: this.renderer.domElement\r\n            });\r\n            control = new DragControls(params.objects, params.camera, params.domElement);\r\n\r\n            control.addEventListener('dragstart', function (event) {\r\n\r\n                event.object.material.emissive.set(0xaaaaaa);\r\n\r\n            });\r\n\r\n            control.addEventListener('dragend', function (event) {\r\n\r\n                event.object.material.emissive.set(0x000000);\r\n\r\n            });\r\n        }\r\n\r\n        else if (inArray(['firstperson', 'fp', 'person'], type)) {\r\n            var params = Props.parseParams(p, {\r\n                camera: this.camera, domElement: this.renderer.domElement\r\n            });\r\n            control = new FirstPersonControls(params.camera, params.domElement);\r\n\r\n        }\r\n\r\n        else if (inArray(['fly', 'f'], type)) {\r\n            var params = Props.parseParams(p, {\r\n                camera: this.camera, domElement: this.renderer.domElement\r\n            });\r\n            control = new FlyControls(params.camera, params.domElement);\r\n\r\n        }\r\n\r\n        else if (inArray(['pointerlock', 'pointer', 'pl'], type)) {\r\n            var params = Props.parseParams(p, {\r\n                camera: this.camera, domElement: document.body\r\n            });\r\n            control = new PointerLockControls(params.camera, params.domElement);\r\n\r\n            var instructions = Dom('div.instructions',{\r\n                    onClick: function () {\r\n                        control.lock();\r\n                    }\r\n                },\r\n                [\r\n                    Dom('span', 'Click to play', {\r\n                        style: {\r\n                            fontSize: '14px'\r\n                        }\r\n                    }),\r\n                    Dom(\"br\"),\r\n                    Dom(\"br\"),\r\n                    'Move: WASD',\r\n                    Dom(\"br\"),\r\n                    'Jump: SPACE',\r\n                    Dom(\"br\"),\r\n                    'Look: MOUSE'\r\n                ]\r\n            );\r\n\r\n\r\n            var blocker = Dom('div.blocker', instructions);\r\n\r\n            document.body.appendChild(blocker.el);\r\n\r\n\r\n            control.addEventListener('lock', function () {\r\n\r\n                instructions.el.style.display = 'none';\r\n                blocker.el.style.display = 'none';\r\n\r\n            });\r\n\r\n\r\n            control.addEventListener('unlock', function () {\r\n\r\n                blocker.el.style.display = 'block';\r\n                instructions.el.style.display = '';\r\n\r\n            });\r\n\r\n        }\r\n\r\n        else if (inArray(['transform', 'tf'], type)) {\r\n            var params = Props.parseParams(p, {\r\n                camera: this.camera, domElement: this.renderer.domElement\r\n            });\r\n            control = new TransformControls(params.camera, params.domElement);\r\n\r\n            var orbit = self.getAddedControl(options.orbit);\r\n            if (!orbit) return false;\r\n\r\n            var cameraOrtho = self.getAddedCamera(options.ortho);\r\n            var cameraPersp = self.getAddedCamera(options.persp);\r\n            if (!orbit || !cameraOrtho || cameraPersp) return false;\r\n\r\n            control.addEventListener('change', function (e) {\r\n                self.refresh();\r\n            });\r\n\r\n            control.addEventListener('dragging-changed', function (event) {\r\n\r\n                orbit.enabled = !event.value;\r\n\r\n            });\r\n\r\n            if (options.mesh) {\r\n                var mesh;\r\n                if (typeof options.mesh == \"object\") {\r\n                    if (options.mesh.isMesh) {\r\n                        mesh = options.mesh;\r\n                        this.addToScene(mesh);\r\n                    } else {\r\n                        var id = this.addMesh(options.mesh);\r\n                        if (id) {\r\n                            mesh = this.getObject(id).object;\r\n                        }\r\n                    }\r\n                } else {\r\n                    var o = this.getObject(options.mesh);\r\n                    if (o) {\r\n                        mesh = o.object;\r\n                    }\r\n                }\r\n                if (mesh) {\r\n                    control.attach(mesh);\r\n                }\r\n            } else if (options.object) {\r\n                var mesh;\r\n                if (typeof options.object == \"object\") {\r\n                    if (options.object.isMesh) {\r\n                        mesh = options.object;\r\n                        this.addToScene(mesh);\r\n                    } else {\r\n                        var id = this.addMesh(options.object);\r\n                        if (id) {\r\n                            mesh = this.getObject(id).object;\r\n                        }\r\n                    }\r\n                } else {\r\n                    var o = this.getObject(options.object);\r\n                    if (o) {\r\n                        mesh = o.object;\r\n                    }\r\n                }\r\n                if (mesh) {\r\n                    control.attach(mesh);\r\n                }\r\n            }\r\n\r\n            window.addEventListener('keydown', function (event) {\r\n                switch (event.keyCode) {\r\n\r\n                    case 81: // Q\r\n                        control.setSpace(control.space === \"local\" ? \"world\" : \"local\");\r\n                        break;\r\n\r\n                    case 16: // Shift\r\n                        control.setTranslationSnap(100);\r\n                        control.setRotationSnap(THREE.MathUtils.degToRad(15));\r\n                        control.setScaleSnap(0.25);\r\n                        break;\r\n\r\n                    case 87: // W\r\n                        control.setMode(\"translate\");\r\n                        break;\r\n\r\n                    case 69: // E\r\n                        control.setMode(\"rotate\");\r\n                        break;\r\n\r\n                    case 82: // R\r\n                        control.setMode(\"scale\");\r\n                        break;\r\n\r\n                    case 67: // C\r\n                        const position = self.camera.position.clone();\r\n\r\n                        self.camera = self.camera.isPerspectiveCamera ? cameraOrtho : cameraPersp;\r\n                        self.camera.position.copy(position);\r\n\r\n                        orbit.object = self.camera;\r\n                        control.camera = self.camera;\r\n\r\n                        self.camera.lookAt(orbit.target.x, orbit.target.y, orbit.target.z);\r\n                        self.windowResize();\r\n                        break;\r\n\r\n                    case 86: // V\r\n                        const randomFoV = Math.random() + 0.1;\r\n                        const randomZoom = Math.random() + 0.1;\r\n\r\n                        cameraPersp.fov = randomFoV * 160;\r\n                        cameraOrtho.bottom = - randomFoV * 500;\r\n                        cameraOrtho.top = randomFoV * 500;\r\n\r\n                        cameraPersp.zoom = randomZoom * 5;\r\n                        cameraOrtho.zoom = randomZoom * 5;\r\n                        self.windowResize();\r\n                        break;\r\n\r\n                    case 187:\r\n                    case 107: // +, =, num+\r\n                        control.setSize(control.size + 0.1);\r\n                        break;\r\n\r\n                    case 189:\r\n                    case 109: // -, _, num-\r\n                        control.setSize(Math.max(control.size - 0.1, 0.1));\r\n                        break;\r\n\r\n                    case 88: // X\r\n                        control.showX = !control.showX;\r\n                        break;\r\n\r\n                    case 89: // Y\r\n                        control.showY = !control.showY;\r\n                        break;\r\n\r\n                    case 90: // Z\r\n                        control.showZ = !control.showZ;\r\n                        break;\r\n\r\n                    case 32: // Spacebar\r\n                        control.enabled = !control.enabled;\r\n                        break;\r\n\r\n                }\r\n\r\n            });\r\n\r\n            window.addEventListener('keyup', function (event) {\r\n\r\n                switch (event.keyCode) {\r\n\r\n                    case 16: // Shift\r\n                        control.setTranslationSnap(null);\r\n                        control.setRotationSnap(null);\r\n                        control.setScaleSnap(null);\r\n                        break;\r\n\r\n                }\r\n\r\n            });\r\n\r\n\r\n        }\r\n        else if (inArray(['editor', 'editorcontrols', 'ec'], type)) {\r\n            var params = Props.parseParams(p, {\r\n                camera: this.camera, domElement: this.renderer.domElement\r\n            });\r\n            control = new FlyControls(params.camera, params.domElement);\r\n\r\n        }\r\n\r\n        else {\r\n            control = new OrbitControls(this.camera, this.renderer.domElement);\r\n            // control.enableDamping = true;\r\n        }\r\n\r\n        \r\n        assignWithout(control, options, ['type', 'disabled', 'params', 'args', 'useMask']);\r\n        return control;\r\n    },\r\n\r\n    getAddedControl: function (id) {\r\n        return typeof this.controlList[id] != \"undefined\" ? this.controlList[id] : null;\r\n    },\r\n\r\n    setCurrentConttrolProp: function (prop, value) {\r\n        if (isString(prop)) {\r\n            this.control[prop] = value;\r\n        } else if (isObject(prop) && !isEmpty(prop)) {\r\n            assignValue(this.control, prop);\r\n        }\r\n    }\r\n};\r\n\r\nexport default Controls;\r\nexport {Controls};\r\n","import {\r\n\tBoxGeometry,\r\n\tBufferGeometry,\r\n\tCylinderGeometry,\r\n\tDoubleSide,\r\n\tEuler,\r\n\tFloat32BufferAttribute,\r\n\tLine,\r\n\tLineBasicMaterial,\r\n\tMatrix4,\r\n\tMesh,\r\n\tMeshBasicMaterial,\r\n\tObject3D,\r\n\tOctahedronGeometry,\r\n\tPlaneGeometry,\r\n\tQuaternion,\r\n\tRaycaster,\r\n\tSphereGeometry,\r\n\tTorusGeometry,\r\n\tVector3\r\n} from 'three';\r\n\r\nconst _raycaster = new Raycaster();\r\n\r\nconst _tempVector = new Vector3();\r\nconst _tempVector2 = new Vector3();\r\nconst _tempQuaternion = new Quaternion();\r\nconst _unit = {\r\n\tX: new Vector3( 1, 0, 0 ),\r\n\tY: new Vector3( 0, 1, 0 ),\r\n\tZ: new Vector3( 0, 0, 1 )\r\n};\r\n\r\nconst _changeEvent = { type: 'change' };\r\nconst _mouseDownEvent = { type: 'mouseDown' };\r\nconst _mouseUpEvent = { type: 'mouseUp', mode: null };\r\nconst _objectChangeEvent = { type: 'objectChange' };\r\n\r\nclass TransformControls extends Object3D {\r\n\r\n\tconstructor( camera, domElement ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tif ( domElement === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.TransformControls: The second parameter \"domElement\" is now mandatory.' );\r\n\t\t\tdomElement = document;\r\n\r\n\t\t}\r\n\r\n\t\tthis.visible = false;\r\n\t\tthis.domElement = domElement;\r\n\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\r\n\r\n\t\tconst _gizmo = new TransformControlsGizmo();\r\n\t\tthis._gizmo = _gizmo;\r\n\t\tthis.add( _gizmo );\r\n\r\n\t\tconst _plane = new TransformControlsPlane();\r\n\t\tthis._plane = _plane;\r\n\t\tthis.add( _plane );\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\t// Defined getter, setter and store for a property\r\n\t\tfunction defineProperty( propName, defaultValue ) {\r\n\r\n\t\t\tlet propValue = defaultValue;\r\n\r\n\t\t\tObject.defineProperty( scope, propName, {\r\n\r\n\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\treturn propValue !== undefined ? propValue : defaultValue;\r\n\r\n\t\t\t\t},\r\n\r\n\t\t\t\tset: function ( value ) {\r\n\r\n\t\t\t\t\tif ( propValue !== value ) {\r\n\r\n\t\t\t\t\t\tpropValue = value;\r\n\t\t\t\t\t\t_plane[ propName ] = value;\r\n\t\t\t\t\t\t_gizmo[ propName ] = value;\r\n\r\n\t\t\t\t\t\tscope.dispatchEvent( { type: propName + '-changed', value: value } );\r\n\t\t\t\t\t\tscope.dispatchEvent( _changeEvent );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} );\r\n\r\n\t\t\tscope[ propName ] = defaultValue;\r\n\t\t\t_plane[ propName ] = defaultValue;\r\n\t\t\t_gizmo[ propName ] = defaultValue;\r\n\r\n\t\t}\r\n\r\n\t\t// Define properties with getters/setter\r\n\t\t// Setting the defined property will automatically trigger change event\r\n\t\t// Defined properties are passed down to gizmo and plane\r\n\r\n\t\tdefineProperty( 'camera', camera );\r\n\t\tdefineProperty( 'object', undefined );\r\n\t\tdefineProperty( 'enabled', true );\r\n\t\tdefineProperty( 'axis', null );\r\n\t\tdefineProperty( 'mode', 'translate' );\r\n\t\tdefineProperty( 'translationSnap', null );\r\n\t\tdefineProperty( 'rotationSnap', null );\r\n\t\tdefineProperty( 'scaleSnap', null );\r\n\t\tdefineProperty( 'space', 'world' );\r\n\t\tdefineProperty( 'size', 1 );\r\n\t\tdefineProperty( 'dragging', false );\r\n\t\tdefineProperty( 'showX', true );\r\n\t\tdefineProperty( 'showY', true );\r\n\t\tdefineProperty( 'showZ', true );\r\n\r\n\t\t// Reusable utility variables\r\n\r\n\t\tconst worldPosition = new Vector3();\r\n\t\tconst worldPositionStart = new Vector3();\r\n\t\tconst worldQuaternion = new Quaternion();\r\n\t\tconst worldQuaternionStart = new Quaternion();\r\n\t\tconst cameraPosition = new Vector3();\r\n\t\tconst cameraQuaternion = new Quaternion();\r\n\t\tconst pointStart = new Vector3();\r\n\t\tconst pointEnd = new Vector3();\r\n\t\tconst rotationAxis = new Vector3();\r\n\t\tconst rotationAngle = 0;\r\n\t\tconst eye = new Vector3();\r\n\r\n\t\t// TODO: remove properties unused in plane and gizmo\r\n\r\n\t\tdefineProperty( 'worldPosition', worldPosition );\r\n\t\tdefineProperty( 'worldPositionStart', worldPositionStart );\r\n\t\tdefineProperty( 'worldQuaternion', worldQuaternion );\r\n\t\tdefineProperty( 'worldQuaternionStart', worldQuaternionStart );\r\n\t\tdefineProperty( 'cameraPosition', cameraPosition );\r\n\t\tdefineProperty( 'cameraQuaternion', cameraQuaternion );\r\n\t\tdefineProperty( 'pointStart', pointStart );\r\n\t\tdefineProperty( 'pointEnd', pointEnd );\r\n\t\tdefineProperty( 'rotationAxis', rotationAxis );\r\n\t\tdefineProperty( 'rotationAngle', rotationAngle );\r\n\t\tdefineProperty( 'eye', eye );\r\n\r\n\t\tthis._offset = new Vector3();\r\n\t\tthis._startNorm = new Vector3();\r\n\t\tthis._endNorm = new Vector3();\r\n\t\tthis._cameraScale = new Vector3();\r\n\r\n\t\tthis._parentPosition = new Vector3();\r\n\t\tthis._parentQuaternion = new Quaternion();\r\n\t\tthis._parentQuaternionInv = new Quaternion();\r\n\t\tthis._parentScale = new Vector3();\r\n\r\n\t\tthis._worldScaleStart = new Vector3();\r\n\t\tthis._worldQuaternionInv = new Quaternion();\r\n\t\tthis._worldScale = new Vector3();\r\n\r\n\t\tthis._positionStart = new Vector3();\r\n\t\tthis._quaternionStart = new Quaternion();\r\n\t\tthis._scaleStart = new Vector3();\r\n\r\n\t\tthis._getPointer = getPointer.bind( this );\r\n\t\tthis._onPointerDown = onPointerDown.bind( this );\r\n\t\tthis._onPointerHover = onPointerHover.bind( this );\r\n\t\tthis._onPointerMove = onPointerMove.bind( this );\r\n\t\tthis._onPointerUp = onPointerUp.bind( this );\r\n\r\n\t\tthis.domElement.addEventListener( 'pointerdown', this._onPointerDown );\r\n\t\tthis.domElement.addEventListener( 'pointermove', this._onPointerHover );\r\n\t\tthis.domElement.addEventListener( 'pointerup', this._onPointerUp );\r\n\t\t/**\r\n\t\t * Truyền một sự kiện vào control\r\n\t\t * @param {string} name tên sự kiện\r\n\t\t * @param {Event} event Sự kiện\r\n\t\t */\r\n\t\t this.transferEventListenner = function (name, event) {\r\n\r\n\t\t\tif (typeof name == \"string\") {\r\n\t\t\t\tvar ev = name.toLowerCase();\r\n\t\t\t\tswitch (ev) {\r\n\r\n\t\t\t\t\tcase 'pointerdown':\r\n\t\t\t\t\t\tthis._onPointerDown(event);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'pointermove':\r\n\t\t\t\t\t\tthis._onPointerHover(event);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'pointerup':\r\n\t\t\t\t\t\tthis._onPointerUp(event);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.warn(name + \" event is not define\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tthis.getEventList = () => [\r\n\t\t\t'pointerdown',\r\n\t\t\t'pointermove',\r\n\t\t\t'pointerup'\r\n\t\t];\r\n\t}\r\n\r\n\t// updateMatrixWorld  updates key transformation variables\r\n\tupdateMatrixWorld() {\r\n\r\n\t\tif ( this.object !== undefined ) {\r\n\r\n\t\t\tthis.object.updateMatrixWorld();\r\n\r\n\t\t\tif ( this.object.parent === null ) {\r\n\r\n\t\t\t\tconsole.error( 'TransformControls: The attached 3D object must be a part of the scene graph.' );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.object.parent.matrixWorld.decompose( this._parentPosition, this._parentQuaternion, this._parentScale );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.object.matrixWorld.decompose( this.worldPosition, this.worldQuaternion, this._worldScale );\r\n\r\n\t\t\tthis._parentQuaternionInv.copy( this._parentQuaternion ).invert();\r\n\t\t\tthis._worldQuaternionInv.copy( this.worldQuaternion ).invert();\r\n\r\n\t\t}\r\n\r\n\t\tthis.camera.updateMatrixWorld();\r\n\t\tthis.camera.matrixWorld.decompose( this.cameraPosition, this.cameraQuaternion, this._cameraScale );\r\n\r\n\t\tthis.eye.copy( this.cameraPosition ).sub( this.worldPosition ).normalize();\r\n\r\n\t\tsuper.updateMatrixWorld( this );\r\n\r\n\t}\r\n\r\n\tpointerHover( pointer ) {\r\n\r\n\t\tif ( this.object === undefined || this.dragging === true ) return;\r\n\r\n\t\t_raycaster.setFromCamera( pointer, this.camera );\r\n\r\n\t\tconst intersect = intersectObjectWithRay( this._gizmo.picker[ this.mode ], _raycaster );\r\n\r\n\t\tif ( intersect ) {\r\n\r\n\t\t\tthis.axis = intersect.object.name;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.axis = null;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpointerDown( pointer ) {\r\n\r\n\t\tif ( this.object === undefined || this.dragging === true || pointer.button !== 0 ) return;\r\n\r\n\t\tif ( this.axis !== null ) {\r\n\r\n\t\t\t_raycaster.setFromCamera( pointer, this.camera );\r\n\r\n\t\t\tconst planeIntersect = intersectObjectWithRay( this._plane, _raycaster, true );\r\n\r\n\t\t\tif ( planeIntersect ) {\r\n\r\n\t\t\t\tthis.object.updateMatrixWorld();\r\n\t\t\t\tthis.object.parent.updateMatrixWorld();\r\n\r\n\t\t\t\tthis._positionStart.copy( this.object.position );\r\n\t\t\t\tthis._quaternionStart.copy( this.object.quaternion );\r\n\t\t\t\tthis._scaleStart.copy( this.object.scale );\r\n\r\n\t\t\t\tthis.object.matrixWorld.decompose( this.worldPositionStart, this.worldQuaternionStart, this._worldScaleStart );\r\n\r\n\t\t\t\tthis.pointStart.copy( planeIntersect.point ).sub( this.worldPositionStart );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.dragging = true;\r\n\t\t\t_mouseDownEvent.mode = this.mode;\r\n\t\t\tthis.dispatchEvent( _mouseDownEvent );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpointerMove( pointer ) {\r\n\r\n\t\tconst axis = this.axis;\r\n\t\tconst mode = this.mode;\r\n\t\tconst object = this.object;\r\n\t\tlet space = this.space;\r\n\r\n\t\tif ( mode === 'scale' ) {\r\n\r\n\t\t\tspace = 'local';\r\n\r\n\t\t} else if ( axis === 'E' || axis === 'XYZE' || axis === 'XYZ' ) {\r\n\r\n\t\t\tspace = 'world';\r\n\r\n\t\t}\r\n\r\n\t\tif ( object === undefined || axis === null || this.dragging === false || pointer.button !== - 1 ) return;\r\n\r\n\t\t_raycaster.setFromCamera( pointer, this.camera );\r\n\r\n\t\tconst planeIntersect = intersectObjectWithRay( this._plane, _raycaster, true );\r\n\r\n\t\tif ( ! planeIntersect ) return;\r\n\r\n\t\tthis.pointEnd.copy( planeIntersect.point ).sub( this.worldPositionStart );\r\n\r\n\t\tif ( mode === 'translate' ) {\r\n\r\n\t\t\t// Apply translate\r\n\r\n\t\t\tthis._offset.copy( this.pointEnd ).sub( this.pointStart );\r\n\r\n\t\t\tif ( space === 'local' && axis !== 'XYZ' ) {\r\n\r\n\t\t\t\tthis._offset.applyQuaternion( this._worldQuaternionInv );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( axis.indexOf( 'X' ) === - 1 ) this._offset.x = 0;\r\n\t\t\tif ( axis.indexOf( 'Y' ) === - 1 ) this._offset.y = 0;\r\n\t\t\tif ( axis.indexOf( 'Z' ) === - 1 ) this._offset.z = 0;\r\n\r\n\t\t\tif ( space === 'local' && axis !== 'XYZ' ) {\r\n\r\n\t\t\t\tthis._offset.applyQuaternion( this._quaternionStart ).divide( this._parentScale );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis._offset.applyQuaternion( this._parentQuaternionInv ).divide( this._parentScale );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tobject.position.copy( this._offset ).add( this._positionStart );\r\n\r\n\t\t\t// Apply translation snap\r\n\r\n\t\t\tif ( this.translationSnap ) {\r\n\r\n\t\t\t\tif ( space === 'local' ) {\r\n\r\n\t\t\t\t\tobject.position.applyQuaternion( _tempQuaternion.copy( this._quaternionStart ).invert() );\r\n\r\n\t\t\t\t\tif ( axis.search( 'X' ) !== - 1 ) {\r\n\r\n\t\t\t\t\t\tobject.position.x = Math.round( object.position.x / this.translationSnap ) * this.translationSnap;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( axis.search( 'Y' ) !== - 1 ) {\r\n\r\n\t\t\t\t\t\tobject.position.y = Math.round( object.position.y / this.translationSnap ) * this.translationSnap;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( axis.search( 'Z' ) !== - 1 ) {\r\n\r\n\t\t\t\t\t\tobject.position.z = Math.round( object.position.z / this.translationSnap ) * this.translationSnap;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tobject.position.applyQuaternion( this._quaternionStart );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( space === 'world' ) {\r\n\r\n\t\t\t\t\tif ( object.parent ) {\r\n\r\n\t\t\t\t\t\tobject.position.add( _tempVector.setFromMatrixPosition( object.parent.matrixWorld ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( axis.search( 'X' ) !== - 1 ) {\r\n\r\n\t\t\t\t\t\tobject.position.x = Math.round( object.position.x / this.translationSnap ) * this.translationSnap;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( axis.search( 'Y' ) !== - 1 ) {\r\n\r\n\t\t\t\t\t\tobject.position.y = Math.round( object.position.y / this.translationSnap ) * this.translationSnap;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( axis.search( 'Z' ) !== - 1 ) {\r\n\r\n\t\t\t\t\t\tobject.position.z = Math.round( object.position.z / this.translationSnap ) * this.translationSnap;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( object.parent ) {\r\n\r\n\t\t\t\t\t\tobject.position.sub( _tempVector.setFromMatrixPosition( object.parent.matrixWorld ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( mode === 'scale' ) {\r\n\r\n\t\t\tif ( axis.search( 'XYZ' ) !== - 1 ) {\r\n\r\n\t\t\t\tlet d = this.pointEnd.length() / this.pointStart.length();\r\n\r\n\t\t\t\tif ( this.pointEnd.dot( this.pointStart ) < 0 ) d *= - 1;\r\n\r\n\t\t\t\t_tempVector2.set( d, d, d );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_tempVector.copy( this.pointStart );\r\n\t\t\t\t_tempVector2.copy( this.pointEnd );\r\n\r\n\t\t\t\t_tempVector.applyQuaternion( this._worldQuaternionInv );\r\n\t\t\t\t_tempVector2.applyQuaternion( this._worldQuaternionInv );\r\n\r\n\t\t\t\t_tempVector2.divide( _tempVector );\r\n\r\n\t\t\t\tif ( axis.search( 'X' ) === - 1 ) {\r\n\r\n\t\t\t\t\t_tempVector2.x = 1;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( axis.search( 'Y' ) === - 1 ) {\r\n\r\n\t\t\t\t\t_tempVector2.y = 1;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( axis.search( 'Z' ) === - 1 ) {\r\n\r\n\t\t\t\t\t_tempVector2.z = 1;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Apply scale\r\n\r\n\t\t\tobject.scale.copy( this._scaleStart ).multiply( _tempVector2 );\r\n\r\n\t\t\tif ( this.scaleSnap ) {\r\n\r\n\t\t\t\tif ( axis.search( 'X' ) !== - 1 ) {\r\n\r\n\t\t\t\t\tobject.scale.x = Math.round( object.scale.x / this.scaleSnap ) * this.scaleSnap || this.scaleSnap;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( axis.search( 'Y' ) !== - 1 ) {\r\n\r\n\t\t\t\t\tobject.scale.y = Math.round( object.scale.y / this.scaleSnap ) * this.scaleSnap || this.scaleSnap;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( axis.search( 'Z' ) !== - 1 ) {\r\n\r\n\t\t\t\t\tobject.scale.z = Math.round( object.scale.z / this.scaleSnap ) * this.scaleSnap || this.scaleSnap;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( mode === 'rotate' ) {\r\n\r\n\t\t\tthis._offset.copy( this.pointEnd ).sub( this.pointStart );\r\n\r\n\t\t\tconst ROTATION_SPEED = 20 / this.worldPosition.distanceTo( _tempVector.setFromMatrixPosition( this.camera.matrixWorld ) );\r\n\r\n\t\t\tif ( axis === 'E' ) {\r\n\r\n\t\t\t\tthis.rotationAxis.copy( this.eye );\r\n\t\t\t\tthis.rotationAngle = this.pointEnd.angleTo( this.pointStart );\r\n\r\n\t\t\t\tthis._startNorm.copy( this.pointStart ).normalize();\r\n\t\t\t\tthis._endNorm.copy( this.pointEnd ).normalize();\r\n\r\n\t\t\t\tthis.rotationAngle *= ( this._endNorm.cross( this._startNorm ).dot( this.eye ) < 0 ? 1 : - 1 );\r\n\r\n\t\t\t} else if ( axis === 'XYZE' ) {\r\n\r\n\t\t\t\tthis.rotationAxis.copy( this._offset ).cross( this.eye ).normalize();\r\n\t\t\t\tthis.rotationAngle = this._offset.dot( _tempVector.copy( this.rotationAxis ).cross( this.eye ) ) * ROTATION_SPEED;\r\n\r\n\t\t\t} else if ( axis === 'X' || axis === 'Y' || axis === 'Z' ) {\r\n\r\n\t\t\t\tthis.rotationAxis.copy( _unit[ axis ] );\r\n\r\n\t\t\t\t_tempVector.copy( _unit[ axis ] );\r\n\r\n\t\t\t\tif ( space === 'local' ) {\r\n\r\n\t\t\t\t\t_tempVector.applyQuaternion( this.worldQuaternion );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.rotationAngle = this._offset.dot( _tempVector.cross( this.eye ).normalize() ) * ROTATION_SPEED;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Apply rotation snap\r\n\r\n\t\t\tif ( this.rotationSnap ) this.rotationAngle = Math.round( this.rotationAngle / this.rotationSnap ) * this.rotationSnap;\r\n\r\n\t\t\t// Apply rotate\r\n\t\t\tif ( space === 'local' && axis !== 'E' && axis !== 'XYZE' ) {\r\n\r\n\t\t\t\tobject.quaternion.copy( this._quaternionStart );\r\n\t\t\t\tobject.quaternion.multiply( _tempQuaternion.setFromAxisAngle( this.rotationAxis, this.rotationAngle ) ).normalize();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.rotationAxis.applyQuaternion( this._parentQuaternionInv );\r\n\t\t\t\tobject.quaternion.copy( _tempQuaternion.setFromAxisAngle( this.rotationAxis, this.rotationAngle ) );\r\n\t\t\t\tobject.quaternion.multiply( this._quaternionStart ).normalize();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.dispatchEvent( _changeEvent );\r\n\t\tthis.dispatchEvent( _objectChangeEvent );\r\n\r\n\t}\r\n\r\n\tpointerUp( pointer ) {\r\n\r\n\t\tif ( pointer.button !== 0 ) return;\r\n\r\n\t\tif ( this.dragging && ( this.axis !== null ) ) {\r\n\r\n\t\t\t_mouseUpEvent.mode = this.mode;\r\n\t\t\tthis.dispatchEvent( _mouseUpEvent );\r\n\r\n\t\t}\r\n\r\n\t\tthis.dragging = false;\r\n\t\tthis.axis = null;\r\n\r\n\t}\r\n\r\n\tdispose() {\r\n\r\n\t\tthis.domElement.removeEventListener( 'pointerdown', this._onPointerDown );\r\n\t\tthis.domElement.removeEventListener( 'pointermove', this._onPointerHover );\r\n\t\tthis.domElement.removeEventListener( 'pointermove', this._onPointerMove );\r\n\t\tthis.domElement.removeEventListener( 'pointerup', this._onPointerUp );\r\n\r\n\t\tthis.traverse( function ( child ) {\r\n\r\n\t\t\tif ( child.geometry ) child.geometry.dispose();\r\n\t\t\tif ( child.material ) child.material.dispose();\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\t// Set current object\r\n\tattach( object ) {\r\n\r\n\t\tthis.object = object;\r\n\t\tthis.visible = true;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\t// Detatch from object\r\n\tdetach() {\r\n\r\n\t\tthis.object = undefined;\r\n\t\tthis.visible = false;\r\n\t\tthis.axis = null;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\tgetRaycaster() {\r\n\r\n\t\treturn _raycaster;\r\n\r\n\t}\r\n\r\n\t// TODO: deprecate\r\n\r\n\tgetMode() {\r\n\r\n\t\treturn this.mode;\r\n\r\n\t}\r\n\r\n\tsetMode( mode ) {\r\n\r\n\t\tthis.mode = mode;\r\n\r\n\t}\r\n\r\n\tsetTranslationSnap( translationSnap ) {\r\n\r\n\t\tthis.translationSnap = translationSnap;\r\n\r\n\t}\r\n\r\n\tsetRotationSnap( rotationSnap ) {\r\n\r\n\t\tthis.rotationSnap = rotationSnap;\r\n\r\n\t}\r\n\r\n\tsetScaleSnap( scaleSnap ) {\r\n\r\n\t\tthis.scaleSnap = scaleSnap;\r\n\r\n\t}\r\n\r\n\tsetSize( size ) {\r\n\r\n\t\tthis.size = size;\r\n\r\n\t}\r\n\r\n\tsetSpace( space ) {\r\n\r\n\t\tthis.space = space;\r\n\r\n\t}\r\n\r\n\tupdate() {\r\n\r\n\t\tconsole.warn( 'THREE.TransformControls: update function has no more functionality and therefore has been deprecated.' );\r\n\r\n\t}\r\n\r\n}\r\n\r\nTransformControls.prototype.isTransformControls = true;\r\n\r\n// mouse / touch event handlers\r\n\r\nfunction getPointer( event ) {\r\n\r\n\tif ( this.domElement.ownerDocument.pointerLockElement ) {\r\n\r\n\t\treturn {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\tbutton: event.button\r\n\t\t};\r\n\r\n\t} else {\r\n\r\n\t\tconst rect = this.domElement.getBoundingClientRect();\r\n\r\n\t\treturn {\r\n\t\t\tx: ( event.clientX - rect.left ) / rect.width * 2 - 1,\r\n\t\t\ty: - ( event.clientY - rect.top ) / rect.height * 2 + 1,\r\n\t\t\tbutton: event.button\r\n\t\t};\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction onPointerHover( event ) {\r\n\r\n\tif ( ! this.enabled ) return;\r\n\r\n\tswitch ( event.pointerType ) {\r\n\r\n\t\tcase 'mouse':\r\n\t\tcase 'pen':\r\n\t\t\tthis.pointerHover( this._getPointer( event ) );\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction onPointerDown( event ) {\r\n\r\n\tif ( ! this.enabled ) return;\r\n\r\n\tthis.domElement.setPointerCapture( event.pointerId );\r\n\r\n\tthis.domElement.addEventListener( 'pointermove', this._onPointerMove );\r\n\r\n\tthis.pointerHover( this._getPointer( event ) );\r\n\tthis.pointerDown( this._getPointer( event ) );\r\n\r\n}\r\n\r\nfunction onPointerMove( event ) {\r\n\r\n\tif ( ! this.enabled ) return;\r\n\r\n\tthis.pointerMove( this._getPointer( event ) );\r\n\r\n}\r\n\r\nfunction onPointerUp( event ) {\r\n\r\n\tif ( ! this.enabled ) return;\r\n\r\n\tthis.domElement.releasePointerCapture( event.pointerId );\r\n\r\n\tthis.domElement.removeEventListener( 'pointermove', this._onPointerMove );\r\n\r\n\tthis.pointerUp( this._getPointer( event ) );\r\n\r\n}\r\n\r\nfunction intersectObjectWithRay( object, raycaster, includeInvisible ) {\r\n\r\n\tconst allIntersections = raycaster.intersectObject( object, true );\r\n\r\n\tfor ( let i = 0; i < allIntersections.length; i ++ ) {\r\n\r\n\t\tif ( allIntersections[ i ].object.visible || includeInvisible ) {\r\n\r\n\t\t\treturn allIntersections[ i ];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn false;\r\n\r\n}\r\n\r\n//\r\n\r\n// Reusable utility variables\r\n\r\nconst _tempEuler = new Euler();\r\nconst _alignVector = new Vector3( 0, 1, 0 );\r\nconst _zeroVector = new Vector3( 0, 0, 0 );\r\nconst _lookAtMatrix = new Matrix4();\r\nconst _tempQuaternion2 = new Quaternion();\r\nconst _identityQuaternion = new Quaternion();\r\nconst _dirVector = new Vector3();\r\nconst _tempMatrix = new Matrix4();\r\n\r\nconst _unitX = new Vector3( 1, 0, 0 );\r\nconst _unitY = new Vector3( 0, 1, 0 );\r\nconst _unitZ = new Vector3( 0, 0, 1 );\r\n\r\nconst _v1 = new Vector3();\r\nconst _v2 = new Vector3();\r\nconst _v3 = new Vector3();\r\n\r\nclass TransformControlsGizmo extends Object3D {\r\n\r\n\tconstructor() {\r\n\r\n\t\tsuper();\r\n\r\n\t\tthis.type = 'TransformControlsGizmo';\r\n\r\n\t\t// shared materials\r\n\r\n\t\tconst gizmoMaterial = new MeshBasicMaterial( {\r\n\t\t\tdepthTest: false,\r\n\t\t\tdepthWrite: false,\r\n\t\t\tfog: false,\r\n\t\t\ttoneMapped: false,\r\n\t\t\ttransparent: true\r\n\t\t} );\r\n\r\n\t\tconst gizmoLineMaterial = new LineBasicMaterial( {\r\n\t\t\tdepthTest: false,\r\n\t\t\tdepthWrite: false,\r\n\t\t\tfog: false,\r\n\t\t\ttoneMapped: false,\r\n\t\t\ttransparent: true\r\n\t\t} );\r\n\r\n\t\t// Make unique material for each axis/color\r\n\r\n\t\tconst matInvisible = gizmoMaterial.clone();\r\n\t\tmatInvisible.opacity = 0.15;\r\n\r\n\t\tconst matHelper = gizmoLineMaterial.clone();\r\n\t\tmatHelper.opacity = 0.5;\r\n\r\n\t\tconst matRed = gizmoMaterial.clone();\r\n\t\tmatRed.color.setHex( 0xff0000 );\r\n\r\n\t\tconst matGreen = gizmoMaterial.clone();\r\n\t\tmatGreen.color.setHex( 0x00ff00 );\r\n\r\n\t\tconst matBlue = gizmoMaterial.clone();\r\n\t\tmatBlue.color.setHex( 0x0000ff );\r\n\r\n\t\tconst matRedTransparent = gizmoMaterial.clone();\r\n\t\tmatRedTransparent.color.setHex( 0xff0000 );\r\n\t\tmatRedTransparent.opacity = 0.5;\r\n\r\n\t\tconst matGreenTransparent = gizmoMaterial.clone();\r\n\t\tmatGreenTransparent.color.setHex( 0x00ff00 );\r\n\t\tmatGreenTransparent.opacity = 0.5;\r\n\r\n\t\tconst matBlueTransparent = gizmoMaterial.clone();\r\n\t\tmatBlueTransparent.color.setHex( 0x0000ff );\r\n\t\tmatBlueTransparent.opacity = 0.5;\r\n\r\n\t\tconst matWhiteTransparent = gizmoMaterial.clone();\r\n\t\tmatWhiteTransparent.opacity = 0.25;\r\n\r\n\t\tconst matYellowTransparent = gizmoMaterial.clone();\r\n\t\tmatYellowTransparent.color.setHex( 0xffff00 );\r\n\t\tmatYellowTransparent.opacity = 0.25;\r\n\r\n\t\tconst matYellow = gizmoMaterial.clone();\r\n\t\tmatYellow.color.setHex( 0xffff00 );\r\n\r\n\t\tconst matGray = gizmoMaterial.clone();\r\n\t\tmatGray.color.setHex( 0x787878 );\r\n\r\n\t\t// reusable geometry\r\n\r\n\t\tconst arrowGeometry = new CylinderGeometry( 0, 0.04, 0.1, 12 );\r\n\t\tarrowGeometry.translate( 0, 0.05, 0 );\r\n\r\n\t\tconst scaleHandleGeometry = new BoxGeometry( 0.08, 0.08, 0.08 );\r\n\t\tscaleHandleGeometry.translate( 0, 0.04, 0 );\r\n\r\n\t\tconst lineGeometry = new BufferGeometry();\r\n\t\tlineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0,\t1, 0, 0 ], 3 ) );\r\n\r\n\t\tconst lineGeometry2 = new CylinderGeometry( 0.0075, 0.0075, 0.5, 3 );\r\n\t\tlineGeometry2.translate( 0, 0.25, 0 );\r\n\r\n\t\tfunction CircleGeometry( radius, arc ) {\r\n\r\n\t\t\tconst geometry = new TorusGeometry( radius, 0.0075, 3, 64, arc * Math.PI * 2 );\r\n\t\t\tgeometry.rotateY( Math.PI / 2 );\r\n\t\t\tgeometry.rotateX( Math.PI / 2 );\r\n\t\t\treturn geometry;\r\n\r\n\t\t}\r\n\r\n\t\t// Special geometry for transform helper. If scaled with position vector it spans from [0,0,0] to position\r\n\r\n\t\tfunction TranslateHelperGeometry() {\r\n\r\n\t\t\tconst geometry = new BufferGeometry();\r\n\r\n\t\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 1, 1, 1 ], 3 ) );\r\n\r\n\t\t\treturn geometry;\r\n\r\n\t\t}\r\n\r\n\t\t// Gizmo definitions - custom hierarchy definitions for setupGizmo() function\r\n\r\n\t\tconst gizmoTranslate = {\r\n\t\t\tX: [\r\n\t\t\t\t[ new Mesh( arrowGeometry, matRed ), [ 0.5, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\r\n\t\t\t\t[ new Mesh( arrowGeometry, matRed ), [ - 0.5, 0, 0 ], [ 0, 0, Math.PI / 2 ]],\r\n\t\t\t\t[ new Mesh( lineGeometry2, matRed ), [ 0, 0, 0 ], [ 0, 0, - Math.PI / 2 ]]\r\n\t\t\t],\r\n\t\t\tY: [\r\n\t\t\t\t[ new Mesh( arrowGeometry, matGreen ), [ 0, 0.5, 0 ]],\r\n\t\t\t\t[ new Mesh( arrowGeometry, matGreen ), [ 0, - 0.5, 0 ], [ Math.PI, 0, 0 ]],\r\n\t\t\t\t[ new Mesh( lineGeometry2, matGreen ) ]\r\n\t\t\t],\r\n\t\t\tZ: [\r\n\t\t\t\t[ new Mesh( arrowGeometry, matBlue ), [ 0, 0, 0.5 ], [ Math.PI / 2, 0, 0 ]],\r\n\t\t\t\t[ new Mesh( arrowGeometry, matBlue ), [ 0, 0, - 0.5 ], [ - Math.PI / 2, 0, 0 ]],\r\n\t\t\t\t[ new Mesh( lineGeometry2, matBlue ), null, [ Math.PI / 2, 0, 0 ]]\r\n\t\t\t],\r\n\t\t\tXYZ: [\r\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.1, 0 ), matWhiteTransparent.clone() ), [ 0, 0, 0 ]]\r\n\t\t\t],\r\n\t\t\tXY: [\r\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.15, 0.15, 0.01 ), matBlueTransparent.clone() ), [ 0.15, 0.15, 0 ]]\r\n\t\t\t],\r\n\t\t\tYZ: [\r\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.15, 0.15, 0.01 ), matRedTransparent.clone() ), [ 0, 0.15, 0.15 ], [ 0, Math.PI / 2, 0 ]]\r\n\t\t\t],\r\n\t\t\tXZ: [\r\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.15, 0.15, 0.01 ), matGreenTransparent.clone() ), [ 0.15, 0, 0.15 ], [ - Math.PI / 2, 0, 0 ]]\r\n\t\t\t]\r\n\t\t};\r\n\r\n\t\tconst pickerTranslate = {\r\n\t\t\tX: [\r\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ 0.3, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\r\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ - 0.3, 0, 0 ], [ 0, 0, Math.PI / 2 ]]\r\n\t\t\t],\r\n\t\t\tY: [\r\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ 0, 0.3, 0 ]],\r\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ 0, - 0.3, 0 ], [ 0, 0, Math.PI ]]\r\n\t\t\t],\r\n\t\t\tZ: [\r\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ 0, 0, 0.3 ], [ Math.PI / 2, 0, 0 ]],\r\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ 0, 0, - 0.3 ], [ - Math.PI / 2, 0, 0 ]]\r\n\t\t\t],\r\n\t\t\tXYZ: [\r\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.2, 0 ), matInvisible ) ]\r\n\t\t\t],\r\n\t\t\tXY: [\r\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.01 ), matInvisible ), [ 0.15, 0.15, 0 ]]\r\n\t\t\t],\r\n\t\t\tYZ: [\r\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.01 ), matInvisible ), [ 0, 0.15, 0.15 ], [ 0, Math.PI / 2, 0 ]]\r\n\t\t\t],\r\n\t\t\tXZ: [\r\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.01 ), matInvisible ), [ 0.15, 0, 0.15 ], [ - Math.PI / 2, 0, 0 ]]\r\n\t\t\t]\r\n\t\t};\r\n\r\n\t\tconst helperTranslate = {\r\n\t\t\tSTART: [\r\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.01, 2 ), matHelper ), null, null, null, 'helper' ]\r\n\t\t\t],\r\n\t\t\tEND: [\r\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.01, 2 ), matHelper ), null, null, null, 'helper' ]\r\n\t\t\t],\r\n\t\t\tDELTA: [\r\n\t\t\t\t[ new Line( TranslateHelperGeometry(), matHelper ), null, null, null, 'helper' ]\r\n\t\t\t],\r\n\t\t\tX: [\r\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ - 1e3, 0, 0 ], null, [ 1e6, 1, 1 ], 'helper' ]\r\n\t\t\t],\r\n\t\t\tY: [\r\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, - 1e3, 0 ], [ 0, 0, Math.PI / 2 ], [ 1e6, 1, 1 ], 'helper' ]\r\n\t\t\t],\r\n\t\t\tZ: [\r\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, 0, - 1e3 ], [ 0, - Math.PI / 2, 0 ], [ 1e6, 1, 1 ], 'helper' ]\r\n\t\t\t]\r\n\t\t};\r\n\r\n\t\tconst gizmoRotate = {\r\n\t\t\tXYZE: [\r\n\t\t\t\t[ new Mesh( CircleGeometry( 0.5, 1 ), matGray ), null, [ 0, Math.PI / 2, 0 ]]\r\n\t\t\t],\r\n\t\t\tX: [\r\n\t\t\t\t[ new Mesh( CircleGeometry( 0.5, 0.5 ), matRed ) ]\r\n\t\t\t],\r\n\t\t\tY: [\r\n\t\t\t\t[ new Mesh( CircleGeometry( 0.5, 0.5 ), matGreen ), null, [ 0, 0, - Math.PI / 2 ]]\r\n\t\t\t],\r\n\t\t\tZ: [\r\n\t\t\t\t[ new Mesh( CircleGeometry( 0.5, 0.5 ), matBlue ), null, [ 0, Math.PI / 2, 0 ]]\r\n\t\t\t],\r\n\t\t\tE: [\r\n\t\t\t\t[ new Mesh( CircleGeometry( 0.75, 1 ), matYellowTransparent ), null, [ 0, Math.PI / 2, 0 ]]\r\n\t\t\t]\r\n\t\t};\r\n\r\n\t\tconst helperRotate = {\r\n\t\t\tAXIS: [\r\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ - 1e3, 0, 0 ], null, [ 1e6, 1, 1 ], 'helper' ]\r\n\t\t\t]\r\n\t\t};\r\n\r\n\t\tconst pickerRotate = {\r\n\t\t\tXYZE: [\r\n\t\t\t\t[ new Mesh( new SphereGeometry( 0.25, 10, 8 ), matInvisible ) ]\r\n\t\t\t],\r\n\t\t\tX: [\r\n\t\t\t\t[ new Mesh( new TorusGeometry( 0.5, 0.1, 4, 24 ), matInvisible ), [ 0, 0, 0 ], [ 0, - Math.PI / 2, - Math.PI / 2 ]],\r\n\t\t\t],\r\n\t\t\tY: [\r\n\t\t\t\t[ new Mesh( new TorusGeometry( 0.5, 0.1, 4, 24 ), matInvisible ), [ 0, 0, 0 ], [ Math.PI / 2, 0, 0 ]],\r\n\t\t\t],\r\n\t\t\tZ: [\r\n\t\t\t\t[ new Mesh( new TorusGeometry( 0.5, 0.1, 4, 24 ), matInvisible ), [ 0, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\r\n\t\t\t],\r\n\t\t\tE: [\r\n\t\t\t\t[ new Mesh( new TorusGeometry( 0.75, 0.1, 2, 24 ), matInvisible ) ]\r\n\t\t\t]\r\n\t\t};\r\n\r\n\t\tconst gizmoScale = {\r\n\t\t\tX: [\r\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matRed ), [ 0.5, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\r\n\t\t\t\t[ new Mesh( lineGeometry2, matRed ), [ 0, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\r\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matRed ), [ - 0.5, 0, 0 ], [ 0, 0, Math.PI / 2 ]],\r\n\t\t\t],\r\n\t\t\tY: [\r\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matGreen ), [ 0, 0.5, 0 ]],\r\n\t\t\t\t[ new Mesh( lineGeometry2, matGreen ) ],\r\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matGreen ), [ 0, - 0.5, 0 ], [ 0, 0, Math.PI ]],\r\n\t\t\t],\r\n\t\t\tZ: [\r\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matBlue ), [ 0, 0, 0.5 ], [ Math.PI / 2, 0, 0 ]],\r\n\t\t\t\t[ new Mesh( lineGeometry2, matBlue ), [ 0, 0, 0 ], [ Math.PI / 2, 0, 0 ]],\r\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matBlue ), [ 0, 0, - 0.5 ], [ - Math.PI / 2, 0, 0 ]]\r\n\t\t\t],\r\n\t\t\tXY: [\r\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.15, 0.15, 0.01 ), matBlueTransparent ), [ 0.15, 0.15, 0 ]]\r\n\t\t\t],\r\n\t\t\tYZ: [\r\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.15, 0.15, 0.01 ), matRedTransparent ), [ 0, 0.15, 0.15 ], [ 0, Math.PI / 2, 0 ]]\r\n\t\t\t],\r\n\t\t\tXZ: [\r\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.15, 0.15, 0.01 ), matGreenTransparent ), [ 0.15, 0, 0.15 ], [ - Math.PI / 2, 0, 0 ]]\r\n\t\t\t],\r\n\t\t\tXYZ: [\r\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.1, 0.1, 0.1 ), matWhiteTransparent.clone() ) ],\r\n\t\t\t]\r\n\t\t};\r\n\r\n\t\tconst pickerScale = {\r\n\t\t\tX: [\r\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ 0.3, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\r\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ - 0.3, 0, 0 ], [ 0, 0, Math.PI / 2 ]]\r\n\t\t\t],\r\n\t\t\tY: [\r\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ 0, 0.3, 0 ]],\r\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ 0, - 0.3, 0 ], [ 0, 0, Math.PI ]]\r\n\t\t\t],\r\n\t\t\tZ: [\r\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ 0, 0, 0.3 ], [ Math.PI / 2, 0, 0 ]],\r\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ 0, 0, - 0.3 ], [ - Math.PI / 2, 0, 0 ]]\r\n\t\t\t],\r\n\t\t\tXY: [\r\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.01 ), matInvisible ), [ 0.15, 0.15, 0 ]],\r\n\t\t\t],\r\n\t\t\tYZ: [\r\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.01 ), matInvisible ), [ 0, 0.15, 0.15 ], [ 0, Math.PI / 2, 0 ]],\r\n\t\t\t],\r\n\t\t\tXZ: [\r\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.01 ), matInvisible ), [ 0.15, 0, 0.15 ], [ - Math.PI / 2, 0, 0 ]],\r\n\t\t\t],\r\n\t\t\tXYZ: [\r\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.2 ), matInvisible ), [ 0, 0, 0 ]],\r\n\t\t\t]\r\n\t\t};\r\n\r\n\t\tconst helperScale = {\r\n\t\t\tX: [\r\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ - 1e3, 0, 0 ], null, [ 1e6, 1, 1 ], 'helper' ]\r\n\t\t\t],\r\n\t\t\tY: [\r\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, - 1e3, 0 ], [ 0, 0, Math.PI / 2 ], [ 1e6, 1, 1 ], 'helper' ]\r\n\t\t\t],\r\n\t\t\tZ: [\r\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, 0, - 1e3 ], [ 0, - Math.PI / 2, 0 ], [ 1e6, 1, 1 ], 'helper' ]\r\n\t\t\t]\r\n\t\t};\r\n\r\n\t\t// Creates an Object3D with gizmos described in custom hierarchy definition.\r\n\r\n\t\tfunction setupGizmo( gizmoMap ) {\r\n\r\n\t\t\tconst gizmo = new Object3D();\r\n\r\n\t\t\tfor ( const name in gizmoMap ) {\r\n\r\n\t\t\t\tfor ( let i = gizmoMap[ name ].length; i --; ) {\r\n\r\n\t\t\t\t\tconst object = gizmoMap[ name ][ i ][ 0 ].clone();\r\n\t\t\t\t\tconst position = gizmoMap[ name ][ i ][ 1 ];\r\n\t\t\t\t\tconst rotation = gizmoMap[ name ][ i ][ 2 ];\r\n\t\t\t\t\tconst scale = gizmoMap[ name ][ i ][ 3 ];\r\n\t\t\t\t\tconst tag = gizmoMap[ name ][ i ][ 4 ];\r\n\r\n\t\t\t\t\t// name and tag properties are essential for picking and updating logic.\r\n\t\t\t\t\tobject.name = name;\r\n\t\t\t\t\tobject.tag = tag;\r\n\r\n\t\t\t\t\tif ( position ) {\r\n\r\n\t\t\t\t\t\tobject.position.set( position[ 0 ], position[ 1 ], position[ 2 ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( rotation ) {\r\n\r\n\t\t\t\t\t\tobject.rotation.set( rotation[ 0 ], rotation[ 1 ], rotation[ 2 ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( scale ) {\r\n\r\n\t\t\t\t\t\tobject.scale.set( scale[ 0 ], scale[ 1 ], scale[ 2 ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tobject.updateMatrix();\r\n\r\n\t\t\t\t\tconst tempGeometry = object.geometry.clone();\r\n\t\t\t\t\ttempGeometry.applyMatrix4( object.matrix );\r\n\t\t\t\t\tobject.geometry = tempGeometry;\r\n\t\t\t\t\tobject.renderOrder = Infinity;\r\n\r\n\t\t\t\t\tobject.position.set( 0, 0, 0 );\r\n\t\t\t\t\tobject.rotation.set( 0, 0, 0 );\r\n\t\t\t\t\tobject.scale.set( 1, 1, 1 );\r\n\r\n\t\t\t\t\tgizmo.add( object );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn gizmo;\r\n\r\n\t\t}\r\n\r\n\t\t// Gizmo creation\r\n\r\n\t\tthis.gizmo = {};\r\n\t\tthis.picker = {};\r\n\t\tthis.helper = {};\r\n\r\n\t\tthis.add( this.gizmo[ 'translate' ] = setupGizmo( gizmoTranslate ) );\r\n\t\tthis.add( this.gizmo[ 'rotate' ] = setupGizmo( gizmoRotate ) );\r\n\t\tthis.add( this.gizmo[ 'scale' ] = setupGizmo( gizmoScale ) );\r\n\t\tthis.add( this.picker[ 'translate' ] = setupGizmo( pickerTranslate ) );\r\n\t\tthis.add( this.picker[ 'rotate' ] = setupGizmo( pickerRotate ) );\r\n\t\tthis.add( this.picker[ 'scale' ] = setupGizmo( pickerScale ) );\r\n\t\tthis.add( this.helper[ 'translate' ] = setupGizmo( helperTranslate ) );\r\n\t\tthis.add( this.helper[ 'rotate' ] = setupGizmo( helperRotate ) );\r\n\t\tthis.add( this.helper[ 'scale' ] = setupGizmo( helperScale ) );\r\n\r\n\t\t// Pickers should be hidden always\r\n\r\n\t\tthis.picker[ 'translate' ].visible = false;\r\n\t\tthis.picker[ 'rotate' ].visible = false;\r\n\t\tthis.picker[ 'scale' ].visible = false;\r\n\r\n\t}\r\n\r\n\t// updateMatrixWorld will update transformations and appearance of individual handles\r\n\r\n\tupdateMatrixWorld( force ) {\r\n\r\n\t\tconst space = ( this.mode === 'scale' ) ? 'local' : this.space; // scale always oriented to local rotation\r\n\r\n\t\tconst quaternion = ( space === 'local' ) ? this.worldQuaternion : _identityQuaternion;\r\n\r\n\t\t// Show only gizmos for current transform mode\r\n\r\n\t\tthis.gizmo[ 'translate' ].visible = this.mode === 'translate';\r\n\t\tthis.gizmo[ 'rotate' ].visible = this.mode === 'rotate';\r\n\t\tthis.gizmo[ 'scale' ].visible = this.mode === 'scale';\r\n\r\n\t\tthis.helper[ 'translate' ].visible = this.mode === 'translate';\r\n\t\tthis.helper[ 'rotate' ].visible = this.mode === 'rotate';\r\n\t\tthis.helper[ 'scale' ].visible = this.mode === 'scale';\r\n\r\n\r\n\t\tlet handles = [];\r\n\t\thandles = handles.concat( this.picker[ this.mode ].children );\r\n\t\thandles = handles.concat( this.gizmo[ this.mode ].children );\r\n\t\thandles = handles.concat( this.helper[ this.mode ].children );\r\n\r\n\t\tfor ( let i = 0; i < handles.length; i ++ ) {\r\n\r\n\t\t\tconst handle = handles[ i ];\r\n\r\n\t\t\t// hide aligned to camera\r\n\r\n\t\t\thandle.visible = true;\r\n\t\t\thandle.rotation.set( 0, 0, 0 );\r\n\t\t\thandle.position.copy( this.worldPosition );\r\n\r\n\t\t\tlet factor;\r\n\r\n\t\t\tif ( this.camera.isOrthographicCamera ) {\r\n\r\n\t\t\t\tfactor = ( this.camera.top - this.camera.bottom ) / this.camera.zoom;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tfactor = this.worldPosition.distanceTo( this.cameraPosition ) * Math.min( 1.9 * Math.tan( Math.PI * this.camera.fov / 360 ) / this.camera.zoom, 7 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\thandle.scale.set( 1, 1, 1 ).multiplyScalar( factor * this.size / 4 );\r\n\r\n\t\t\t// TODO: simplify helpers and consider decoupling from gizmo\r\n\r\n\t\t\tif ( handle.tag === 'helper' ) {\r\n\r\n\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\tif ( handle.name === 'AXIS' ) {\r\n\r\n\t\t\t\t\thandle.position.copy( this.worldPositionStart );\r\n\t\t\t\t\thandle.visible = !! this.axis;\r\n\r\n\t\t\t\t\tif ( this.axis === 'X' ) {\r\n\r\n\t\t\t\t\t\t_tempQuaternion.setFromEuler( _tempEuler.set( 0, 0, 0 ) );\r\n\t\t\t\t\t\thandle.quaternion.copy( quaternion ).multiply( _tempQuaternion );\r\n\r\n\t\t\t\t\t\tif ( Math.abs( _alignVector.copy( _unitX ).applyQuaternion( quaternion ).dot( this.eye ) ) > 0.9 ) {\r\n\r\n\t\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( this.axis === 'Y' ) {\r\n\r\n\t\t\t\t\t\t_tempQuaternion.setFromEuler( _tempEuler.set( 0, 0, Math.PI / 2 ) );\r\n\t\t\t\t\t\thandle.quaternion.copy( quaternion ).multiply( _tempQuaternion );\r\n\r\n\t\t\t\t\t\tif ( Math.abs( _alignVector.copy( _unitY ).applyQuaternion( quaternion ).dot( this.eye ) ) > 0.9 ) {\r\n\r\n\t\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( this.axis === 'Z' ) {\r\n\r\n\t\t\t\t\t\t_tempQuaternion.setFromEuler( _tempEuler.set( 0, Math.PI / 2, 0 ) );\r\n\t\t\t\t\t\thandle.quaternion.copy( quaternion ).multiply( _tempQuaternion );\r\n\r\n\t\t\t\t\t\tif ( Math.abs( _alignVector.copy( _unitZ ).applyQuaternion( quaternion ).dot( this.eye ) ) > 0.9 ) {\r\n\r\n\t\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( this.axis === 'XYZE' ) {\r\n\r\n\t\t\t\t\t\t_tempQuaternion.setFromEuler( _tempEuler.set( 0, Math.PI / 2, 0 ) );\r\n\t\t\t\t\t\t_alignVector.copy( this.rotationAxis );\r\n\t\t\t\t\t\thandle.quaternion.setFromRotationMatrix( _lookAtMatrix.lookAt( _zeroVector, _alignVector, _unitY ) );\r\n\t\t\t\t\t\thandle.quaternion.multiply( _tempQuaternion );\r\n\t\t\t\t\t\thandle.visible = this.dragging;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( this.axis === 'E' ) {\r\n\r\n\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t} else if ( handle.name === 'START' ) {\r\n\r\n\t\t\t\t\thandle.position.copy( this.worldPositionStart );\r\n\t\t\t\t\thandle.visible = this.dragging;\r\n\r\n\t\t\t\t} else if ( handle.name === 'END' ) {\r\n\r\n\t\t\t\t\thandle.position.copy( this.worldPosition );\r\n\t\t\t\t\thandle.visible = this.dragging;\r\n\r\n\t\t\t\t} else if ( handle.name === 'DELTA' ) {\r\n\r\n\t\t\t\t\thandle.position.copy( this.worldPositionStart );\r\n\t\t\t\t\thandle.quaternion.copy( this.worldQuaternionStart );\r\n\t\t\t\t\t_tempVector.set( 1e-10, 1e-10, 1e-10 ).add( this.worldPositionStart ).sub( this.worldPosition ).multiplyScalar( - 1 );\r\n\t\t\t\t\t_tempVector.applyQuaternion( this.worldQuaternionStart.clone().invert() );\r\n\t\t\t\t\thandle.scale.copy( _tempVector );\r\n\t\t\t\t\thandle.visible = this.dragging;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\thandle.quaternion.copy( quaternion );\r\n\r\n\t\t\t\t\tif ( this.dragging ) {\r\n\r\n\t\t\t\t\t\thandle.position.copy( this.worldPositionStart );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\thandle.position.copy( this.worldPosition );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( this.axis ) {\r\n\r\n\t\t\t\t\t\thandle.visible = this.axis.search( handle.name ) !== - 1;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If updating helper, skip rest of the loop\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Align handles to current local or world rotation\r\n\r\n\t\t\thandle.quaternion.copy( quaternion );\r\n\r\n\t\t\tif ( this.mode === 'translate' || this.mode === 'scale' ) {\r\n\r\n\t\t\t\t// Hide translate and scale axis facing the camera\r\n\r\n\t\t\t\tconst AXIS_HIDE_TRESHOLD = 0.99;\r\n\t\t\t\tconst PLANE_HIDE_TRESHOLD = 0.2;\r\n\r\n\t\t\t\tif ( handle.name === 'X' ) {\r\n\r\n\t\t\t\t\tif ( Math.abs( _alignVector.copy( _unitX ).applyQuaternion( quaternion ).dot( this.eye ) ) > AXIS_HIDE_TRESHOLD ) {\r\n\r\n\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\r\n\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( handle.name === 'Y' ) {\r\n\r\n\t\t\t\t\tif ( Math.abs( _alignVector.copy( _unitY ).applyQuaternion( quaternion ).dot( this.eye ) ) > AXIS_HIDE_TRESHOLD ) {\r\n\r\n\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\r\n\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( handle.name === 'Z' ) {\r\n\r\n\t\t\t\t\tif ( Math.abs( _alignVector.copy( _unitZ ).applyQuaternion( quaternion ).dot( this.eye ) ) > AXIS_HIDE_TRESHOLD ) {\r\n\r\n\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\r\n\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( handle.name === 'XY' ) {\r\n\r\n\t\t\t\t\tif ( Math.abs( _alignVector.copy( _unitZ ).applyQuaternion( quaternion ).dot( this.eye ) ) < PLANE_HIDE_TRESHOLD ) {\r\n\r\n\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\r\n\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( handle.name === 'YZ' ) {\r\n\r\n\t\t\t\t\tif ( Math.abs( _alignVector.copy( _unitX ).applyQuaternion( quaternion ).dot( this.eye ) ) < PLANE_HIDE_TRESHOLD ) {\r\n\r\n\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\r\n\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( handle.name === 'XZ' ) {\r\n\r\n\t\t\t\t\tif ( Math.abs( _alignVector.copy( _unitY ).applyQuaternion( quaternion ).dot( this.eye ) ) < PLANE_HIDE_TRESHOLD ) {\r\n\r\n\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\r\n\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( this.mode === 'rotate' ) {\r\n\r\n\t\t\t\t// Align handles to current local or world rotation\r\n\r\n\t\t\t\t_tempQuaternion2.copy( quaternion );\r\n\t\t\t\t_alignVector.copy( this.eye ).applyQuaternion( _tempQuaternion.copy( quaternion ).invert() );\r\n\r\n\t\t\t\tif ( handle.name.search( 'E' ) !== - 1 ) {\r\n\r\n\t\t\t\t\thandle.quaternion.setFromRotationMatrix( _lookAtMatrix.lookAt( this.eye, _zeroVector, _unitY ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( handle.name === 'X' ) {\r\n\r\n\t\t\t\t\t_tempQuaternion.setFromAxisAngle( _unitX, Math.atan2( - _alignVector.y, _alignVector.z ) );\r\n\t\t\t\t\t_tempQuaternion.multiplyQuaternions( _tempQuaternion2, _tempQuaternion );\r\n\t\t\t\t\thandle.quaternion.copy( _tempQuaternion );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( handle.name === 'Y' ) {\r\n\r\n\t\t\t\t\t_tempQuaternion.setFromAxisAngle( _unitY, Math.atan2( _alignVector.x, _alignVector.z ) );\r\n\t\t\t\t\t_tempQuaternion.multiplyQuaternions( _tempQuaternion2, _tempQuaternion );\r\n\t\t\t\t\thandle.quaternion.copy( _tempQuaternion );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( handle.name === 'Z' ) {\r\n\r\n\t\t\t\t\t_tempQuaternion.setFromAxisAngle( _unitZ, Math.atan2( _alignVector.y, _alignVector.x ) );\r\n\t\t\t\t\t_tempQuaternion.multiplyQuaternions( _tempQuaternion2, _tempQuaternion );\r\n\t\t\t\t\thandle.quaternion.copy( _tempQuaternion );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Hide disabled axes\r\n\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'X' ) === - 1 || this.showX );\r\n\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'Y' ) === - 1 || this.showY );\r\n\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'Z' ) === - 1 || this.showZ );\r\n\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'E' ) === - 1 || ( this.showX && this.showY && this.showZ ) );\r\n\r\n\t\t\t// highlight selected axis\r\n\r\n\t\t\thandle.material._color = handle.material._color || handle.material.color.clone();\r\n\t\t\thandle.material._opacity = handle.material._opacity || handle.material.opacity;\r\n\r\n\t\t\thandle.material.color.copy( handle.material._color );\r\n\t\t\thandle.material.opacity = handle.material._opacity;\r\n\r\n\t\t\tif ( this.enabled && this.axis ) {\r\n\r\n\t\t\t\tif ( handle.name === this.axis ) {\r\n\r\n\t\t\t\t\thandle.material.color.setHex( 0xffff00 );\r\n\t\t\t\t\thandle.material.opacity = 1.0;\r\n\r\n\t\t\t\t} else if ( this.axis.split( '' ).some( function ( a ) {\r\n\r\n\t\t\t\t\treturn handle.name === a;\r\n\r\n\t\t\t\t} ) ) {\r\n\r\n\t\t\t\t\thandle.material.color.setHex( 0xffff00 );\r\n\t\t\t\t\thandle.material.opacity = 1.0;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tsuper.updateMatrixWorld( force );\r\n\r\n\t}\r\n\r\n}\r\n\r\nTransformControlsGizmo.prototype.isTransformControlsGizmo = true;\r\n\r\n//\r\n\r\nclass TransformControlsPlane extends Mesh {\r\n\r\n\tconstructor() {\r\n\r\n\t\tsuper(\r\n\t\t\tnew PlaneGeometry( 100000, 100000, 2, 2 ),\r\n\t\t\tnew MeshBasicMaterial( { visible: false, wireframe: true, side: DoubleSide, transparent: true, opacity: 0.1, toneMapped: false } )\r\n\t\t);\r\n\r\n\t\tthis.type = 'TransformControlsPlane';\r\n\r\n\t}\r\n\r\n\tupdateMatrixWorld( force ) {\r\n\r\n\t\tlet space = this.space;\r\n\r\n\t\tthis.position.copy( this.worldPosition );\r\n\r\n\t\tif ( this.mode === 'scale' ) space = 'local'; // scale always oriented to local rotation\r\n\r\n\t\t_v1.copy( _unitX ).applyQuaternion( space === 'local' ? this.worldQuaternion : _identityQuaternion );\r\n\t\t_v2.copy( _unitY ).applyQuaternion( space === 'local' ? this.worldQuaternion : _identityQuaternion );\r\n\t\t_v3.copy( _unitZ ).applyQuaternion( space === 'local' ? this.worldQuaternion : _identityQuaternion );\r\n\r\n\t\t// Align the plane for current transform mode, axis and space.\r\n\r\n\t\t_alignVector.copy( _v2 );\r\n\r\n\t\tswitch ( this.mode ) {\r\n\r\n\t\t\tcase 'translate':\r\n\t\t\tcase 'scale':\r\n\t\t\t\tswitch ( this.axis ) {\r\n\r\n\t\t\t\t\tcase 'X':\r\n\t\t\t\t\t\t_alignVector.copy( this.eye ).cross( _v1 );\r\n\t\t\t\t\t\t_dirVector.copy( _v1 ).cross( _alignVector );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'Y':\r\n\t\t\t\t\t\t_alignVector.copy( this.eye ).cross( _v2 );\r\n\t\t\t\t\t\t_dirVector.copy( _v2 ).cross( _alignVector );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'Z':\r\n\t\t\t\t\t\t_alignVector.copy( this.eye ).cross( _v3 );\r\n\t\t\t\t\t\t_dirVector.copy( _v3 ).cross( _alignVector );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'XY':\r\n\t\t\t\t\t\t_dirVector.copy( _v3 );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'YZ':\r\n\t\t\t\t\t\t_dirVector.copy( _v1 );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'XZ':\r\n\t\t\t\t\t\t_alignVector.copy( _v3 );\r\n\t\t\t\t\t\t_dirVector.copy( _v2 );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'XYZ':\r\n\t\t\t\t\tcase 'E':\r\n\t\t\t\t\t\t_dirVector.set( 0, 0, 0 );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'rotate':\r\n\t\t\tdefault:\r\n\t\t\t\t// special case for rotate\r\n\t\t\t\t_dirVector.set( 0, 0, 0 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( _dirVector.length() === 0 ) {\r\n\r\n\t\t\t// If in rotate mode, make the plane parallel to camera\r\n\t\t\tthis.quaternion.copy( this.cameraQuaternion );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_tempMatrix.lookAt( _tempVector.set( 0, 0, 0 ), _dirVector, _alignVector );\r\n\r\n\t\t\tthis.quaternion.setFromRotationMatrix( _tempMatrix );\r\n\r\n\t\t}\r\n\r\n\t\tsuper.updateMatrixWorld( force );\r\n\r\n\t}\r\n\r\n}\r\n\r\nTransformControlsPlane.prototype.isTransformControlsPlane = true;\r\n\r\nexport { TransformControls, TransformControlsGizmo, TransformControlsPlane };\r\n","import { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { isArray, isNumber, isObject, isString } from '@app/_core/helpers/utils';\nimport { BaseInputComponent } from '../base-input/base-input.component';\n\n@Component({\n    selector: 'inp-radio',\n    templateUrl: './inp-radio.component.html',\n    styleUrls: ['./inp-radio.component.scss']\n})\nexport class InpRadioComponent extends BaseInputComponent implements OnInit, OnChanges {\n\n    @Input() options: any;\n    _options: Array<{ label: string, value: string }> = [];\n    constructor() {\n        super();\n    }\n\n\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if (changes.options) {\n            this.syncFromParent();\n        }\n\n    }\n\n\n    ngOnInit(): void {\n        this.syncFromParent();\n\n    }\n\n    syncFromParent() {\n        let hasValue = false;\n        if (isArray(this.options)) {\n            this._options = [];\n            \n            this.options.map((value) => {\n                if (isObject(value)) {\n                    if (Object.prototype.hasOwnProperty.call(value, 'value') && Object.prototype.hasOwnProperty.call(value, 'label')) {\n                        this._options.push(value);\n                    }\n                } else if (isString(value) || isNumber(value)) {\n                    this._options.push({\n                        value: value,\n                        label: value\n                    });\n                }\n            });\n            \n\n        } else if (isObject(this.options)) {\n            let s = false;\n            this._options.splice(0);\n            for (const key in this.options) {\n                if (Object.prototype.hasOwnProperty.call(this.options, key)) {\n                    const value = this.options[key];\n                    if (isObject(value)) {\n                        if (Object.prototype.hasOwnProperty.call(value, 'value') && Object.prototype.hasOwnProperty.call(value, 'label')) {\n                            this._options.push(value);\n                        }\n                    } else if (isString(value)) {\n                        s = true;\n                        this._options.push({\n                            value: key,\n                            label: value\n                        });\n                    }\n                }\n            }\n            if (s) {\n                this.value = String(this.value);\n            }\n        }\n        if(this._options.length){\n            this._options.map(opt => {\n                if(opt.value == this.value) hasValue = true;\n            })\n            if(!hasValue){\n                this.value = this._options[0].value;\n            }\n        }\n        \n\n\n    }\n\n}\n","<nz-radio-group [(ngModel)]=\"value\" (ngModelChange)=\"onChange($event)\">\n  <label nz-radio *ngFor=\"let p of _options\" [nzValue]=\"p.value\">{{p.label}}</label>\n</nz-radio-group>","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'thumbnail' })\r\nexport class ThumbnailPipe implements PipeTransform {\r\n  transform(value: Array<any>, field: string): number {\r\n    if (!Array.isArray(value)) {\r\n      return null;\r\n    }\r\n    return value.find((v) => v.quanlity === field)?.url;\r\n  }\r\n}\r\n","import { isArray, isEmpty, isObject, Str } from '@app/_core/helpers/utils';\r\nimport * as THREE from 'three';\r\nimport * as POSTPROCESSING from '../modules/postprocessing.esm.js';\r\nimport {Props} from './props';\r\n\r\nconst params = {\r\n\r\n    clearPass: true,\r\n    clearColor: 'white',\r\n    clearAlpha: 1.0,\r\n\r\n    texturePass: true,\r\n    texturePassOpacity: 1.0,\r\n\r\n    cubeTexturePass: true,\r\n    cubeTexturePassOpacity: 1.0,\r\n\r\n    renderPass: true\r\n};\r\n\r\n\r\nconst ComposerEffects = {\r\n    \r\n    addEffect: function (type:any, options:any) {\r\n        var effectPass = new POSTPROCESSING.EffectPass(\r\n            this.camera,\r\n            // new POSTPROCESSING.BloomEffect()\r\n            this.getEffect(\r\n                type,\r\n                isObject(options) ? options : {}\r\n            )\r\n        );\r\n        effectPass.renderToScreen = true;\r\n        this.composer.addPass(effectPass);\r\n    },\r\n    \r\n    getEffect: function (key:any, options:any) {\r\n        var k = Str.replace(Str.lower(String(key)), \"effect\", \"\");\r\n        var ek = typeof this.effects[k] != \"undefined\" ? this.effects[k] : this.effects.bloom;\r\n        var eff = new POSTPROCESSING.ColorDepthEffect();\r\n        try {\r\n            if (typeof this[ek] == \"function\") {\r\n                var e = this[ek].apply(this, [options]);\r\n                eff = e;\r\n            }\r\n        } catch (error) {\r\n\r\n        }\r\n        return eff;\r\n    },\r\n\r\n    BloomEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.BloomEffect(params.options);\r\n        }\r\n        return new POSTPROCESSING.BloomEffect();\r\n\r\n    },\r\n    BokehEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.BokehEffect(params.options);\r\n        }\r\n        return new POSTPROCESSING.BokehEffect();\r\n    },\r\n\r\n    BrightnessContrastEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.BrightnessContrastEffect(params.options);\r\n        }\r\n        return new POSTPROCESSING.BrightnessContrastEffect();\r\n    },\r\n\r\n    ColorAverageEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            blendFunction: undefined\r\n        });\r\n        if (params.blendFunction !== undefined) {\r\n            return new POSTPROCESSING.ColorAverageEffect(params.blendFunction);\r\n        }\r\n        return new POSTPROCESSING.ColorAverageEffect();\r\n    },\r\n\r\n    ColorDepthEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.ColorDepthEffect(params.options);\r\n        }\r\n        return new POSTPROCESSING.ColorDepthEffect();\r\n    },\r\n\r\n\r\n    ChromaticAberrationEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.ChromaticAberrationEffect(params.options);\r\n        }\r\n        return new POSTPROCESSING.ChromaticAberrationEffect();\r\n    },\r\n\r\n\r\n\r\n    DepthEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.DepthEffect(params.options);\r\n        }\r\n        return new POSTPROCESSING.DepthEffect();\r\n    },\r\n\r\n    DepthOfFieldEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            camera: this.camera,\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.DepthOfFieldEffect(params.camera, params.options);\r\n        }\r\n        return new POSTPROCESSING.DepthOfFieldEffect(params.camera);\r\n    },\r\n\r\n\r\n\r\n    DotScreenEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.DotScreenEffect(params.options);\r\n        }\r\n        return new POSTPROCESSING.DotScreenEffect();\r\n    },\r\n\r\n\r\n    GammaCorrectionEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.GammaCorrectionEffect(params.options);\r\n        }\r\n        return new POSTPROCESSING.GammaCorrectionEffect();\r\n    },\r\n    GlitchEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.GlitchEffect(params.options);\r\n        }\r\n        return new POSTPROCESSING.GlitchEffect();\r\n    },\r\n\r\n    GodRaysEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            camera: this.camera,\r\n            lightSource: {},\r\n            options: {}\r\n        });\r\n        if (params.lightSource) return null;\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.GodRaysEffect(params.camera, params.lightSource, params.options);\r\n        }\r\n        return new POSTPROCESSING.GodRaysEffect(params.camera, params.lightSource);\r\n    },\r\n\r\n    GridEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.GridEffect(params.options);\r\n        }\r\n        return new POSTPROCESSING.GridEffect();\r\n    },\r\n    HueSaturationEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.HueSaturationEffect(params.options);\r\n        }\r\n        return new POSTPROCESSING.HueSaturationEffect();\r\n    },\r\n\r\n    NoiseEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.NoiseEffect(params.options);\r\n        }\r\n        return new POSTPROCESSING.NoiseEffect();\r\n    },\r\n\r\n    OutlineEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            scene: this.scene,\r\n            camera: this.camera,\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.OutlineEffect(params.scene, params.camera, params.options);\r\n        }\r\n        return new POSTPROCESSING.OutlineEffect(params.scene, params.camera);\r\n    },\r\n\r\n    PixelationEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            granularity: 30.0,\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.OutlineEffect(params.granularity);\r\n        }\r\n        return new POSTPROCESSING.OutlineEffect(params.granularity);\r\n    },\r\n\r\n\r\n    RealisticBokehEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.RealisticBokehEffect(params.options);\r\n        }\r\n        return new POSTPROCESSING.RealisticBokehEffect();\r\n    },\r\n\r\n    ScanlineEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.ScanlineEffect(params.options);\r\n        }\r\n        return new POSTPROCESSING.ScanlineEffect();\r\n    },\r\n\r\n    ShockWaveEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            camera: this.camera,\r\n            epicenter: new THREE.Vector3(),\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.ShockWaveEffect(params.camera, params.epicenter, params.options);\r\n        }\r\n        return new POSTPROCESSING.ShockWaveEffect(params.camera, params.epicenter);\r\n    },\r\n\r\n\r\n\r\n\r\n    SelectiveBloomEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            scene: this.scene,\r\n            camera: this.camera,\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.SelectiveBloomEffect(params.scene, params.camera, params.options);\r\n        }\r\n        return new POSTPROCESSING.SelectiveBloomEffect(params.scene, params.camera);\r\n    },\r\n\r\n\r\n\r\n    SepiaEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.SepiaEffect(params.options);\r\n        }\r\n        return new POSTPROCESSING.SepiaEffect();\r\n    },\r\n\r\n    TextureEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.TextureEffect(params.options);\r\n        }\r\n        return new POSTPROCESSING.TextureEffect();\r\n    },\r\n\r\n    ToneMappingEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.ToneMappingEffect(params.options);\r\n        }\r\n        return new POSTPROCESSING.ToneMappingEffect();\r\n    },\r\n\r\n    VignetteEffect: function (options:any) {\r\n        var params = Props.parseParams(options, {\r\n            options: {}\r\n        });\r\n        if (!isEmpty(params.options)) {\r\n            return new POSTPROCESSING.VignetteEffect(params.options);\r\n        }\r\n        return new POSTPROCESSING.VignetteEffect();\r\n    },\r\n\r\n\r\n    aaaaa: {\r\n        \"SMAAEffect\": {}, \"SSAOEffect\": {}, \"\": {}\r\n    },\r\n\r\n\r\n    effects: {\r\n        bloom: \"BloomEffect\", b: \"BloomEffect\", bl: \"BloomEffect\", be: \"BloomEffect\", bokeh: \"BokehEffect\", bk: \"BokehEffect\", bke: \"BokehEffect\", brightnesscontrast: \"BrightnessContrastEffect\", bc: \"BrightnessContrastEffect\", brctr: \"BrightnessContrastEffect\", bce: \"BrightnessContrastEffect\", chromaticaberration: \"ChromaticAberrationEffect\", cma: \"ChromaticAberrationEffect\", cmabe: \"ChromaticAberrationEffect\", coloraverage: \"ColorAverageEffect\", cla: \"ColorAverageEffect\", colordepth: \"ColorDepthEffect\", cd: \"ColorDepthEffect\", cde: \"ColorDepthEffect\", depth: \"DepthEffect\", d: \"DepthEffect\", de: \"DepthEffect\", depthoffield: \"DepthOfFieldEffect\", dof: \"DepthOfFieldEffect\", dofe: \"DepthOfFieldEffect\", dotscreen: \"DotScreenEffect\", ds: \"DotScreenEffect\", dse: \"DotScreenEffect\", gammacorrection: \"GammaCorrectionEffect\", gc: \"GammaCorrectionEffect\", gce: \"GammaCorrectionEffect\", glitch: \"GlitchEffect\", g: \"GlitchEffect\", ge: \"GlitchEffect\", godrays: \"GodRaysEffect\", gr: \"GodRaysEffect\", gre: \"GodRaysEffect\", grid: \"GridEffect\", huesaturation: \"HueSaturationEffect\", hs: \"HueSaturationEffect\", hse: \"HueSaturationEffect\", noise: \"NoiseEffect\", n: \"NoiseEffect\", ne: \"NoiseEffect\", outline: \"OutlineEffect\", o: \"OutlineEffect\", ol: \"OutlineEffect\", oe: \"OutlineEffect\", pixelation: \"PixelationEffect\", p: \"PixelationEffect\", px: \"PixelationEffect\", pe: \"PixelationEffect\", realisticbokeh: \"RealisticBokehEffect\", rb: \"RealisticBokehEffect\", rbe: \"RealisticBokehEffect\", smaa: \"SMAAEffect\", smaae: \"SMAAEffect\", ssao: \"SSAOEffect\", ssaoe: \"SSAOEffect\", scanline: \"ScanlineEffect\", s: \"ScanlineEffect\", se: \"ScanlineEffect\", selectivebloom: \"SelectiveBloomEffect\", sb: \"SelectiveBloomEffect\", sbe: \"SelectiveBloomEffect\", sepia: \"SepiaEffect\", shockwave: \"ShockWaveEffect\", sw: \"ShockWaveEffect\", swe: \"ShockWaveEffect\", texture: \"TextureEffect\", t: \"TextureEffect\", te: \"TextureEffect\", tonemapping: \"ToneMappingEffect\", tm: \"ToneMappingEffect\", tme: \"ToneMappingEffect\", vignette: \"VignetteEffect\", v: \"VignetteEffect\", ve: \"VignetteEffect\"\r\n    }\r\n};\r\nexport default ComposerEffects;\r\nexport { ComposerEffects };","import { assignValue, isNumber } from '@app/_core/helpers/utils';\r\n// import Dom from '../../libs/dom.js';\r\nimport * as THREE from 'three';\r\n\r\nimport { OrbitControls } from '@app/_3D/threejs/jsm/controls/OrbitControls.js';\r\n// import Meshes from '@app/_3D/libs/meshes';\r\nimport Dom from '@app/_core/helpers/dom';\r\nimport { Meshes } from '../libs/three.libs';\r\n// import LoaderLib from '../libs/LoaderLib.js';\r\nvar deploy = false;\r\nvar Object2Image = (function () {\r\n    var O2i = function () {\r\n        var scene = new THREE.Scene();\r\n        var renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });\r\n        renderer.setClearColor(0x000000, 0); // the default\r\n\r\n        const WIDTH = 120, HEIGHT = 120;\r\n\r\n        var self = this;\r\n        renderer.setPixelRatio(window.devicePixelRatio);\r\n        renderer.setSize(WIDTH, HEIGHT);\r\n        // renderer.toneMapping = THREE.ACESFilmicToneMapping;\r\n        renderer.outputEncoding = THREE.sRGBEncoding;\r\n        renderer.toneMappingExposure = 0.85;\r\n        renderer.shadowMap.enabled = true;\r\n        renderer.shadowMap.type = THREE.PCFSoftShadowMap;\r\n        renderer.colorManagement = true;\r\n\r\n\r\n        \r\n\r\n        var root = document.getElementById(\"object2image\");\r\n        if (root) {\r\n            root.appendChild(renderer.domElement);\r\n        }\r\n        var camera = new THREE.PerspectiveCamera(45, WIDTH / HEIGHT, 0.25, 10000);\r\n        camera.position.set(0, 0.3, 1.4);\r\n\r\n        var controls = new OrbitControls(camera, renderer.domElement);\r\n        controls.addEventListener(\"change\", function (e) {\r\n            render();\r\n        });\r\n\r\n        var ambient = new THREE.AmbientLight(0xffffff, 0.5);\r\n        scene.add(ambient);\r\n\r\n        var pointLight = new THREE.PointLight(0x4444cc, 0.3);\r\n        pointLight.position.set(0, -10, 0);\r\n        scene.add(pointLight);\r\n\r\n        var directionallight = new THREE.DirectionalLight(0xFFE0B5, 0.4);\r\n        assignValue(directionallight, {\r\n            position: { x: 40, y: 40, z: 30 },\r\n            castShadow: true,\r\n            shadow: {\r\n                mapSize: {\r\n                    width: 4096,\r\n                    height: 4096\r\n                },\r\n                camera: {\r\n                    near: 0.1,\r\n                    far: 100,\r\n                    left: 10,\r\n                    right: -10,\r\n                    top: 10,\r\n                    bottom: -10\r\n                },\r\n                darkness: 0.1,\r\n                bias: -0.0002,\r\n                radius: 5\r\n            }\r\n        });\r\n        var directionallight2 = new THREE.DirectionalLight(0xFFE0B5, 0.4);\r\n        assignValue(directionallight2, {\r\n            position: { x: 40, y: 40, z: 30 }\r\n        });\r\n\r\n        scene.add(directionallight);\r\n\r\n        scene.add(directionallight2);\r\n\r\n\r\n        function render() {\r\n            renderer.render(scene, camera);\r\n        }\r\n\r\n        this.width = WIDTH;\r\n        this.height = HEIGHT;\r\n\r\n        /**\r\n         * set kích thước ảnh\r\n         * @param {int} width do rộng ảnh\r\n         * @param {int} height độ cao ảnh\r\n         */\r\n        this.setSize = function setSize(width?:any, height?:any) {\r\n            if (!isNumber(width)) return false;\r\n            if (!isNumber(height)) height = width;\r\n            this.width = width;\r\n            this.height = height;\r\n            camera.aspect = width / height;\r\n            camera.updateProjectionMatrix();\r\n\r\n            renderer.setSize(width, height);\r\n\r\n            // render();\r\n\r\n        };\r\n\r\n        /**\r\n         * lấy url ảnh\r\n         * @param {object} object doi tuong 3D\r\n         * @param {int} width \r\n         * @param {int} height \r\n         * @returns {string}\r\n         */\r\n        this.getImage = function (object?:any, width?:any, height?:any) {\r\n            this.setSize(width, height);\r\n            if (!object) {\r\n\r\n            }\r\n            var obj = object.clone(true);\r\n            obj.position.set(0, 0, 0);\r\n            var box = new THREE.Box3().setFromObject(obj);\r\n            box.center(obj.position); // this re-sets the mesh position\r\n            var size = box.getSize();\r\n\r\n            obj.position.multiplyScalar(-1);\r\n            var pivot = new THREE.Object3D();\r\n\r\n            pivot.add(obj);\r\n            pivot.position.set(0, 0, 0);\r\n            try {\r\n                var rad = Math.PI / 8;\r\n                var d = size.z / 2;\r\n                var s = size.x > size.y ? size.x : size.y;\r\n                s += s * 0.1;\r\n                s /= 2;\r\n                var tan = Math.tan(rad);\r\n                var z = s / tan + d;\r\n                camera.position.x = z * 0.7;\r\n                camera.position.y = z * 0.2;\r\n                camera.position.z = z;\r\n                camera.lookAt(0, 0, 0);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n\r\n\r\n\r\n            scene.add(pivot);\r\n\r\n            render();\r\n\r\n            var url = renderer.domElement.toDataURL();\r\n            scene.remove(pivot);\r\n            render();\r\n            return url;\r\n        };\r\n\r\n        this.getImageByCustomSceneAndCamera = function(scene, camera, width, height){\r\n            renderer.setSize(width, height);\r\n\r\n            renderer.render(scene, camera);\r\n\r\n            var url = renderer.domElement.toDataURL();\r\n\r\n            renderer.setSize(this.width, this.height);\r\n\r\n            return url;\r\n        };\r\n\r\n        this.get2DMap = function (map?:any, cropWidth?:any, cropHeight?:any) {\r\n            if (map) {\r\n                // map.flipY = false;\r\n                if (cropWidth) {\r\n                    if (!cropHeight) cropHeight = cropWidth;\r\n                    // console.log(cropWidth, cropHeight)\r\n                    var w = map.image.width;\r\n                    var h = map.image.height;\r\n\r\n                    // console.log(map.image)\r\n                    var sw = w, sh = h;\r\n                    var g = w / h;\r\n                    var k = cropWidth / cropHeight;\r\n                    if (g < k) { // vd anhr la 3:4 resize là 4:3\r\n\r\n                        sw = cropWidth / 100;\r\n                        sh = sw / g;\r\n                    } else {\r\n                        sh = cropHeight / 100;\r\n                        sw = sh * g;\r\n                    }\r\n\r\n                    var mesh = Meshes.get({\r\n                        geometry: {\r\n                            type: \"plane\",\r\n                            params: {\r\n                                width: sw,\r\n                                height: sh\r\n                            }\r\n                        },\r\n                        material: {\r\n                            type: \"physical\",\r\n                            params: {\r\n                                depthWrite: false,\r\n                                side: THREE.DoubleSide,\r\n                                map: map\r\n                            }\r\n                        }\r\n                    });\r\n                    scene.add(mesh);\r\n\r\n                    var minImg = w > h ? h : w;\r\n                    var minCrop = cropWidth > cropHeight ? cropHeight : cropWidth;\r\n                    var min = minImg < minCrop ? minImg : minCrop;\r\n\r\n\r\n                    self.setSize(cropWidth, cropHeight);\r\n\r\n                    \r\n                    var rad = Math.PI / 8;\r\n                    var tan = Math.tan(rad);\r\n                    var z = (minCrop/2/100) / tan;\r\n                    camera.position.x = 0;\r\n                    camera.position.y = 0;\r\n                    camera.position.z = z;\r\n                    // console.log(sw, sh, tan, z)\r\n                    camera.lookAt(0, 0, 0);\r\n\r\n                    scene.add(mesh);\r\n\r\n                    render();\r\n                    var url = renderer.domElement.toDataURL();\r\n                    scene.remove(mesh);\r\n                    render();\r\n                    return url;\r\n                } else {\r\n\r\n                    var width = map.image.width;\r\n                    var height = map.image.height;\r\n                    var g = width / height;\r\n\r\n                    if(height > 1000 || width > 1000){\r\n                        if(g > 1){\r\n                            width = 1000;\r\n                            height = width / g;\r\n                        }else{\r\n                            height = 1000;\r\n                            width = height * g;\r\n                        }\r\n                        return this.get2DMap(map, width, height);\r\n                    }\r\n\r\n                    var w = width, h = height;\r\n                    \r\n                    \r\n                    var min = w > h ? h : w;\r\n\r\n                    this.setSize(min, min);\r\n                    var rad = Math.PI / 8;\r\n                    var tan = Math.tan(rad);\r\n                    var z = min / tan;\r\n                    camera.position.x = 0;\r\n                    camera.position.y = 0;\r\n                    camera.position.z = z;\r\n                    camera.lookAt(0, 0, 0);\r\n                    var mesh = Meshes.get({\r\n                        geometry: {\r\n                            type: \"plane\",\r\n                            params: {\r\n                                width: w,\r\n                                height: h\r\n                            }\r\n                        },\r\n                        material: {\r\n                            type: \"physical\",\r\n                            params: {\r\n                                depthWrite: false,\r\n                                side: THREE.DoubleSide,\r\n                                map: map\r\n                            }\r\n                        }\r\n                    });\r\n                    scene.add(mesh);\r\n\r\n                    render();\r\n                    var url = renderer.domElement.toDataURL();\r\n                    scene.remove(mesh);\r\n                    render();\r\n                    return url;\r\n\r\n                }\r\n                \r\n\r\n\r\n            }\r\n            // test\r\n            // console.log('end');\r\n            return null;\r\n        };\r\n\r\n\r\n\r\n        this.resizeImage = function (dataURL?:any, width?:any, height?:any, callback?:any) {\r\n            var url = null;\r\n\r\n            var map = new THREE.Texture();\r\n            var image = document.createElement('img');;\r\n            image.src = dataURL;\r\n            image.onload = function () {\r\n                map.image = image;\r\n                // JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\r\n                const isJPEG = dataURL.search(/\\.jpe?g($|\\?)/i) > 0 || dataURL.search(/^data\\:image\\/jpeg/) === 0;\r\n\r\n                map.format = isJPEG ? THREE.RGBFormat : THREE.RGBAFormat;\r\n                map.needsUpdate = true;\r\n\r\n                var w = map.image.width;\r\n                var h = map.image.height;\r\n\r\n                var sw = w, sh = h;\r\n                var g = w / h;\r\n                var k = width / height;\r\n                if (g < k) { // vd anhr la 3:4 resize là 4:3\r\n\r\n                    sw = width;\r\n                    sh = w / g;\r\n                } else {\r\n                    sh = height;\r\n                    sw = sh * g;\r\n                }\r\n\r\n                var mesh = Meshes.get({\r\n                    geometry: {\r\n                        type: \"plane\",\r\n                        params: {\r\n                            width: sw,\r\n                            height: sh\r\n                        }\r\n                    },\r\n                    material: {\r\n                        type: \"physical\",\r\n                        params: {\r\n                            depthWrite: false,\r\n                            side: THREE.DoubleSide,\r\n                            map: map\r\n                        }\r\n                    }\r\n                });\r\n                scene.add(mesh);\r\n\r\n\r\n                var minImg = w > h ? h : w;\r\n                var minCrop = width > height ? height : width;\r\n                var min = minImg < minCrop ? minImg : minCrop;\r\n\r\n\r\n                self.setSize(width, height);\r\n\r\n                var rad = Math.PI / 8;\r\n                var tan = Math.tan(rad);\r\n                var z = minCrop / tan;\r\n                camera.position.x = 0;\r\n                camera.position.y = 0;\r\n                camera.position.z = z;\r\n                camera.lookAt(0, 0, 0);\r\n\r\n                render();\r\n\r\n                url = renderer.domElement.toDataURL();\r\n                scene.remove(mesh);\r\n                render();\r\n                if (typeof callback == \"function\") {\r\n                    callback(url);\r\n                }\r\n\r\n\r\n            }\r\n\r\n            return null;\r\n        };\r\n\r\n\r\n    };\r\n\r\n    if (!deploy) {\r\n        deploy = true;\r\n        var imgDom = Dom(\"#object2image\", null, { style: { display: \"nome\" } });\r\n        // window['objimgdom'] = imgDom;\r\n        document.body.appendChild(imgDom.el);\r\n        imgDom.css(\"display\", \"none\");\r\n    }\r\n    return new O2i();\r\n}());\r\n\r\nexport default Object2Image;\r\n\r\nexport { Object2Image };","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { isString } from '@app/_core/helpers/utils';\nimport { BaseInpGroupComponent } from '../base-inp-group/base-inp-group.component';\n\n@Component({\n  selector: 'inp-texture-group',\n  templateUrl: './inp-texture-group.component.html',\n  styleUrls: ['./inp-texture-group.component.scss']\n})\nexport class InpTextureGroupComponent extends BaseInpGroupComponent implements OnInit {\n  @Output() modalCancelSelect = new EventEmitter<any>();\n  @Output() onCloseLibrary = new EventEmitter<any>();\n  @Input() output: boolean = false;\n  @Input() listType: string = \"list\";\n  filename: string = \"Chu7a chon5 file\";\n  constructor() {\n    super();\n  }\n\n  onInit(): void {\n    this.inpInit();\n    this.onInpValChange();\n  }\n  onInpValChange(){\n    this.filename = isString(this.value)? this.value.split(\"/\").pop():\"\";\n  }\n\n  onCancel(){\n    this.modalCancelSelect.emit(true);\n    this.onCloseLibrary.emit(true);\n  }\n}\n","<div class=\"inner-box\">{{label?label:name | translate}}</div>\n<div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\" class=\"texture-group\">\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n        <div class=\"inner-box\">\n            <inp-texture [name]=\"name\" [(value)]=\"value\" [listType]=\"listType\" (subcribe)=\"onChange($event)\" (modalCancelSelect)=\"onCancel()\" (onCloseLibrary)=\"onCancel()\"></inp-texture>\n        </div>\n    </div>\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"19\">\n        <div *ngIf=\"hasAttach; then attachBlock else simpleBlock\"></div>\n        <ng-template #attachBlock>\n            <inp-range-group \n                [name]=\"attach.name\" \n                [min]=\"attach.min\" \n                [max]=\"attach.max\" \n                [step]=\"attach.step\" \n                [(value)]=\"attach.value\" \n                (subcribe)=\"onAttachChange($event)\" \n            ></inp-range-group>\n        </ng-template>\n        <ng-template #simpleBlock>\n            <span *ngIf=\"output\">{{filename}}</span>\n        </ng-template>\n        \n    </div>\n\n</div>\n\n","import { Component, Input, OnInit } from '@angular/core';\nimport { isObject } from '@app/_core/helpers/utils';\nimport { BaseInpGroupComponent } from '../base-inp-group/base-inp-group.component';\n\n@Component({\n  selector: 'inp-color-group',\n  templateUrl: './inp-color-group.component.html',\n  styleUrls: ['./inp-color-group.component.scss']\n})\nexport class InpColorGroupComponent extends BaseInpGroupComponent implements OnInit {\n\n  @Input() output: boolean = false;\n  @Input() typeEnable: boolean = false;\n  constructor() {\n    super();\n  }\n\n  onInit(): void {\n    this.inpInit();\n    this.value = this.value && isObject(this.value) ? (\n      this.value.isColor ? \"#\" + this.value.getHexString() : (\n        this.value.$three == \"color\" ? this.value.color : \"#000\"\n      )\n    ) : this.value as any;\n  }\n\n}\n","<div class=\"inner-box\">{{label?label:name | translate}}</div>\n<div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\" class=\"color-group\">\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n        <div class=\"inner-box\">\n            <inp-color [name]=\"name\" [(value)]=\"value\" (subcribe)=\"onChange($event)\"></inp-color>\n        </div>\n    </div>\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"19\">\n        <div *ngIf=\"hasAttach; then attachBlock else simpleBlock\"></div>\n        <ng-template #attachBlock>\n            <inp-range-group \n                [name]=\"attach.name\" \n                [min]=\"attach.min\" \n                [max]=\"attach.max\" \n                [step]=\"attach.step\" \n                [(value)]=\"attach.value\" \n                (subcribe)=\"onAttachChange($event)\" \n            ></inp-range-group>\n        </ng-template>\n        <ng-template #simpleBlock>\n            <div class=\"max-100\">\n                <inp-text [name]=\"name\" [(value)]=\"value\" (subcribe)=\"onChange($event)\" *ngIf=\"typeEnable\"></inp-text>\n                <span *ngIf=\"output\">{{value}}</span>\n            </div>\n        </ng-template>\n        \n    </div>\n\n</div>\n","// tạo class theo phong cách php và dùng cú pháp es5 =))))))))\r\n\r\nimport {\r\n    isArray,\r\n    Str,\r\n    _defineProperties,\r\n    _createClass,\r\n    _defineProperty,\r\n    _instanceof,\r\n    isFunction,\r\n    objectKeys,\r\n    addToGlobal,\r\n    assignValue,\r\n    isEmpty,\r\n    isString,\r\n    isObject,\r\n    inArray,\r\n    getArguments,\r\n    date,\r\n    Num,\r\n    copyArray,\r\n    newObj,\r\n    objectHasKey\r\n} from './utils';\r\n\r\n\"use strict\";\r\n\r\nconst NORETURN_VALUE = date('time') + '-' + Str.rand(Str.rand(date('ms') + \"-\" + Num.rand(0, 999999)));\r\nconst getArgs = getArguments;\r\ninterface ES5Instance {\r\n    instanceID: string,\r\n\r\n    getInstanceID(): string,\r\n    __addAccessorValue__(): any,\r\n    __changeAccessorValue__(): any,\r\n    addBootMethod(): ES5Instance,\r\n    removeBootMethod(): ES5Instance,\r\n    resetInitMethods(): ES5Instance,\r\n    removeInitMethod(): ES5Instance,\r\n    resetBootMethods(): ES5Instance,\r\n    __update__properties__(): ES5Instance,\r\n    __callStatic(): any,\r\n    [x: string]: any\r\n}\r\n\r\ninterface ES5AbstractClass {\r\n    (...args: any[]): ES5Instance,\r\n    new(...args: any[]): ES5Instance,\r\n    getExtends(): { [x: string]: any },\r\n    getUses(): { [x: string]: any },\r\n    getMethods(): { [x: string]: any },\r\n    getProps(): { [x: string]: any },\r\n    getConstants(): { [x: string]: any },\r\n    getContructs(): { [x: string]: any },\r\n    getParents(): { [x: string]: any },\r\n    getParent(): { [x: string]: any },\r\n    getStatic(): { [x: string]: any },\r\n    getIntances(): { [x: string]: any },\r\n    getInits(): { [x: string]: any },\r\n    getAccessorMethods(): { [x: string]: any },\r\n    getBootMethods(): { [x: string]: any },\r\n    getInitMethods(): { [x: string]: any },\r\n    isInstance(): boolean,\r\n    with(key?: any, value?: any): ES5Instance,\r\n    withData(key?: any, value?: any): ES5Instance,\r\n    static(key?: any, value?: any): ES5AbstractClass,\r\n    __addAccessorKey(key): any;\r\n    __addAccessorValue(key): any;\r\n\r\n    [x: string]: any\r\n\r\n}\r\n\r\ninterface AbstractClass {\r\n    /**\r\n     * khai báo thuộc tính và phương thức\r\n     * @param props các thuộc tính và phương thức\r\n     */\r\n    (props?: {\r\n        [x: string]: any,\r\n    }): ES5AbstractClass,\r\n    new(...args: any[]): ES5Instance,\r\n    /**\r\n     * thực hiện khai báo và khóa các thuộc tính\r\n     */\r\n    commit(): ES5AbstractClass,\r\n    /**\r\n     * kế thừa class\r\n     * @param superClass Class cha\r\n     * @param superClasses danh sách các class cha khá\r\n     */\r\n    extends(superClass: any, ...superClasses: any[]): AbstractClass,\r\n    /**\r\n     * Sử dụng các trait\r\n     * @param trait đối tượng trait\r\n     * @param traits cá trait khác\r\n     */\r\n    uses(trait: any, ...traits: any[]): AbstractClass,\r\n    /**\r\n     * khai báo thuộc tính và phương thức\r\n     * @param props các thuộc tính và phương thức\r\n     */\r\n    uassign(props: {\r\n        constructor?: (...args: any) => void,\r\n        boots?: string[],\r\n        inits?: string[],\r\n        [x: string]: any,\r\n    }): ES5AbstractClass,\r\n\r\n    getExtends(): { [x: string]: any },\r\n    getUses(): { [x: string]: any },\r\n    getMethods(): { [x: string]: any },\r\n    getProps(): { [x: string]: any },\r\n    getConstants(): { [x: string]: any },\r\n    getContructs(): { [x: string]: any },\r\n    getParents(): { [x: string]: any },\r\n    getParent(): { [x: string]: any },\r\n    getStatic(): { [x: string]: any },\r\n    getIntances(): { [x: string]: any },\r\n    getInits(): { [x: string]: any },\r\n    getAccessorMethods(): { [x: string]: any },\r\n    getBootMethods(): { [x: string]: any },\r\n    getInitMethods(): { [x: string]: any },\r\n    isInstance(): boolean,\r\n    with(key?: any, value?: any): ES5Instance,\r\n    withData(key?: any, value?: any): ES5Instance,\r\n    static(key?: any, value?: any): AbstractClass,\r\n\r\n}\r\nconst _interface = (name: string, props: any) => {\r\n\r\n};\r\n\r\nconst objectCreated: any = {};\r\n\r\nfunction createConstructor(name, checkFn): ES5AbstractClass {\r\n    var esc: any = null;\r\n    var s = \"try {\" +\r\n        \"var \" + name + \" = function \" + name + \"(){\" +\r\n        \"var classChecked = checkFn.call(this, getArgs(arguments));\" +\r\n        \"if(classChecked!==NORETURN_VALUE) return classChecked;\" +\r\n        \"};\" +\r\n        \"esc = \" + name + \";\" +\r\n        \"} catch (error) {\" +\r\n        \"console.log(\\\"lỗi\\\");\" +\r\n        \"console.error(error);\" +\r\n        \"}\";\r\n    eval(s);\r\n    return esc;\r\n}\r\n\r\nfunction definePropertyGroup(target, groupConfig) {\r\n    var configurable = groupConfig.configurable || false,\r\n        enumerable = groupConfig.enumerable || false,\r\n        writable = groupConfig.writable || false;\r\n    for (const key in groupConfig.props) {\r\n        if (Object.prototype.hasOwnProperty.call(groupConfig.props, key)) {\r\n            const value = groupConfig.props[key];\r\n            Object.defineProperty(target, key, {\r\n                configurable: configurable,\r\n                enumerable: enumerable,\r\n                writable: writable,\r\n                value: value\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * khoi tao class\r\n * @param {string} className\r\n * @param {boolean} isGlobal\r\n * @returns {class}\r\n */\r\nconst createClass = function createClass(className: any, isGlobal?: any): AbstractClass {\r\n    return function createClass$($class?: any, $isGlobal?: any): any {\r\n        var $className = isString($class) ? Str.replace(Str.clearUnicode($class), [' ', '-', '+'], '') : (isFunction($class) ? $class.name : (isFunction($isGlobal) && $isGlobal.name ? $isGlobal.name : \"Class\" + Str.rand().substr(4, 4)));\r\n        var hasClassName = isString($class) && $class.length;\r\n        // khai báo hàm\r\n\r\n        // tình trạng commit\r\n        var commited = false;\r\n\r\n        var oneTimeData = newObj({});\r\n\r\n        // chứa dữ liệu hằng\r\n        var $constants = newObj({});\r\n\r\n        /**\r\n         * chứa dữ liệu\r\n         */\r\n        var $data = newObj({});\r\n\r\n\r\n        var $props = newObj({});\r\n\r\n        var $dynamics = newObj({});\r\n\r\n        /**\r\n         * chứa các phương thức boot\r\n         */\r\n        var $boots = newObj({});\r\n\r\n        var $inits = newObj({});\r\n\r\n        var $calls = [];\r\n\r\n        var $classData = newObj({\r\n            extends: {},\r\n            uses: {},\r\n            methods: {},\r\n            props: {},\r\n            constructs: {},\r\n            parents: {},\r\n            parent: {},\r\n            static: {},\r\n            instances: [],\r\n            constants: {},\r\n            accessorMethods: {},\r\n            events: {},\r\n            inits: [],\r\n            boots: [],\r\n            calls: []\r\n\r\n        });\r\n\r\n        var __contructs = [];\r\n\r\n        // khai báo  class\r\n        /**\r\n         * @var {class}\r\n         */\r\n        var ES5Class: ES5AbstractClass = function () {\r\n            var checked = checkConstructorCalled.call(this, getArgs(arguments));\r\n            if (checked !== NORETURN_VALUE) return checked;\r\n        } as ES5AbstractClass;\r\n\r\n\r\n        function stdParent(instance: any, cn: any, scope?: any) {\r\n            this.__instance = instance;\r\n            const self = this;\r\n\r\n\r\n            if (!scope) {\r\n                if (!isEmpty($classData.parent[cn])) {\r\n                    const props = $classData.parent[cn];\r\n                    for (const key in props) {\r\n                        if (props.hasOwnProperty(key)) {\r\n                            const val = props[key];\r\n                            if (typeof val == \"function\") {\r\n                                this[key] = function () {\r\n                                    val.apply(self, arguments);\r\n                                    self.instance[key].apply(self.instance, arguments);\r\n                                    return self;\r\n                                }\r\n                            } else {\r\n                                this[key] = val;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (!isEmpty($classData.parents[cn])) {\r\n                        for (const k in $classData.parents[cn]) {\r\n                            if (Object.prototype.hasOwnProperty.call($classData.parents[cn], k)) {\r\n                                this.__parent = new stdParent(this, k, cn);\r\n                                if (typeof self.__parents) {\r\n                                    self.__parents = {};\r\n                                }\r\n                                self.__parents[k] = this.__parent;\r\n                            }\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n            }\r\n            else if (isString(scope) && objectHasKey($classData.parents, scope)) {\r\n                if (!isEmpty($classData.parents[scope][cn])) {\r\n                    const props = $classData.parents[scope][cn];\r\n                    for (const key in props) {\r\n                        if (props.hasOwnProperty(key)) {\r\n                            const val = props[key];\r\n                            if (typeof val == \"function\") {\r\n                                this[key] = function () {\r\n                                    val.apply(self, arguments);\r\n                                    self.instance[key].apply(self.instance, arguments);\r\n                                    return self;\r\n                                }\r\n                            } else {\r\n                                this[key] = val;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (!isEmpty($classData.parents[cn])) {\r\n                        for (const k in $classData.parents[cn]) {\r\n                            if (Object.prototype.hasOwnProperty.call($classData.parents[cn], k)) {\r\n                                this.__parent = new stdParent(this, k, cn);\r\n                                if (typeof self.__parents) {\r\n                                    self.__parents = {};\r\n                                }\r\n                                self.__parents[k] = this.__parent;\r\n                            }\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n\r\n\r\n        }\r\n\r\n        var iof = _instanceof;\r\n\r\n\r\n        // hàm gọi trong construct\r\n\r\n        if (hasClassName) {\r\n            try {\r\n                let esc = createConstructor($className, checkConstructorCalled);\r\n                if (esc !== null) {\r\n                    ES5Class = esc;\r\n                }\r\n            } catch (error) {\r\n                console.log(\"lỗi\")\r\n                console.error(error);\r\n            }\r\n        }\r\n\r\n\r\n        function checkConstructorCalled(args?: any[]) {\r\n            if (!iof(this, ES5Class)) {\r\n                if (commited) {\r\n                    if ($calls.length) {\r\n                        const caller = $calls[$calls.length - 1];\r\n                        if (typeof caller == \"function\") {\r\n                            return caller.apply(this, args);\r\n                        }\r\n                    }\r\n                    if (checkCreateNewInstanceByStaticConstructorCall()) {\r\n                        return newInstance(args);\r\n                    }\r\n\r\n                }\r\n                return ES5Class.assign.apply(null, args);\r\n            }\r\n            else {\r\n                classContructor.apply(this, args);\r\n            }\r\n            return NORETURN_VALUE;\r\n        }\r\n\r\n\r\n\r\n        function newInstance(args?: any[]) {\r\n            var instance = null;\r\n            // console.log(\"create intance of \" + ES5Class.__class, args);\r\n            var a = 'instance = new ES5Class(';\r\n            if (args && args.length) {\r\n                for (var index = 0; index < args.length; index++) {\r\n                    a += 'args[' + index + ']' + (index < args.length - 1 ? ',' : '');\r\n                }\r\n            }\r\n            a += ');';\r\n            try {\r\n                eval(a);\r\n            } catch (error) {\r\n                console.warn(error);\r\n\r\n            }\r\n            return instance;\r\n        }\r\n\r\n        var copyContructs = [];\r\n        // hàm khởi tạo\r\n        function __contruct() {\r\n            var self = this;\r\n            copyContructs = copyArray(__contructs);\r\n\r\n            return (typeof this[$className] == \"function\" ? this[$className] : (\r\n                copyContructs.length ? copyContructs.pop() : function () { console.log(\"create instance of \" + ES5Class.__class) }\r\n            )).apply(this, arguments);\r\n\r\n        };\r\n\r\n        /**\r\n         * them ham khoi tao\r\n         * @param {function(...args)} constructor ham khoi tao\r\n         */\r\n        function addConstructor(constructor?: any) {\r\n\r\n            $classData.methods.constructor = $classData.methods[$className] = function () {\r\n                if (copyContructs.length) {\r\n                    copyContructs = copyArray(__contructs);\r\n                    Object.defineProperty(this, \"super\", {\r\n                        value: function parentConstructor() {\r\n                            var args1 = getArguments(arguments);\r\n                            var pConstructor = copyContructs.pop();\r\n                            pConstructor.apply(this, args1);\r\n                        },\r\n                        enumerable: false\r\n\r\n                    })\r\n                }\r\n                constructor.apply(this, arguments);\r\n            }\r\n        }\r\n\r\n\r\n\r\n        if ($isGlobal === true) {\r\n            // global[$className] = ES5Class;\r\n            addToGlobal($className, ES5Class);\r\n        }\r\n\r\n        /**\r\n         * ham dc goi trong constructor\r\n         */\r\n        function classContructor() {\r\n\r\n            if (!commited) {\r\n                ES5Class.commit();\r\n            }\r\n\r\n            this.__update__properties__(true);\r\n\r\n            var instanceID = \"a\" + Str.rand() + \"_\" + date(\"time\");\r\n            Object.defineProperty(this, '__instance__id__', {\r\n                value: instanceID,\r\n                enumerable: false,\r\n                configurable: false,\r\n                writable: false\r\n            });\r\n\r\n            \r\n            if (!isEmpty($dynamics)) {\r\n                for (var key in $dynamics) {\r\n                    if (Object.hasOwnProperty.call($dynamics, key)) {\r\n                        var val = $dynamics[key];\r\n                        __addAccessorValue(instanceID, key, val);\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!isEmpty($classData.parent)) {\r\n                for (var key in $classData.parent) {\r\n                    if ($classData.parent.hasOwnProperty(key)) {\r\n                        var parentOpt = $classData.parent[key];\r\n                        __addAccessorValue(instanceID, \"__parent\",\r\n                            new stdParent(this, key)\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n            if (oneTimeData && isObject(oneTimeData) && !isEmpty(oneTimeData)) {\r\n                for (const key in oneTimeData) {\r\n                    if (Object.hasOwnProperty.call(oneTimeData, key)) {\r\n                        const value = oneTimeData[key];\r\n                        this[key] = value;\r\n                    }\r\n                }\r\n                oneTimeData = {};\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n            if (typeof this.boot == \"function\") {\r\n                this.boot();\r\n                this.boot = function () {\r\n                    console.warn(ES5Class.__class + \" boot đã được gọi khi khởi tạo\");\r\n                };\r\n            }\r\n            if (!isEmpty($boots)) {\r\n                for (var key in $boots) {\r\n                    if (Object.hasOwnProperty.call($boots, key)) {\r\n                        var params = $boots[key];\r\n                        if (typeof this[key] == \"function\") {\r\n                            this[key].apply(this, params);\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            __contruct.apply(this, arguments);\r\n\r\n            if (typeof this.init == \"function\") {\r\n                // console.log(this)\r\n                this.init();\r\n                // this.boot = function () {\r\n                //     console.warn(ES5Class.__class + \" boot đã được gọi khi khởi tạo\");\r\n                // };\r\n            }\r\n            if (!isEmpty($inits)) {\r\n                for (var key in $inits) {\r\n                    if (Object.hasOwnProperty.call($inits, key)) {\r\n                        var params = $inits[key];\r\n                        if (typeof this[key] == \"function\") {\r\n                            this[key].apply(this, params);\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            $classData.instances.push(this);\r\n        };\r\n\r\n        // gán biên\r\n\r\n\r\n        var $ignore = [\r\n            'getClass', 'getType', 'getExtends', 'getUses', 'getMethods', 'getProps', 'getConstructs', 'getParents', 'getParent',\r\n            'getStatic', 'getInstances', 'getInits', 'getAccessorMethods',\r\n            'constructor', ES5Class.__class, 'extends', 'uses', 'assign', 'inherit', 'static', '__update__properties__',\r\n            'resetBootMethods', 'resetInitMethods', 'commit', \"getInstanceID\"\r\n        ];\r\n\r\n        definePropertyGroup(ES5Class, {\r\n            configurable: false,\r\n            enumerable: false,\r\n            writable: false,\r\n            props: {\r\n                __type: 'class',\r\n                __class: $className,\r\n\r\n                /**\r\n                 * kế thừa class\r\n                 * @param {function|object|class|ES5Class} superClass class cha\r\n                 * @returns {ES5Class}\r\n                 */\r\n\r\n                inherit: function (superClass: any) {\r\n                    if (commited) {\r\n                        throw new Error(\"Không thể gọi hàm inherit sau khi đã khai báo phương thức cho class\");\r\n                    }\r\n\r\n                    if (superClass) {\r\n                        var _parents = {};\r\n                        var _extends = {\r\n                            props: {},\r\n                            methods: {},\r\n                            accessorMethods: {}\r\n                        };\r\n\r\n                        var cn = null;\r\n                        var _parent: any = {};\r\n\r\n                        if (superClass.__type == 'class') {// trường hợp là std class\r\n                            cn = superClass.__class;\r\n                            _parent.__class = superClass;\r\n                            var superContructs = superClass.getContructs();\r\n                            var superExtends = superClass.getExtends();\r\n                            var superInits = superClass.getInits();\r\n                            var superContants = superClass.getConstants();\r\n                            var superUses = superClass.getUses();\r\n                            var superProps = superClass.getProps();\r\n                            var superMethods = superClass.getMethods();\r\n                            var superAccessorMethods = superClass.getAccessorMethods();\r\n                            var superParents = superClass.getParents();\r\n                            var superStatic = superClass.getStatic();\r\n                            // console.log(\"set get\", superAccessorMethods);\r\n\r\n                            // lay danh sach construct\r\n                            var bms = superClass.getBootMethods();\r\n                            addBootMethod(bms);\r\n                            var ims = superClass.getInitMethods();\r\n                            addInitMethod(ims);\r\n\r\n                            for (var fn in superContructs) {\r\n                                if (superContructs.hasOwnProperty(fn)) {\r\n                                    $classData.constructs[fn] = superContructs[fn];\r\n                                }\r\n                            }\r\n                            if (superMethods[cn]) {\r\n                                $classData.constructs[cn] = superMethods[cn];\r\n\r\n                            }\r\n                            else if (superMethods.hasOwnProperty('constructor')) {\r\n                                $classData.constructs[cn] = superMethods.constructor;\r\n                            }\r\n\r\n\r\n                            // ke thua\r\n                            for (var cln in superExtends) {\r\n                                if (superExtends.hasOwnProperty(cln)) {\r\n                                    var exts = superExtends[cln];\r\n                                    for (var k in exts.props) {\r\n                                        if (exts.props.hasOwnProperty(k)) {\r\n                                            var p = exts.props[k];\r\n                                            _extends.props[k] = p;\r\n                                        }\r\n                                    }\r\n\r\n                                    for (var m in exts.methods) {\r\n                                        if (exts.methods.hasOwnProperty(m)) {\r\n                                            var mt = exts.methods[m];\r\n                                            _extends.methods[m] = mt;\r\n                                        }\r\n                                    }\r\n\r\n                                    for (var m in exts.accessorMethods) {\r\n                                        if (exts.accessorMethods.hasOwnProperty(m)) {\r\n                                            var mt = exts.accessorMethods[m];\r\n                                            _extends.accessorMethods[m] = mt;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n\r\n                            if (superInits && superInits.length) {\r\n                                for (var i = 0; i < superInits.length; i++) {\r\n                                    $classData.inits.push(superInits[i]);\r\n                                }\r\n                            }\r\n\r\n\r\n                            for (var key in superContants) {\r\n                                if (Object.hasOwnProperty.call(superContants, key)) {\r\n                                    if (!isConst(key)) {\r\n                                        $classData.constants[key] = superContants[key];\r\n                                    } else {\r\n                                        throwConstError(superClass.__class, key, superContants[key])\r\n                                    }\r\n                                }\r\n                            }\r\n                            // uses\r\n                            for (var key in superUses) {\r\n                                if (superUses.hasOwnProperty(key)) {\r\n                                    var vl = superUses[key];\r\n                                    // _extends.uses[key] = vl;\r\n                                    _parent[key] = vl;\r\n\r\n                                    if (isConst(key)) {\r\n                                        throwConstError(superClass.__class, key, vl)\r\n                                    }\r\n                                    else if (typeof vl == \"function\") {\r\n                                        _extends.methods[key] = vl;\r\n                                    }\r\n                                    else {\r\n                                        _extends.props[key] = vl;\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n\r\n                            // thuoc tinh\r\n                            for (var key in superProps) {\r\n                                if (superProps.hasOwnProperty(key)) {\r\n                                    var vl = superProps[key];\r\n\r\n                                    if (isConst(key)) {\r\n                                        throwConstError(superClass.__class, key, vl)\r\n                                    }\r\n                                    _extends.props[key] = vl;\r\n                                    if (!superExtends || !superExtends.props || !superExtends.props[key]) {\r\n                                        _parent[key] = vl;\r\n                                    }\r\n                                }\r\n                            }\r\n                            // phuong thuc\r\n                            for (var key in superMethods) {\r\n                                if (superMethods.hasOwnProperty(key)) {\r\n                                    var vl = superMethods[key];\r\n\r\n                                    if (isConst(key)) {\r\n                                        throwConstError(superClass.__class, key, vl)\r\n                                    }\r\n                                    if (key != \"constructor\") {\r\n                                        _extends.methods[key] = vl;\r\n                                        _parent[key] = vl;\r\n                                    }\r\n                                    if (!superExtends || !superExtends.methods || !superExtends.methods[key] || key == \"constructor\") {\r\n                                        _parent[key] = vl;\r\n                                    }\r\n\r\n                                }\r\n                            }\r\n\r\n\r\n                            for (var key in superAccessorMethods) {\r\n                                if (superAccessorMethods.hasOwnProperty(key)) {\r\n                                    assignValue(_extends.accessorMethods, key, superAccessorMethods[key]);\r\n                                    _parent[key] = superAccessorMethods[key];\r\n                                    $classData.accessorMethods[key] = superAccessorMethods[key];\r\n\r\n                                }\r\n                            }\r\n\r\n                            for (var fn in superParents) {\r\n                                if (superParents.hasOwnProperty(fn)) {\r\n                                    $classData.parents[fn] = superParents[fn];\r\n                                }\r\n                            }\r\n\r\n\r\n\r\n                            for (var fn in superStatic) {\r\n                                if (superStatic.hasOwnProperty(fn)) {\r\n                                    $classData.static[fn] = superStatic[fn];\r\n\r\n                                    _defineProperty(ES5Class, fn, superStatic[fn]);\r\n                                }\r\n                            }\r\n\r\n\r\n                            $classData.extends[superClass.__class] = _extends;\r\n                        }\r\n                        else if (typeof superClass == \"function\" && typeof superClass.prototype == \"object\") {\r\n                            cn = superClass.name || \"parent_\" + Str.rand(8);\r\n                            if (typeof superClass.prototype.constructor == \"function\") {\r\n                                _parent.constructor = superClass.prototype.constructor;\r\n                                _parent[cn] = superClass.prototype.constructor;\r\n                                _extends.methods[cn] = superClass.prototype.constructor;\r\n                                $classData.constructs[cn] = superClass.prototype.constructor;\r\n                            }\r\n                            for (let mt in superClass.prototype) {\r\n                                if (superClass.prototype.hasOwnProperty(mt)) {\r\n                                    var method = superClass.prototype[mt];\r\n\r\n                                    if (isConst(key)) {\r\n                                        throwConstError(superClass.__class, key, vl)\r\n                                    }\r\n                                    if (mt == \"constructor\") {\r\n                                        _parent.constructor = method;\r\n                                        _parent[cn] = method;\r\n                                        _extends.methods[cn] = method;\r\n                                        $classData.constructs[cn] = method;\r\n                                    }\r\n                                    else if (typeof method == \"function\") {\r\n                                        _extends.methods[mt] = method;\r\n                                    }\r\n                                    else {\r\n                                        _extends.props[mt] = method;\r\n                                    }\r\n                                    _parent[mt] = method;\r\n                                }\r\n                            }\r\n\r\n                            $classData.extends[cn] = _extends;\r\n                        }\r\n\r\n                        if (!isEmpty(_parent) && cn) {\r\n                            if (typeof $classData.parents[ES5Class.__class] == \"undefined\") {\r\n                                $classData.parents[ES5Class.__class] = {};\r\n                            }\r\n                            _parent.__class = cn;\r\n                            $classData.parent[cn] = _parent;\r\n                            $classData.parents[ES5Class.__class][cn] = _parent;\r\n                        }\r\n                    }\r\n                },\r\n\r\n                \"extends\": function (superClass?: any) {\r\n                    if (commited) {\r\n                        throw new Error(\"Không thể gọi hàm extends sau khi đã khai báo phương thức cho class\");\r\n                    }\r\n\r\n                    for (var index = 0; index < arguments.length; index++) {\r\n                        var arg = arguments[index];\r\n                        ES5Class.inherit(arg);\r\n                    }\r\n                    return ES5Class;\r\n                },\r\n                /**\r\n                 * kế thừa các trait\r\n                 * @param {object} trait các thuộc tính và phương thức\r\n                 * @returns {ES5Class}\r\n                 */\r\n                uses: function (...traits: any) {\r\n                    if (commited) {\r\n                        throw new Error(\"Không thể gọi hàm uses sau khi đã khai báo phương thức cho class\");\r\n                    }\r\n\r\n                    function assignUses(props?: any) {\r\n\r\n                        for (var key in props) {\r\n                            if (props.hasOwnProperty(key)) {\r\n                                var el = props[key];\r\n\r\n                                if (inArray(['constructor', ES5Class.__class], key)) {\r\n\r\n                                }\r\n                                else if (isConst(key)) {\r\n                                    throwConstError(\"trait\", key, el)\r\n                                }\r\n\r\n                                else if (inArray(['boots', 'bootmethods'], String(key).toLowerCase()) && typeof el != \"function\") {\r\n                                    addBootMethod(el);\r\n                                }\r\n\r\n                                else if (inArray(['inits', 'initmethods'], String(key).toLowerCase()) && typeof el != \"function\") {\r\n                                    addInitMethod(el);\r\n                                }\r\n\r\n                                else {\r\n                                    assignPropMethod('uses', key, el);\r\n                                    // $classData.uses[key] = el;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    var prototype = {};\r\n                    for (var index = 0; index < arguments.length; index++) {\r\n                        var props = arguments[index];\r\n                        if (typeof props == \"object\") {\r\n                            assignUses(props);\r\n                        } else if (isFunction(props)) {\r\n                            if (objectKeys(props.prototype).length > 1) {\r\n                                Object.assign(prototype, props.prototype);\r\n                            }\r\n                        }\r\n\r\n                    }\r\n\r\n                    assignUses(prototype);\r\n\r\n                    return ES5Class;\r\n                },\r\n\r\n\r\n                // khai báo\r\n\r\n                /**\r\n                 * khai báo thuộc tính hoặc phương thức\r\n                 * @param {object} props thuộc tính hoặc phuong thức\r\n                 * @returns {ES5Class}\r\n                 */\r\n                assign: function (props?: any) {\r\n                    if (typeof props == \"object\") {\r\n                        for (var key in props) {\r\n                            if (props.hasOwnProperty(key)) {\r\n                                var el = props[key];\r\n\r\n                                if (isConst(key)) {\r\n                                    throwConstError(ES5Class.__class, key, el)\r\n                                }\r\n                                else if ((key == \"constructor\" || key == ES5Class.__class)) {\r\n                                    if (typeof el == \"function\") addConstructor(el);\r\n                                }\r\n\r\n                                else if (inArray(['boots', 'bootmethods'], String(key).toLowerCase())) {\r\n                                    addBootMethod(el);\r\n                                }\r\n\r\n                                else if (inArray(['inits', 'initmethods'], String(key).toLowerCase()) && typeof el != \"function\") {\r\n                                    addInitMethod(el);\r\n                                }\r\n\r\n                                else if (typeof el == \"function\") {\r\n                                    assignPropMethod('methods', key, el);\r\n                                    // $classData.methods[key] = el;\r\n                                }\r\n\r\n                                else {\r\n                                    assignPropMethod('props', key, el);\r\n                                    // $classData.props[key] = el;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    ES5Class.commit();\r\n                    return ES5Class;\r\n                },\r\n\r\n                /**\r\n                 * khai báo static\r\n                 * @param {string|object} props\r\n                 * @param {mixed} value\r\n                 * @returns {ES5Class}\r\n                 */\r\n                static: function (props?: any, value?: any) {\r\n\r\n                    if (typeof props == \"object\") {\r\n                        for (var key in props) {\r\n                            if (props.hasOwnProperty(key)) {\r\n                                var el = props[key];\r\n\r\n                                if (!inArray($ignore, key)) {\r\n                                    $classData.static[key] = el;\r\n                                    _defineProperty(ES5Class, key, el);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (typeof props == \"string\") {\r\n                        var key = props;\r\n                        if (!inArray($ignore, key)) {\r\n                            $classData.static[key] = value;\r\n                            _defineProperty(ES5Class, key, el);\r\n                        }\r\n                    }\r\n                    return ES5Class;\r\n                },\r\n\r\n                /**\r\n                 * Cập nhật các thuộc tính mới\r\n                 */\r\n                commit: function () {\r\n\r\n                    if (commited) {\r\n                        return ES5Class;\r\n                    }\r\n\r\n                    for (var key in $classData.constants) {\r\n                        if (Object.hasOwnProperty.call($classData.constants, key)) {\r\n                            if (!inArray(['constructor', ES5Class.__class], key)) {\r\n                                Object.defineProperty(ES5Class.prototype, key, {\r\n                                    value: $classData.constants[key],\r\n                                    enumerable: true,\r\n                                    configurable: false,\r\n                                    writable: false\r\n                                })\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // for (var key in $constants) {\r\n                    //     if (Object.hasOwnProperty.call($constants, key)) {\r\n                    //         var constData = $constants[key];\r\n                    //         Object.defineProperty(this, key, {\r\n                    //             get: constData.get,\r\n                    //             set: constData.set\r\n                    //         });\r\n                    //     }\r\n                    // }\r\n\r\n\r\n                    var methods = {};\r\n                    if ($classData.extends) {\r\n                        for (var std in $classData.extends) {\r\n                            if ($classData.extends.hasOwnProperty(std)) {\r\n                                var _extends = $classData.extends[std];\r\n                                for (var method in _extends.methods) {\r\n                                    if (_extends.methods.hasOwnProperty(method)) {\r\n                                        var cb = _extends.methods[method];\r\n                                        methods[method] = cb;\r\n                                    }\r\n                                }\r\n\r\n\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if ($classData.uses) {\r\n                        for (var key in $classData.uses) {\r\n                            if ($classData.uses.hasOwnProperty(key)) {\r\n                                var val = $classData.uses[key];\r\n                                if (typeof val == \"function\") {\r\n                                    methods[key] = val;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n\r\n\r\n                    for (var method in $classData.methods) {\r\n                        if ($classData.methods.hasOwnProperty(method)) {\r\n                            var cb = $classData.methods[method];\r\n                            methods[method] = cb;\r\n                        }\r\n                    }\r\n\r\n                    var mts = {};\r\n                    Object.assign(mts, methods);\r\n                    for (var key in mts) {\r\n                        if (mts.hasOwnProperty(key) && key != \"constructor\") {\r\n                            var mt = mts[key];\r\n                            __addMethod(key, mt);\r\n                        }\r\n                    }\r\n\r\n                    commited = true;\r\n                    // __contructs = [];\r\n                    if ($classData.constructs) {\r\n                        for (var fn in $classData.constructs) {\r\n                            if ($classData.constructs.hasOwnProperty(fn)) {\r\n                                __contructs.push($classData.constructs[fn]);\r\n                            }\r\n                        }\r\n                    }\r\n\r\n\r\n\r\n                    if (!isEmpty($dynamics)) {\r\n                        for (var key in $dynamics) {\r\n                            if (Object.hasOwnProperty.call($dynamics, key)) {\r\n                                var val = $dynamics[key];\r\n                                __addAccessorKey(key);\r\n                            }\r\n                        }\r\n                    }\r\n\r\n\r\n                    parseDataProps();\r\n                    return ES5Class;\r\n                },\r\n\r\n\r\n\r\n\r\n                /**\r\n                 * kiểm tra xem có phải là instance của StdClas không\r\n                 * @param {mixed} instance bien doi tuong can kiem tra\r\n                 */\r\n                isInstance: function (instance?: any) {\r\n                    if (_instanceof(instance, ES5Class)) return true;\r\n                    if (isObject(instance)) {\r\n                        if (typeof instance.constructor == \"function\") {\r\n                            if (instance.constructor.__type == \"class\") {\r\n                                var cl = instance.constructor;\r\n                                var parents = instance.constructor.getParents();\r\n                                if (!isEmpty(parents)) {\r\n                                    for (var key in parents) {\r\n                                        if (parents.hasOwnProperty(key)) {\r\n                                            var pa = parents[key];\r\n                                            if (pa.__class == ES5Class) return true;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    return false;\r\n                },\r\n\r\n\r\n                getExtends: function () {\r\n                    return $classData.extends;\r\n                },\r\n                getUses: function () {\r\n                    return $classData.uses;\r\n                },\r\n                getMethods: function () {\r\n                    return $classData.methods;\r\n                },\r\n                getProps: function () {\r\n                    return $classData.props;\r\n                },\r\n                getConstants: function () {\r\n                    return $classData.constants;\r\n                },\r\n                getContructs: function () {\r\n                    return $classData.constructs;\r\n                },\r\n                getParents: function () {\r\n                    return $classData.parents;\r\n                },\r\n                getParent: function () {\r\n                    return $classData.parent;\r\n                },\r\n                getStatic: function () {\r\n                    return $classData.static;\r\n                },\r\n                getIntances: function () {\r\n                    return $classData.instances;\r\n                },\r\n                getInits: function () {\r\n                    return $classData.inits;\r\n                },\r\n                getAccessorMethods: function () {\r\n                    return $classData.accessorMethods;\r\n                },\r\n                getBootMethods: function () {\r\n                    return $boots;\r\n                },\r\n                getInitMethods: function () {\r\n                    return $inits;\r\n                },\r\n                /**\r\n                 * Thêm phương thức\r\n                 * @param {string|string[]|object|functiong} method \r\n                 */\r\n                addBootMethod: function (method?: any) {\r\n                    addBootMethod.apply(null, arguments);\r\n                },\r\n                /**\r\n                 * Thêm phương thức\r\n                 * @param {string|string[]|object|functiong} method \r\n                 */\r\n                removeBootMethod: function (method?: any) {\r\n                    if (isString(method)) {\r\n                        if (typeof $boots[method]) {\r\n                            delete $boots[method];\r\n                        }\r\n                    }\r\n                    else if (isArray(method)) {\r\n                        for (var i = 0; i < method.length; i++) {\r\n                            var mt = method[i];\r\n                            if (isString(mt)) {\r\n                                if (typeof $boots[mt]) {\r\n                                    delete $boots[mt];\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n\r\n                resetBootMethods: function () {\r\n                    $boots = {};\r\n                },\r\n\r\n\r\n                /**\r\n                * Thêm phương thức\r\n                * @param {string|string[]|object|functiong} method \r\n                */\r\n                removeInitMethod: function (method?: any) {\r\n                    if (isString(method)) {\r\n                        if (typeof $inits[method]) {\r\n                            delete $inits[method];\r\n                        }\r\n                    }\r\n                    else if (isArray(method)) {\r\n                        for (var i = 0; i < method.length; i++) {\r\n                            var mt = method[i];\r\n                            if (isString(mt)) {\r\n                                if (typeof $inits[mt]) {\r\n                                    delete $inits[mt];\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n\r\n\r\n\r\n                /**\r\n                 * thêm dữ liệu vho clSS trước khi tạo mới\r\n                 * @param {string} key key hoặc object\r\n                 * @param {mixed} value phần tử cha\r\n                 * @returns {ES5Class}\r\n                 */\r\n                \"with\": function (key: any, value?: any) {\r\n                    var self = this;\r\n                    if (isObject(key)) {\r\n                        for (const k in key) {\r\n                            if (Object.hasOwnProperty.call(key, k)) {\r\n                                const valu = key[k];\r\n                                oneTimeData[k] = valu;\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (isString(key)) {\r\n                        oneTimeData[key] = value;\r\n                    }\r\n                    return self;\r\n                },\r\n                withData: function (key: any, value?: any) {\r\n                    var self = this;\r\n                    if (isObject(key)) {\r\n                        for (const k in key) {\r\n                            if (Object.hasOwnProperty.call(key, k)) {\r\n                                const valu = key[k];\r\n                                oneTimeData[k] = valu;\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (isString(key)) {\r\n                        oneTimeData[key] = value;\r\n                    }\r\n                    return self;\r\n                },\r\n\r\n                /**\r\n                 * thêm dữ liệu vho clSS trước khi tạo mới\r\n                 * @param {...} args key hoặc object\r\n                 * @returns {ES5Class}\r\n                 */\r\n                create: function createInstance(...args) {\r\n                    var self = this;\r\n                    return self.apply(null, args);\r\n                },\r\n\r\n\r\n\r\n                resetInitMethods: function () {\r\n                    $inits = {};\r\n                }\r\n\r\n\r\n\r\n\r\n            }\r\n        })\r\n\r\n\r\n        definePropertyGroup(ES5Class.prototype, {\r\n            configurable: false,\r\n            enumerable: false,\r\n            writable: false,\r\n            props: {\r\n                noReturn: NORETURN_VALUE,\r\n\r\n                \"static\": ES5Class,\r\n                /**\r\n                 * cập nhật thuộc tính\r\n                 * @param {boolean} override ghi ghi đè\r\n                 */\r\n                __update__properties__: function updateProperties(override?: any) {\r\n\r\n\r\n                    for (var key in $props) {\r\n                        if ($props.hasOwnProperty(key)) {\r\n                            var val = $props[key];\r\n                            _defineProperty(this, key, val);\r\n                        }\r\n                    }\r\n\r\n                },\r\n\r\n\r\n                __callStatic: function __callStatic(name?: any, args?: any) {\r\n                    if (typeof ES5Class[name] == \"function\") {\r\n                        return ES5Class[name].apply(ES5Class, isArray(args) ? args : []);\r\n                    }\r\n                    return false;\r\n                },\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                // boot\r\n\r\n                /**\r\n                 * Thêm phương thức\r\n                 * @param {string|string[]|object|functiong} method \r\n                 */\r\n                addBootMethod: function (method?: any) {\r\n                    addBootMethod.apply(this, arguments);\r\n                },\r\n\r\n                /**\r\n                 * Thêm phương thức\r\n                 * @param {string|string[]|object|functiong} method \r\n                 */\r\n                removeBootMethod: function (method?: any) {\r\n                    ES5Class.removeBootMethod.apply(this, arguments);\r\n                },\r\n                /**\r\n                 * Thêm phương thức\r\n                 */\r\n                resetBootMethods: function (method?: any) {\r\n                    $boots = {};\r\n                },\r\n\r\n                /**\r\n                 * Thêm phương thức\r\n                 * @param {string|string[]|object|functiong} method \r\n                 */\r\n                removeInitMethod: function (method?: any) {\r\n                    ES5Class.removeInitMethod.apply(this, arguments);\r\n                },\r\n                /**\r\n                 * Thêm phương thức\r\n                 */\r\n                resetInitMethods: function (method?: any) {\r\n                    $inits = {};\r\n                },\r\n\r\n\r\n\r\n\r\n                /**\r\n                 * get Intance ID\r\n                 * @return {string}\r\n                 */\r\n                getInstanceID: function getInstanceID() {\r\n                    return this.__instance__id__;\r\n                },\r\n\r\n\r\n\r\n                __addAccessorValue__: function (objectData?: any) {\r\n                    if (isObject(objectData) && objectData.key) {\r\n                        var key = objectData.key;\r\n                        var g, s;\r\n                        if (typeof objectData.get == \"function\")\r\n                            g = objectData.get;\r\n                        if (typeof objectData.set == \"function\")\r\n                            s = objectData.set;\r\n                        var instanceID = this.__instance__id__;\r\n                        if (typeof $data[instanceID] == \"undefined\") $data[instanceID] = {};\r\n                        var isExists = typeof $data[instanceID][key] != \"undefined\";\r\n                        $data[instanceID][key] = typeof objectData.value != \"undefined\" ? objectData.value : null;\r\n                        if (isExists) return;\r\n                        var da = {\r\n                            get: function () {\r\n                                var value = $data[instanceID][key];\r\n                                if (g) {\r\n                                    var r = g.apply(this, [value]);\r\n                                    if (typeof r != \"undefined\") return r;\r\n                                }\r\n                                return value;\r\n                            },\r\n                            set: function set(value) {\r\n                                var stt = true;\r\n                                var oldVal = $data[instanceID][key];\r\n\r\n                                if (this.isDom && key == \"parent\") {\r\n                                    $data[instanceID][key] = value;\r\n                                    if (s) {\r\n                                        var a = s.call(this, value, oldVal);\r\n                                        if (a === false) stt = false;\r\n                                    }\r\n                                    if (!stt) {\r\n                                        $data[instanceID][key] = oldVal;\r\n                                    }\r\n                                    return $data[instanceID][key];\r\n                                }\r\n                                if (s) {\r\n                                    var a = s.call(this, value, oldVal);\r\n                                    if (a === false) stt = false;\r\n                                }\r\n\r\n                                if (stt) $data[instanceID][key] = value;\r\n                                return $data[instanceID][key];\r\n                            }\r\n                        };\r\n\r\n                        Object.defineProperty(this, key, da);\r\n                    }\r\n                },\r\n\r\n                __changeAccessorValue__: function (key?: any, value?: any) {\r\n                    var instanceID = this.__instance__id__;\r\n                    if (typeof $data[instanceID] == \"undefined\") return false;\r\n                    if (isString(key)) {\r\n\r\n                        $data[instanceID][key] = value;\r\n                    }\r\n\r\n                    else if (isObject(key)) {\r\n                        for (var k in key) {\r\n                            if (Object.hasOwnProperty.call(key, k)) {\r\n                                this.__changeAccessorValue__(k, key[k]);\r\n                            }\r\n                        }\r\n                    }\r\n                    return true;\r\n                },\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n            }\r\n        })\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        function parseDataProps() {\r\n            var props = {};\r\n            if ($classData.extends) {\r\n                for (var std in $classData.extends) {\r\n                    if ($classData.extends.hasOwnProperty(std)) {\r\n                        var _extends = $classData.extends[std];\r\n                        for (var prop in _extends.props) {\r\n                            if (_extends.props.hasOwnProperty(prop)) {\r\n                                var cb = _extends.props[prop];\r\n                                props[prop] = cb;\r\n\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n\r\n            if ($classData.uses) {\r\n                for (var key in $classData.uses) {\r\n                    if ($classData.uses.hasOwnProperty(key)) {\r\n                        var val = $classData.uses[key];\r\n                        if (typeof val != \"function\") {\r\n                            // if ((!override && typeof this[key] == \"undefined\") || override == true) {\r\n                            props[key] = val;\r\n                            // }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (var prop in $classData.props) {\r\n                if ($classData.props.hasOwnProperty(prop)) {\r\n                    var cb = $classData.props[prop];\r\n                    props[prop] = cb;\r\n                    // if ((!override && typeof this[prop] == \"undefined\") || override == true) {\r\n                    //     $props[prop] = cb;\r\n                    // }\r\n                }\r\n            }\r\n\r\n            for (var key in props) {\r\n                if (props.hasOwnProperty(key)) {\r\n                    var val = props[key];\r\n                    if (key.substr(0, 1) == '$') {\r\n                        var ks = key.substr(1);\r\n                        // __addAccessorValue(this, ks, val);\r\n\r\n                        __addAccessorKey(ks);\r\n                        $dynamics[ks] = val;\r\n                    }\r\n                    else {\r\n                        $props[key] = val;\r\n                        // _defineProperty(this, key, val);\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n\r\n        function addBootMethod(method) {\r\n            if (isString(method)) {\r\n                $boots[method] = [];\r\n            } else if (isArray(method)) {\r\n                method.map(function (mt) {\r\n                    if (isString(mt)) {\r\n                        $boots[mt] = [];\r\n                    }\r\n                });\r\n            } else if (isObject(method)) {\r\n                for (var key in method) {\r\n                    if (Object.hasOwnProperty.call(method, key)) {\r\n                        var params = method[key];\r\n                        $boots[key] = isArray(params) ? params : [params];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        function addInitMethod(method?: any) {\r\n            if (isString(method)) {\r\n                $inits[method] = [];\r\n            } else if (isArray(method)) {\r\n                method.map(function (mt) {\r\n                    if (isString(mt)) {\r\n                        $inits[mt] = [];\r\n                    }\r\n                });\r\n            } else if (isObject(method)) {\r\n                for (var key in method) {\r\n                    if (Object.hasOwnProperty.call(method, key)) {\r\n                        var params = method[key];\r\n                        $inits[key] = isArray(params) ? params : [params];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n        function isConst(key?: any) {\r\n            return Object.hasOwnProperty.call($classData.constants, key);\r\n        }\r\n\r\n        function throwConstError(className?: any, key?: any, value?: any) {\r\n            throw new Error(\"Không thể kế thừa \" + (typeof value == \"function\" ? \"phương thức\" : \"thuộc tính\") + \" [\" + key + \"] từ class [\" + className + \"] do trùng vời hàng số đã được khai báo\");\r\n        }\r\n\r\n\r\n        function addConstValue(key?: any, value?: any) {\r\n            $constants[key] = {\r\n                value: value,\r\n                set: function (val: any) {\r\n                    console.warn(\"bạn không thể set giá trị cho một hằng \" + key);\r\n                },\r\n                get: function () {\r\n                    return $constants[key] ? $constants[key].value : null;\r\n                }\r\n            };\r\n        }\r\n\r\n        /**\r\n         * khai bao thuoc tinh hoac phuong thuc\r\n         * @param {string} scope \r\n         * @param {string} key \r\n         * @param {*} value \r\n         */\r\n        function assignPropMethod(scope?: any, key?: any, value?: any) {\r\n            if (!isString(key)) return false;\r\n            var a = String(key).split(\"$\");\r\n            if (a.length == 2 && a[0].length) {\r\n                var s = a[0].toLowerCase();\r\n                if (s == \"const\" || s == \"final\") {\r\n                    if (!isConst(a[1])) {\r\n                        if (a[1] == \"constructor\") {\r\n                            if (typeof value == 'function') addConstructor(value);\r\n                        }\r\n\r\n                        // if (typeof value != \"function\" && !inArray($ignore, a[1])) {\r\n                        //     _defineProperty(ES5Class.prototype, a[1], value);\r\n                        // }\r\n                        if (typeof value == \"function\" && (a[1] == \"call\" || a[1] == \"caller\" || a[1] == \"__call\" || a[1] == \"__call__\")) {\r\n                            $calls.push(value);\r\n                        }\r\n                        // else{\r\n                        $classData.constants[a[1]] = value;\r\n                        // }\r\n\r\n                    } else {\r\n                        throw new Error(\"Bạn không thể ghi đè một Hằng\");\r\n                    }\r\n                }\r\n                else if (s == 'onset' || s == 'set') {\r\n                    if (typeof value == \"function\") {\r\n                        if (typeof $classData.accessorMethods[a[1]] == \"undefined\") {\r\n                            $classData.accessorMethods[a[1]] = {};\r\n                        }\r\n                        $classData.accessorMethods[a[1]].set = value;\r\n                    }\r\n\r\n                }\r\n                else if (s == 'onget' || s == 'get') {\r\n                    if (typeof value == \"function\") {\r\n                        if (typeof $classData.accessorMethods[a[1]] == \"undefined\") {\r\n                            $classData.accessorMethods[a[1]] = {};\r\n                        }\r\n                        $classData.accessorMethods[a[1]].get = value;\r\n                    }\r\n                }\r\n                else if (s == 'static') {\r\n                    ES5Class.static(a[1], value);\r\n                }\r\n                else if (!isConst(key)) {\r\n                    $classData.constants[a[1]] = value;\r\n                    if (typeof value == \"function\" && (a[1] == \"call\" || a[1] == \"caller\" || a[1] == \"__call\" || a[1] == \"__call__\")) {\r\n                        $calls.push(value);\r\n                    }\r\n                    else if (typeof $classData[scope] == \"object\") {\r\n                        if (typeof $classData.uses[key] != \"undefined\") delete $classData.uses[key];\r\n                        if (typeof $classData.methods[key] != \"undefined\") delete $classData.methods[key];\r\n                        if (typeof $classData.props[key] != \"undefined\") delete $classData.props[key];\r\n                        $classData[scope][key] = value;\r\n                    }\r\n                }\r\n            }\r\n            else if (!isConst(key)) {\r\n                let kl = String(key).toLowerCase();\r\n                if (typeof value == \"function\" && (kl == \"call\" || kl == \"caller\" || kl == \"__call\" || kl == \"__call__\")) {\r\n                    $calls.push(value);\r\n                }\r\n\r\n                else if (typeof $classData[scope] == \"object\") {\r\n                    if (typeof $classData.uses[key] != \"undefined\") delete $classData.uses[key];\r\n                    if (typeof $classData.methods[key] != \"undefined\") delete $classData.methods[key];\r\n                    if (typeof $classData.props[key] != \"undefined\") delete $classData.props[key];\r\n                    $classData[scope][key] = value;\r\n                }\r\n            }\r\n        }\r\n\r\n        function __addAccessorValue(instanceID?: any, key?: any, val?: any) {\r\n            if (typeof $data[instanceID] == \"undefined\") $data[instanceID] = {};\r\n            // if (typeof $data[instanceID][key] != \"undefined\") return false;\r\n            $data[instanceID][key] = val;\r\n            return true;\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n        function __addAccessorKey(key: any) {\r\n            \r\n            var g, s;\r\n            if (typeof $classData.accessorMethods[key] == \"object\") {\r\n                if (typeof $classData.accessorMethods[key].get == \"function\")\r\n                    g = $classData.accessorMethods[key].get;\r\n                if (typeof $classData.accessorMethods[key].set == \"function\")\r\n                    s = $classData.accessorMethods[key].set;\r\n            }\r\n\r\n            Object.defineProperty(ES5Class.prototype, key, {\r\n                get: function get() {\r\n                    var value = $data[this.__instance__id__][key];\r\n                    if (g) {\r\n                        var r = g.apply(this, [value]);\r\n                        if (typeof r != \"undefined\") return r;\r\n                    }\r\n                    return value;\r\n                },\r\n                set: function set(value) {\r\n                    var stt = true;\r\n                    var oldVal = $data[this.__instance__id__][key];\r\n\r\n                    if (s) {\r\n                        var a = s.call(this, value, oldVal);\r\n                        if (a === false) stt = false;\r\n                    }\r\n\r\n                    if (stt) $data[this.__instance__id__][key] = value;\r\n                    return $data[this.__instance__id__][key];\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n\r\n        function __addMethod(name?: any, handle?: any) {\r\n            if (name.length > 6) {\r\n                var pre = name.substr(0, 6).toLowerCase();\r\n\r\n                var n = name.substr(6, 1).toLowerCase() + (name.length > 7 ? name.substr(7) : '');\r\n                if (inArray(['$onset', 'onset$', '$set', 'set$'], pre)) {\r\n                    if (typeof $classData.accessorMethods[n] == \"undefined\") {\r\n                        $classData.accessorMethods[n] = {};\r\n                    }\r\n                    $classData.accessorMethods[n].set = handle;\r\n                    return;\r\n                }\r\n                else if (inArray(['$onget', 'onget$', '$get', 'get$'], pre)) {\r\n                    if (typeof $classData.accessorMethods[n] == \"undefined\") {\r\n                        $classData.accessorMethods[n] = {};\r\n                    }\r\n                    $classData.accessorMethods[n].get = handle;\r\n                    return;\r\n                }\r\n            }\r\n            _defineProperty(ES5Class.prototype, name, handle);\r\n\r\n        };\r\n\r\n\r\n        function checkCreateNewInstanceByStaticConstructorCall() {\r\n            if (commited && ($props.dynamicCreateMode || $dynamics.dynamicCreateMode || $constants.dynamicCreateMode)) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n\r\n        ES5Class.__addAccessorKey = __addAccessorKey;\r\n        ES5Class.__addAccessorValue = __addAccessorValue;\r\n\r\n\r\n        if (isObject($class)) {\r\n            ES5Class.assign($class);\r\n        }\r\n        else if (isFunction($class)) {\r\n            addConstructor($class);\r\n        }\r\n        else if (isFunction($isGlobal)) {\r\n            addConstructor($isGlobal);\r\n        }\r\n\r\n\r\n\r\n        // if(typeof $constants.noReturn == \"undefined\"){\r\n        //     addConstValue('noReturn', NORETURN_VALUE)\r\n        // }\r\n\r\n        return ES5Class;\r\n\r\n    }(className, isGlobal);\r\n};\r\n\r\nconst _class = createClass;\r\nexport default createClass;\r\nexport { createClass, _class, ES5AbstractClass, ES5Instance };\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { assignValue, isBoolean, isObject } from '@app/_core/helpers/utils';\nimport { InpEvent } from '@app/_shared/shared.type';\n\n@Component({\n    template: ''\n})\nexport abstract class BaseInputComponent {\n    @Input() name: string = 'input';\n    @Input() value: any = \"\";\n    @Input() label: string = '';\n    @Input() placeholder: string = '';\n    @Input() valueType: string;\n    old: any = '';\n    @Output() subcribe = new EventEmitter<InpEvent>();\n\n\n    pendingStatus: boolean = false;\n    emitAfter(time: number = 0) {\n        if (this.pendingStatus) return false;\n        if (time < 0) time = 0;\n\n        if (!time) {\n            var ov = isObject(this.value) ? assignValue({}, this.value) : this.value;\n            var old = this.old;\n\n            this.subcribe.emit({\n                name: this.name,\n                value: ov,\n                old: old\n            });\n            this.old = ov;\n            return false;\n        }\n\n\n        this.pendingStatus = true;\n        setTimeout(() => {\n            var ov = isObject(this.value) ? assignValue({}, this.value) : this.value;\n            var old = this.old;\n            this.old = ov;\n            this.subcribe.emit({\n                name: this.name,\n                value: ov,\n                old: old\n            });\n            this.pendingStatus = false;\n\n        }, time);\n\n    }\n    parseValue(value) {\n        switch (this.valueType) {\n            case \"number\":\n                return Number(value);\n                break;\n\n            case 'boolean':\n                return isBoolean(value) ? value : Boolean(value);\n                break;\n            default:\n                break;\n        }\n\n        return value;\n    }\n\n\n    onChange(event) {\n        if (isObject(event) && Object.prototype.hasOwnProperty.call(event, 'value')) {\n            this.value = event.value;\n        }\n        if (isObject(this.old) && isObject(this.value)) {\n            if (JSON.stringify(this.old) !== JSON.stringify(this.value)) {\n                this.emit();\n            }\n        } else if (this.old !== this.value) {\n            this.emit();\n        }\n\n    }\n\n    emit() {\n        var ov = isObject(this.value) ? assignValue({}, this.value) : this.value;\n        var old = this.old;\n\n        this.subcribe.emit({\n            name: this.name,\n            value: ov,\n            old: old\n        });\n        this.old = ov;\n    }\n\n    set val(value) {\n        this.value = value;\n        this.onChange({ type: \"change\", value: value });\n    }\n\n}\n","export enum Role {\r\n  ADMIN = 'ROLE_ADMIN',\r\n  AGENCY = 'ROLE_AGENCY',\r\n  AFFILIATE = 'ROLE_AFFILIATE'\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { TemplateEventsService } from '@app/template-page/_store/events.service';\nimport { TransparentBase64Image } from '@app/_3D/libs/three.libs';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { assignValue } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { FG_BGSIZES, FG_DEFAULT_DATA, FG_ITEM, FG_POSKEYS, FG_REPEAT } from '@app/_shared/shared.type';\n\nimport { EditorIO, EditorMethods } from '../../../../base/editor-io';\n\n@Component({\n    selector: 'app-foreground-item',\n    templateUrl: './foreground-item.component.html',\n    styleUrls: ['./foreground-item.component.scss']\n})\nexport class ForegroundItemComponent extends BaseComponent implements OnInit {\n\n    @Input() data: FG_ITEM = null;\n    @Output() update = new EventEmitter<any>();\n    @Output() clickDelete = new EventEmitter<FG_ITEM>();\n    isActive: boolean = false;\n    position: { x: string[], y: string[], xy: string[] } = FG_POSKEYS;\n    repeatOptions = FG_REPEAT;\n    sizeOptions = FG_BGSIZES;\n    posimg: string = TransparentBase64Image;\n\n    constructor(\n        private events: AppEditorEventService\n    ) {\n        super();\n    }\n    onInit(): void {\n        let a = assignValue({}, FG_DEFAULT_DATA);\n        this.data = assignValue(a, this.data);\n    }\n\n    toggleActive() {\n        this.isActive = !this.isActive;\n    }\n\n    onClickDelete() {\n        this.clickDelete.emit(this.data);\n    }\n\n    onChange(event) {\n        if (event.value != this.data[event.name]) {\n            this.data[event.name] = event.value;\n        }\n        this.update.emit(this.data);\n        if (event.name == \"url\") {\n            this.emitRefresh();\n        }\n\n    }\n\n    changePosition(x, y) {\n        this.data.position.x = x;\n        this.data.position.y = y;\n        this.update.emit(this.data);\n    }\n\n    modalCancelSelect() {\n        this.emitRefresh();\n    }\n\n    emitRefresh() {\n        setTimeout(() => {\n            this.subEvents.emit(\"tab.scene.refresh\");\n        }, 200);\n    }\n}\n\n","<div class=\"fg-item\" [class.active]=\"isActive\">\n    <div class=\"item-header\">\n        <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\" class=\"fg-group\">\n            <div nz-col class=\"gutter-row\" [nzSpan]=\"19\">\n                <div class=\"inner-box fg-name\" (click)=\"toggleActive()\">\n                    <span class=\"icon\">\n                        <ng-container *ngIf=\"isActive; then showTemplate; else hideTemplate\"></ng-container>\n                        <ng-template #showTemplate>\n                            <i nz-icon nzType=\"down\" nzTheme=\"outline\"></i>\n                        </ng-template>\n                        <ng-template #hideTemplate>\n                            <i nz-icon nzType=\"right\" nzTheme=\"outline\"></i>\n                        </ng-template>\n                    </span>\n                    <span class=\"image\">\n                        <img src=\"{{data.url}}\" alt=\"{{data.name}}\">\n                    </span>\n                    <span class=\"name\">{{data.name}}</span>\n                </div>\n            </div>\n            <div nz-col class=\"gutter-row\" [nzSpan]=\"5\">\n                <div class=\"inner-box text-right\">\n                    <div class=\"delete\" (click)=\"onClickDelete()\">\n                        <i nz-icon nzType=\"delete\" nzTheme=\"outline\"></i>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        \n        \n    </div>\n    <div class=\"item-body\" *ngIf=\"isActive\">\n        <div class=\"inputs\">\n            <inp-text-group class=\"inp-group-item-first\" name=\"name\" label=\"Foreground Name\" [(value)]=\"data.name\" (subcribe)=\"onChange($event)\"></inp-text-group>\n            <inp-texture-group class=\"inp-group-item\" name=\"url\" label=\"Foreground Image\" [(value)]=\"data.url\" (subcribe)=\"onChange($event)\" [output]=\"true\" (modalCancelSelect)=\"modalCancelSelect()\" [listType]=\"'foreground'\"></inp-texture-group>\n            <inp-select-group class=\"inp-group-item\" name=\"repeat\" [(value)]=\"data.repeat\" [options]=\"repeatOptions\" (subcribe)=\"onChange($event)\"></inp-select-group>\n            <inp-select-group class=\"inp-group-item\" name=\"size\" [(value)]=\"data.size\" [options]=\"sizeOptions\" (subcribe)=\"onChange($event)\"></inp-select-group>\n            <div class=\"inp-group-item\">\n                <div class=\"label\">{{\"Image position\"|translate}}</div>\n                <div class=\"input-group pos-group\">\n                    <div class=\"row\" *ngFor=\"let y of position.y; let i=index\">\n                        <div class=\"col\" *ngFor=\"let x of position.x; let i=index\">\n                            <div class=\"pos-item\" (click)=\"changePosition(x,y)\" [class.active]=\"x==data.position.x&&y==data.position.y\">\n                                <img src=\"{{posimg}}\" alt=\"{{x}}-{{y}}\">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <inp-range-group class=\"input-group-item\" name=\"opacity\" [(value)]=\"data.opacity\" [step]=\"0.01\" [min]=\"0\" [max]=\"1\" (subcribe)=\"onChange($event)\"></inp-range-group>\n        </div>\n    </div>\n</div>","import { AuthActions, AuthActionTypes } from './auth.actions';\r\nimport { User } from './../models/user';\r\nimport { createFeatureSelector, createReducer, on } from '@ngrx/store';\r\n\r\nexport interface AuthState {\r\n  user: User | null;\r\n  errorMessage: string | null;\r\n  isAuthenticating: boolean;\r\n  isAuthenticated: boolean;\r\n}\r\n\r\nexport const initialState: AuthState = {\r\n  user: null,\r\n  errorMessage: null,\r\n  isAuthenticating: false,\r\n  isAuthenticated: false,\r\n};\r\n\r\nexport function reducer(state = initialState, action: AuthActions): AuthState {\r\n  switch (action.type) {\r\n    case AuthActionTypes.LOGIN:\r\n      return {\r\n        ...state,\r\n        isAuthenticating: true,\r\n        errorMessage: null,\r\n        isAuthenticated: false,\r\n      };\r\n    case AuthActionTypes.LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        errorMessage: null,\r\n        isAuthenticated: true,\r\n        isAuthenticating: false,\r\n        user: {\r\n          accessToken: action.payload.accessToken,\r\n          id: action.payload.id,\r\n          email: action.payload.email,\r\n          username: action.payload.username,\r\n        },\r\n      };\r\n\r\n    case AuthActionTypes.LOGIN_FAILURE:\r\n      return {\r\n        ...state,\r\n        errorMessage: action.payload.error,\r\n        isAuthenticating: false,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const selectAuthState = createFeatureSelector<AuthState>('authStore');\r\n","import { Directive, HostListener, EventEmitter, Output, ElementRef } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[appScrollable]',\r\n})\r\nexport class ScrollableDirective {\r\n  @Output() scrollBottom = new EventEmitter();\r\n  @Output() scrollTop = new EventEmitter();\r\n  @Output() scrollDown = new EventEmitter();\r\n\r\n  constructor(public el: ElementRef) {}\r\n\r\n  @HostListener('scroll', ['$event'])\r\n  onScroll(event) {\r\n    try {\r\n      const top = event.target.scrollTop;\r\n      const height = this.el.nativeElement.scrollHeight;\r\n      const offset = this.el.nativeElement.offsetHeight;\r\n      if (top > 0) {\r\n        this.scrollDown.emit();\r\n      }\r\n      // emit bottom event\r\n      if (top > height - offset - 1) {\r\n        this.scrollBottom.emit();\r\n      }\r\n\r\n      // emit top event\r\n      if (top === 0) {\r\n        this.scrollTop.emit();\r\n      }\r\n    } catch (err) {}\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { EventManagerService } from '@app/_core/services/event-manager.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ObjectToolbarService extends EventManagerService {\n\n    constructor() {\n        super();\n    }\n\n    show(type:string, secret_key:string, mode?:string) {\n        this.emit({\n            type: \"show\",\n            data: {\n                type: type,\n                secret_key: secret_key,\n                mode: mode\n            }\n        })\n    }\n    hide() {\n        this.emit({\n            type: \"hide\"\n        })\n    }\n\n    changeMode(mode){\n        this.emit({\n            type: \"mode.change\",\n            mode: mode\n        })\n    }\n    selectMode(mode){\n        this.emit({\n            type: \"mode.select\",\n            mode: mode\n        })\n    }\n    \n}\n","import { Component, OnInit } from '@angular/core';\nimport { BaseInpGroupComponent } from '../base-inp-group/base-inp-group.component';\n\n@Component({\n  selector: 'inp-switch-group',\n  templateUrl: './inp-switch-group.component.html',\n  styleUrls: ['./inp-switch-group.component.scss']\n})\nexport class InpSwitchGroupComponent extends BaseInpGroupComponent implements OnInit {\n\n  constructor() {\n    super();\n  }\n\n  onInit(): void {\n    this.inpInit();\n  }\n\n}\n","<div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\" class=\"input-group\">\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"18\">\n        <div class=\"inner-box\">{{label | translate}}</div>\n    </div>\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"6\">\n        <div class=\"inner-box text-right\">\n            <inp-switch\n                [name]=\"name\"\n                [(value)]=\"value\"\n                (subcribe)=\"onChange($event)\"\n            ></inp-switch>\n        </div>\n    </div>\n</div>","import { ChangeDetectorRef, Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { assignValue } from '@app/_core/helpers/utils';\nimport { EventManagerService } from '@app/_core/services/event-manager.service';\nimport { BaseInpGroupComponent } from '../base-inp-group/base-inp-group.component';\n\n@Component({\n    selector: 'inp-vector3-group',\n    templateUrl: './inp-vector3-group.component.html',\n    styleUrls: ['./inp-vector3-group.component.scss']\n})\nexport class InpVector3GroupComponent extends BaseInpGroupComponent implements OnInit {\n\n    @Input() btnCenter: boolean = false;\n\n    @Input() events: EventManagerService;\n\n    degreSymbol: string = \"°\";\n    _value: any = {\n        x: 0,\n        y: 0,\n        z: 0\n    };\n\n    canSync: boolean = false;\n\n    vectorCallback = e => {\n        if (e.name == this.name) {\n            \n            if (e.value) {\n                this.value = e.value;\n            }\n            this.syncFromParent();\n        }\n    };\n\n\n    constructor(private cd: ChangeDetectorRef) {\n        super();\n    }\n\n\n\n    onInit(): void {\n        this.inpInit();\n        this.syncFromParent();\n        this.canSync = true;\n        if (this.events) {\n            this.events.on(\"props.vector.change\", this.vectorCallback);\n        }\n    }\n\n    onDestroy() {\n        if (this.events) {\n            this.events.off(\"props.vector.change\", this.vectorCallback);\n        }\n    }\n\n    syncFromParent() {\n        assignValue(this._value, {\n            x: this.value.x,\n            y: this.value.y,\n            z: this.value.z\n        });\n        this.cd.detectChanges();\n    }\n\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if (this.canSync) {\n            if (changes.value) {\n                this.syncFromParent();\n            }\n        }\n    }\n\n    updateVector(event) {\n        this.canSync = false;\n        assignValue(this.value, {\n            x: this._value.x,\n            y: this._value.y,\n            z: this._value.z,\n\n        })\n        this.emitChange();\n        this.canSync = true;\n    }\n    setCenter() {\n        this.value.x = 0;\n        this.value.z = 0;\n        this.syncFromParent();\n        this.emitChange();\n        this.cd.detectChanges();\n    }\n\n\n}\n","<ng-container *ngIf=\"btnCenter; then centerTemplate; else labelTemplate\"></ng-container>\n<ng-template #centerTemplate>\n    <div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\">\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"16\">\n            <div class=\"label\">{{label | translate}}</div>\n        </div>\n        <div nz-col class=\"gutter-row\" [nzSpan]=\"8\">\n            <div class=\"text-right\">\n                <button nz-button nzType=\"default\" [nzSize]=\"'small'\" (click)=\"setCenter()\">Center</button>\n            </div>\n        </div>\n    </div>\n</ng-template>\n<ng-template #labelTemplate>\n    <div class=\"label\">{{label | translate}}</div>    \n</ng-template>\n\n\n<inp-vector3\n    [name]=\"name\"\n    [(value)]=\"_value\"\n    (subcribe)=\"updateVector($event)\"\n></inp-vector3>","import { AfterViewInit, Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\r\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\r\nimport { getArguments, getTimeStamp, isArray, isBoolean, isCallable, isEmpty, isFunction, isNumber, isObject, isString, objectHasKey } from '@app/_core/helpers/utils';\r\nimport { EventManagerService } from '@app/_core/services/event-manager.service';\r\nimport { CallbackFunction } from '@app/_shared/shared.type';\r\n\r\ntype Listenner = (...args: any[]) => any;\r\n\r\n/**\r\n * mang chua cac object bao gom service va cac event\r\n */\r\ntype EventContainers = Array<{\r\n    service: EventManagerService,\r\n    events: {\r\n        [type: string]: [[Listenner, boolean]]\r\n    }\r\n}>;\r\n\r\nexport type EventEmit = {\r\n    type?: string,\r\n    data?: any,\r\n    [key: string]: any\r\n}\r\nexport type Listener = (event?: EventEmit) => any\r\n\r\n\r\nexport type OnEventListener = {\r\n    [event: string]: (Listener | string)\r\n}\r\n\r\nexport interface BaseComponent {\r\n    /**\r\n     * the method will call before instance constructor method\r\n     * \r\n     */\r\n    boot?(): void\r\n    /**\r\n     * the method will call before instance constructor method like as boot\r\n     * \r\n     */\r\n    onBoot?(): void\r\n\r\n    /**\r\n     * method will call on default ngOnInit defined in BaseComponent\r\n     */\r\n    initFirst?(): void\r\n    /**\r\n         * method will call on default ngOnInit defined in BaseComponent\r\n         */\r\n    initOnce?(): void\r\n\r\n    /**\r\n     * method will call on default ngOnInit\r\n     */\r\n    init?(): void\r\n    /**\r\n     * method alias init\r\n     */\r\n    onInit?(): void\r\n\r\n\r\n    afterViewInit?(): void\r\n    /**\r\n     * method alias init\r\n     */\r\n    onAfterViewInit?(): void\r\n\r\n    /**\r\n     * the method will call on default ngOnDestroy defined in BaseComponent\r\n     */\r\n    destroy?(): void\r\n    /**\r\n     * alias \r\n     */\r\n    onDestroy?(): void\r\n\r\n    onChangeSubEvents?(): void\r\n\r\n\r\n    // doAfterViewInit?(fn: CallbackFunction, time: number = 100): any\r\n    // doAfterViewInit?(fn: CallbackFunction, args:any[], time: number = 100): any\r\n\r\n}\r\n\r\n@Component({\r\n    template: ''\r\n})\r\nexport abstract class BaseComponent implements OnInit, OnDestroy, AfterViewInit {\r\n    [prop: string]: any\r\n\r\n    // @Input() moduleKey: string = '';\r\n    // @Input() eventService: EventManagerService = null;\r\n    moduleKey: string = '';\r\n    // @Input() eventService: EventManagerService = null;\r\n\r\n    @Output() emitter = new EventEmitter<any>();\r\n\r\n    eventServiceContainers: EventContainers = [];\r\n\r\n    isFocus: boolean = false;\r\n    isInited: boolean = false;\r\n\r\n    subEvents: AppEditorEventService = null;\r\n\r\n    isChangeSubEvents: boolean = false;\r\n\r\n    __show__: boolean = true;\r\n\r\n    __refresh_expire__: number = getTimeStamp();\r\n    __refresh_status__: boolean = false;\r\n    viewInited: boolean = false;\r\n\r\n\r\n    constructor() {\r\n        Object.defineProperty(this, \"_listeners\", {\r\n            configurable: false,\r\n            enumerable: false,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dispatchedEvents\", {\r\n            configurable: false,\r\n            enumerable: false,\r\n            value: {}\r\n        });\r\n        if (typeof this.boot == \"function\") {\r\n            this.boot();\r\n        }\r\n        if (typeof this.onBoot == \"function\") {\r\n            this.onBoot();\r\n        }\r\n    }\r\n    ngOnInit(): void {\r\n        this.isFocus = true;\r\n        this.isChangeSubEvents = false;\r\n        // if (objectHasKey(this, 'events') && this.events && this.moduleKey) {\r\n        if (objectHasKey(this, 'events') && this.events) {\r\n            const sub = this.events;\r\n            // console.log(sub);\r\n            if (sub && sub !== this.subEvents) {\r\n                this.subEvents = sub;\r\n                this.deactiveEventServiceRegistered(this.subEvents);\r\n                this.deregisterAllEventService(this.subEvents);\r\n                this.isChangeSubEvents = true;\r\n                if (typeof this.onChangeSubEvents == \"function\") {\r\n                    this.onChangeSubEvents();\r\n                    this.activeEventServiceRegistered(this.subEvents);\r\n                }\r\n            }\r\n        }\r\n        if (!this.isInited) {\r\n            if (typeof this.initOnce == \"function\") {\r\n                this.initOnce();\r\n            }\r\n            else if (typeof this.initFirst == \"function\") {\r\n                this.initFirst();\r\n            }\r\n        }\r\n        if (typeof this.init == \"function\") {\r\n            this.init();\r\n        }\r\n        if (typeof this.onInit == \"function\") {\r\n            this.onInit();\r\n        }\r\n\r\n\r\n        this.isChangeSubEvents = false;\r\n    }\r\n    ngOnDestroy(): void {\r\n        //Called once, before the instance is destroyed.\r\n        //Add 'implements OnDestroy' to the class.\r\n        this.isFocus = false;\r\n        if (typeof this.destroy == \"function\") {\r\n            this.destroy()\r\n        }\r\n        if (typeof this.onDestroy == \"function\") {\r\n            this.onDestroy()\r\n        }\r\n        if (typeof this.onChangeSubEvents == \"function\") {\r\n            this.deactiveEventServiceRegistered(this.subEvents);\r\n        }\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.viewInited = true;\r\n        if (typeof this.afterViewInit == \"function\") {\r\n            this.afterViewInit();\r\n        }\r\n        if (typeof this.onAfterViewInit == \"function\") {\r\n            this.onAfterViewInit();\r\n        }\r\n    }\r\n\r\n\r\n    doAfterViewInit(fn: CallbackFunction, ...args: any[]) {\r\n        if (this.viewInited) {\r\n            var params: any[] = [];\r\n            if (args.length >= 1) {\r\n                for (let index = 0; index < args.length; index++) {\r\n                    const v = args[index];\r\n                    if (isArray(v)) {\r\n                        params = v;\r\n                    }\r\n                }\r\n            }\r\n            return fn(...params);\r\n        }\r\n        var time = 100;\r\n        if (args.length >= 1) {\r\n            for (let index = 0; index < args.length; index++) {\r\n                const v = args[index];\r\n                if (isNumber(v) && v > 0) {\r\n                    time = v;\r\n                }\r\n            }\r\n        }\r\n        return setTimeout(() => this.doAfterViewInit(fn, ...args), time);\r\n    }\r\n\r\n    __refresh__callback__(time: number = 100) {\r\n        if (getTimeStamp() >= this.__refresh_expire__ && this.__refresh_status__) {\r\n            this.__refresh_status__ = false;\r\n            this.__show__ = true;\r\n            if (this.cd) {\r\n                this.cd.detectChanges();\r\n            }\r\n            return true;\r\n        }\r\n        if (time <= 0) time = 10;\r\n        return setTimeout(() => this.__refresh__callback__(), time);\r\n    }\r\n\r\n    refresh(time: number = 10) {\r\n        if (time <= 0) time = 10;\r\n        if (!this.__refresh_status__) this.__refresh_expire__ = getTimeStamp() + time;\r\n        else this.__refresh_expire__ += time;\r\n        if (!this.__refresh_status__) this.__refresh_status__ = true;\r\n        if (this.__show__) {\r\n            if (this.cd) {\r\n                this.cd.detectChanges();\r\n            }\r\n            this.__show__ = false;\r\n        }\r\n        this.__refresh__callback__(20);\r\n    }\r\n    /**\r\n     * đang ký dịch vụ xử lý xự kiện\r\n     * @param service dịch vụ\r\n     * @param type sự kiện\r\n     * @param listenner hàm xử lý\r\n     * @param disptch gọi ngay\r\n     */\r\n    registerEventService(service: EventManagerService | any, type: any, listenner?: Listenner | boolean, disptch?: boolean) {\r\n        let events: {\r\n            [type: string]: [[Listenner, boolean]]\r\n        } = {};\r\n        if (isObject(type)) {\r\n            let dp = isBoolean(listenner) ? (listenner) : disptch;\r\n            for (const key in type) {\r\n                if (Object.prototype.hasOwnProperty.call(type, key)) {\r\n                    const callback = type[key];\r\n                    if (typeof callback == \"function\") {\r\n                        let k = key.split(\"|\");\r\n\r\n\r\n                        const d: any = k.length > 1 ? (k[1] == \"dispatch\" ? true : dp) : dp;\r\n                        // service.on(k[0], callback, d);\r\n                        events[k[0]] = [[callback, d]];\r\n                    }\r\n                }\r\n            }\r\n        } else if (isString(type) && isCallable(listenner)) {\r\n            // service.on(type, listenner, disptch);\r\n            events[type] = [[listenner as Listenner, disptch]];\r\n        }\r\n\r\n        let index = -1;\r\n\r\n        for (let i = 0; i < this.eventServiceContainers.length; i++) {\r\n            const container = this.eventServiceContainers[i];\r\n            if (container.service == service) {\r\n                index = i;\r\n                for (const key in events) {\r\n                    if (Object.prototype.hasOwnProperty.call(events, key)) {\r\n                        const ev = events[key][0];\r\n                        if (typeof container.events[key] == \"undefined\") {\r\n                            container.events[key] = [ev];\r\n                        } else {\r\n                            container.events[key].push(ev);\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        if (index == -1) {\r\n            this.eventServiceContainers.push({\r\n                service: service,\r\n                events: events\r\n            })\r\n        }\r\n    }\r\n\r\n    activeEventServiceRegistered(service: EventManagerService | any, type?: any) {\r\n        this.eventServiceContainers.map(container => {\r\n            if (container.service == service) {\r\n                if (type) {\r\n                    if (isString(type)) {\r\n                        if (isArray(container.events[type])) {\r\n                            container.events[type].map(listennerParams => {\r\n                                container.service.removeEventListener(type, listennerParams[0]);\r\n                                container.service.addEventListener(type, listennerParams[0], listennerParams[1])\r\n\r\n                            })\r\n                        }\r\n                    } else if (isArray(type)) {\r\n                        type.map((t) => {\r\n                            if (isArray(container.events[t])) {\r\n                                container.events[t].map(listennerParams => {\r\n                                    container.service.removeEventListener(t, listennerParams[0]);\r\n                                    container.service.addEventListener(t, listennerParams[0], listennerParams[1])\r\n\r\n                                });\r\n                            }\r\n                        });\r\n                    }\r\n                } else {\r\n                    for (const key in container.events) {\r\n                        if (Object.prototype.hasOwnProperty.call(container.events, key)) {\r\n                            const list = container.events[key];\r\n                            list.map(listennerParams => {\r\n                                container.service.removeEventListener(key, listennerParams[0]);\r\n                                container.service.addEventListener(key, listennerParams[0], listennerParams[1])\r\n\r\n                            });\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    deactiveEventServiceRegistered(service: EventManagerService | any, type?: any) {\r\n        this.eventServiceContainers.map(container => {\r\n            if (container.service == service) {\r\n                if (type) {\r\n                    if (isString(type)) {\r\n                        if (isArray(container.events[type])) {\r\n                            container.events[type].map(listennerParams => {\r\n                                container.service.removeEventListener(type, listennerParams[0]);\r\n                                // container.service.addEventListener(type, listennerParams[0], listennerParams[1])\r\n\r\n                            })\r\n                        }\r\n                    } else if (isArray(type)) {\r\n                        type.map((t) => {\r\n                            if (isArray(container.events[t])) {\r\n                                container.events[t].map(listennerParams => {\r\n                                    container.service.removeEventListener(t, listennerParams[0]);\r\n                                    // container.service.addEventListener(t, listennerParams[0], listennerParams[1])\r\n\r\n                                });\r\n                            }\r\n                        });\r\n                    }\r\n                } else {\r\n                    for (const key in container.events) {\r\n                        if (Object.prototype.hasOwnProperty.call(container.events, key)) {\r\n                            const list = container.events[key];\r\n                            list.map(listennerParams => {\r\n                                container.service.removeEventListener(key, listennerParams[0]);\r\n                                // container.service.addEventListener(key, listennerParams[0], listennerParams[1])\r\n\r\n                            });\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    deregisterEventService(service: EventManagerService | any, type?: any, listenner?: Listenner) {\r\n        this.eventServiceContainers.map((container, index) => {\r\n            if (container.service == service) {\r\n                if (type) {\r\n                    if (isString(type)) {\r\n                        if (isArray(container.events[type])) {\r\n                            container.events[type].map((listennerParams, i) => {\r\n                                if (listenner) {\r\n                                    if (listenner == listennerParams[0]) {\r\n                                        container.service.removeEventListener(type, listennerParams[0]);\r\n                                        container.events[type].splice(i, 1);\r\n                                    }\r\n                                } else {\r\n                                    container.service.removeEventListener(type, listennerParams[0]);\r\n                                    container.events[type].splice(i, 1);\r\n                                }\r\n\r\n                            })\r\n                        }\r\n                    } else if (isArray(type)) {\r\n                        type.map((t) => {\r\n                            if (isArray(container.events[t])) {\r\n                                container.events[t].map(listennerParams => {\r\n                                    container.service.removeEventListener(t, listennerParams[0]);\r\n                                });\r\n                                container.events[t].splice(0);\r\n                                delete container.events[t];\r\n                            }\r\n                        });\r\n                    }\r\n                } else {\r\n                    for (const key in container.events) {\r\n                        if (Object.prototype.hasOwnProperty.call(container.events, key)) {\r\n                            const list = container.events[key];\r\n                            list.map(listennerParams => {\r\n                                container.service.removeEventListener(key, listennerParams[0]);\r\n                                // container.service.addEventListener(key, listennerParams[0], listennerParams[1])\r\n\r\n                            });\r\n                            container.events[key].splice(0);\r\n                            delete container.events[key];\r\n\r\n                        }\r\n                    }\r\n                    this.eventServiceContainers.splice(index, 1);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    deregisterAllEventService(service?: EventManagerService | any) {\r\n        this.eventServiceContainers.map((container, index) => {\r\n            if (!service || service === container.service) {\r\n                for (const key in container.events) {\r\n                    if (Object.prototype.hasOwnProperty.call(container.events, key)) {\r\n                        const list = container.events[key];\r\n                        list.map(listennerParams => {\r\n                            container.service.removeEventListener(key, listennerParams[0]);\r\n                        });\r\n                        container.events[key].splice(0);\r\n                        delete container.events[key];\r\n\r\n                    }\r\n                }\r\n                this.eventServiceContainers.splice(index, 1);\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n     * chuẩn hóa hàn lắng nghe sự kiện\r\n     * @param {string|function} handler tên phương thức hoạc hàm handler\r\n     * @returns function\r\n     */\r\n\r\n    protected __parseEventHandler(handler: any): (...args: any[]) => any {\r\n        var self = this;\r\n        if (typeof handler == \"function\") {\r\n            return handler;\r\n        }\r\n        var fnt = handler ? handler : function (e) {\r\n            console.log(e);\r\n        };\r\n\r\n        if (typeof handler == \"string\") {\r\n            var params = [];\r\n            var handleParams = handler.split(\":\");\r\n            if (handleParams.length == 2) {\r\n                handler = handleParams[0];\r\n                params = handleParams[1].split(\",\").map(function (s) { return s.trim(); });\r\n\r\n            }\r\n\r\n            fnt = function (e) {\r\n                var args = [e];\r\n                params.map(function (p) { args.push(p); });\r\n\r\n                if (typeof self[handler] == \"function\") {\r\n                    return self[handler].apply(self, args);\r\n                }\r\n            };\r\n\r\n\r\n        }\r\n        return fnt;\r\n    }\r\n\r\n    /**\r\n     * lắng nghe sự kiện\r\n     * @param {string} type loại hoạc tên sự kiện\r\n     * @param {function|string} handler hàm hoặc tên phương thức xử lý sự kiện\r\n     * @param {boolean} dispatch Thực thi trên tất cả các sự kiện trước đó\r\n     * @returns this\r\n     */\r\n    protected __addEventListener(type: string, handler?: Listener, dispatch?: boolean) {\r\n        var self = this;\r\n        var listener = this.__parseEventHandler(handler);\r\n\r\n        if (this._listeners === undefined || this._listeners === null) this._listeners = {};\r\n\r\n        type = String(type).toLowerCase();\r\n\r\n\r\n\r\n        // if (isDomEvent(type)) return this.addDomEvent(type, listener, DEFAULT_VALUE);\r\n        const listeners = this._listeners;\r\n\r\n        if (listeners[type] === undefined) {\r\n\r\n            listeners[type] = [];\r\n\r\n        }\r\n        if (dispatch === true) {\r\n            this.__handleDispatchedEvents(type, listener);\r\n        }\r\n\r\n        if (listeners[type].indexOf(listener) === - 1) {\r\n            listeners[type].push(listener);\r\n        }\r\n        return listener;\r\n    }\r\n\r\n    /**\r\n     * Kiểm tra sự kiện có tồn tại hay không\r\n     * @param {string} type tên sự kiện\r\n     * @param {function} listener hàm xử lý\r\n     * @returns {boolean}\r\n     */\r\n    protected __hasEventListener(type: string, listener?: Listener): boolean {\r\n\r\n        if (this._listeners === undefined || this._listeners === null) return false;\r\n\r\n        const listeners = this._listeners;\r\n        type = String(type).toLowerCase();\r\n        return listeners[type] !== undefined && (listener ? listeners[type].indexOf(listener) !== - 1 : true);\r\n\r\n    }\r\n\r\n    /**\r\n     * Xóa / Gỡ sự kiện\r\n     * @param {string} type tên sự kiện\r\n     * @param {function} listener hàm xử lý\r\n     * @returns {boolean}\r\n     */\r\n    protected __removeEventListener(type: string, listener?: Listener): boolean {\r\n        if (this._listeners === undefined || this._listeners === null) return false;\r\n        type = String(type).toLowerCase();\r\n        const listeners = this._listeners;\r\n        const listenerArray = listeners[type];\r\n        if (listenerArray !== undefined) {\r\n            if (!listener) {\r\n                this._listeners[type].splice(0, this._listeners[type].length);\r\n                return true;\r\n            }\r\n            const index = listenerArray.indexOf(listener);\r\n            if (index !== - 1) {\r\n                listenerArray.splice(index, 1);\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n    /**\r\n     * Tạo, gọi ra một sự kiện\r\n     * @param {string|object} event Tên hoặc sự kiện\r\n     * @param {*} data dữ liệu\r\n     * @param {boolean} log lưu lại du lieu khi emit\r\n     * @returns {boolean}\r\n     */\r\n    protected __dispatchEvent(event: (EventEmit | String), data?: any, log?: boolean): boolean {\r\n        if (this._listeners === undefined || this._listeners === null || !event) return null;\r\n\r\n        var e: any = {};\r\n        if (isString(event)) {\r\n            e.type = event;\r\n            if (data) {\r\n                e.data = data;\r\n            }\r\n            // console.log(event, data);\r\n        } else if (isObject(event)) {\r\n            e = event;\r\n            if (!e.type) return false;\r\n            if (!e.data && data) {\r\n                e.data = data;\r\n            }\r\n            if (isBoolean(data) && typeof log == \"undefined\") {\r\n                log = data;\r\n            }\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n        if (e.constructor === Object) e.type = String(e.type).toLowerCase();\r\n        const listeners = this._listeners;\r\n        const listenerArray = listeners[e.type];\r\n        var s = true;\r\n        if (!e.target) {\r\n            e.target = this;\r\n        }\r\n\r\n        if (!e.stopImmediatePropagation)\r\n            e.stopImmediatePropagation = function () {\r\n                s = false;\r\n            };\r\n\r\n        if (log === true) {\r\n            this.__addDispatchedEvent(e);\r\n        }\r\n\r\n\r\n        if (listenerArray !== undefined) {\r\n            // Make a copy, in case listeners are removed while iterating.\r\n            const array1 = listenerArray.slice(0);\r\n            var rs: any[] = [];\r\n            for (var i = 0, l = array1.length; i < l; i++) {\r\n                let a = array1[i].call(this, e);\r\n                if (!s) break;\r\n                if (a !== undefined) {\r\n                    rs.push(a)\r\n                }\r\n\r\n            }\r\n            if (s && rs.length) {\r\n                return rs.length == 1 && array1.length == 1 ? rs[0] : rs;\r\n            }\r\n            return s;\r\n        }\r\n\r\n    }\r\n    /**\r\n     * lắng nghe sự kiện\r\n     * @param {string} type loại hoạc tên sự kiện\r\n     * @param {function|string} listener hàm hoặc tên phương thức xử lý sự kiện\r\n     * @param {boolean} dispatch có cần cần gọi ham voi cac su kien truoc do hay ko\r\n     * @returns this\r\n     */\r\n    on(type: (OnEventListener | string), listener?: Listener | boolean, dispatch?: boolean) {\r\n        if (isObject(type)) {\r\n            var listeners = {};\r\n            const events: OnEventListener = type as OnEventListener;\r\n            var d: boolean = isBoolean(listener) ? listener as boolean : (isBoolean(dispatch) ? dispatch : false);\r\n            for (const key in events) {\r\n                if (Object.hasOwnProperty.call(events, key)) {\r\n                    const fn = type[key];\r\n                    if (isFunction(fn) || isString(fn)) {\r\n                        const fnAdded = this.__addEventListener(key, fn, d);\r\n                        if (fnAdded) {\r\n                            listeners[key] = fnAdded;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return listeners;\r\n        }\r\n        return this.__addEventListener(type as string, listener as Listener, dispatch);\r\n    }\r\n\r\n    off(type?: any, listener?: Listener) {\r\n        return this.__removeEventListener(type, listener);\r\n    }\r\n    __addDispatchedEvent(event: EventEmit) {\r\n        if (this._dispatchedEvents[event.type] === undefined) this._dispatchedEvents[event.type] = [];\r\n        this._dispatchedEvents[event.type].push(event);\r\n        // console.log(event.type, this._pendingListeners[event.type])\r\n        return this\r\n    }\r\n\r\n    __handleDispatchedEvents(type: string, handler: Listener) {\r\n        var listenerArray = this._dispatchedEvents[type];\r\n        // console.log(type, this._pendingListeners[type], this);\r\n        if (listenerArray !== undefined) {\r\n\r\n\r\n            // console.log(type)\r\n            // Make a copy, in case listeners are removed while iterating.\r\n            const array = listenerArray.slice(0);\r\n\r\n            for (var i = 0, l = array.length; i < l; i++) {\r\n                // array[i].call(this, e);\r\n                var s = handler.call(this, array[i]);\r\n                if (s === false) {\r\n                    return s;\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    listen(event: EventEmit) {\r\n        var a = this.__dispatchEvent(event);\r\n        var b = true;\r\n        if (typeof this.eventHandler == \"function\") {\r\n            b = this.eventHandler(event);\r\n        }\r\n        if (a !== false && b !== false) {\r\n            this.emit(event);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Tạo, gọi ra một sự kiện\r\n     * @param {string|object} event Tên hoặc sự kiện\r\n     * @param {*} data dữ liệu\r\n     * @returns {boolean}\r\n     */\r\n    emit(event: any, data?: any, log?: boolean): boolean {\r\n        var e: any = {};\r\n        if (isString(event)) {\r\n            e.type = event;\r\n            if (data) {\r\n                e.data = data;\r\n            }\r\n            // console.log(event, data);\r\n        } else if (isObject(event)) {\r\n            e = event;\r\n            if (!e.type) return false;\r\n            if (!e.data && data) {\r\n                e.data = data;\r\n            }\r\n            if (isBoolean(data) && typeof log == \"undefined\") {\r\n                log = data;\r\n            }\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n        if (e.constructor === Object) e.type = String(e.type).toLowerCase();\r\n        this.emitter.emit(e);\r\n    }\r\n\r\n\r\n}\r\n","import { ThreeMesh } from \"@app/_3D/store/data.type\";\r\n\r\nexport enum EItemStatus {\r\n    draft = 'draft',\r\n    protected = \"protected\",\r\n    published = 'published',\r\n}\r\n\r\nexport interface ItemMeshSettings {\r\n    name?: string,\r\n    sid?: string,\r\n    index?: number,\r\n    title?: string, \r\n    data?: {\r\n        material?: any,\r\n\r\n    },\r\n    editable?: Array<string>,\r\n    __ref__?:ThreeMesh\r\n    __inputs__?:any[],\r\n    __secret_key__?:string,\r\n    __parent_key__?:string\r\n}\r\n\r\n\r\nexport interface ItemSettings {\r\n    props?: {\r\n        castShadow?: boolean,\r\n        receiveShadow?: boolean,\r\n        position?: {\r\n            x?: number,\r\n            y?: number,\r\n            z?: number\r\n        },\r\n        rotation?: {\r\n            x?: number,\r\n            y?: number,\r\n            z?: number\r\n        }\r\n        scale: {\r\n            x?: number,\r\n            y?: number,\r\n            z?: number\r\n        }\r\n    },\r\n    options?: {\r\n        [x: string]: any\r\n    },\r\n    meshes?: Array<ItemMeshSettings>\r\n}\r\n\r\nexport interface ItemModel {\r\n\r\n    id: number,\r\n    name: string,\r\n    category_id?: number,\r\n    description?: string,\r\n    status?: string,\r\n    type?: string,\r\n    path?: string,\r\n    file?: string,\r\n    download_source_url?: string,\r\n    thumbnail?: string,\r\n    load_options?: {\r\n        useRoughnessMipmapper?: boolean,\r\n        materialNeedsUpdate?: boolean\r\n    },\r\n    settings?: ItemSettings,\r\n    size?: {\r\n        x?:number,\r\n        y?:number\r\n        z?:number\r\n    }\r\n}\r\n\r\nexport const ItemDefaultData: ItemModel = {\r\n    id: 0,\r\n    name: \"\",\r\n    category_id: 0,\r\n    description: \"\",\r\n    status: EItemStatus.draft,\r\n    type: \"gltf\",\r\n    path: \"https://threejs.vcc.vn/models/gltf/set21/\",\r\n    file: \"scene.gltf\",\r\n    download_source_url: \"https://threejs.vcc.vn/zip/set21.zip\",\r\n    thumbnail: \"\",\r\n    load_options: {\r\n        useRoughnessMipmapper: true,\r\n        materialNeedsUpdate: true\r\n    },\r\n    settings: {\r\n        \r\n    },\r\n    size: {\r\n        x:0,\r\n        y:0,\r\n        z:0\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate } from '@angular/router';\r\n\r\nimport { AuthenticationService } from '../../auth/services';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class UnAuthGuard implements CanActivate {\r\n  constructor(private authenticationService: AuthenticationService) {}\r\n\r\n  canActivate() {\r\n    // this.authenticationService.logout();\r\n    return true;\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-image-library-item',\n    templateUrl: './image-library-item.component.html',\n    styleUrls: ['./image-library-item.component.scss']\n})\nexport class ImageLibraryItemComponent implements OnInit {\n\n    data: any = {};\n    thumbnail: string = '';\n    constructor() { }\n\n    ngOnInit(): void {\n\n    }\n\n}\n","<div class=\"dj-preview dj-processing dj-image-preview\">\n    <div class=\"dj-image\">\n        <img src=\"{{thumbnail}}\" alt=\"{{data.filename}}\">\n    </div>\n    <div class=\"dj-details\">\n        <div class=\"dj-size\">\n            <span>\n                <strong>{{data.size}}</strong> {{data.size_unit}}\n            </span>\n        </div>\n        <div class=\"dj-filename\">\n            {{data.filename}}\n        </div>\n    </div>\n    <div class=\"dj-success-mark\">\n        <svg width=\"54px\" height=\"54px\" viewBox=\"0 0 54 54\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\"><title>Check</title><defs></defs><g id=\"Page-1\" stroke=\"none\" stroke-width=\"4\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\"><path d=\"M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\" id=\"Oval-2\" stroke-opacity=\"0.198794158\" stroke=\"#ffffff\" fill-opacity=\"0.816519475\" fill=\"#00bc00\" sketch:type=\"MSShapeGroup\"></path></g></svg>\n    </div>\n    <a href=\"javascript:void(0);\" class=\"dj-remove btn-remove-image-file\">\n        <svg width=\"54px\" height=\"54px\" viewBox=\"0 0 54 54\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\"><title>Xóa</title><defs></defs><g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\"><g id=\"Check-+-Oval-2\" sketch:type=\"MSLayerGroup\" stroke=\"#747474\" stroke-opacity=\"0.198794158\" fill=\"#FF0000\" fill-opacity=\"0.816519475\"><path d=\"M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\" id=\"Oval-2\" sketch:type=\"MSShapeGroup\"></path></g></g></svg>\n    </a>\n    <div class=\"dj-outer-filename\">\n        <span>\n            {{data.filename}}\n        </span>\n    </div>\n</div>","import {assignWithout, isArray, isObject} from '@app/_core/helpers/utils';\r\nimport * as THREE from 'three';\r\nimport Props from '../libs/props';\r\n\r\nconst GridHelper = {\r\n    addGrid: function (options?:any) {\r\n        var self = this;\r\n        var opt = typeof options == \"object\" ? options : {};\r\n        var params:any = {};\r\n        var t = String(opt.type || \"\").toLowerCase();\r\n        var grid = null;\r\n        if(t == \"polar\"){\r\n            params = Props.parseParams(opt.params || opt, {\r\n                radius : 10, radials : 16, circles : 8, divisions : 64, color1 : undefined, color2 : undefined\r\n            });\r\n            \r\n            grid = new THREE.PolarGridHelper( params.radius, params.radials, params.circles, params.divisionsl, params.color1, params.color2 );\r\n\r\n        }\r\n        else{\r\n            params = Props.parseParams(opt.params || opt, {\r\n                size : 16, divisions : 10, colorCenterLine : undefined, colorGrid : undefined\r\n            });\r\n            \r\n            grid = new THREE.GridHelper( params.size, params.divisions , params.colorCenterLine, params.colorGrid);\r\n        }\r\n        if(grid){\r\n            assignWithout(grid, opt.props || opt, ['parama', 'props', 'type'], params);\r\n            this.addToScene(grid, opt.handler || opt.updateHandler || opt.handlerData || opt.updateHandlerData);\r\n        }\r\n\r\n    },\r\n    addGrids: function addGrids(grids?:any) {\r\n        if (isArray(grids)) {\r\n            for (let index = 0; index < grids.length; index++) {\r\n                const grid = grids[index];\r\n                if (isObject(grid)) {\r\n                    this.addGrid(grid);\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n};\r\n\r\n\r\nexport default GridHelper;\r\n","import { Component, Output, EventEmitter, OnDestroy, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { assignValue, copyByList, isArray } from '@app/_core/helpers/utils';\nimport { PriVacyStatusOptions } from '@app/_store/form';\n\n\nimport { CategoryModel, CategoryService } from '@app/_store/category';\nimport { AppEditorStorageService } from '@app/_3D/services/app-editor-storage.service';\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\nimport { InpEvent } from '@app/_shared/shared.type';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\n\n@Component({\n    selector: 'app-tab-project-info',\n    templateUrl: './tab-project-info.component.html',\n    styleUrls: ['./tab-project-info.component.scss']\n})\nexport class TabProjectInfoComponent extends BaseComponent implements OnInit, OnDestroy {\n    info: any = {};\n    categories: CategoryModel[];\n    asyncForm: boolean = true;\n    mode: string = 'create';\n    categoryOptions: Array<{ label: string, value: any }> = [];\n    privacyStatusOptions: any = PriVacyStatusOptions.map(stt => ({ label: stt.label, value: stt.value }))\n    app: AppEditorService = null;\n    constructor(private storage: AppEditorStorageService, private events: AppEditorEventService, private cd: ChangeDetectorRef) {\n        super();\n        this.storage.onChange(\"info\", (data) => {\n            this.syncInfo(data);\n        }, true);\n\n\n        this.storage.onChange('categories', (categories) => {\n            this.updateCategories(categories);\n        }, true);\n\n        this.storage.onChange('editorMode', (mode) => {\n            this.mode = mode;\n        }, true);\n\n    }\n    \n    initOnce(){\n        this.app = this.events.app;\n     \n    }\n    init() {\n        if(this.isChangeSubEvents){\n            this.app = this.subEvents.app;\n        \n        }\n    \n        this.cd.detectChanges();\n    }\n    onDestroy(){\n        \n    }\n\n\n    updateCategories(categories: CategoryModel[] = []) {\n        this.categories = categories;\n        let a: any[] = []\n        for (let index = 0; index < categories.length; index++) {\n            const cat = categories[index];\n            a.push({ label: cat.name, value: cat.id })\n        }\n        this.categoryOptions = a;\n    }\n\n    syncInfo(data: any) {\n        this.info = copyByList(data, ['name', 'description', 'category_id', 'status', 'allow_custom']);\n    }\n    onInpChange(event: InpEvent) {\n        this.info[event.name] = event.value;\n        this.storage.info[event.name] = event.value;\n        this.app.updateInfo(this.info);\n    }\n}\n","<div class=\"tab-inner\">\n    <h2>{{ 'Info' | translate }}</h2>\n    <div class=\"store info-form\">\n        <ng-container *ngIf=\"asyncForm; then formTemplate; else waitTemplate\"></ng-container>\n        <ng-template #formTemplate>\n            <div class=\"inputs\">\n                <inp-text-group name=\"name\" label=\"Project Name\" [(value)]=\"info.name\" placeholder=\"Enter Name\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item-first\"></inp-text-group>\n                <inp-select-group name=\"category_id\" [(value)]=\"info.category_id\" [options]=\"categoryOptions\" label=\"Category\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item\"></inp-select-group>\n                <inp-textarea-group name=\"description\" [(value)]=\"info.description\" label=\"Description\" placeholder=\"Enter Description\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item\"></inp-textarea-group>\n                <inp-radio-group name=\"status\" [(value)]=\"info.status\" [options]=\"privacyStatusOptions\" label=\"Status\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item\"></inp-radio-group>\n                <inp-switch-group name=\"allow_custom\" [(value)]=\"info.allow_custom\" label=\"Allow Custom in View\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item\"></inp-switch-group>\n                \n            </div>\n        </ng-template>\n        <ng-template #waitTemplate>\n            <div class=\"sys-alert\">\n                <h2>Vui lòng chờ...</h2>\n            </div>\n        </ng-template>\n\n    </div>\n\n</div>","import {\r\n\tMathUtils,\r\n\tSpherical,\r\n\tVector3\r\n} from 'three';\r\n\r\nconst _lookDirection = new Vector3();\r\nconst _spherical = new Spherical();\r\nconst _target = new Vector3();\r\n\r\nclass FirstPersonControls {\r\n\r\n\tconstructor( object, domElement ) {\r\n\r\n\t\tif ( domElement === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.FirstPersonControls: The second parameter \"domElement\" is now mandatory.' );\r\n\t\t\tdomElement = document;\r\n\r\n\t\t}\r\n\r\n\t\tthis.object = object;\r\n\t\tthis.domElement = domElement;\r\n\r\n\t\t// API\r\n\r\n\t\tthis.enabled = true;\r\n\r\n\t\tthis.movementSpeed = 1.0;\r\n\t\tthis.lookSpeed = 0.005;\r\n\r\n\t\tthis.lookVertical = true;\r\n\t\tthis.autoForward = false;\r\n\r\n\t\tthis.activeLook = true;\r\n\r\n\t\tthis.heightSpeed = false;\r\n\t\tthis.heightCoef = 1.0;\r\n\t\tthis.heightMin = 0.0;\r\n\t\tthis.heightMax = 1.0;\r\n\r\n\t\tthis.constrainVertical = false;\r\n\t\tthis.verticalMin = 0;\r\n\t\tthis.verticalMax = Math.PI;\r\n\r\n\t\tthis.mouseDragOn = false;\r\n\r\n\t\t// internals\r\n\r\n\t\tthis.autoSpeedFactor = 0.0;\r\n\r\n\t\tthis.mouseX = 0;\r\n\t\tthis.mouseY = 0;\r\n\r\n\t\tthis.moveForward = false;\r\n\t\tthis.moveBackward = false;\r\n\t\tthis.moveLeft = false;\r\n\t\tthis.moveRight = false;\r\n\r\n\t\tthis.viewHalfX = 0;\r\n\t\tthis.viewHalfY = 0;\r\n\r\n\t\t// private variables\r\n\r\n\t\tlet lat = 0;\r\n\t\tlet lon = 0;\r\n\r\n\t\t//\r\n\r\n\t\tthis.handleResize = function () {\r\n\r\n\t\t\tif ( this.domElement === document ) {\r\n\r\n\t\t\t\tthis.viewHalfX = window.innerWidth / 2;\r\n\t\t\t\tthis.viewHalfY = window.innerHeight / 2;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.viewHalfX = this.domElement.offsetWidth / 2;\r\n\t\t\t\tthis.viewHalfY = this.domElement.offsetHeight / 2;\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tthis.onMouseDown = function ( event ) {\r\n\r\n\t\t\tif ( this.domElement !== document ) {\r\n\r\n\t\t\t\tthis.domElement.focus();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.activeLook ) {\r\n\r\n\t\t\t\tswitch ( event.button ) {\r\n\r\n\t\t\t\t\tcase 0: this.moveForward = true; break;\r\n\t\t\t\t\tcase 2: this.moveBackward = true; break;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.mouseDragOn = true;\r\n\r\n\t\t};\r\n\r\n\t\tthis.onMouseUp = function ( event ) {\r\n\r\n\t\t\tif ( this.activeLook ) {\r\n\r\n\t\t\t\tswitch ( event.button ) {\r\n\r\n\t\t\t\t\tcase 0: this.moveForward = false; break;\r\n\t\t\t\t\tcase 2: this.moveBackward = false; break;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.mouseDragOn = false;\r\n\r\n\t\t};\r\n\r\n\t\tthis.onMouseMove = function ( event ) {\r\n\r\n\t\t\tif ( this.domElement === document ) {\r\n\r\n\t\t\t\tthis.mouseX = event.pageX - this.viewHalfX;\r\n\t\t\t\tthis.mouseY = event.pageY - this.viewHalfY;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.mouseX = event.pageX - this.domElement.offsetLeft - this.viewHalfX;\r\n\t\t\t\tthis.mouseY = event.pageY - this.domElement.offsetTop - this.viewHalfY;\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tthis.onKeyDown = function ( event ) {\r\n\r\n\t\t\tswitch ( event.code ) {\r\n\r\n\t\t\t\tcase 'ArrowUp':\r\n\t\t\t\tcase 'KeyW': this.moveForward = true; break;\r\n\r\n\t\t\t\tcase 'ArrowLeft':\r\n\t\t\t\tcase 'KeyA': this.moveLeft = true; break;\r\n\r\n\t\t\t\tcase 'ArrowDown':\r\n\t\t\t\tcase 'KeyS': this.moveBackward = true; break;\r\n\r\n\t\t\t\tcase 'ArrowRight':\r\n\t\t\t\tcase 'KeyD': this.moveRight = true; break;\r\n\r\n\t\t\t\tcase 'KeyR': this.moveUp = true; break;\r\n\t\t\t\tcase 'KeyF': this.moveDown = true; break;\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tthis.onKeyUp = function ( event ) {\r\n\r\n\t\t\tswitch ( event.code ) {\r\n\r\n\t\t\t\tcase 'ArrowUp':\r\n\t\t\t\tcase 'KeyW': this.moveForward = false; break;\r\n\r\n\t\t\t\tcase 'ArrowLeft':\r\n\t\t\t\tcase 'KeyA': this.moveLeft = false; break;\r\n\r\n\t\t\t\tcase 'ArrowDown':\r\n\t\t\t\tcase 'KeyS': this.moveBackward = false; break;\r\n\r\n\t\t\t\tcase 'ArrowRight':\r\n\t\t\t\tcase 'KeyD': this.moveRight = false; break;\r\n\r\n\t\t\t\tcase 'KeyR': this.moveUp = false; break;\r\n\t\t\t\tcase 'KeyF': this.moveDown = false; break;\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tthis.lookAt = function ( x, y, z ) {\r\n\r\n\t\t\tif ( x.isVector3 ) {\r\n\r\n\t\t\t\t_target.copy( x );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_target.set( x, y, z );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.object.lookAt( _target );\r\n\r\n\t\t\tsetOrientation( this );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t\tthis.update = function () {\r\n\r\n\t\t\tconst targetPosition = new Vector3();\r\n\r\n\t\t\treturn function update( delta ) {\r\n\r\n\t\t\t\tif ( this.enabled === false ) return;\r\n\r\n\t\t\t\tif ( this.heightSpeed ) {\r\n\r\n\t\t\t\t\tconst y = MathUtils.clamp( this.object.position.y, this.heightMin, this.heightMax );\r\n\t\t\t\t\tconst heightDelta = y - this.heightMin;\r\n\r\n\t\t\t\t\tthis.autoSpeedFactor = delta * ( heightDelta * this.heightCoef );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis.autoSpeedFactor = 0.0;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst actualMoveSpeed = delta * this.movementSpeed;\r\n\r\n\t\t\t\tif ( this.moveForward || ( this.autoForward && ! this.moveBackward ) ) this.object.translateZ( - ( actualMoveSpeed + this.autoSpeedFactor ) );\r\n\t\t\t\tif ( this.moveBackward ) this.object.translateZ( actualMoveSpeed );\r\n\r\n\t\t\t\tif ( this.moveLeft ) this.object.translateX( - actualMoveSpeed );\r\n\t\t\t\tif ( this.moveRight ) this.object.translateX( actualMoveSpeed );\r\n\r\n\t\t\t\tif ( this.moveUp ) this.object.translateY( actualMoveSpeed );\r\n\t\t\t\tif ( this.moveDown ) this.object.translateY( - actualMoveSpeed );\r\n\r\n\t\t\t\tlet actualLookSpeed = delta * this.lookSpeed;\r\n\r\n\t\t\t\tif ( ! this.activeLook ) {\r\n\r\n\t\t\t\t\tactualLookSpeed = 0;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet verticalLookRatio = 1;\r\n\r\n\t\t\t\tif ( this.constrainVertical ) {\r\n\r\n\t\t\t\t\tverticalLookRatio = Math.PI / ( this.verticalMax - this.verticalMin );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlon -= this.mouseX * actualLookSpeed;\r\n\t\t\t\tif ( this.lookVertical ) lat -= this.mouseY * actualLookSpeed * verticalLookRatio;\r\n\r\n\t\t\t\tlat = Math.max( - 85, Math.min( 85, lat ) );\r\n\r\n\t\t\t\tlet phi = MathUtils.degToRad( 90 - lat );\r\n\t\t\t\tconst theta = MathUtils.degToRad( lon );\r\n\r\n\t\t\t\tif ( this.constrainVertical ) {\r\n\r\n\t\t\t\t\tphi = MathUtils.mapLinear( phi, 0, Math.PI, this.verticalMin, this.verticalMax );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst position = this.object.position;\r\n\r\n\t\t\t\ttargetPosition.setFromSphericalCoords( 1, phi, theta ).add( position );\r\n\r\n\t\t\t\tthis.object.lookAt( targetPosition );\r\n\r\n\t\t\t};\r\n\r\n\t\t}();\r\n\r\n\t\tthis.dispose = function () {\r\n\r\n\t\t\tthis.domElement.removeEventListener( 'contextmenu', contextmenu );\r\n\t\t\tthis.domElement.removeEventListener( 'mousedown', _onMouseDown );\r\n\t\t\tthis.domElement.removeEventListener( 'mousemove', _onMouseMove );\r\n\t\t\tthis.domElement.removeEventListener( 'mouseup', _onMouseUp );\r\n\r\n\t\t\twindow.removeEventListener( 'keydown', _onKeyDown );\r\n\t\t\twindow.removeEventListener( 'keyup', _onKeyUp );\r\n\r\n\t\t};\r\n\r\n\t\tconst _onMouseMove = this.onMouseMove.bind( this );\r\n\t\tconst _onMouseDown = this.onMouseDown.bind( this );\r\n\t\tconst _onMouseUp = this.onMouseUp.bind( this );\r\n\t\tconst _onKeyDown = this.onKeyDown.bind( this );\r\n\t\tconst _onKeyUp = this.onKeyUp.bind( this );\r\n\r\n\t\tthis.domElement.addEventListener( 'contextmenu', contextmenu );\r\n\t\tthis.domElement.addEventListener( 'mousemove', _onMouseMove );\r\n\t\tthis.domElement.addEventListener( 'mousedown', _onMouseDown );\r\n\t\tthis.domElement.addEventListener( 'mouseup', _onMouseUp );\r\n\r\n\t\twindow.addEventListener( 'keydown', _onKeyDown );\r\n\t\twindow.addEventListener( 'keyup', _onKeyUp );\r\n\r\n\t\tfunction setOrientation( controls ) {\r\n\r\n\t\t\tconst quaternion = controls.object.quaternion;\r\n\r\n\t\t\t_lookDirection.set( 0, 0, - 1 ).applyQuaternion( quaternion );\r\n\t\t\t_spherical.setFromVector3( _lookDirection );\r\n\r\n\t\t\tlat = 90 - MathUtils.radToDeg( _spherical.phi );\r\n\t\t\tlon = MathUtils.radToDeg( _spherical.theta );\r\n\r\n\t\t}\r\n\r\n\t\tthis.handleResize();\r\n\r\n\t\tsetOrientation( this );\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction contextmenu( event ) {\r\n\r\n\tevent.preventDefault();\r\n\r\n}\r\n\r\nexport { FirstPersonControls };\r\n","import { Component, Output, EventEmitter, OnDestroy, OnInit } from '@angular/core';\r\nimport { assignValue, copyByList, isArray } from '@app/_core/helpers/utils';\r\nimport { PriVacyStatusOptions } from '@app/_store/form';\r\n\r\n\r\nimport { CategoryModel, CategoryService } from '@app/_store/category';\r\nimport { AppEditorStorageService } from '@app/_3D/services/app-editor-storage.service';\r\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\r\nimport { InpEvent } from '@app/_shared/shared.type';\r\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\r\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\r\n\r\n@Component({\r\n    selector: 'app-tab-editor-info',\r\n    templateUrl: './tab-info.component.html',\r\n    styleUrls: ['./tab-info.component.scss'],\r\n})\r\nexport class TabEditorInfoComponent extends BaseComponent implements OnInit, OnDestroy {\r\n    info: any = {};\r\n    categories: CategoryModel[];\r\n    asyncForm: boolean = true;\r\n    mode: string = 'create';\r\n    categoryOptions: Array<{label:string, value: any}> = [];\r\n    privacyStatusOptions: any = PriVacyStatusOptions.map(stt => ({label:stt.label, value:stt.value}))\r\n    app: AppEditorService = null;\r\n    constructor(private storage: AppEditorStorageService, private events: AppEditorEventService) {\r\n        super();\r\n        this.storage.onChange(\"info\", (data) => {\r\n            this.syncInfo(data);\r\n        }, true);\r\n        \r\n\r\n        this.storage.onChange('categories', (categories) => {\r\n            this.updateCategories(categories);\r\n        }, true);\r\n\r\n        this.storage.onChange('editorMode', (mode) => {\r\n            this.mode = mode;\r\n        }, true);\r\n\r\n    }\r\n\r\n    \r\n    initOnce(){\r\n        this.app = this.events.app;\r\n     \r\n    }\r\n    init() {\r\n        if(this.isChangeSubEvents){\r\n            this.app = this.subEvents.app;\r\n        }\r\n    }\r\n    destroy(){\r\n        \r\n    }\r\n\r\n\r\n    \r\n    \r\n    \r\n    updateCategories(categories: CategoryModel[] = []) {\r\n        this.categories = categories;\r\n        let a : any[] = []\r\n        for (let index = 0; index < categories.length; index++) {\r\n            const cat = categories[index];\r\n            a.push({label: cat.name, value: cat.id})\r\n        }\r\n        this.categoryOptions = a;\r\n    }\r\n\r\n    syncInfo(data: any) {\r\n        this.info = copyByList(data, ['name', 'description', 'category_id', 'status']);\r\n    }\r\n    onInpChange(event: InpEvent){\r\n        this.info[event.name] = event.value;\r\n        this.app.updateInfo(this.info);\r\n    }\r\n}\r\n","<div class=\"tab-inner\">\r\n    <h2>{{ 'Info' | translate }}</h2>\r\n    <div class=\"store info-form\">\r\n        <ng-container *ngIf=\"asyncForm; then formTemplate; else waitTemplate\"></ng-container>\r\n        <ng-template #formTemplate>\r\n            <div class=\"inputs\">\r\n                <inp-text-group name=\"name\" label=\"Item Name\" [(value)]=\"info.name\" placeholder=\"Enter Name\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item-first\"></inp-text-group>\r\n                <inp-select-group name=\"category_id\" [(value)]=\"info.category_id\" [options]=\"categoryOptions\" label=\"Category\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item\"></inp-select-group>\r\n                <inp-radio-group name=\"status\" [(value)]=\"info.status\" [options]=\"privacyStatusOptions\" label=\"Status\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item\"></inp-radio-group>\r\n                <inp-textarea-group name=\"description\" [(value)]=\"info.description\" label=\"Description\" placeholder=\"Enter Description\" (subcribe)=\"onInpChange($event)\" class=\"inp-group-item\"></inp-textarea-group>\r\n            </div>\r\n        </ng-template>\r\n        <ng-template #waitTemplate>\r\n            <div class=\"sys-alert\">\r\n                <h2>Vui lòng chờ...</h2>\r\n            </div>\r\n        </ng-template>\r\n\r\n    </div>\r\n\r\n</div>","import { Injectable } from '@angular/core';\r\nimport { Router, CanActivate } from '@angular/router';\r\n\r\nimport { SettingService } from '../services';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthGuard implements CanActivate {\r\n  constructor(private router: Router, private settingService: SettingService) {}\r\n\r\n  canActivate() {\r\n    const auth = this.settingService.auth;\r\n    if (auth && typeof auth.accessToken === 'string') {\r\n      return true;\r\n    }\r\n\r\n    this.router.navigate(['/auth/login']);\r\n    return false;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { App, Layout, SettingsNotify } from './setting.model';\r\nimport { User } from '@app/auth/models';\r\n\r\nexport const LAYOUT = 'layout';\r\n\r\nexport const USER = 'user';\r\n\r\nexport const APP = 'app';\r\n\r\nexport const ROLES = 'roles';\r\n\r\nexport const PATHS = 'paths';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class SettingService {\r\n  private notify$ = new Subject<SettingsNotify>();\r\n\r\n  private appIn: App;\r\n  private userIn: { user: User; accessToken: string; expiresIn: string };\r\n\r\n  private layoutIn: Layout;\r\n  \r\n  private rolesIn: Array<string>;\r\n  private pathsIn: Set<string>;\r\n\r\n  urls = {\r\n    login: '/auth/login',\r\n  };\r\n\r\n  constructor() {}\r\n\r\n  private get(key: string) {\r\n    return JSON.parse(localStorage.getItem(key) || 'null') || null;\r\n  }\r\n\r\n  private set(key: string, value: any) {\r\n    localStorage.setItem(key, JSON.stringify(value));\r\n  }\r\n\r\n  private remove(key: string) {\r\n    localStorage.removeItem(key);\r\n  }\r\n\r\n  get layout(): Layout {\r\n    if (!this.layoutIn) {\r\n      this.layoutIn = {\r\n        fixed: true,\r\n        collapsed: false,\r\n        boxed: false,\r\n        lang: null,\r\n        ...this.get(LAYOUT),\r\n      };\r\n      this.set(LAYOUT, this.layoutIn);\r\n    }\r\n    return this.layoutIn as Layout;\r\n  }\r\n\r\n  get roles(): Array<string> {\r\n    if (!this.rolesIn) {\r\n      this.rolesIn = this.get(ROLES);\r\n      this.set(ROLES, this.rolesIn);\r\n    }\r\n    return this.rolesIn;\r\n  }\r\n\r\n  get paths(): Set<string> {\r\n    if (!this.pathsIn) {\r\n      this.pathsIn = new Set(this.get(PATHS));\r\n      this.set(PATHS, this.pathsIn);\r\n    }\r\n    return this.pathsIn;\r\n  }\r\n\r\n  get app(): App {\r\n    if (!this.appIn) {\r\n      this.appIn = {\r\n        year: new Date().getFullYear(),\r\n        ...this.get(APP),\r\n      };\r\n      this.set(APP, this.appIn);\r\n    }\r\n    return this.appIn as App;\r\n  }\r\n\r\n  get user(): User {\r\n    if (!this.userIn) {\r\n      this.userIn = { ...this.get(USER) };\r\n      this.set(USER, this.userIn);\r\n    }\r\n    return this.userIn.user as User;\r\n  }\r\n\r\n  get auth(): { accessToken: string; refeshToken: string; expiresIn: string } {\r\n    if (!this.userIn) {\r\n      this.userIn = { ...this.get(USER) };\r\n      this.set(USER, this.userIn);\r\n    }\r\n    return {\r\n      accessToken: this.userIn.accessToken,\r\n      refeshToken: this.userIn.accessToken,\r\n      expiresIn: this.userIn.expiresIn,\r\n    };\r\n  }\r\n\r\n  get notify(): Observable<SettingsNotify> {\r\n    return this.notify$.asObservable();\r\n  }\r\n\r\n  setLayout(name: string | Layout, value?: any): boolean {\r\n    if (typeof name === 'string') {\r\n      this.layout[name] = value;\r\n    } else {\r\n      this.layoutIn = name;\r\n    }\r\n    this.set(LAYOUT, this.layoutIn);\r\n    this.notify$.next({ type: 'layout', name, value } as any);\r\n    return true;\r\n  }\r\n\r\n  setApp(value: App) {\r\n    this.appIn = value;\r\n    this.set(APP, value);\r\n    this.notify$.next({ type: 'app', value });\r\n    return true;\r\n  }\r\n\r\n  setUser(value: any) {\r\n    if (value === null) {\r\n      this.remove(USER);\r\n      return true;\r\n    }\r\n\r\n    this.userIn = value;\r\n    this.set(USER, value);\r\n    this.notify$.next({ type: 'user', value });\r\n    return true;\r\n  }\r\n\r\n  setRoles(value: Array<string>) {\r\n    if (value === null) {\r\n      this.remove(ROLES);\r\n      return true;\r\n    }\r\n\r\n    this.rolesIn = value;\r\n    this.set(ROLES, value);\r\n    this.notify$.next({ type: ROLES, value });\r\n    return true;\r\n  }\r\n\r\n  setPaths(value: Array<string>) {\r\n    if (value === null) {\r\n      this.remove(PATHS);\r\n      return true;\r\n    }\r\n\r\n    this.pathsIn = new Set(value);\r\n    this.set(PATHS, value);\r\n    this.notify$.next({ type: PATHS, value });\r\n    return true;\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\n\n@Component({\n  selector: 'app-tab-controls',\n  templateUrl: './tab-controls.component.html',\n  styleUrls: ['./tab-controls.component.scss']\n})\nexport class TabControlsComponent extends BaseComponent implements OnInit {\n  \n  constructor(\n  ) {\n    super();\n  }\n\n  \n}\n","<div class=\"tab-inner\">\n    <h2>{{ 'Camera & Controls' | translate }}</h2>\n    <nz-tabset nzTabPosition=\"top\" nzType=\"line\" class=\"sub-tab\">\n\n        <nz-tab [nzTitle]=\"iconCamera\">\n          <ng-template #iconCamera>\n            <img src=\"/assets/icons/new-design/tab-sub/camera.svg\" alt=\"Camera\" />\n            <div>Camera</div>\n          </ng-template>\n          <app-tab-camera class=\"tab-camera\"></app-tab-camera>\n        </nz-tab>\n    \n        <nz-tab [nzTitle]=\"iconControl\">\n          <ng-template #iconControl>\n            <img src=\"/assets/icons/new-design/tab-sub/control.svg\" alt=\"Controls\" />\n            <div>Controls</div>\n          </ng-template>\n          <ng-template nz-tab>\n            <app-tab-control></app-tab-control>\n          </ng-template>\n        </nz-tab>\n\n      </nz-tabset>\n\n</div>","import {\r\n\tEventDispatcher,\r\n\tMOUSE,\r\n\tQuaternion,\r\n\tSpherical,\r\n\tTOUCH,\r\n\tVector2,\r\n\tVector3\r\n} from 'three';\r\n\r\n// This set of controls performs orbiting, dollying (zooming), and panning.\r\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\r\n//\r\n//    Orbit - left mouse / touch: one-finger move\r\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\r\n\r\nconst _changeEvent = { type: 'change' };\r\nconst _startEvent = { type: 'start' };\r\nconst _endEvent = { type: 'end' };\r\n\r\nclass OrbitControls extends EventDispatcher {\r\n\r\n\tconstructor( object, domElement ) {\r\n\r\n\t\tsuper();\r\n\r\n\t\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\r\n\t\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\r\n\r\n\t\tthis.object = object;\r\n\t\tthis.domElement = domElement;\r\n\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\r\n\r\n\t\t// Set to false to disable this control\r\n\t\tthis.enabled = true;\r\n\r\n\t\t// \"target\" sets the location of focus, where the object orbits around\r\n\t\tthis.target = new Vector3();\r\n\r\n\t\t// How far you can dolly in and out ( PerspectiveCamera only )\r\n\t\tthis.minDistance = 0;\r\n\t\tthis.maxDistance = Infinity;\r\n\r\n\t\t// How far you can zoom in and out ( OrthographicCamera only )\r\n\t\tthis.minZoom = 0;\r\n\t\tthis.maxZoom = Infinity;\r\n\r\n\t\t// How far you can orbit vertically, upper and lower limits.\r\n\t\t// Range is 0 to Math.PI radians.\r\n\t\tthis.minPolarAngle = 0; // radians\r\n\t\tthis.maxPolarAngle = Math.PI; // radians\r\n\r\n\t\t// How far you can orbit horizontally, upper and lower limits.\r\n\t\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\r\n\t\tthis.minAzimuthAngle = - Infinity; // radians\r\n\t\tthis.maxAzimuthAngle = Infinity; // radians\r\n\r\n\t\t// Set to true to enable damping (inertia)\r\n\t\t// If damping is enabled, you must call controls.update() in your animation loop\r\n\t\tthis.enableDamping = false;\r\n\t\tthis.dampingFactor = 0.05;\r\n\r\n\t\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\r\n\t\t// Set to false to disable zooming\r\n\t\tthis.enableZoom = true;\r\n\t\tthis.zoomSpeed = 1.0;\r\n\r\n\t\t// Set to false to disable rotating\r\n\t\tthis.enableRotate = true;\r\n\t\tthis.rotateSpeed = 1.0;\r\n\r\n\t\t// Set to false to disable panning\r\n\t\tthis.enablePan = true;\r\n\t\tthis.panSpeed = 1.0;\r\n\t\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\r\n\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\r\n\r\n\t\t// Set to true to automatically rotate around the target\r\n\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\r\n\t\tthis.autoRotate = false;\r\n\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\r\n\r\n\t\t// The four arrow keys\r\n\t\tthis.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };\r\n\r\n\t\t// Mouse buttons\r\n\t\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\r\n\r\n\t\t// Touch fingers\r\n\t\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\r\n\r\n\t\t// for reset\r\n\t\tthis.target0 = this.target.clone();\r\n\t\tthis.position0 = this.object.position.clone();\r\n\t\tthis.zoom0 = this.object.zoom;\r\n\r\n\t\t// the target DOM element for key events\r\n\t\tthis._domElementKeyEvents = null;\r\n\r\n\t\t//\r\n\t\t// public methods\r\n\t\t//\r\n\r\n\t\tthis.getPolarAngle = function () {\r\n\r\n\t\t\treturn spherical.phi;\r\n\r\n\t\t};\r\n\r\n\t\tthis.getAzimuthalAngle = function () {\r\n\r\n\t\t\treturn spherical.theta;\r\n\r\n\t\t};\r\n\r\n\t\tthis.getDistance = function () {\r\n\r\n\t\t\treturn this.object.position.distanceTo( this.target );\r\n\r\n\t\t};\r\n\r\n\t\tthis.listenToKeyEvents = function ( domElement ) {\r\n\r\n\t\t\tdomElement.addEventListener( 'keydown', onKeyDown );\r\n\t\t\tthis._domElementKeyEvents = domElement;\r\n\r\n\t\t};\r\n\r\n\t\tthis.saveState = function () {\r\n\r\n\t\t\tscope.target0.copy( scope.target );\r\n\t\t\tscope.position0.copy( scope.object.position );\r\n\t\t\tscope.zoom0 = scope.object.zoom;\r\n\r\n\t\t};\r\n\r\n\t\tthis.reset = function () {\r\n\r\n\t\t\tscope.target.copy( scope.target0 );\r\n\t\t\tscope.object.position.copy( scope.position0 );\r\n\t\t\tscope.object.zoom = scope.zoom0;\r\n\r\n\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\tscope.dispatchEvent( _changeEvent );\r\n\r\n\t\t\tscope.update();\r\n\r\n\t\t\tstate = STATE.NONE;\r\n\r\n\t\t};\r\n\r\n\t\t// this method is exposed, but perhaps it would be better if we can make it private...\r\n\t\tthis.update = function () {\r\n\r\n\t\t\tconst offset = new Vector3();\r\n\r\n\t\t\t// so camera.up is the orbit axis\r\n\t\t\tconst quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\r\n\t\t\tconst quatInverse = quat.clone().invert();\r\n\r\n\t\t\tconst lastPosition = new Vector3();\r\n\t\t\tconst lastQuaternion = new Quaternion();\r\n\r\n\t\t\tconst twoPI = 2 * Math.PI;\r\n\r\n\t\t\treturn function update() {\r\n\r\n\t\t\t\tconst position = scope.object.position;\r\n\r\n\t\t\t\toffset.copy( position ).sub( scope.target );\r\n\r\n\t\t\t\t// rotate offset to \"y-axis-is-up\" space\r\n\t\t\t\toffset.applyQuaternion( quat );\r\n\r\n\t\t\t\t// angle from z-axis around y-axis\r\n\t\t\t\tspherical.setFromVector3( offset );\r\n\r\n\t\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\r\n\r\n\t\t\t\t\trotateLeft( getAutoRotationAngle() );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( scope.enableDamping ) {\r\n\r\n\t\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\r\n\t\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tspherical.theta += sphericalDelta.theta;\r\n\t\t\t\t\tspherical.phi += sphericalDelta.phi;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// restrict theta to be between desired limits\r\n\r\n\t\t\t\tlet min = scope.minAzimuthAngle;\r\n\t\t\t\tlet max = scope.maxAzimuthAngle;\r\n\r\n\t\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\r\n\r\n\t\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\r\n\r\n\t\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\r\n\r\n\t\t\t\t\tif ( min <= max ) {\r\n\r\n\t\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\r\n\t\t\t\t\t\t\tMath.max( min, spherical.theta ) :\r\n\t\t\t\t\t\t\tMath.min( max, spherical.theta );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// restrict phi to be between desired limits\r\n\t\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\r\n\r\n\t\t\t\tspherical.makeSafe();\r\n\r\n\r\n\t\t\t\tspherical.radius *= scale;\r\n\r\n\t\t\t\t// restrict radius to be between desired limits\r\n\t\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\r\n\r\n\t\t\t\t// move target to panned location\r\n\r\n\t\t\t\tif ( scope.enableDamping === true ) {\r\n\r\n\t\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tscope.target.add( panOffset );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\toffset.setFromSpherical( spherical );\r\n\r\n\t\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\r\n\t\t\t\toffset.applyQuaternion( quatInverse );\r\n\r\n\t\t\t\tposition.copy( scope.target ).add( offset );\r\n\r\n\t\t\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\t\t\tif ( scope.enableDamping === true ) {\r\n\r\n\t\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\r\n\t\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\r\n\r\n\t\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tsphericalDelta.set( 0, 0, 0 );\r\n\r\n\t\t\t\t\tpanOffset.set( 0, 0, 0 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscale = 1;\r\n\r\n\t\t\t\t// update condition is:\r\n\t\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\r\n\t\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\r\n\r\n\t\t\t\tif ( zoomChanged ||\r\n\t\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\r\n\t\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\r\n\r\n\t\t\t\t\tscope.dispatchEvent( _changeEvent );\r\n\r\n\t\t\t\t\tlastPosition.copy( scope.object.position );\r\n\t\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\r\n\t\t\t\t\tzoomChanged = false;\r\n\r\n\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t};\r\n\r\n\t\t}();\r\n\r\n\t\tthis.dispose = function () {\r\n\r\n\t\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu );\r\n\r\n\t\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\r\n\t\t\tscope.domElement.removeEventListener( 'pointercancel', onPointerCancel );\r\n\t\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\r\n\r\n\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\r\n\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\r\n\r\n\r\n\t\t\tif ( scope._domElementKeyEvents !== null ) {\r\n\r\n\t\t\t\tscope._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\r\n\r\n\t\t};\r\n\r\n\t\t//\r\n\t\t// internals\r\n\t\t//\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\tconst STATE = {\r\n\t\t\tNONE: - 1,\r\n\t\t\tROTATE: 0,\r\n\t\t\tDOLLY: 1,\r\n\t\t\tPAN: 2,\r\n\t\t\tTOUCH_ROTATE: 3,\r\n\t\t\tTOUCH_PAN: 4,\r\n\t\t\tTOUCH_DOLLY_PAN: 5,\r\n\t\t\tTOUCH_DOLLY_ROTATE: 6\r\n\t\t};\r\n\r\n\t\tlet state = STATE.NONE;\r\n\r\n\t\tconst EPS = 0.000001;\r\n\r\n\t\t// current position in spherical coordinates\r\n\t\tconst spherical = new Spherical();\r\n\t\tconst sphericalDelta = new Spherical();\r\n\r\n\t\tlet scale = 1;\r\n\t\tconst panOffset = new Vector3();\r\n\t\tlet zoomChanged = false;\r\n\r\n\t\tconst rotateStart = new Vector2();\r\n\t\tconst rotateEnd = new Vector2();\r\n\t\tconst rotateDelta = new Vector2();\r\n\r\n\t\tconst panStart = new Vector2();\r\n\t\tconst panEnd = new Vector2();\r\n\t\tconst panDelta = new Vector2();\r\n\r\n\t\tconst dollyStart = new Vector2();\r\n\t\tconst dollyEnd = new Vector2();\r\n\t\tconst dollyDelta = new Vector2();\r\n\r\n\t\tconst pointers = [];\r\n\t\tconst pointerPositions = {};\r\n\r\n\t\tfunction getAutoRotationAngle() {\r\n\r\n\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\r\n\r\n\t\t}\r\n\r\n\t\tfunction getZoomScale() {\r\n\r\n\t\t\treturn Math.pow( 0.95, scope.zoomSpeed );\r\n\r\n\t\t}\r\n\r\n\t\tfunction rotateLeft( angle ) {\r\n\r\n\t\t\tsphericalDelta.theta -= angle;\r\n\r\n\t\t}\r\n\r\n\t\tfunction rotateUp( angle ) {\r\n\r\n\t\t\tsphericalDelta.phi -= angle;\r\n\r\n\t\t}\r\n\r\n\t\tconst panLeft = function () {\r\n\r\n\t\t\tconst v = new Vector3();\r\n\r\n\t\t\treturn function panLeft( distance, objectMatrix ) {\r\n\r\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\r\n\t\t\t\tv.multiplyScalar( - distance );\r\n\r\n\t\t\t\tpanOffset.add( v );\r\n\r\n\t\t\t};\r\n\r\n\t\t}();\r\n\r\n\t\tconst panUp = function () {\r\n\r\n\t\t\tconst v = new Vector3();\r\n\r\n\t\t\treturn function panUp( distance, objectMatrix ) {\r\n\r\n\t\t\t\tif ( scope.screenSpacePanning === true ) {\r\n\r\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\r\n\t\t\t\t\tv.crossVectors( scope.object.up, v );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tv.multiplyScalar( distance );\r\n\r\n\t\t\t\tpanOffset.add( v );\r\n\r\n\t\t\t};\r\n\r\n\t\t}();\r\n\r\n\t\t// deltaX and deltaY are in pixels; right and down are positive\r\n\t\tconst pan = function () {\r\n\r\n\t\t\tconst offset = new Vector3();\r\n\r\n\t\t\treturn function pan( deltaX, deltaY ) {\r\n\r\n\t\t\t\tconst element = scope.domElement;\r\n\r\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\t\t\t// perspective\r\n\t\t\t\t\tconst position = scope.object.position;\r\n\t\t\t\t\toffset.copy( position ).sub( scope.target );\r\n\t\t\t\t\tlet targetDistance = offset.length();\r\n\r\n\t\t\t\t\t// half of the fov is center to top of screen\r\n\t\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\r\n\r\n\t\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\r\n\t\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\r\n\t\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\t\t// orthographic\r\n\t\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\r\n\t\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// camera neither orthographic nor perspective\r\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\r\n\t\t\t\t\tscope.enablePan = false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t};\r\n\r\n\t\t}();\r\n\r\n\t\tfunction dollyOut( dollyScale ) {\r\n\r\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\t\tscale /= dollyScale;\r\n\r\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\r\n\t\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\t\tzoomChanged = true;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\t\tscope.enableZoom = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction dollyIn( dollyScale ) {\r\n\r\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\t\tscale *= dollyScale;\r\n\r\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\r\n\t\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\t\tzoomChanged = true;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\t\tscope.enableZoom = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\t\t// event callbacks - update the object state\r\n\t\t//\r\n\r\n\t\tfunction handleMouseDownRotate( event ) {\r\n\r\n\t\t\trotateStart.set( event.clientX, event.clientY );\r\n\r\n\t\t}\r\n\r\n\t\tfunction handleMouseDownDolly( event ) {\r\n\r\n\t\t\tdollyStart.set( event.clientX, event.clientY );\r\n\r\n\t\t}\r\n\r\n\t\tfunction handleMouseDownPan( event ) {\r\n\r\n\t\t\tpanStart.set( event.clientX, event.clientY );\r\n\r\n\t\t}\r\n\r\n\t\tfunction handleMouseMoveRotate( event ) {\r\n\r\n\t\t\trotateEnd.set( event.clientX, event.clientY );\r\n\r\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\r\n\r\n\t\t\tconst element = scope.domElement;\r\n\r\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\r\n\r\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\r\n\r\n\t\t\trotateStart.copy( rotateEnd );\r\n\r\n\t\t\tscope.update();\r\n\r\n\t\t}\r\n\r\n\t\tfunction handleMouseMoveDolly( event ) {\r\n\r\n\t\t\tdollyEnd.set( event.clientX, event.clientY );\r\n\r\n\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\r\n\r\n\t\t\tif ( dollyDelta.y > 0 ) {\r\n\r\n\t\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t\t} else if ( dollyDelta.y < 0 ) {\r\n\r\n\t\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t\t\tscope.update();\r\n\r\n\t\t}\r\n\r\n\t\tfunction handleMouseMovePan( event ) {\r\n\r\n\t\t\tpanEnd.set( event.clientX, event.clientY );\r\n\r\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\r\n\r\n\t\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\t\tpanStart.copy( panEnd );\r\n\r\n\t\t\tscope.update();\r\n\r\n\t\t}\r\n\r\n\t\tfunction handleMouseUp( /*event*/ ) {\r\n\r\n\t\t\t// no-op\r\n\r\n\t\t}\r\n\r\n\t\tfunction handleMouseWheel( event ) {\r\n\r\n\t\t\tif ( event.deltaY < 0 ) {\r\n\r\n\t\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t\t} else if ( event.deltaY > 0 ) {\r\n\r\n\t\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tscope.update();\r\n\r\n\t\t}\r\n\r\n\t\tfunction handleKeyDown( event ) {\r\n\r\n\t\t\tlet needsUpdate = false;\r\n\r\n\t\t\tswitch ( event.code ) {\r\n\r\n\t\t\t\tcase scope.keys.UP:\r\n\t\t\t\t\tpan( 0, scope.keyPanSpeed );\r\n\t\t\t\t\tneedsUpdate = true;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase scope.keys.BOTTOM:\r\n\t\t\t\t\tpan( 0, - scope.keyPanSpeed );\r\n\t\t\t\t\tneedsUpdate = true;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase scope.keys.LEFT:\r\n\t\t\t\t\tpan( scope.keyPanSpeed, 0 );\r\n\t\t\t\t\tneedsUpdate = true;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase scope.keys.RIGHT:\r\n\t\t\t\t\tpan( - scope.keyPanSpeed, 0 );\r\n\t\t\t\t\tneedsUpdate = true;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( needsUpdate ) {\r\n\r\n\t\t\t\t// prevent the browser from scrolling on cursor keys\r\n\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\r\n\t\tfunction handleTouchStartRotate() {\r\n\r\n\t\t\tif ( pointers.length === 1 ) {\r\n\r\n\t\t\t\trotateStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\r\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\r\n\r\n\t\t\t\trotateStart.set( x, y );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction handleTouchStartPan() {\r\n\r\n\t\t\tif ( pointers.length === 1 ) {\r\n\r\n\t\t\t\tpanStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\r\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\r\n\r\n\t\t\t\tpanStart.set( x, y );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction handleTouchStartDolly() {\r\n\r\n\t\t\tconst dx = pointers[ 0 ].pageX - pointers[ 1 ].pageX;\r\n\t\t\tconst dy = pointers[ 0 ].pageY - pointers[ 1 ].pageY;\r\n\r\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\t\tdollyStart.set( 0, distance );\r\n\r\n\t\t}\r\n\r\n\t\tfunction handleTouchStartDollyPan() {\r\n\r\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\r\n\r\n\t\t\tif ( scope.enablePan ) handleTouchStartPan();\r\n\r\n\t\t}\r\n\r\n\t\tfunction handleTouchStartDollyRotate() {\r\n\r\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\r\n\r\n\t\t\tif ( scope.enableRotate ) handleTouchStartRotate();\r\n\r\n\t\t}\r\n\r\n\t\tfunction handleTouchMoveRotate( event ) {\r\n\r\n\t\t\tif ( pointers.length == 1 ) {\r\n\r\n\t\t\t\trotateEnd.set( event.pageX, event.pageY );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconst position = getSecondPointerPosition( event );\r\n\r\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\r\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\r\n\r\n\t\t\t\trotateEnd.set( x, y );\r\n\r\n\t\t\t}\r\n\r\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\r\n\r\n\t\t\tconst element = scope.domElement;\r\n\r\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\r\n\r\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\r\n\r\n\t\t\trotateStart.copy( rotateEnd );\r\n\r\n\t\t}\r\n\r\n\t\tfunction handleTouchMovePan( event ) {\r\n\r\n\t\t\tif ( pointers.length === 1 ) {\r\n\r\n\t\t\t\tpanEnd.set( event.pageX, event.pageY );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconst position = getSecondPointerPosition( event );\r\n\r\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\r\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\r\n\r\n\t\t\t\tpanEnd.set( x, y );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\r\n\r\n\t\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\t\tpanStart.copy( panEnd );\r\n\r\n\t\t}\r\n\r\n\t\tfunction handleTouchMoveDolly( event ) {\r\n\r\n\t\t\tconst position = getSecondPointerPosition( event );\r\n\r\n\t\t\tconst dx = event.pageX - position.x;\r\n\t\t\tconst dy = event.pageY - position.y;\r\n\r\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\t\tdollyEnd.set( 0, distance );\r\n\r\n\t\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\r\n\r\n\t\t\tdollyOut( dollyDelta.y );\r\n\r\n\t\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t\t}\r\n\r\n\t\tfunction handleTouchMoveDollyPan( event ) {\r\n\r\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\r\n\r\n\t\t\tif ( scope.enablePan ) handleTouchMovePan( event );\r\n\r\n\t\t}\r\n\r\n\t\tfunction handleTouchMoveDollyRotate( event ) {\r\n\r\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\r\n\r\n\t\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\r\n\r\n\t\t}\r\n\r\n\t\tfunction handleTouchEnd( /*event*/ ) {\r\n\r\n\t\t\t// no-op\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\t\t// event handlers - FSM: listen for events and reset state\r\n\t\t//\r\n\r\n\t\tfunction onPointerDown( event ) {\r\n\r\n\t\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\t\tif ( pointers.length === 0 ) {\r\n\r\n\t\t\t\tscope.domElement.setPointerCapture( event.pointerId );\r\n\r\n\t\t\t\tscope.domElement.addEventListener( 'pointermove', onPointerMove );\r\n\t\t\t\tscope.domElement.addEventListener( 'pointerup', onPointerUp );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//\r\n\r\n\t\t\taddPointer( event );\r\n\r\n\t\t\tif ( event.pointerType === 'touch' ) {\r\n\r\n\t\t\t\tonTouchStart( event );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tonMouseDown( event );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction onPointerMove( event ) {\r\n\r\n\t\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\t\tif ( event.pointerType === 'touch' ) {\r\n\r\n\t\t\t\tonTouchMove( event );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tonMouseMove( event );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction onPointerUp( event ) {\r\n\r\n\t\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\t\tif ( event.pointerType === 'touch' ) {\r\n\r\n\t\t\t\tonTouchEnd();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tonMouseUp( event );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tremovePointer( event );\r\n\r\n\t\t\t//\r\n\r\n\t\t\tif ( pointers.length === 0 ) {\r\n\r\n\t\t\t\tscope.domElement.releasePointerCapture( event.pointerId );\r\n\r\n\t\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\r\n\t\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction onPointerCancel( event ) {\r\n\r\n\t\t\tremovePointer( event );\r\n\r\n\t\t}\r\n\r\n\t\tfunction onMouseDown( event ) {\r\n\r\n\t\t\tlet mouseAction;\r\n\r\n\t\t\tswitch ( event.button ) {\r\n\r\n\t\t\t\tcase 0:\r\n\r\n\t\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 1:\r\n\r\n\t\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 2:\r\n\r\n\t\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\r\n\t\t\t\t\tmouseAction = - 1;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tswitch ( mouseAction ) {\r\n\r\n\t\t\t\tcase MOUSE.DOLLY:\r\n\r\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownDolly( event );\r\n\r\n\t\t\t\t\tstate = STATE.DOLLY;\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase MOUSE.ROTATE:\r\n\r\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\r\n\r\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\t\thandleMouseDownPan( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.PAN;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\t\thandleMouseDownRotate( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.ROTATE;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase MOUSE.PAN:\r\n\r\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\r\n\r\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\t\thandleMouseDownRotate( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.ROTATE;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\t\thandleMouseDownPan( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.PAN;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\r\n\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( _startEvent );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction onMouseMove( event ) {\r\n\r\n\t\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\t\tswitch ( state ) {\r\n\r\n\t\t\t\tcase STATE.ROTATE:\r\n\r\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\thandleMouseMoveRotate( event );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase STATE.DOLLY:\r\n\r\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\t\thandleMouseMoveDolly( event );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase STATE.PAN:\r\n\r\n\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\thandleMouseMovePan( event );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction onMouseUp( event ) {\r\n\r\n\t\t\thandleMouseUp( event );\r\n\r\n\t\t\tscope.dispatchEvent( _endEvent );\r\n\r\n\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t\tfunction onMouseWheel( event ) {\r\n\r\n\t\t\tif ( scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE ) return;\r\n\r\n\t\t\tevent.preventDefault();\r\n\r\n\t\t\tscope.dispatchEvent( _startEvent );\r\n\r\n\t\t\thandleMouseWheel( event );\r\n\r\n\t\t\tscope.dispatchEvent( _endEvent );\r\n\r\n\t\t}\r\n\r\n\t\tfunction onKeyDown( event ) {\r\n\r\n\t\t\tif ( scope.enabled === false || scope.enablePan === false ) return;\r\n\r\n\t\t\thandleKeyDown( event );\r\n\r\n\t\t}\r\n\r\n\t\tfunction onTouchStart( event ) {\r\n\r\n\t\t\ttrackPointer( event );\r\n\r\n\t\t\tswitch ( pointers.length ) {\r\n\r\n\t\t\t\tcase 1:\r\n\r\n\t\t\t\t\tswitch ( scope.touches.ONE ) {\r\n\r\n\t\t\t\t\t\tcase TOUCH.ROTATE:\r\n\r\n\t\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\t\t\thandleTouchStartRotate();\r\n\r\n\t\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase TOUCH.PAN:\r\n\r\n\t\t\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\t\t\thandleTouchStartPan();\r\n\r\n\t\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 2:\r\n\r\n\t\t\t\t\tswitch ( scope.touches.TWO ) {\r\n\r\n\t\t\t\t\t\tcase TOUCH.DOLLY_PAN:\r\n\r\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\t\t\thandleTouchStartDollyPan();\r\n\r\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\r\n\r\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\t\t\thandleTouchStartDollyRotate();\r\n\r\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\r\n\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( _startEvent );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction onTouchMove( event ) {\r\n\r\n\t\t\ttrackPointer( event );\r\n\r\n\t\t\tswitch ( state ) {\r\n\r\n\t\t\t\tcase STATE.TOUCH_ROTATE:\r\n\r\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\thandleTouchMoveRotate( event );\r\n\r\n\t\t\t\t\tscope.update();\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase STATE.TOUCH_PAN:\r\n\r\n\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\thandleTouchMovePan( event );\r\n\r\n\t\t\t\t\tscope.update();\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase STATE.TOUCH_DOLLY_PAN:\r\n\r\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\thandleTouchMoveDollyPan( event );\r\n\r\n\t\t\t\t\tscope.update();\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\r\n\r\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\thandleTouchMoveDollyRotate( event );\r\n\r\n\t\t\t\t\tscope.update();\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\r\n\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction onTouchEnd( event ) {\r\n\r\n\t\t\thandleTouchEnd( event );\r\n\r\n\t\t\tscope.dispatchEvent( _endEvent );\r\n\r\n\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t\tfunction onContextMenu( event ) {\r\n\r\n\t\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\t\tevent.preventDefault();\r\n\r\n\t\t}\r\n\r\n\t\tfunction addPointer( event ) {\r\n\r\n\t\t\tpointers.push( event );\r\n\r\n\t\t}\r\n\r\n\t\tfunction removePointer( event ) {\r\n\r\n\t\t\tdelete pointerPositions[ event.pointerId ];\r\n\r\n\t\t\tfor ( let i = 0; i < pointers.length; i ++ ) {\r\n\r\n\t\t\t\tif ( pointers[ i ].pointerId == event.pointerId ) {\r\n\r\n\t\t\t\t\tpointers.splice( i, 1 );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction trackPointer( event ) {\r\n\r\n\t\t\tlet position = pointerPositions[ event.pointerId ];\r\n\r\n\t\t\tif ( position === undefined ) {\r\n\r\n\t\t\t\tposition = new Vector2();\r\n\t\t\t\tpointerPositions[ event.pointerId ] = position;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tposition.set( event.pageX, event.pageY );\r\n\r\n\t\t}\r\n\r\n\t\tfunction getSecondPointerPosition( event ) {\r\n\r\n\t\t\tconst pointer = ( event.pointerId === pointers[ 0 ].pointerId ) ? pointers[ 1 ] : pointers[ 0 ];\r\n\r\n\t\t\treturn pointerPositions[ pointer.pointerId ];\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tscope.domElement.addEventListener( 'contextmenu', onContextMenu );\r\n\r\n\t\tscope.domElement.addEventListener( 'pointerdown', onPointerDown );\r\n\t\tscope.domElement.addEventListener( 'pointercancel', onPointerCancel );\r\n\t\tscope.domElement.addEventListener( 'wheel', onMouseWheel, { passive: false } );\r\n\r\n\t\t\r\n\t\t/**\r\n\t\t * Truyền một sự kiện vào control\r\n\t\t * @param {string} name tên sự kiện\r\n\t\t * @param {Event} event Sự kiện\r\n\t\t */\r\n\t\t this.transferEventListenner = function (name, event) {\r\n\r\n\t\t\tif (typeof name == \"string\") {\r\n\t\t\t\tvar ev = name.toLowerCase();\r\n\t\t\t\tswitch (ev) {\r\n\t\t\t\t\tcase 'contextmenu':\r\n\t\t\t\t\t\tonContextMenu(event);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'pointerdown':\r\n\t\t\t\t\t\tonPointerDown(event);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'pointerup':\r\n\t\t\t\t\t\tonPointerUp(event);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'wheel':\r\n\t\t\t\t\t\tonMouseWheel(event);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'touchstart':\r\n\t\t\t\t\t\tonTouchStart(event);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'touchend':\r\n\t\t\t\t\t\tonTouchEnd(event);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'touchmove':\r\n\t\t\t\t\t\tonTouchMove(event);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'keydown':\r\n\t\t\t\t\t\tonKeyDown(event);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t// console.warn(name + \" event is not define\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tthis.getEventList = () => [\r\n\t\t\t'contextmenu',\r\n\t\t\t'pointerdown',\r\n\t\t\t'pointerup',\r\n\t\t\t'wheel',\r\n\t\t\t'touchstart',\r\n\t\t\t'touchend',\r\n\t\t\t'touchmove',\r\n\t\t\t'keydown'\r\n\t\t];\r\n\t\t// force an update at start\r\n\r\n\t\tthis.update();\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\n// This set of controls performs orbiting, dollying (zooming), and panning.\r\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\r\n// This is very similar to OrbitControls, another set of touch behavior\r\n//\r\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\r\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n//    Pan - left mouse, or arrow keys / touch: one-finger move\r\n\r\nclass MapControls extends OrbitControls {\r\n\r\n\tconstructor( object, domElement ) {\r\n\r\n\t\tsuper( object, domElement );\r\n\r\n\t\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\r\n\r\n\t\tthis.mouseButtons.LEFT = MOUSE.PAN;\r\n\t\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\r\n\r\n\t\tthis.touches.ONE = TOUCH.PAN;\r\n\t\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport { OrbitControls, MapControls };\r\n","import createClass from '@app/_core/helpers/es5.class';\r\nimport { isArray, isEmpty, isNumber, isObject, isString } from '@app/_core/helpers/utils';\r\n\r\n\r\nimport Scene from '../traits/scene';\r\nimport Camera from '../traits/camera';\r\nimport Renderer from '../traits/renderer';\r\nimport Controls from '../traits/controls';\r\nimport GridHelper from '../traits/grid-helper';\r\nimport Lights from '../traits/lights';\r\nimport ObjectManager from '../traits/object-manager';\r\nimport {EventDispatcher} from '../libs/event-dispatcher';\r\n\r\nimport { Geometries, LightLib, LoaderLib, Materials, Meshes } from '../libs/three.libs';\r\nimport Loader from '../modules/loader'\r\nimport Composer from '../modules/composer'\r\nimport DynamicShadows from '../modules/dynamic-shadows'\r\nimport Models from '../libs/models';\r\nimport { EngineClass } from './engine.doc';\r\nimport { Floor } from '../traits/floor';\r\n\r\n\r\n\r\nconst AppEngine:EngineClass = createClass(\"AppEngine\").uses(Scene, Camera, Renderer, Controls, Models, Lights, ObjectManager, Floor, EventDispatcher, GridHelper)({\r\n    /**\r\n     * @property {object} data\r\n     */\r\n    data: {},\r\n    /**\r\n     * @property {object} options\r\n     */\r\n    options: {},\r\n\r\n    /**\r\n     * \r\n     * @property {Mesh} Mesh \r\n     */\r\n    Mesh: {},\r\n    /**\r\n     * @property {Geometry} Geometry\r\n     */\r\n    Geometry: {},\r\n    /**\r\n     * @property {Material} Material\r\n     */\r\n    Material: {},\r\n    /**\r\n     * @property {Light} Light\r\n     */\r\n    Light: {},\r\n    /**\r\n     * @property {Composer} Composer\r\n     */\r\n    Composer: {},\r\n    /**\r\n     * @property {Custom}\r\n     */\r\n    // Custom: {},\r\n\r\n    /**\r\n     * \r\n     * @property {Shadows} options \r\n     */\r\n    Shadows: {},\r\n\r\n    inited: false,\r\n\r\n    /**\r\n     * Hàm khởi tạo\r\n     * @param {Dom.Query} viewport \r\n     * @param {*} options \r\n     */\r\n    constructor: function (options?:any) {\r\n        if (options && isObject(options)) this.setOptions(options);\r\n    },\r\n    setOptions: function (options?:any) {\r\n        if (isObject(options)) this.options = options;\r\n        if (this.options.data && isObject(this.options.data)) {\r\n            this.data = this.options.data;\r\n        }\r\n    },\r\n    startup: function startup(options?:any) {\r\n        if (this.inited) return this;\r\n        this.inited = true;\r\n\r\n\r\n        if (options && isObject(options)) this.setOptions(options);\r\n        this.emit('startup', this.options);\r\n\r\n        this.createScene(this.data.scene || {});\r\n        this.setMainCamera(this.data.camera || {});\r\n        this.createRenderer(this.data.renderer || {});\r\n\r\n\r\n        if (this.data.composer) {\r\n            this.composer = new Composer(this, this.data.composer);\r\n        }\r\n        \r\n        this.Shadows = new DynamicShadows(this, this.data.shadow || this.data.shadows || {});\r\n        this.Geometry = Geometries;\r\n        this.Material = Materials;\r\n        this.Mesh = Meshes;\r\n        this.Light = LightLib;\r\n        this.Loader = new Loader(this);\r\n        this.viewport.setCanvas(this.getCanvas());\r\n        this.camera.updateProjectionMatrix();\r\n        this.setMainControl(this.data.control || {});\r\n\r\n        var self = this;\r\n\r\n\r\n        if (this.data.lights && isArray(this.data.lights)) {\r\n            this.addLights(this.data.lights);\r\n        }\r\n        if (this.data.models && isArray(this.data.models)) {\r\n            this.addModels(this.data.models);\r\n        }\r\n        if (this.data.meshes && isArray(this.data.meshes)) {\r\n            this.addMeshes(this.data.meshes);\r\n        }\r\n        if (this.data.objects && (isArray(this.data.objects) || isObject(this.data.objects))) {\r\n            this.addObjects(this.data.objects);\r\n        }\r\n        if (this.data.grids && isArray(this.data.grids)) {\r\n            this.addGrids(this.data.grids);\r\n        }\r\n        if (this.data.cameras && isArray(this.data.cameras)) {\r\n            this.addCameras(this.data.cameras);\r\n        }\r\n        if (this.data.foregrounds && isArray(this.data.foregrounds)) {\r\n            this.addForegrounds(this.data.foregrounds);\r\n        }\r\n        if (this.data.floor && isArray(this.data.floor)) {\r\n            this.addFloor(this.data.floor);\r\n        }\r\n        if (this.data.controls && isArray(this.data.controls)) {\r\n            this.addControls(this.data.controls);\r\n        }\r\n\r\n\r\n        // this.Shadows = new Shadows(this, this.data.shadow || this.data.shadows || {});\r\n        // this.Shadows.init();\r\n        self.ready();\r\n        if (!this.autoRenderStatus) {\r\n            setTimeout(function () {\r\n                self.render();\r\n            }, 500);\r\n        }\r\n        return this;\r\n\r\n    }\r\n}) as EngineClass;\r\nexport default AppEngine;\r\nexport {AppEngine};\r\n","import { Directive, EmbeddedViewRef, Input, TemplateRef, ViewContainerRef } from '@angular/core';\r\n\r\n@Directive({\r\n  // tslint:disable-next-line: directive-selector\r\n  selector: '[stringTemplateOutlet]',\r\n})\r\nexport class StringTemplateOutletDirective {\r\n  private isTemplate: boolean;\r\n  private inputTemplate: TemplateRef<void> | null = null;\r\n  private inputViewRef: EmbeddedViewRef<void> | null = null;\r\n  private defaultViewRef: EmbeddedViewRef<void> | null = null;\r\n\r\n  constructor(private viewContainer: ViewContainerRef, private defaultTemplate: TemplateRef<void>) {}\r\n\r\n  @Input()\r\n  set stringTemplateOutlet(value: string | TemplateRef<void>) {\r\n    if (value instanceof TemplateRef) {\r\n      this.isTemplate = true;\r\n      this.inputTemplate = value;\r\n    } else {\r\n      this.isTemplate = false;\r\n    }\r\n    this.updateView();\r\n  }\r\n\r\n  updateView(): void {\r\n    if (!this.isTemplate) {\r\n      // use default template when input is string\r\n      if (!this.defaultViewRef) {\r\n        this.viewContainer.clear();\r\n        this.inputViewRef = null;\r\n        this.defaultViewRef = this.viewContainer.createEmbeddedView(this.defaultTemplate);\r\n      }\r\n    } else {\r\n      // clear previous view if any.\r\n      if (this.inputViewRef) {\r\n        this.inputViewRef = null;\r\n      }\r\n      // use input template when input is templateRef\r\n      this.viewContainer.clear();\r\n      this.defaultViewRef = null;\r\n      this.inputViewRef = this.viewContainer.createEmbeddedView(this.inputTemplate);\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { PreloadAllModules } from '@angular/router';\r\nimport { AuthGuard } from './_core/guards';\r\n\r\nconst routes: Routes = [\r\n  // {\r\n  //   path: '',\r\n  //   pathMatch: 'full',\r\n  //   redirectTo: 'project/list',\r\n  // },\r\n  // {\r\n  //   path: '',\r\n  //   loadChildren: () => import('./base-page/page.module').then((m) => m.PageModule),\r\n  //   canActivate: [AuthGuard],\r\n  // },\r\n  {\r\n    path: 'auth',\r\n    loadChildren: () => import('./auth/auth.module').then((m) => m.AuthModule),\r\n  },\r\n  {\r\n    path: 'admin/3d/items',\r\n    loadChildren: () => import('./item-page/item.module').then((m) => m.ItemModule),\r\n    // canActivate: [AuthGuard],\r\n  },\r\n  {\r\n    path: 'admin/3d/templates',\r\n    loadChildren: () => import('./template-page/template.module').then((m) => m.TemplateModule),\r\n    // canActivate: [AuthGuard],\r\n  },\r\n  {\r\n    path: 'admin/3d/projects',\r\n    loadChildren: () => import('./project-page/project.module').then((m) => m.ProjectModule),\r\n    // canActivate: [AuthGuard],\r\n  },\r\n  // {\r\n  //   path: 'view',\r\n  //   loadChildren: () => import('./viewer-page/viewer.module').then((m) => m.ViewerModule),\r\n  //   canActivate: [AuthGuard],\r\n  // },\r\n  {\r\n    path: '**',\r\n    redirectTo: 'admin/3d/items/0/edit',\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forRoot(routes, {\r\n      enableTracing: false,\r\n      relativeLinkResolution: 'legacy',\r\n      preloadingStrategy: PreloadAllModules,\r\n    }),\r\n  ],\r\n  exports: [RouterModule],\r\n})\r\nexport class AppRoutingModule {}\r\n","import {\r\n    assignValue,\r\n    assignWithout,\r\n    getObjectPropDepth,\r\n    inArray,\r\n    isArray,\r\n    isInteger,\r\n    isNumber,\r\n    isObject,\r\n    isString,\r\n    newObj,\r\n    _defineProperties\r\n} from '@app/_core/helpers/utils';\r\nimport * as THREEjs from 'three';\r\nimport { Geometries, LoaderLib, Materials, Meshes } from './three.libs';\r\nconst THREE = THREEjs;\r\n\r\ninterface AnyObject {\r\n    [x:string]:any\r\n}\r\n\r\nvar checkedValues = [];\r\nfunction addCheckedItem(item) {\r\n    if (inArray(checkedValues, item, true)) checkedValues.push(item);\r\n}\r\n/**\r\n * chuẩn hóa đối tượng và các giá trị của three js\r\n * @param {object} obj doi tuomg dau vao\r\n * @returns {object}\r\n */\r\nconst parseObject = function parseObject(obj:any, success:any=undefined):AnyObject {\r\n    if (typeof obj != \"object\") return obj;\r\n    if (inArray(checkedValues, obj, true) || obj.uuid || obj.isMesh || obj.isColor || obj.isGeometry || obj.isMaterial) return obj;\r\n\r\n    if (isObject(obj)) {\r\n        if (obj.$three) {\r\n            var newObj = {};\r\n            let params = parseObject(assignWithout({}, obj.data || obj, ['$three']));\r\n            var t = obj.$three.toLowerCase();\r\n            switch (t) {\r\n                case 'geometry':\r\n                    newObj = Geometries.get(params);\r\n                    break;\r\n                case 'material':\r\n                    newObj = Materials.get(params);\r\n                    break;\r\n                case 'mesh':\r\n                    newObj = Meshes.get(params);\r\n                    break;\r\n                case 'texture':\r\n\r\n                    newObj = LoaderLib.load(t, params, success);\r\n                    break;\r\n                case 'cubetexture':\r\n                    newObj = LoaderLib.load(t, params, success);\r\n                    break;\r\n\r\n                case 'color':\r\n                    newObj = createColor(params.hex || params.rgb || params.hsl || params.color);\r\n                    break;\r\n\r\n\r\n                default:\r\n                    break;\r\n            }\r\n            return newObj;\r\n        }\r\n        else {\r\n            for (const key in obj) {\r\n                if (obj.hasOwnProperty(key)) {\r\n                    let element = obj[key];\r\n\r\n                    var s = String(key).substr(0, 1);\r\n                    if (s == '@') {\r\n                        let n = String(key).substr(1);\r\n                        let k = n.toLowerCase();\r\n                        let params = parseObject(element, success);\r\n                        if (k == 'geometry') {\r\n                            let geo = Geometries.get(params);\r\n                            delete obj[key];\r\n                            obj[n] = geo;\r\n                        } else if (k == 'material') {\r\n                            let mesh = Materials.get(params);\r\n                            delete obj[key];\r\n                            obj[n] = mesh;\r\n                        } else if (k == 'mesh') {\r\n                            let mesh = Meshes.get(params);\r\n                            delete obj[key];\r\n                            obj[n] = mesh;\r\n                        } else if (k == 'coler') {\r\n                            let color = createColor(element);\r\n                            delete obj[key];\r\n                            obj[n] = color;\r\n                        }\r\n                        else if (isArray(element)) {\r\n                            parse(obj[key], success);\r\n                            addCheckedItem(obj[key]);\r\n                        }\r\n\r\n                    }\r\n                    else if (isNumber(element)) {\r\n                        obj[key] = Number(element);\r\n                    }\r\n                    else if (isString(element)) {\r\n                        obj[key] = parseString(element);\r\n                    }\r\n                    else if (isObject(element)) {\r\n                        if (Object.hasOwnProperty.call(element, '$three')) {\r\n                            obj[key] = parseObject(element, success);\r\n\r\n                        } else {\r\n                            parseObject(obj[key], success);\r\n                            addCheckedItem(obj[key]);\r\n                        }\r\n                    } else if (isArray(element)) {\r\n                        parse(obj[key], success);\r\n                        addCheckedItem(obj[key]);\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n    addCheckedItem(obj);\r\n    return obj;\r\n};\r\n\r\n\r\n/**\r\n * chuẩn hóa đối tượng và các giá trị của three js\r\n * @param {array} obj doi tuomg dau vao\r\n * @returns {object}\r\n */\r\nconst parseArray = function parseArray(obj:any=undefined, success:any=undefined) {\r\n    if (isArray(obj)) {\r\n        for (let index = 0; index < obj.length; index++) {\r\n            const element = obj[index];\r\n            if (isObject(element)) {\r\n                if (typeof element.$three != \"undefined\") {\r\n                    obj[index] = parseObject(element, success);\r\n                } else {\r\n                    parseObject(element, success);\r\n                }\r\n            }\r\n            else if (isArray(element)) {\r\n                parseArray(element, success);\r\n            } else if (isString(element)) {\r\n                obj[index] = parseString(element);\r\n            }\r\n        }\r\n        // if(typeof success == \"function\") success(obj);\r\n    }\r\n    return obj;\r\n\r\n};\r\n\r\n\r\n\r\n\r\nconst parseThree = (key:string) => getObjectPropDepth(THREE, key);\r\n\r\n\r\n/**\r\n * chuẩn hóa chuỗi thành giá trị trong js\r\n * @param {string} str chuoi dau vao\r\n * @returns {string}\r\n */\r\nconst parseString = function parseString(str:any=undefined) {\r\n    var e = String(str);\r\n    // console.log(e);\r\n    if (e.substr(0, 1) == '{' && e.substr(e.length - 1) == '}') {\r\n        var f = e.substr(1, e.length - 2);\r\n        var fp = f.split(\".\");\r\n        var t = fp.shift();\r\n        if(t=='THREE') return parseThree(fp.join(\".\"));\r\n        var vl = null;\r\n        var exp = \"vl = \" + f + \";\";\r\n        try {\r\n            eval(exp);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n        if (vl !== null) {\r\n            str = vl;\r\n        }\r\n    }\r\n    return str;\r\n};\r\n\r\n\r\n/**\r\n * chuẩn hóa đối tượng và các giá trị của three js\r\n * @param {object|array|string} obj doi tuomg dau vao\r\n * @returns {object|array|string}\r\n */\r\n\r\nconst parse = function parse(obj:any=undefined, success:any=undefined):AnyObject {\r\n    if (isObject(obj)) return parseObject(obj, success);\r\n    else if (isArray(obj)) return parseArray(obj, success);\r\n    else if (isString(obj)) return parseString(obj);\r\n    return obj;\r\n}\r\n\r\n\r\n\r\n\r\n/**\r\n * lấy các tham số chứa trong phầm thông tin thiết lập đối tượng\r\n * @param {object|array} argms tham so cau hinh\r\n * @param {object|array} list tham so cau hinh\r\n * @param {array|object} opt danh sachs cac key trong constructor\r\n * @returns {object}\r\n */\r\nconst parseParams = function parseParams(argms:any=undefined, list:any=undefined, opt:any=undefined):AnyObject {\r\n    var params = newObj();\r\n    opt = typeof opt == \"object\" ? opt : {};\r\n    var args = argms && (isArray(argms) || isObject(argms)) ? argms : [];\r\n    // nếu list đầu vào là một màng tên các tham số\r\n    if (isArray(list)) {\r\n        // và tham số cũng là 1 mảng\r\n        if (isArray(args)) {\r\n            for (let i = 0; i < list.length; i++) {\r\n                const p = list[i];\r\n                if (typeof args[i] != \"undefined\") {\r\n                    params[p] = args[i];\r\n                } else {\r\n                    params[p] = typeof opt[p] != \"undefined\" ? opt[p] : undefined\r\n                }\r\n            }\r\n        }\r\n        // nếu tham số là object\r\n        else {\r\n            for (let i = 0; i < list.length; i++) {\r\n                const p = list[i];\r\n                if (typeof args[p] != \"undefined\") {\r\n                    params[p] = args[p];\r\n                } else {\r\n                    params[p] = typeof opt[p] != \"undefined\" ? opt[p] : undefined\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    // nếu list là một object có dạng key là tên tham số còn value gla giá trị mặc định\r\n    else if (isObject(list)) {\r\n        // duyệt list với các giá trị mặc định\r\n        if (isArray(args)) {\r\n            // biến đếm để lấy giá trị tham số theo thứ tự\r\n            var i = 0;\r\n            for (const key in list) {\r\n                if (list.hasOwnProperty(key)) {\r\n                    const defVal = list[key];\r\n                    // opt là mảng giá trị mặc định không cần thứ tự\r\n                    // lấy giá trị opt trước\r\n                    params[key] = typeof opt[key] != 'undefined' ? opt[key] : (\r\n                        // không có sẽ lấy trong args. không có nữa sẽ lấy bên list cũng là default\r\n                        args && typeof args[i] != \"undefined\" ? args[i] : defVal\r\n                    )\r\n                    i++;\r\n                }\r\n            }\r\n        } else {\r\n            for (const key in list) {\r\n                if (list.hasOwnProperty(key)) {\r\n                    const defVal = list[key];\r\n                    params[key] = args && typeof args[key] != \"undefined\" ? args[key] : (\r\n                        typeof opt[key] != 'undefined' ? opt[key] : defVal\r\n                    );\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    if (params.color && (isString(params.color) || isNumber(params.color) || (isObject(params.color) && !params.color.isColor))) {\r\n        params.color = createColor(params.color);\r\n    }\r\n    return parse(params);\r\n};\r\n\r\nconst createColor = function createColor(color:any=undefined) {\r\n    var c = new THREE.Color(0xffffff).convertSRGBToLinear();\r\n    if (isColor(color)) {\r\n        if (isObject(color)) {\r\n            c = new THREE.Color(color.r, color.g, color.b);\r\n            c.convertSRGBToLinear();\r\n        } else {\r\n            c = new THREE.Color(parseColorIntVal(color));\r\n            c.convertSRGBToLinear();\r\n        }\r\n    }\r\n    return c;\r\n}\r\n\r\n/**\r\n * \r\n * @param {THREE.Color} val \r\n * @returns \r\n */\r\nconst parseColor = (val) => {\r\n    // console.log(val);\r\n    return (isObject(val) && val.isColor) ? (val.totalSRGBToLinear?val:val.convertSRGBToLinear() ) : createColor(val);\r\n}\r\n\r\nconst parseColorIntVal = function (val) {\r\n    if (!isColor(val)) return 0;\r\n    if (typeof val == \"string\") {\r\n        if (val.substr(0, 1) == \"#\") {\r\n            var b = parseInt(val.substr(1), 16);\r\n            if (!isNaN(b) && isNumber(b)) {\r\n                return b;\r\n            }\r\n        } else {\r\n            var b = parseInt(val, 16);\r\n            if (!isNaN(b) && isNumber(b)) {\r\n                return b;\r\n            }\r\n        }\r\n    } else if (isNumber(val)) {\r\n        return val;\r\n    }\r\n\r\n    return 0;\r\n};\r\n\r\nconst isColor = function isColor(obj:any):boolean {\r\n    if (isInteger(obj)) return true;\r\n    if (isString(obj)) {\r\n        var re = /[0-9A-Fa-f]{6}/g;\r\n        var re2 = /[0-9A-Fa-f]{3}/g;\r\n\r\n        if (obj.substr(0, 1) == \"#\") {\r\n            var hex = obj.substr(1);\r\n            if (re.test(hex) || re2.test(hex)) return true;\r\n        }\r\n        else if (re.test(obj) || re2.test(obj)) return true;\r\n    } else if (isObject(obj) && obj.isColor) return true;\r\n\r\n    return false;\r\n}\r\n\r\n\r\nfunction getObjectAnimateHandler(options:any=undefined):any {\r\n    if (!isObject(options)) return null;\r\n    var keys = [\r\n        \"updateHhndler\",\r\n        \"handler\",\r\n        \"animate\",\r\n        \"animatehandler\",\r\n        \"handlerdata\",\r\n        \"updatehandlerdata\",\r\n        \"animatedata\",\r\n        \"updateanimatedata\",\r\n        \"updateanimatehandlerdata\"\r\n    ];\r\n    if (isObject(options.props)) {\r\n        for (const key in options.props) {\r\n            if (options.props.hasOwnProperty(key)) {\r\n                const d = options.props[key];\r\n                if (inArray(keys, key)) {\r\n                    return d;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    for (const key in options) {\r\n        if (options.hasOwnProperty(key)) {\r\n            const d = options[key];\r\n            if (inArray(keys, key)) {\r\n                return d;\r\n            }\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction Props(params:any=undefined) {\r\n    this.origin = params;\r\n    this.parseData = parse(params);\r\n}\r\nObject.assign(Props.prototype, {\r\n    constructor: Props,\r\n    parse: parse,\r\n    parseArray: parseArray,\r\n    parseObject: parseObject,\r\n    parseString: parseString,\r\n    parseParams: parseParams,\r\n    parseColorIntVal: parseColorIntVal,\r\n    parseColor: parseColor,\r\n    isColor: isColor,\r\n    createColor: createColor,\r\n    getObjectAnimateHandler: getObjectAnimateHandler,\r\n    toString: function () {\r\n        return this.toJSON();\r\n    }\r\n});\r\nProps.parse = parse;\r\nProps.parseArray = parseArray;\r\nProps.parseObject = parseObject;\r\nProps.parseString = parseString;\r\nProps.createColor = createColor;\r\nProps.isColor = isColor;\r\nProps.parseColorIntVal = parseColorIntVal;\r\nProps.parseColor = parseColor;\r\nProps.parseParams = parseParams;\r\nProps.getObjectAnimateHandler = getObjectAnimateHandler;\r\nexport default Props;\r\nexport { Props, parse, parseArray, parseObject, parseString, createColor, isColor, parseColorIntVal, parseParams, parseColor };","import { Injectable } from '@angular/core';\nimport { isFunction, isObject } from '@app/_core/helpers/utils';\nimport { EventManagerService } from '@app/_core/services/event-manager.service';\n\nexport interface ApiParams {\n    search?: string\n    page?: number\n    perPage?: number\n    orderBy?: string\n    orderType?: string\n    [x: string]: (string | number)\n}\n\nexport type LibraryOpenParams = {\n    \n    title?: string,\n    listType?: string,\n    url?: string\n    params?: ApiParams\n    mode?: string,\n    done?: (image: (any | any[])) => any,\n    cancel?: () => any,\n    \n    [x: string]: any\n}\n\ntype libParam = (((...args:any[]) => any) | LibraryOpenParams);\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ImageLibraryService extends EventManagerService {\n\n    constructor() {\n        super();\n    }\n\n    /**\n     * \n     * @param params tham so thu vien\n     * @param callback ham khi chon anh xong\n     * @returns \n     */\n    open(params?: libParam, callback?: (image?: any) => any, cancel?: (...args:any[]) => any): ImageLibraryService {\n\n        var pars: any = {};\n        var callb: any;\n        if (isFunction(params)) {\n            callb = params;\n            if (isObject(callback) && callback) pars = callback;\n            else if(isFunction(callback)){\n                cancel = callback;\n            }\n        }\n        else {\n            if (isObject(params)) {\n                pars = params;\n                if (isFunction(pars.done)) {\n                    callb = pars.done;\n                }\n                if (isFunction(pars.cancel)) {\n                    cancel = pars.cancel;\n                }\n                \n            }\n            if (!isFunction(callb) && isFunction(callback)) {\n                callb = callback;\n            }\n        }\n        this.emit({\n            type: \"open\",\n            config: pars,\n            callback: callb,\n            cancel\n        })\n        return this;\n    }\n}\n","export * from './input.data';","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, Input, OnInit } from '@angular/core';\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\nimport { BaseComponent } from '../base/base.component';\nimport { ClientEditToolbarService } from './client-edit-toolbar/client-edit-toolbar.service';\nimport { ObjectToolbarService } from './object-toolbar/object-toolbar.service';\nimport { ViewportService } from './viewport.service';\n\n@Component({\n    selector: 'app-item-viewport',\n    templateUrl: './client-viewport.component.html',\n    styleUrls: ['./client-viewport.component.scss']\n})\nexport class ItemViewportComponent extends BaseComponent implements OnInit {\n    @Input() app: any;\n    app3D: AppEditorService = null;\n    canvas: Element = null;\n    droppable: boolean = false;\n    isLoad: boolean = false;\n    appTem: AppEditorService = null;\n    subToolbar: ObjectToolbarService = null;\n    constructor(\n        private elemRef: ElementRef,\n        private events: ViewportService,\n        private toolbar: ObjectToolbarService,\n        private cd: ChangeDetectorRef\n    ) {\n        super();\n        \n    }\n\n    onChangeSubEvents(){\n        // this.service.on(, true);\n\n        this.registerEventService(this.subEvents, {\n            'app.set|dispatch': e => {\n                this.appTem = e.app;\n            }\n        })\n        this.registerEventService(document, {\n            pointerup: e => this.transferEvent(e),\n        })\n    }\n\n    onInit(): void {\n        const st = this.toolbar.sub(this.moduleKey);\n        if(this.subToolbar != st){\n            this.subToolbar = st;\n        }\n        this.hasChangeApp = false;\n        if (this.app) {\n            this.setApp(this.app);\n        }else if(!this.app3D){\n            if(this.appTem) this.setApp(this.appTem);\n            else this.subEvents.on('app.set', e => this.setApp(e.app), true);\n        }\n\n        if(!this.hasChangeApp && this.app3D){\n            this.activeEventServiceRegistered(this.app3D);\n        }\n        this.hasChangeApp = false;\n        this.cd.detectChanges();\n        this.activeEventServiceRegistered(document)\n    }\n\n    onDestroy(){\n        this.deactiveEventServiceRegistered(this.app3D);\n        this.deregisterAllEventService(document)\n    }\n\n    initCanvas() {\n        this.canvas = this.app3D.engine.getCanvas();\n    }\n\n    setApp(app) {\n        if(app == this.app3D) return this.initCanvas();\n        if(this.app3D){\n            this.deactiveEventServiceRegistered(this.app3D);\n            this.deregisterAllEventService(this.app3D);\n        }\n\n        this.app3D = app;\n        this.registerEventService(this.app3D, {\n            'viewport.show:loading': () => {\n                this.isLoad = true;\n                this.subEvents.emit(\"show:loading\");\n            },\n            'viewport.hide:loading': () => {\n                this.isLoad = false;\n                this.subEvents.emit(\"hide:loading\");\n            },\n            \n            \"control.mode.change\": e => this.subToolbar.changeMode(e.node),\n            \"init\": () => this.subEvents.emit(\"resetcanvas\")    \n        });\n\n        this.activeEventServiceRegistered(this.app3D);\n        this.hasChangeApp = true;\n        this.initCanvas();\n        \n    }\n\n    transferEvent(event){\n        if(this.app3D){\n            this.app3D.transferEventListenner(event)\n        }\n    }\n\n}\n","\r\n// localStorage\r\n\r\nimport { EventEmit, EventManager } from \"./event-manager\";\r\nimport { date, getArguments, inArray, isArray, isBoolean, isEmpty, isFunction, isObject, isString, Str } from \"./utils\";\r\nconst DEFAULT_VALUE = Str.rand(Str.rand(date('ms')));\r\nvar ignoreKeys = ['__data', '__namespace', '__version', '_listeners', '_dispatchedEvents'];\r\n\r\nclass LocalStorageEngine extends EventManager {\r\n    __namespace: string = \"__crushjs__\";\r\n    __verison = \"1.0\";\r\n    __data: any = {};\r\n\r\n    constructor(namespace: string, data?: any, verison?: any) {\r\n        super();\r\n        if (!namespace) throw new Error(\"param 0: Namespace is required\");\r\n        this.__namespace = namespace ? namespace : \"__crushjs__\";\r\n        this.__verison = verison ? verison : \"1.0\";\r\n        this.__data = isObject(data) ? data : {};\r\n        this.__init();\r\n    }\r\n\r\n    __init() {\r\n        var data = this.__getNamespaceData();\r\n        if (data) {\r\n            this.__data = data;\r\n            for (var key in data) {\r\n                if (Object.hasOwnProperty.call(data, key)) {\r\n                    this.__addAccessors(key);\r\n                }\r\n            }\r\n        } else {\r\n            if (!isEmpty(this.__data)) {\r\n                for (var key in this.__data) {\r\n                    if (Object.hasOwnProperty.call(this.__data, key)) {\r\n                        this.__addAccessors(key);\r\n                    }\r\n                }\r\n            }\r\n            this.__setNamespaceData(this.__data);\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    __addAccessors(key): void {\r\n        Object.defineProperty(this, key, {\r\n            configurable: true,\r\n            enumerable: true,\r\n            set: function (val) {\r\n                this.set(key, val);\r\n            },\r\n            get: function () {\r\n                return this.get(key);\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    set(key: string, value: any) {\r\n        var old = this.__data[key];\r\n        if (!inArray(ignoreKeys, key) && Str.objectKey(key) == key && (typeof this.__data[key] == \"undefined\" || !Object.prototype.hasOwnProperty.call(this.__data, key))) {\r\n            this.__addAccessors(key);\r\n        }\r\n        this.__data[key] = value;\r\n        this.__updateNamespaceData();\r\n        this.dispatchEvent({\r\n            key: key + \".set\",\r\n            value: value,\r\n            old: old\r\n        });\r\n        this.dispatchEvent({\r\n            key: key,\r\n            value: value,\r\n            old: old\r\n        })\r\n    }\r\n\r\n    get(key: string, defaultValue?: any): any {\r\n        var value = typeof this.__data[key] !== \"undefined\" ? this.__data[key] : defaultValue;\r\n        this.dispatchEvent({\r\n            key: key + \".get\",\r\n            value: value\r\n        })\r\n        return value;\r\n    }\r\n\r\n    remove(key: string): boolean {\r\n        var value = typeof this.__data[key] !== \"undefined\" ? this.__data[key] : undefined;\r\n        if (value !== undefined) {\r\n            this.__data[key] = undefined;\r\n            delete this.__data[key];\r\n            this.__updateNamespaceData();\r\n            this.dispatchEvent({\r\n                key: key + \".remove\",\r\n                value: value\r\n            })\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * set gia tri vao storage\r\n     * @param {*} value gia tri\r\n     * @returns {this}\r\n     */\r\n    __setNamespaceData(value: any) {\r\n        if (!this.__support()) return false;\r\n        if (isObject(value) || isArray(value)) {\r\n            value = JSON.stringify(value);\r\n        }\r\n        localStorage.setItem(this.__namespace, value);\r\n        return true;\r\n    }\r\n\r\n    __updateNamespaceData(): void {\r\n        localStorage.setItem(this.__namespace, JSON.stringify(this.__data));\r\n    }\r\n\r\n    /**\r\n     * Lấy giá trị từ storage\r\n     * @param {string} key chuoi khoa de truy cap\r\n     * @returns {*}\r\n     */\r\n    __getNamespaceData(): any {\r\n        if (!this.__support()) return null;\r\n        var val = localStorage.getItem(this.__namespace);\r\n        if (val) {\r\n            try {\r\n                val = JSON.parse(val);\r\n            } catch (error) {\r\n\r\n            }\r\n        }\r\n        return val;\r\n    }\r\n\r\n    /**\r\n     * Xóa giá trị\r\n     * @param {string} key \r\n     */\r\n    __removeNamespace(): boolean {\r\n        if (!this.__support()) return false;\r\n        // this.removeInObjectList(key);\r\n\r\n        localStorage.removeItem(this.__namespace);\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * kiểm tra trình duyệt có hỗ trợ hay ko\r\n     */\r\n    __support(): boolean {\r\n\r\n        if (typeof (Storage) !== \"undefined\") {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n    /**\r\n     * Tạo, gọi ra một sự kiện\r\n     * @param {string|object} event Tên hoặc sự kiện\r\n     * @param {*} data dữ liệu\r\n     * @returns {boolean}\r\n     */\r\n\r\n    dispatchEvent(event: (EventEmit | String), value?: any, log?: boolean): boolean {\r\n        if (this._listeners === undefined || this._listeners === null || !event) return null;\r\n\r\n        var e: any = {};\r\n        if (isString(event)) {\r\n            e.key = event;\r\n            if (value!=undefined) {\r\n                e.value = value;\r\n            }\r\n            // console.log(event, data);\r\n        } else if (isObject(event)) {\r\n            e = event;\r\n            if (!e.key) return false;\r\n            if (!e.data && value) {\r\n                e.value = value;\r\n            }\r\n            if (isBoolean(value) && typeof log == \"undefined\") {\r\n                log = value;\r\n            }\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n\r\n        const listeners = this._listeners;\r\n        const listenerArray = listeners[e.value];\r\n        var s = true;\r\n        if (!e.target) {\r\n            e.target = this;\r\n        }\r\n\r\n        if (!e.stopImmediatePropagation)\r\n            e.stopImmediatePropagation = function () {\r\n                s = false;\r\n            };\r\n\r\n        if (log !== false) {\r\n            this.addDispatchedEvent(e);\r\n        }\r\n\r\n\r\n        if (listenerArray !== undefined) {\r\n            // Make a copy, in case listeners are removed while iterating.\r\n            const array1 = listenerArray.slice(0);\r\n            var rs: any[] = [];\r\n            for (var i = 0, l = array1.length; i < l; i++) {\r\n                let a = array1[i].call(this, e);\r\n                if (!s) break;\r\n                if (a !== undefined) {\r\n                    rs.push(a)\r\n                }\r\n\r\n            }\r\n            if (s && rs.length) {\r\n                return rs.length == 1 && array1.length == 1 ? rs[0] : rs;\r\n            }\r\n            return s;\r\n        }\r\n\r\n    }\r\n}\r\n\r\nfor (var key in LocalStorageEngine.prototype) {\r\n    if (Object.hasOwnProperty.call(LocalStorageEngine.prototype, key)) {\r\n        ignoreKeys.push(LocalStorageEngine.prototype[key]);\r\n    }\r\n}\r\nconst LS = new LocalStorageEngine('crushjs', {}, \"1.0\");\r\n\r\nexport default LocalStorageEngine;\r\nexport { LS, LocalStorageEngine };","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { InpEvent } from '@app/_shared/shared.type';\nimport { BaseComponent } from '../../base/base.component';\n\n@Component({\n  template: ''\n})\nexport abstract class CollapseBaseComponent extends BaseComponent {\n\n  @Input() show: boolean = false;\n  @Output() subcribe = new EventEmitter<InpEvent>();\n  @Input() title: string = '';\n  \n  toggle(){\n    this.show = !!!this.show;\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { BaseComponent } from '../../base/base.component';\nimport { ViewportService } from '../viewport.service';\n\n@Component({\n  selector: 'mask-layer',\n  templateUrl: './mask-layer.component.html',\n  styleUrls: ['./mask-layer.component.scss']\n})\nexport class MaskLayerComponent extends BaseComponent implements OnInit {\n\n  constructor(private service: ViewportService) {\n    super()\n  }\n\n  onInit(): void {\n  }\n\n}\n","import { Component, Output, EventEmitter, OnDestroy, OnInit } from '@angular/core';\r\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\r\nimport { EditorIO, EditorMethods } from '../../base/editor-io';\r\n\r\n@Component({\r\n    selector: 'app-tab-editor-setting',\r\n    templateUrl: './tab-setting.component.html',\r\n    styleUrls: ['./tab-setting.component.scss'],\r\n})\r\nexport class TabEditorSettingComponent extends BaseComponent implements OnInit, OnDestroy {\r\n    \r\n\r\n\r\n}\r\n","<div class=\"tab-inner\">\r\n    <h2>{{ 'Settings' | translate }}</h2>\r\n    <nz-tabset nzTabPosition=\"top\" nzType=\"line\" class=\"sub-tab\">\r\n\r\n        <nz-tab [nzTitle]=\"iconInfo\">\r\n            <ng-template #iconInfo>\r\n                <img src=\"/assets/icons/new-design/tab-sub/info.svg\" alt=\"Info\" />\r\n                <div>Info</div>\r\n            </ng-template>\r\n            <app-tab-editor-info class=\"tab-info\"></app-tab-editor-info>\r\n        </nz-tab>\r\n\r\n        <!-- <nz-tab [nzTitle]=\"iconForeground\">\r\n          <ng-template #iconForeground>\r\n            <img src=\"/assets/icons/new-design/tab-sub/foreground.svg\" alt=\"Foreground\" />\r\n            <div>Foreground</div>\r\n          </ng-template>\r\n          <ng-template nz-tab>\r\n            <app-tab-foreground></app-tab-foreground>\r\n          </ng-template>\r\n        </nz-tab> -->\r\n\r\n    </nz-tabset>\r\n\r\n</div>","import createClass from '@app/_core/helpers/es5.class';\r\nimport { assignValue, assignWithout, isArray, isEmpty, isNumber, isObject, isString } from '@app/_core/helpers/utils';\r\n\r\n\r\nimport Scene from '../traits/scene';\r\nimport Camera from '../traits/camera';\r\nimport Renderer from '../traits/renderer';\r\nimport Controls from '../traits/controls';\r\nimport GridHelper from '../traits/grid-helper';\r\nimport Lights from '../traits/lights';\r\nimport ObjectManager from '../traits/object-manager';\r\nimport {EventDispatcher} from '../libs/event-dispatcher';\r\n\r\nimport { Geometries, LightLib, LoaderLib, Materials, Meshes } from '../libs/three.libs';\r\n\r\nimport Models from '../libs/models';\r\n\r\n\r\nimport Loader from '../modules/loader'\r\nimport Composer from '../modules/composer'\r\nimport DynamicShadows from '../modules/dynamic-shadows'\r\nimport { EngineClass, EngineInstance } from './engine.doc';\r\nimport { Floor } from '../traits/floor';\r\nimport { BlankData } from '../store/data.type';\r\nimport { i } from '@app/_core/helpers/html-elements';\r\n\r\nexport interface EditorEngineInstance extends EngineInstance {\r\n    setData(data:any): any\r\n\r\n}\r\nexport interface EditorEngineClass extends EngineClass {\r\n    setData(data:any): any\r\n    new(data: any): EditorEngineInstance\r\n    (data:any): EditorEngineInstance\r\n}\r\n\r\n\r\nconst MovingEngine = createClass(\"MovingEngine\").uses(\r\n    Scene, \r\n    Camera, \r\n    Renderer, \r\n    Controls, \r\n    Models, \r\n    Lights, \r\n    ObjectManager, \r\n    Floor,\r\n    EventDispatcher, \r\n    GridHelper\r\n)({\r\n    data: {},\r\n    options: {},\r\n\r\n    Mesh: {},\r\n    Geometry: {},\r\n    Material: {},\r\n    Light: {},\r\n    Composer: {},\r\n    Shadows: {},\r\n    inited: false,\r\n    $mainEngine: null,\r\n\r\n    setData: function(data?:any){\r\n        if (data.composer && !isEmpty(data.composer)) {\r\n            this.composer = new Composer(this, data.composer);\r\n        }\r\n        if (data.meshes && isArray(data.meshes)) {\r\n            this.addMeshes(data.meshes);\r\n        }\r\n\r\n        this.updateSettings();\r\n        this.emit('setdata', data);\r\n        \r\n        \r\n    },\r\n\r\n    /**\r\n     * Hàm khởi tạo\r\n     * @param {Dom} viewport \r\n     * @param {*} data \r\n     */\r\n    constructor: function (data?:any) {\r\n        if (data && isObject(data)) {\r\n            this.data = data;\r\n        }\r\n        \r\n        \r\n        this.startup();\r\n    },\r\n\r\n    renew: function(data){\r\n        this.data = assignValue({}, data);\r\n        this.inited = false;\r\n        this.emit({\r\n            type: \"renew\"\r\n        })\r\n    },\r\n\r\n    updateSettings: function(){\r\n        if (this.data) {\r\n            var data = this.data;\r\n            if (isObject(data.scene)) {\r\n                var scene = data.scene;\r\n                this.updateSceneSettings(scene);\r\n                if (isObject(scene.background) && !isEmpty(scene.background))\r\n                    this.setBackground(scene.background);\r\n                if (isObject(scene.floor) && !isEmpty(scene.floor))\r\n                    this.updateSceneFloorSetting(scene.floor);\r\n                if (isObject(scene.size) && !isEmpty(scene.size))\r\n                    this.updateSceneSettings(scene.size);\r\n            }\r\n            if(isObject(data.shadow))\r\n                this.updateShadowSettings(data.shadow);\r\n            if(isObject(data.control))\r\n                this.updateControlSettings(data.control);\r\n            if(isObject(data.camera))\r\n                this.updateMainCameraSettings(data.camera, true);\r\n        }\r\n\r\n    },\r\n\r\n\r\n\r\n    startup: function startup( data?:any) {\r\n        if (this.inited) return this;\r\n\r\n\r\n        if (data && isObject(data)) {\r\n            this.data = data;\r\n        }\r\n        this.emit('startup', this.data);\r\n\r\n        this.initScene(this.data.scene || {});\r\n        this.setMainCamera(this.data.camera || {});\r\n        this.createRenderer(this.data.renderer || {}, this.data.shadow?this.data.shadow.enabled:true);\r\n        \r\n        this.camera.updateProjectionMatrix();\r\n\r\n        var self = this;\r\n        this.inited = true;\r\n        // this.Shadows.init();\r\n        self.ready();\r\n        if (!this.autoRenderStatus) {\r\n            setTimeout(function () {\r\n                self.render();\r\n            }, 500);\r\n        }\r\n    \r\n        \r\n        return this;\r\n\r\n    },\r\n    \r\n    canChangeCamera: true,\r\n\r\n    setMainEngine: function(mainEngine){\r\n        if(!isObject(mainEngine)||this.mainEngine == mainEngine) return false;\r\n        this.mainEngine = mainEngine;\r\n        var scope = this;\r\n        this.setSize(mainEngine.width, mainEngine.height);\r\n        this.updateCamera(mainEngine.camera);\r\n        mainEngine.on(\"controls.change.camera.end\", function(){\r\n            scope.updateCamera(mainEngine.camera);\r\n        });\r\n        mainEngine.on(\"controls.change.camera.animate.end\", function(){\r\n            scope.updateCamera(mainEngine.camera);\r\n        });\r\n\r\n        mainEngine.on(\"resize\", function (e) {\r\n            scope.setSize(mainEngine.width, mainEngine.height);\r\n        });\r\n        mainEngine.on(\"canvas.size.update\", function (e) {\r\n            scope.setSize(mainEngine.width, mainEngine.height);\r\n        });\r\n        mainEngine.on(\"camera.settings.updated\", function (e) {\r\n            scope.updateCamera(mainEngine.camera);\r\n        });\r\n        mainEngine.on(\"setdata\", function (e) {\r\n            scope.updateCamera(mainEngine.camera);\r\n        });\r\n        mainEngine.on(\"object.load.completed\", function (e) {\r\n            scope.updateCamera(mainEngine.camera);\r\n        });\r\n        \r\n        \r\n        if (mainEngine.inited) {\r\n            scope.updateCamera(mainEngine.camera);\r\n        } else {\r\n            mainEngine.on('ready', function () {\r\n                scope.updateCamera(scope.engine.camera);\r\n            });\r\n\r\n        }\r\n\r\n\r\n    },\r\n    updateCamera: function(camera){\r\n        let propKeys = {\r\n            position: ['x', 'y', 'z'],\r\n            rotation: ['x', 'y', 'z'],\r\n            up: ['x', 'y', 'z'],\r\n            quaternion: ['x', 'y', 'z', 'z']\r\n            \r\n        }\r\n        for (const key in propKeys) {\r\n            if (Object.prototype.hasOwnProperty.call(propKeys, key)) {\r\n                const arrKeys = propKeys[key];\r\n                // arrKeys.map(s => this.camera[key][s]=camera[key][s]);\r\n                this.camera[key].copy(camera[key], true);\r\n            }\r\n        }\r\n        if(this.camera.fov != camera.fov || this.camera.aspect != camera.aspect || this.camera.near != camera.near || this.camera.far != camera.far){\r\n            this.camera.fov = camera.fov;\r\n            this.camera.aspect = camera.aspect;\r\n            this.camera.near = camera.near;\r\n            this.camera.far = camera.far;\r\n            this.camera.updateProjectionMatrix();\r\n        }\r\n        this.refresh();\r\n        \r\n    },\r\n    checkCamera: function(){\r\n        this.updateCamera(this.mainEngine.camera);\r\n    },\r\n    add: function(){\r\n        if(arguments.length){\r\n            for (let index = 0; index < arguments.length; index++) {\r\n                const arg = arguments[index];\r\n                this.scene.add(arg);\r\n            }\r\n        }\r\n    },\r\n    remove: function(){\r\n        if(arguments.length){\r\n            for (let index = 0; index < arguments.length; index++) {\r\n                const arg = arguments[index];\r\n                this.scene.remove(arg);\r\n            }\r\n        }\r\n    }\r\n}) as EditorEngineClass\r\nexport default MovingEngine;\r\nexport {MovingEngine};\r\nexport const getMovingEngine = (mainEngine?:any) => {\r\n    const engine = new MovingEngine(assignWithout({}, BlankData, 'lights'));\r\n    engine.startup();\r\n    if(mainEngine){\r\n        engine.setMainEngine(mainEngine);\r\n    }\r\n    return engine;\r\n};\r\n","import { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\nimport { TemplateEventsService } from '@app/template-page/_store/events.service';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\nimport { CameraDefaultSettings, CameraSetting } from '@app/_3D/store/data.type';\nimport { checkFacePos } from '@app/_3D/traits/camera';\nimport { assignValue, isObject } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { EditorToolbarService } from '@app/_shared/components/viewport/editor-toolbar/editor-toolbar.service';\nimport { InpEvent } from '@app/_shared/shared.type';\n\ninterface PosOpt {\n    label: string,\n    type: string,\n    value: any,\n    selected: boolean,\n    [c: string]: any\n}\ntype PosOpts = PosOpt[];\n\n\n@Component({\n    selector: 'app-tab-camera',\n    templateUrl: './tab-camera.component.html',\n    styleUrls: ['./tab-camera.component.scss']\n})\nexport class TabCameraComponent extends BaseComponent implements OnInit {\n\n    camera: CameraSetting = {};\n    posOptions: PosOpts = [\n        {\n            label: \"Mặc định\",\n            type: \"default\",\n            value: null,\n            selected: true\n        },\n        {\n            label: \"Vị trí theo các mặt\",\n            type: \"face\",\n            value: \"front\",\n            selected: false\n        },\n        {\n            label: \"Vị trí Tùy biến\",\n            type: \"custom\",\n            value: {\n                x: 0,\n                y: 0,\n                z: 2\n            },\n            selected: false\n        }\n    ];\n    faceMatrix = [\n        [null, 'Top', null, null],\n        ['Left', 'Front', 'Right', 'Back'],\n        [null, 'Bottom', null, null]\n    ];\n\n    app: AppEditorService = null;\n    constructor(\n        private cd: ChangeDetectorRef,\n        private editorToolbar: EditorToolbarService,\n        private events: AppEditorEventService\n    ) {\n        super();\n\n        \n    }\n    onChangeSubEvents(){\n        this.app = this.subEvents.app;\n        this.editorToolbar = this.editorToolbar.sub(this.moduleKey);\n        this.registerEventService(this.editorToolbar, {\n            \"saveview\": e => this.saveCurrentCameraPosition()\n        });\n        this.registerEventService(this.app, {\n            \"camera.position.save\": e => {\n                setTimeout(() => {\n                    this.saveCurrentCameraPosition()\n                }, 1);\n            }\n        });\n    }\n    onInit() {\n        this.activeEventServiceRegistered(this.editorToolbar);\n        this.activeEventServiceRegistered(this.app);\n\n        let cam = this.app.engine.camera.position;\n        assignValue(this.camera, CameraDefaultSettings);\n        assignValue(this.camera, {\n            settings: {\n                position: {\n                    costom: {\n                        x: cam.x,\n                        y: cam.y,\n                        z: cam.z\n                    }\n                }\n            }\n        })\n        assignValue(this.camera, this.app.getCameraSetting());\n        this.initCamera();\n        \n        this.cd.detectChanges();\n    }\n    onDestroy(){\n        \n        this.deactiveEventServiceRegistered(this.editorToolbar);\n        this.deactiveEventServiceRegistered(this.app);\n    }\n    \n\n\n    initCamera() {\n        if (isObject(this.camera.settings) && isObject(this.camera.settings.position)) {\n            let cps = this.camera.settings.position;\n            this.posOptions.map(opt => {\n                opt.selected = opt.type == cps.type;\n                opt.value = cps[opt.type];\n            });\n\n        }\n    }\n    emitUpdateSettings(updateEngine?: boolean) {\n        this.app.updateCameraSetting({\n            settings: this.camera.settings\n        }, updateEngine);\n    }\n    updateCameraProperties(event: InpEvent) {\n        let update: any = {}\n        update[event.name] = event.value;\n        this.camera[event.name] = event.value;\n\n        this.app.updateCameraSetting(update);\n    }\n    changeFace(face: string) {\n        let f = face.toLowerCase();\n        if (checkFacePos(f)) {\n            this.posOptions[0].value = f;\n            this.camera.settings.position.face = f;\n            this.emitUpdateSettings(true);\n        }\n    }\n    isFaceActive(face: string) {\n        return face.toLowerCase() == this.camera.settings.position.face;\n    }\n    changeType(type) {\n        assignValue(this.camera.settings, {\n            position: {\n                type\n            }\n        });\n        this.posOptions.map(opt => opt.selected = opt.type == type);\n        this.emitUpdateSettings(true);\n    }\n    updateCustomPos(event) {\n        assignValue(this.camera.settings.position.custom, event.value);\n        this.emitUpdateSettings(true);\n    }\n\n    saveCurrentCameraPosition() {\n        let cam = this.app.engine.camera.position;\n        assignValue(this.camera.settings, {\n            position: {\n                type: \"custom\",\n                costom: {\n                    x: cam.x,\n                    y: cam.y,\n                    z: cam.z\n                }\n            }\n        });\n        this.posOptions.map(opt => {\n            opt.selected = opt.type == 'custom';\n            if (opt.selected) {\n                assignValue(opt.value, {\n                    x: cam.x,\n                    y: cam.y,\n                    z: cam.z\n                });\n            }\n        });\n        this.emitUpdateSettings(false);\n        this.cd.detectChanges();\n    }\n\n}\n","<div class=\"tab-inner\">\n    <div class=\"tab-header\">\n        <h3>Camera</h3>\n    </div>\n    <div class=\"store\">\n        <!-- props -->\n        <div class=\"props group\">\n            <h4>Properties</h4>\n            <inp-range-group class=\"inp-group-item\" name=\"fov\" [(value)]=\"camera.fov\" label=\"Field Of View\" (subcribe)=\"updateCameraProperties($event)\" [min]=\"10\" [max]=\"172\" [step]=\"1\"></inp-range-group>\n            <inp-number-group class=\"inp-group-item\" name=\"near\" [(value)]=\"camera.near\" label=\"Near (Macro)\" (subcribe)=\"updateCameraProperties($event)\" [min]=\"0.1\" [max]=\"10\" [step]=\"0.1\"></inp-number-group>\n            <inp-number-group class=\"inp-group-item\" name=\"far\" [(value)]=\"camera.far\" label=\"Far (Tele)\" (subcribe)=\"updateCameraProperties($event)\" [min]=\"10\" [max]=\"4096\" [step]=\"0.1\"></inp-number-group>\n        </div>\n        <div class=\"settings group inp-group-item\">\n            <h4>Position</h4>\n            <div class=\"pos-item\" *ngFor=\"let option of posOptions; let i=index\" [class.active]=\"option.selected\">\n                <div class=\"item-header\" (click)=\"changeType(option.type)\">\n                    <span class=\"icon\">\n                        <ng-container *ngIf=\"option.selected; then selectedTemplate; else notSelectedTemplate\"></ng-container>\n                        <ng-template #selectedTemplate>\n                            <i nz-icon [nzType]=\"'check-circle'\" [nzTheme]=\"'twotone'\" [nzTwotoneColor]=\"'#52c41a'\"></i>\n                        </ng-template>\n                        <ng-template #notSelectedTemplate>\n                            <i nz-icon [nzType]=\"'check-circle'\"></i>\n                        </ng-template>\n\n                    </span>\n                    <span class=\"label\">\n                        {{option.label}}\n                    </span>\n                </div>\n                <div class=\"item-body\" *ngIf=\"option.selected && option.type!='default'\">\n                    <div class=\"pos-group\" *ngIf=\"option.type == 'face'\">\n                        <div class=\"row\" *ngFor=\"let faceRow of faceMatrix; let i=index\">\n                            <div class=\"col\" *ngFor=\"let face of faceRow; let i=index\">\n                                <div class=\"face-item\" *ngIf=\"face != null\" [class.active]=\"isFaceActive(face)\" (click)=\"changeFace(face)\">{{face}}</div>\n                            </div>\n                        </div>\n                    </div>\n                    <inp-vector3-group name=\"custom\" [(value)]=\"option.value\" label=\"Vị trí\" (subcribe)=\"updateCustomPos($event)\" *ngIf=\"option.type=='custom'\"></inp-vector3-group>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { BaseComponent } from '../../base/base.component';\nimport { ViewportService } from '../viewport.service';\n\n@Component({\n  selector: 'droppable-layer',\n  templateUrl: './droppable-layer.component.html',\n  styleUrls: ['./droppable-layer.component.scss']\n})\nexport class DroppableLayerComponent extends BaseComponent implements OnInit {\n\n  constructor(private service: ViewportService) {\n    super();\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"message\">\r\n    <div class=\"message-body\">\r\n        <H3 class=\"message-title\">Drop Here</H3>\r\n        <p class=\"message-content\">Thả vào đây!</p>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\nimport { assignValue, inArray } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '../../base/base.component';\nimport { ClientEditToolbarService } from './client-edit-toolbar.service';\n\ninterface MenuBtn {\n    name: string,\n    text: string,\n    title?: string,\n    icon?: string,\n    isActive?: boolean\n}\n\nlet menuButtons: MenuBtn[] = [\n    { name: \"translate\", text: \"Di chuyển\", icon: \"fullscreen\", isActive: false },\n    { name: \"rotate\", text: \"Xoay\", icon: \"transaction\", isActive: false },\n    { name: \"scale\", text: \"Kéo giãn\", icon: \"expand\", isActive: false },\n    { name: \"download\", text: \"Tải tài nguyên\", icon: \"download\", isActive: false },\n    { name: \"edit\", text: \"Chỉnh sửa\", icon: \"edit\", isActive: false },\n    { name: \"delete\", text: \"Xóa\", icon: \"delete\", isActive: false },\n    { name: \"more\", text: \"Thêm\", icon: \"more\", isActive: false },\n]\n\n\n@Component({\n    selector: 'client-viewport-edit-toolbar',\n    templateUrl: './client-edit-toolbar.component.html',\n    styleUrls: ['./client-edit-toolbar.component.scss']\n})\nexport class ClientEditToolbarComponent extends BaseComponent implements OnInit {\n\n    title: string = '';\n    currentMode: string = '';\n    show: boolean = false;\n\n    buttons: MenuBtn[] = [];\n    moreMenu: MenuBtn[] = [];\n    btnList = {\n        light: [\"translate\", \"rotate\", \"edit\", \"delete\"],\n        object: ['download', \"edit\", \"delete\"],\n        mesh: [\"edit\", \"delete\"],\n        more: [\"translate\", \"rotate\", \"scale\"],\n\n    }\n    secret_key: string = \"\";\n\n    currentType: string = \"\";\n\n    constructor(private events: ClientEditToolbarService) {\n        super();\n        \n    }\n    onChangeSubEvents(){\n        this.registerEventService(this.subEvents, {\n            \"show\": e => this.isFocus && this.showMenu(e.data.secret_key, e.data.type, e.data.mode),\n            \"hide\": e => this.isFocus && this.reset(),\n            \"mode.change\": e => this.isFocus && this.changeMode(e.mode)\n        });\n    }\n\n    onInit(): void {\n\n\n    }\n\n    showMenu(key: string, type: string, mode?: string) {\n        \n        this.reset();\n        this.secret_key = key;\n        this.currentType = type;\n        if (typeof this.btnList[type] != \"undefined\") {\n            this.show = true;\n            if (mode && inArray([\"translate\", \"rotate\", \"scale\"], mode)) {\n                this.currentMode = mode;\n            }\n            this.setButtons();\n        }\n    }\n\n    changeMode(mode: string) {\n        this.currentMode = mode;\n        this.setButtons();\n    }\n    setButtons() {\n        this.buttons = menuButtons.slice(0)\n            .filter(btn => this.btnList[this.currentType].indexOf(btn.name) !== -1)\n            .map(btn => {\n                var a: MenuBtn = assignValue({}, btn);\n                if (a.name == this.currentMode) {\n                    a.isActive = true;\n                }\n                return a;\n            });\n\n        this.moreMenu = [];\n        if (inArray(['object', 'mesh'], this.currentType)) {\n            this.moreMenu = menuButtons.slice(0)\n                .filter(btn => this.btnList.more.indexOf(btn.name) !== -1)\n                .map(btn => {\n                    var a: MenuBtn = assignValue({}, btn);\n                    return a;\n                });\n\n        }\n\n    }\n\n    reset() {\n        this.show = false;\n        this.buttons = [];\n        this.secret_key = \"\";\n    }\n\n    onBtnClick(mode) {\n        if (inArray([\"translate\", \"rotate\", \"scale\"], mode)) {\n            this.currentMode = mode;\n            this.buttons.map(btn => btn.isActive = btn.name == mode);\n            this.subEvents.emit({\n                type: \"mode.select\",\n                mode: mode\n            })\n        }\n        else {\n            this.subEvents.emit({\n                type: \"action\",\n                data: {\n                    action: mode,\n                    type: this.currentType,\n                    secret_key: this.secret_key\n                }\n\n            })\n        }\n    }\n\n}\n","<div class=\"menu-buttons\" *ngIf=\"show\">\n    <div class=\"btn\" *ngFor=\"let btn of buttons; let i=index\" title=\"{{btn.text}}\" [class.active]=\"btn.isActive\" (click)=\"onBtnClick(btn.name)\">\n        <i nz-icon nzType=\"{{btn.icon}}\" nzTheme=\"outline\"></i>\n    </div>\n    <a class=\"btn\" nz-dropdown nzTrigger=\"click\" [nzDropdownMenu]=\"menu\" nzPlacement=\"bottomRight\" *ngIf=\"currentType != 'light'\">\n        <i nz-icon nzType=\"more\" nzTheme=\"outline\"></i>\n    </a>\n</div>\n\n\n<nz-dropdown-menu #menu=\"nzDropdownMenu\">\n    <ul nz-menu>\n        <li nz-menu-item *ngFor=\"let btn of moreMenu\" (click)=\"onBtnClick(btn.name)\">\n            <i nz-icon nzType=\"{{btn.icon}}\" nzTheme=\"outline\"></i>\n            {{btn.label}}\n        </li>\n    </ul>\n</nz-dropdown-menu>","import { Component, Input, OnInit } from '@angular/core';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { MeshGeometryService } from '@app/_shared/components/panels/mesh-geometry/mesh-geometry.service';\n\n@Component({\n    selector: 'geometry-item',\n    templateUrl: './geometry-item.component.html',\n    styleUrls: ['./geometry-item.component.scss']\n})\nexport class GeometryItemComponent extends BaseComponent implements OnInit {\n    @Input() geometry: any;\n    constructor(\n        private geoService: MeshGeometryService,\n        private events: AppEditorEventService\n    ) {\n        super()\n    }\n\n\n\n\n    dragStart(event) {\n        event.preventDefault();\n        this.subEvents.emit({\n            type: \"geometry.dragstart\",\n            geometryType: this.geometry.type\n        })\n\n    }\n}\n","<div class=\"text text-subheading\" (pointerdown)=\"dragStart($event)\">\n    <div class=\"item-text\">\n        <div class=\"text-content\">\n            <div class=\"img-icon\">\n                <img src=\"/assets/icons/geometries/{{geometry.type}}.svg\" alt=\"{{geometry.label}}\" style=\"height: 24px; max-width: 100%;\" />\n            </div>\n            {{geometry.label}}\n        </div>\n    </div>\n</div>","import { AfterViewInit, Component, ElementRef, Input, OnInit } from '@angular/core';\nimport { TransparentBase64Image } from '@app/_3D/libs/three.libs';\nimport { AppEditorEventService } from '@app/_3D/services/app-editor-event.service';\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\nimport { Vector3 } from '@app/_3D/store/data.type';\nimport { assignValue, Str } from '@app/_core/helpers/utils';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\nimport { ViewportService } from '@app/_shared/components/viewport/viewport.service';\nimport { ModalConfirmService } from '@app/_shared/services/modal-confirm.service';\n// import { Div, Img } from '@app/_core/helpers/html-elements';\nimport { ItemModel } from '@app/_store/item';\n\ninterface mousePosition {\n    x: number,\n    y: number\n}\n\n@Component({\n    selector: 'dragging-item',\n    templateUrl: './dragging-item.component.html',\n    styleUrls: ['./dragging-item.component.scss']\n})\nexport class DraggingItemComponent extends BaseComponent implements OnInit, AfterViewInit {\n\n    item: ItemModel = {\n        name: \"No Name\",\n        id: 0,\n        thumbnail: TransparentBase64Image\n    };\n    canMove: boolean = true;\n    dragingItem: any;\n    show: boolean = false;\n    dragElement: HTMLElement;\n    draggingStyle: string = '';\n    isDragging: boolean = false;\n    droppable: boolean = false;\n    isLoading: boolean = false;\n    cssEffect: boolean = false;\n    pointer: mousePosition = {\n        x: 0,\n        y: 0\n    };\n    mousePosition: mousePosition = {\n        x: 0,\n        y: 0\n    };\n\n    viewportPointerPosition: mousePosition = {\n        x: 0,\n        y: 0\n    }\n\n    viewportBounding: any = {\n        left: 0,\n        top: 0,\n        width: 0,\n        height: 0\n    };\n\n\n    size = {\n        width: 100,\n        height: 100\n    }\n    constructor(\n        private elemRef: ElementRef,\n        private cfm: ModalConfirmService,\n        private events: AppEditorEventService,\n        private viewport: ViewportService\n    ) {\n        super();\n\n    }\n\n    initEvents() {\n        this.registerEventService(this.subEvents, {\n            'item.dragstart': e => {\n                if (this.isLoading) return false;\n                this.dragStart(e.data);\n                this.updateDropElem(e);\n            },\n\n            'item.dropcenter': e => {\n                if (this.isLoading) return false;\n                if (this.isDragging) {\n                    // e.preventDefault();\n                    this.dropCenter();\n                }\n            },\n            'pointerup': e => {\n                if (this.isLoading) return false;\n                if (this.isDragging) {\n                    e.preventDefault();\n                    this.dragEnd(e);\n                }\n            },\n\n            'pointermove': e => {\n                if (this.isLoading) return false;\n                if (this.isDragging) {\n                    this.onMove(e);\n                }\n            },\n\n            'item.draghover': e => {\n                if (this.isLoading || !this.isDragging) return false;\n\n                // nếu dang kéo\n                this.viewportBounding = e.pos.rect;\n                if (!this.droppable) {\n                    this.updateViewportPointerPosition();\n                    // nếu chưa cho thả thì thêm vùng thả\n                    this.subEvents.emit({\n                        type: \"droppable.areas.add\",\n                        item: this.item,\n                        position: this.mousePosition\n                    });\n                }\n                this.droppable = true;\n            },\n            'item.dragout': e => {\n                // if(this.isLoading) return false;\n                this.droppable = false;\n                this.subEvents.emit({\n                    type: \"droppable.areas.remove\"\n                });\n            }\n\n        });\n    }\n    onInit() {\n        if (this.isChangeSubEvents) {\n            this.initEvents();\n        }\n        this.activeEventServiceRegistered(this.subEvents);\n    }\n    onDestroy() {\n        this.deactiveEventServiceRegistered(this.subEvents);\n    }\n\n    ngAfterViewInit(): void {\n        this.dragElement = this.elemRef.nativeElement.querySelector('.model-item');\n    }\n\n    dragStart(item) {\n        this.item = item;\n        this.isDragging = true;\n    }\n\n\n    onMove(event) {\n        if (!this.canMove) return false;\n        this.updatePoistion(event);\n        this.mousePosition.x = event.clientX;\n        this.mousePosition.y = event.clientY;\n\n        if (this.droppable) {\n            this.updateViewportPointerPosition();\n\n        }\n        this.subEvents.emit({\n            type: \"item.dragmove\",\n            clientX: event.clientX,\n            clientY: event.clientY,\n            checkArea: this.droppable,\n            position: this.mousePosition\n        });\n\n    }\n\n\n    dragEnd(e) {\n        if (this.isDragging) {\n            e.preventDefault();\n            if (!this.droppable) {\n\n                this.hideDraggingIten();\n            } else {\n                this.dropItem();\n\n\n            }\n        }\n    }\n\n    hideDraggingIten() {\n        this.isDragging = false;\n        this.item = {\n            name: \"No Name\",\n            id: 0,\n            thumbnail: TransparentBase64Image\n        };\n        this.cssEffect = false;\n        this.draggingStyle = '';\n        this.droppable = false;\n        this.isLoading = false;\n        this.canMove = true;\n    }\n\n    addMode: string = \"auto\";\n    addPosition: Vector3 = {\n        x: 0,\n        y: 0,\n        z: 0\n    }\n\n    dropItem() {\n        this.canMove = false;\n        let app = this.subEvents.app;\n        this.addMode = app.addItemMode;\n        assignValue(this.addPosition, app.addItemPosition);\n        this.subEvents.emit({\n            type: \"droppable.areas.remove\"\n        });\n        if (app.addItemMode == \"auto\") {\n            if (app.data.scene.size.width < this.item.size.x || app.data.scene.size.depth < this.item.size.z || app.data.scene.size.height < this.item.size.y) {\n                this.subEvents.emit({\n                    type: \"modelitem.drop.confirm\",\n                    data: {\n                        mode: this.addMode,\n                        position: assignValue({}, this.addPosition),\n                        item: assignValue({}, this.item)\n                    }\n                });\n                this.hideDraggingIten();\n                return false;\n\n            } else {\n                this.dropItemAnimate();\n            }\n            \n        }\n        else if (app.addItemMode == \"lock\") {\n            this.hideDraggingIten();\n        }\n        else if (app.addItemMode == \"custom\") {\n            this.dropItemAnimate();\n        }\n\n\n    }\n\n\n\n    dropCenter() {\n        this.canMove = false;\n        let app = this.subEvents.app;\n        this.addMode = app.addItemMode;\n        app.addItemMode = \"auto\";\n        this.addMode = \"custom\";\n        assignValue(this.addPosition, {\n            x: 0,\n            y: app.data.scene.floor.props.position.y + this.item.size.y / 2,\n            z: 0\n        });\n\n        this.subEvents.emit({\n            type: \"droppable.areas.remove\"\n        });\n        if (app.addItemMode == \"auto\") {\n            if (app.data.scene.size.width < this.item.size.x || app.data.scene.size.depth < this.item.size.z || app.data.scene.size.height < this.item.size.y) {\n                this.subEvents.emit({\n                    type: \"modelitem.drop.confirm\",\n                    data: {\n                        mode: this.addMode,\n                        position: assignValue({}, this.addPosition),\n                        item: assignValue({}, this.item)\n                    }\n                });\n                this.hideDraggingIten();\n                return false;\n\n            } else {\n                this.subEvents.emit('app.loading.show');\n                this.addModelTiem();\n                this.cssEffect = false;\n                this.draggingStyle = '';\n            }\n        }\n        else if (app.addItemMode == \"lock\") {\n            this.hideDraggingIten();\n        }\n        else if (app.addItemMode == \"custom\") {\n            this.subEvents.emit('app.loading.show');\n            this.addModelTiem();\n            this.cssEffect = false;\n            this.draggingStyle = '';\n        }\n\n        \n\n    }\n\n\n    dropItemAnimate() {\n        if (this.viewportBounding && this.viewportBounding.width) {\n            this.isLoading = true;\n            var t = this.draggingStyle;\n\n            var size = `height: ${this.size.height}px; width: ${this.size.width}px; `;\n            this.draggingStyle = size + this.draggingStyle;\n            this.cssEffect = true;\n            var left = this.viewportBounding.left + this.viewportBounding.width / 2;\n            var top = this.viewportBounding.top + this.viewportBounding.height / 2;\n            setTimeout(() => {\n                this.draggingStyle = Str.replace(this.draggingStyle, [t, size], [`left: ${left}px; top: ${top}px; `, 'width:0; height:0;']);\n                setTimeout(() => {\n                    this.subEvents.emit('app.loading.show');\n                    this.addModelTiem();\n                    this.cssEffect = false;\n                    setTimeout(() => {\n                        this.draggingStyle = '';\n                    }, 20);\n                }, 320);\n            }, 50);\n        } else {\n            this.hideDraggingIten();\n            this.subEvents.emit('app.loading.hide');\n        }\n    }\n\n    addModelTiem() {\n        var self = this;\n        let app: AppEditorService = this.subEvents.app;\n        console.log(this.addPosition)\n        this.subEvents.emit({\n            type: 'item.dropped',\n            item: this.item,\n            success: function (data) {\n                self.subEvents.emit('app.loading.hide');\n                if (self.addMode == \"custom\") {\n                    var size = data.data.size;\n                    if (app.data.scene.floor.above) {\n                        self.addPosition.y = app.data.scene.floor.props.position.y + size.y / 2;\n                    } else {\n                        self.addPosition.y = size.y / 2;\n                    }\n                    app.updateObjectSettingDataAndScene(data.secret_key, {\n                        props: {\n                            position: self.addPosition\n                        }\n                    }, { props: true })\n                    console.log(self.addPosition)\n                }\n                self.hideDraggingIten();\n                \n            }\n        })\n    }\n\n    updateDropElem(event) {\n        if (this.isLoading) return false;\n        var itemElement = this.elemRef.nativeElement.querySelector('.model-item');\n        if (itemElement) {\n            var rect = itemElement.getBoundingClientRect();\n            var width = rect.width, height = rect.height;\n\n            if (Object.prototype.hasOwnProperty.call(event, 'width') && Object.prototype.hasOwnProperty.call(event, 'height')) {\n                width = event.width;\n                height = event.height;\n            }\n            this.pointer.x = event.clientX - width / 2;\n            this.pointer.y = event.clientY - height / 2;\n            if (this.droppable) {\n                this.pointer.x = event.clientX + width * 0.5;\n                this.pointer.y = event.clientY - height * 1.5;\n\n            }\n\n            this.draggingStyle = `left: -100px; top: -100px;`;\n\n        }\n    }\n\n    updatePoistion(event) {\n        if (this.isLoading) return false;\n        var itemElement = this.elemRef.nativeElement.querySelector('.model-item');\n        if (itemElement) {\n            var rect = itemElement.getBoundingClientRect();\n            var width = rect.width, height = rect.height;\n\n            if (event.type == 'item.dragstart' && Object.prototype.hasOwnProperty.call(event, 'width') && Object.prototype.hasOwnProperty.call(event, 'height')) {\n                width = event.width;\n                height = event.height;\n            }\n            this.pointer.x = event.clientX - width / 2;\n            this.pointer.y = event.clientY - height / 2;\n            if (this.droppable) {\n                this.pointer.x = event.clientX + width * 0.5;\n                this.pointer.y = event.clientY - height * 1.5;\n\n            }\n\n            this.draggingStyle = `left: ${this.pointer.x}px; top: ${this.pointer.y}px;`;\n\n        }\n    }\n\n    updateViewportPointerPosition() {\n        this.viewportPointerPosition.x = ((this.mousePosition.x - this.viewportBounding.left) / this.viewportBounding.width) * 2 - 1;\n        this.viewportPointerPosition.y = ((this.mousePosition.y - this.viewportBounding.top) / this.viewportBounding.height) * 2 + 1;\n\n    }\n}\n","<div class=\"model-item\" [style]=\"draggingStyle\" [class.effect]=\"cssEffect\" [class.droppable]=\"droppable\">\n    <div class=\"thumbnail\">\n        <img src=\"{{item.thumbnail}}\" alt=\"{{item.name}}\">\n    </div>\n    <div class=\"name\">\n        {{item.name}}\n    </div>\n</div>","import { Injectable } from '@angular/core';\nimport { isObject } from '@app/_core/helpers/utils';\n\nimport { NzModalService } from 'ng-zorro-antd/modal';\nimport { CallbackFunction } from '@app/_shared/shared.type';\nimport { EventManagerService } from '@app/_core/services/event-manager.service';\n\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ModalConfirmService extends EventManagerService {\n    onOkHandle: CallbackFunction = null;\n    onCancelHandle: CallbackFunction = null;\n    defaultTexts = {\n        del: {\n            ok: \"Yes\",\n            cancel: \"No\",\n            title: \"Are you sure delete this\",\n            description: \"\"\n        },\n        conf: {\n            cancel: \"Cancel\",\n            no: \"No\",\n            title: \"Do yeu want to do this action?\",\n            description: \"\"\n\n        }\n    };\n\n    constructor(private modal: NzModalService) {\n        super();\n    }\n\n    open(type: string, message: any, onOk?: CallbackFunction, onCancel?: CallbackFunction): any {\n        this.onOkHandle = null;\n        this.onCancelHandle = null;\n        let options: any = {};\n        if (typeof onOk == \"function\") {\n            this.onOkHandle = onOk;\n        }\n        if (typeof onCancel == \"function\") {\n            this.onCancelHandle = onCancel;\n        }\n\n        if (isObject(message)) {\n            options.nzTitle = message.title || message.message || this.defaultTexts[type].title;\n            if (message.content || message.description)\n                options.nzContent = message.content || message.description;\n            if (message.btnOkType) {\n                options.nzOkType = message.btnOkType;\n            } else if (type == \"del\") {\n                options.nzOkType = \"primary\";\n            }\n            options.nzOkText = message.btnOkText || this.defaultTexts[type].ok;\n            if (type == \"del\") {\n                if (typeof message.isDanger == \"boolean\") {\n                    options.nzOkDanger = message.isDanger;\n                } else {\n                    options.nzOkDanger = true;\n                }\n            }\n\n            options.nzCancelText = message.btnCancelText || this.defaultTexts[type].cancel;\n            ['ok', 'onOk', 'onOk', 'OK', 'onOkClick', \"onDone\", 'onYes', 'onDoneClick', 'onYesClick', 'yes'].map(s => {\n                if (typeof message[s] == \"function\") {\n                    this.onOkHandle = message[s];\n                }\n            });\n            ['cancel', 'onCancel', 'onCancelClick', 'no', 'onNoClick', \"onNo\"].map(s => {\n                if (typeof message[s] == \"function\") {\n                    this.onCancelHandle = message[s];\n                }\n            })\n\n\n        }\n        else{\n            options.nzTitle = message || this.defaultTexts[type].title;\n            options.nzOkText = this.defaultTexts[type].ok;\n            if (type == \"del\") {\n                options.nzOkDanger = true;\n            }\n\n            options.nzCancelText = this.defaultTexts[type].cancel;\n\n        }\n        options.nzOnOk = () => this.onclickOk();\n        options.nzOnCancel = () => this.onClickCancel();\n        this.modal.confirm(options);\n    }\n\n\n    showConfirm(message: any, onOk?: CallbackFunction, onCancel?: CallbackFunction): void {\n        this.open(\"conf\", message, onOk, onCancel);\n    }\n\n    showDeleteConfirm(message: any, onOk?: CallbackFunction, onCancel?: CallbackFunction): void {\n        this.open(\"del\", message, onOk, onCancel);\n    }\n\n    onclickOk() {\n        if(typeof this.onOkHandle == \"function\"){\n            this.onOkHandle();\n        }\n        \n        this.emit(\"close\");\n    }\n    onClickCancel() {\n        if(typeof this.onCancelHandle == \"function\"){\n            this.onCancelHandle();\n        }\n        this.emit(\"close\");\n    }\n}\n","import { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\nimport { AppEditorService } from '@app/_3D/services/app-editor.service';\nimport { FG_ITEM } from '@app/_shared/shared.type';\nimport { BaseComponent } from '../../base/base.component';\nimport { ViewportService } from '../viewport.service';\n\n@Component({\n    selector: 'foreground-layer',\n    templateUrl: './foreground-layer.component.html',\n    styleUrls: ['./foreground-layer.component.scss']\n})\nexport class ForegroundLayerComponent extends BaseComponent implements OnInit {\n    @Input() app: AppEditorService;\n    app3D: AppEditorService = null;\n    foregrounds: FG_ITEM[] = [];\n    service: ViewportService;\n    constructor(private _service: ViewportService, private cd: ChangeDetectorRef) {\n        super();\n    }\n\n    onInit(): void {\n        const s = this._service.sub(this.moduleKey);\n        if(s && s!== this.service){\n            this.service = s;\n        }\n        if (this.app) {\n            this.setApp(this.app);\n        } else {\n            this.service.on('app.set', e => this.setApp(e.app), true);\n        }\n        \n\n    }\n\n    setApp(app) {\n        this.app3D = app;\n        const f = () => this.loadForegrounds() ;\n        this.app3D.on({\n            \"scene.foregrounds.added\": f,\n            \"scene.foregrounds.deleted\": f,\n            \"scene.foregrounds.updated\": f,\n            \"data.imported\": f,\n            \"data.renew\": f,\n            \"data.resetted\": f\n        });\n        f();\n    }\n\n    loadForegrounds(){\n        this.foregrounds = this.app3D.getForegrounds();\n        this.cd.detectChanges();\n    }\n}\n","<div class=\"foregrounds\">\r\n    <foreground-layer-item *ngFor=\"let f of foregrounds; let i=index\" [data]=\"f\" [index]=\"i\"></foreground-layer-item>\r\n</div>","import { ChangeDetectorRef, Component, OnInit, SimpleChanges } from '@angular/core';\nimport { assignValue } from '@app/_core/helpers/utils';\nimport { BaseInputComponent } from '../base-input/base-input.component';\n\n@Component({\n  selector: 'inp-vector3',\n  templateUrl: './vector3.component.html',\n  styleUrls: ['./vector3.component.scss']\n})\nexport class Vector3Component extends BaseInputComponent implements OnInit {\n  degreSymbol : string = \"°\";\n  _value:any = {\n    x:0,\n    y:0,\n    z:0\n  };\n\n  canSync: boolean = false;\n\n  constructor(private cd: ChangeDetectorRef) {\n    super();\n  }\n\n\n\n  ngOnInit(): void {\n    this.syncFromParent();\n    this.canSync = true;\n\n  }\n\n\n  syncFromParent(){\n    // this._value = {\n    //   x: this.value.x,\n    //   y: this.value.y,\n    //   z: this.value.z\n    // }\n    this.cd.detectChanges()\n  }\n\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if(this.canSync){\n      if(changes.value){\n        this.syncFromParent();\n      }\n    }\n    \n  }\n\n  updateVector(vector, event){\n    this.canSync = false;\n    // assignValue(this.value, {\n    //   x: this._value.x,\n    //   y: this._value.y,\n    //   z: this._value.z,\n      \n    // });\n    \n    this.emit();\n    this.canSync = true;\n  }\n\n  formatterX = (value: number) => `x: ${value}`;\n  parserX = (value: string) => value.replace('x: ', '');\n  formatterY = (value: number) => `y: ${value}`;\n  parserY = (value: string) => value.replace('y: ', '');\n  formatterZ = (value: number) => `z: ${value}`;\n  parserZ = (value: string) => value.replace('z: ', '');\n\n}\n","<div nz-row [nzGutter]=\"{ xs: 8, sm: 16, md: 24, lg: 32 }\">\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"8\">\n        <div class=\"inner-box\">\n            <nz-input-number \n                [(ngModel)]=\"value.x\" \n                name=\"x\" \n                [nzStep]=\"0.001\" \n                (ngModelChange)=\"updateVector('x', $event)\" \n                [nzFormatter]=\"formatterX\"\n                [nzParser]=\"parserX\">\n            </nz-input-number>\n        </div>\n    </div>\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"8\">\n        <div class=\"inner-box\">\n            <nz-input-number \n                [(ngModel)]=\"value.y\" \n                name=\"y\" \n                [nzStep]=\"0.001\" \n                (ngModelChange)=\"updateVector('y', $event)\"\n                [nzFormatter]=\"formatterY\"\n                [nzParser]=\"parserY\">\n            </nz-input-number>\n        </div>\n    </div>\n    <div nz-col class=\"gutter-row\" [nzSpan]=\"8\">\n        <div class=\"inner-box\">\n            <nz-input-number \n                [(ngModel)]=\"value.z\" \n                name=\"z\" \n                [nzStep]=\"0.001\" \n                (ngModelChange)=\"updateVector('z', $event)\"\n                [nzFormatter]=\"formatterZ\"\n                [nzParser]=\"parserZ\">\n            </nz-input-number>\n        </div>\n    </div>\n</div>","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { InpEvent } from '@app/_shared/shared.type';\n\n@Component({\n  selector: 'panel-light-tab-params',\n  templateUrl: './panel-light-tab-params.component.html',\n  styleUrls: ['./panel-light-tab-params.component.scss']\n})\nexport class PanelLightTabParamsComponent implements OnInit {\n\n  @Input() inputs: any;\n  @Output() subcribe = new EventEmitter<InpEvent>();\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  changeHandle(event:InpEvent){\n    this.subcribe.emit(event)\n  }\n}\n","<div class=\"tab-inner\">\n    <div class=\"inputs store\">\n        <div *ngFor=\"let inp of inputs; let i=index\">\n            <div class=\"input-item\" [ngSwitch]=\"inp.type\" [class.item-first]=\"i==0\">\n                <inp-switch-group *ngSwitchCase=\"'checkbox'\" [config]=\"inp\" (subcribe)=\"changeHandle($event)\" class=\"input-group\"></inp-switch-group>\n                <inp-texture-group *ngSwitchCase=\"'texture'\" [config]=\"inp\" (subcribe)=\"changeHandle($event)\" class=\"input-group\"></inp-texture-group>\n                <inp-color-group *ngSwitchCase=\"'color'\" [config]=\"inp\" (subcribe)=\"changeHandle($event)\" class=\"input-group\"></inp-color-group>\n                <inp-select-group *ngSwitchCase=\"'select'\" [config]=\"inp\" (subcribe)=\"changeHandle($event)\" class=\"input-group\"></inp-select-group>\n                <inp-range-group *ngSwitchCase=\"'range'\" [config]=\"inp\" (subcribe)=\"changeHandle($event)\" class=\"input-group\"></inp-range-group>\n                <inp-number-group *ngSwitchCase=\"'number'\" [config]=\"inp\" (subcribe)=\"changeHandle($event)\" class=\"input-group\"></inp-number-group>\n                <inp-text-group *ngSwitchDefault [config]=\"inp\" (subcribe)=\"changeHandle($event)\" class=\"input-group\"></inp-text-group>\n            </div>\n        </div>\n    </div>\n</div>","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";","import { ChangeDetectorRef, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { BaseComponent } from '@app/_shared/components/base/base.component';\n\n@Component({\n  selector: 'app-tab-viewer-scene',\n  templateUrl: './tab-viewer-scene.component.html',\n  styleUrls: ['./tab-viewer-scene.component.scss']\n})\nexport class TabViewerSceneComponent extends BaseComponent implements OnInit {\n  @Input() loaded: EventEmitter<any> = new EventEmitter();\n\n  @Output() loadedChange: EventEmitter<any> = new EventEmitter();\n\n  loadedForeground = false;\n  loadedBackground = false;\n  height50: boolean = false;\n\n  constructor(private cd: ChangeDetectorRef) {\n      super();\n  }\n  onInit(): void {\n      this.loadedChange.emit(true);\n      \n  }\n}\n","<div class=\"tab-inner\" [class.height-50]=\"height50\">\n    <h2>{{\"Scene\"|translate}}</h2>\n    <nz-tabset nzTabPosition=\"top\" nzType=\"line\" class=\"sub-tab\">\n  \n      <nz-tab [nzTitle]=\"iconBackground\">\n        <ng-template #iconBackground>\n          <img src=\"/assets/icons/new-design/tab-sub/background.svg\" alt=\"Background\" />\n          <div>Background</div>\n        </ng-template>\n        <app-tab-background class=\"tab-background\"></app-tab-background>\n      </nz-tab>\n  \n      <nz-tab [nzTitle]=\"iconForeground\">\n        <ng-template #iconForeground>\n          <img src=\"/assets/icons/new-design/tab-sub/foreground.svg\" alt=\"Foreground\" />\n          <div>Foreground</div>\n        </ng-template>\n        <ng-template nz-tab>\n          <app-tab-foreground></app-tab-foreground>\n        </ng-template>\n      </nz-tab>\n      \n      \n    </nz-tabset>\n  </div>"],"sourceRoot":"webpack:///"}